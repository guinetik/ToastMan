(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function si(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const $e={},Ts=[],gt=()=>{},Rr=()=>!1,Zn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ni=t=>t.startsWith("onUpdate:"),Le=Object.assign,oi=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},fl=Object.prototype.hasOwnProperty,Ce=(t,e)=>fl.call(t,e),le=Array.isArray,ks=t=>wn(t)==="[object Map]",Fs=t=>wn(t)==="[object Set]",Ei=t=>wn(t)==="[object Date]",ge=t=>typeof t=="function",Ie=t=>typeof t=="string",yt=t=>typeof t=="symbol",Ee=t=>t!==null&&typeof t=="object",Or=t=>(Ee(t)||ge(t))&&ge(t.then)&&ge(t.catch),Ir=Object.prototype.toString,wn=t=>Ir.call(t),hl=t=>wn(t).slice(8,-1),qr=t=>wn(t)==="[object Object]",ii=t=>Ie(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Qs=si(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),eo=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},ml=/-\w/g,ft=eo(t=>t.replace(ml,e=>e.slice(1).toUpperCase())),gl=/\B([A-Z])/g,ts=eo(t=>t.replace(gl,"-$1").toLowerCase()),to=eo(t=>t.charAt(0).toUpperCase()+t.slice(1)),bo=eo(t=>t?`on${to(t)}`:""),Xt=(t,e)=>!Object.is(t,e),In=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Dr=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},Ln=t=>{const e=parseFloat(t);return isNaN(e)?t:e},vl=t=>{const e=Ie(t)?Number(t):NaN;return isNaN(e)?t:e};let $i;const so=()=>$i||($i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ue(t){if(le(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],o=Ie(n)?xl(n):Ue(n);if(o)for(const i in o)e[i]=o[i]}return e}else if(Ie(t)||Ee(t))return t}const yl=/;(?![^(]*\))/g,bl=/:([^]+)/,wl=/\/\*[^]*?\*\//g;function xl(t){const e={};return t.replace(wl,"").split(yl).forEach(s=>{if(s){const n=s.split(bl);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function ue(t){let e="";if(Ie(t))e=t;else if(le(t))for(let s=0;s<t.length;s++){const n=ue(t[s]);n&&(e+=n+" ")}else if(Ee(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const _l="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Cl=si(_l);function Pr(t){return!!t||t===""}function Sl(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=hs(t[n],e[n]);return s}function hs(t,e){if(t===e)return!0;let s=Ei(t),n=Ei(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=yt(t),n=yt(e),s||n)return t===e;if(s=le(t),n=le(e),s||n)return s&&n?Sl(t,e):!1;if(s=Ee(t),n=Ee(e),s||n){if(!s||!n)return!1;const o=Object.keys(t).length,i=Object.keys(e).length;if(o!==i)return!1;for(const r in t){const l=t.hasOwnProperty(r),u=e.hasOwnProperty(r);if(l&&!u||!l&&u||!hs(t[r],e[r]))return!1}}return String(t)===String(e)}function ri(t,e){return t.findIndex(s=>hs(s,e))}const Fr=t=>!!(t&&t.__v_isRef===!0),D=t=>Ie(t)?t:t==null?"":le(t)||Ee(t)&&(t.toString===Ir||!ge(t.toString))?Fr(t)?D(t.value):JSON.stringify(t,Nr,2):String(t),Nr=(t,e)=>Fr(e)?Nr(t,e.value):ks(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,o],i)=>(s[wo(n,i)+" =>"]=o,s),{})}:Fs(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>wo(s))}:yt(e)?wo(e):Ee(e)&&!le(e)&&!qr(e)?String(e):e,wo=(t,e="")=>{var s;return yt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};function Tl(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let st;class kl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=st,!e&&st&&(this.index=(st.scopes||(st.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=st;try{return st=this,e()}finally{st=s}}}on(){++this._on===1&&(this.prevScope=st,st=this)}off(){this._on>0&&--this._on===0&&(st=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function El(){return st}let Re;const xo=new WeakSet;class Mr{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,st&&st.active&&st.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,xo.has(this)&&(xo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Vr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ai(this),Ur(this);const e=Re,s=vt;Re=this,vt=!0;try{return this.fn()}finally{jr(this),Re=e,vt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ci(e);this.deps=this.depsTail=void 0,Ai(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?xo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vo(this)&&this.run()}get dirty(){return Vo(this)}}let Lr=0,Zs,en;function Vr(t,e=!1){if(t.flags|=8,e){t.next=en,en=t;return}t.next=Zs,Zs=t}function ai(){Lr++}function li(){if(--Lr>0)return;if(en){let e=en;for(en=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Zs;){let e=Zs;for(Zs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function Ur(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function jr(t){let e,s=t.depsTail,n=s;for(;n;){const o=n.prevDep;n.version===-1?(n===s&&(s=o),ci(n),$l(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}t.deps=e,t.depsTail=s}function Vo(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(zr(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function zr(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===un)||(t.globalVersion=un,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Vo(t))))return;t.flags|=2;const e=t.dep,s=Re,n=vt;Re=t,vt=!0;try{Ur(t);const o=t.fn(t._value);(e.version===0||Xt(o,t._value))&&(t.flags|=128,t._value=o,e.version++)}catch(o){throw e.version++,o}finally{Re=s,vt=n,jr(t),t.flags&=-3}}function ci(t,e=!1){const{dep:s,prevSub:n,nextSub:o}=t;if(n&&(n.nextSub=o,t.prevSub=void 0),o&&(o.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)ci(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function $l(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let vt=!0;const Hr=[];function Lt(){Hr.push(vt),vt=!1}function Vt(){const t=Hr.pop();vt=t===void 0?!0:t}function Ai(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Re;Re=void 0;try{e()}finally{Re=s}}}let un=0;class Al{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ui{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Re||!vt||Re===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Re)s=this.activeLink=new Al(Re,this),Re.deps?(s.prevDep=Re.depsTail,Re.depsTail.nextDep=s,Re.depsTail=s):Re.deps=Re.depsTail=s,Br(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Re.depsTail,s.nextDep=void 0,Re.depsTail.nextDep=s,Re.depsTail=s,Re.deps===s&&(Re.deps=n)}return s}trigger(e){this.version++,un++,this.notify(e)}notify(e){ai();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{li()}}}function Br(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Br(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Uo=new WeakMap,ps=Symbol(""),jo=Symbol(""),dn=Symbol("");function He(t,e,s){if(vt&&Re){let n=Uo.get(t);n||Uo.set(t,n=new Map);let o=n.get(s);o||(n.set(s,o=new ui),o.map=n,o.key=s),o.track()}}function qt(t,e,s,n,o,i){const r=Uo.get(t);if(!r){un++;return}const l=u=>{u&&u.trigger()};if(ai(),e==="clear")r.forEach(l);else{const u=le(t),p=u&&ii(s);if(u&&s==="length"){const c=Number(n);r.forEach((d,f)=>{(f==="length"||f===dn||!yt(f)&&f>=c)&&l(d)})}else switch((s!==void 0||r.has(void 0))&&l(r.get(s)),p&&l(r.get(dn)),e){case"add":u?p&&l(r.get("length")):(l(r.get(ps)),ks(t)&&l(r.get(jo)));break;case"delete":u||(l(r.get(ps)),ks(t)&&l(r.get(jo)));break;case"set":ks(t)&&l(r.get(ps));break}}li()}function vs(t){const e=xe(t);return e===t?e:(He(e,"iterate",dn),dt(t)?e:e.map(Ve))}function no(t){return He(t=xe(t),"iterate",dn),t}const Rl={__proto__:null,[Symbol.iterator](){return _o(this,Symbol.iterator,Ve)},concat(...t){return vs(this).concat(...t.map(e=>le(e)?vs(e):e))},entries(){return _o(this,"entries",t=>(t[1]=Ve(t[1]),t))},every(t,e){return Rt(this,"every",t,e,void 0,arguments)},filter(t,e){return Rt(this,"filter",t,e,s=>s.map(Ve),arguments)},find(t,e){return Rt(this,"find",t,e,Ve,arguments)},findIndex(t,e){return Rt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Rt(this,"findLast",t,e,Ve,arguments)},findLastIndex(t,e){return Rt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Rt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Co(this,"includes",t)},indexOf(...t){return Co(this,"indexOf",t)},join(t){return vs(this).join(t)},lastIndexOf(...t){return Co(this,"lastIndexOf",t)},map(t,e){return Rt(this,"map",t,e,void 0,arguments)},pop(){return Bs(this,"pop")},push(...t){return Bs(this,"push",t)},reduce(t,...e){return Ri(this,"reduce",t,e)},reduceRight(t,...e){return Ri(this,"reduceRight",t,e)},shift(){return Bs(this,"shift")},some(t,e){return Rt(this,"some",t,e,void 0,arguments)},splice(...t){return Bs(this,"splice",t)},toReversed(){return vs(this).toReversed()},toSorted(t){return vs(this).toSorted(t)},toSpliced(...t){return vs(this).toSpliced(...t)},unshift(...t){return Bs(this,"unshift",t)},values(){return _o(this,"values",Ve)}};function _o(t,e,s){const n=no(t),o=n[e]();return n!==t&&!dt(t)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.done||(i.value=s(i.value)),i}),o}const Ol=Array.prototype;function Rt(t,e,s,n,o,i){const r=no(t),l=r!==t&&!dt(t),u=r[e];if(u!==Ol[e]){const d=u.apply(t,i);return l?Ve(d):d}let p=s;r!==t&&(l?p=function(d,f){return s.call(this,Ve(d),f,t)}:s.length>2&&(p=function(d,f){return s.call(this,d,f,t)}));const c=u.call(r,p,n);return l&&o?o(c):c}function Ri(t,e,s,n){const o=no(t);let i=s;return o!==t&&(dt(t)?s.length>3&&(i=function(r,l,u){return s.call(this,r,l,u,t)}):i=function(r,l,u){return s.call(this,r,Ve(l),u,t)}),o[e](i,...n)}function Co(t,e,s){const n=xe(t);He(n,"iterate",dn);const o=n[e](...s);return(o===-1||o===!1)&&fi(s[0])?(s[0]=xe(s[0]),n[e](...s)):o}function Bs(t,e,s=[]){Lt(),ai();const n=xe(t)[e].apply(t,s);return li(),Vt(),n}const Il=si("__proto__,__v_isRef,__isVue"),Jr=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(yt));function ql(t){yt(t)||(t=String(t));const e=xe(this);return He(e,"has",t),e.hasOwnProperty(t)}class Wr{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const o=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(o?i?zl:Yr:i?Xr:Kr).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const r=le(e);if(!o){let u;if(r&&(u=Rl[s]))return u;if(s==="hasOwnProperty")return ql}const l=Reflect.get(e,s,We(e)?e:n);if((yt(s)?Jr.has(s):Il(s))||(o||He(e,"get",s),i))return l;if(We(l)){const u=r&&ii(s)?l:l.value;return o&&Ee(u)?Ho(u):u}return Ee(l)?o?Ho(l):oo(l):l}}class Gr extends Wr{constructor(e=!1){super(!1,e)}set(e,s,n,o){let i=e[s];if(!this._isShallow){const u=Qt(i);if(!dt(n)&&!Qt(n)&&(i=xe(i),n=xe(n)),!le(e)&&We(i)&&!We(n))return u||(i.value=n),!0}const r=le(e)&&ii(s)?Number(s)<e.length:Ce(e,s),l=Reflect.set(e,s,n,We(e)?e:o);return e===xe(o)&&(r?Xt(n,i)&&qt(e,"set",s,n):qt(e,"add",s,n)),l}deleteProperty(e,s){const n=Ce(e,s);e[s];const o=Reflect.deleteProperty(e,s);return o&&n&&qt(e,"delete",s,void 0),o}has(e,s){const n=Reflect.has(e,s);return(!yt(s)||!Jr.has(s))&&He(e,"has",s),n}ownKeys(e){return He(e,"iterate",le(e)?"length":ps),Reflect.ownKeys(e)}}class Dl extends Wr{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Pl=new Gr,Fl=new Dl,Nl=new Gr(!0);const zo=t=>t,Sn=t=>Reflect.getPrototypeOf(t);function Ml(t,e,s){return function(...n){const o=this.__v_raw,i=xe(o),r=ks(i),l=t==="entries"||t===Symbol.iterator&&r,u=t==="keys"&&r,p=o[t](...n),c=s?zo:e?Vn:Ve;return!e&&He(i,"iterate",u?jo:ps),{next(){const{value:d,done:f}=p.next();return f?{value:d,done:f}:{value:l?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function Tn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ll(t,e){const s={get(o){const i=this.__v_raw,r=xe(i),l=xe(o);t||(Xt(o,l)&&He(r,"get",o),He(r,"get",l));const{has:u}=Sn(r),p=e?zo:t?Vn:Ve;if(u.call(r,o))return p(i.get(o));if(u.call(r,l))return p(i.get(l));i!==r&&i.get(o)},get size(){const o=this.__v_raw;return!t&&He(xe(o),"iterate",ps),o.size},has(o){const i=this.__v_raw,r=xe(i),l=xe(o);return t||(Xt(o,l)&&He(r,"has",o),He(r,"has",l)),o===l?i.has(o):i.has(o)||i.has(l)},forEach(o,i){const r=this,l=r.__v_raw,u=xe(l),p=e?zo:t?Vn:Ve;return!t&&He(u,"iterate",ps),l.forEach((c,d)=>o.call(i,p(c),p(d),r))}};return Le(s,t?{add:Tn("add"),set:Tn("set"),delete:Tn("delete"),clear:Tn("clear")}:{add(o){!e&&!dt(o)&&!Qt(o)&&(o=xe(o));const i=xe(this);return Sn(i).has.call(i,o)||(i.add(o),qt(i,"add",o,o)),this},set(o,i){!e&&!dt(i)&&!Qt(i)&&(i=xe(i));const r=xe(this),{has:l,get:u}=Sn(r);let p=l.call(r,o);p||(o=xe(o),p=l.call(r,o));const c=u.call(r,o);return r.set(o,i),p?Xt(i,c)&&qt(r,"set",o,i):qt(r,"add",o,i),this},delete(o){const i=xe(this),{has:r,get:l}=Sn(i);let u=r.call(i,o);u||(o=xe(o),u=r.call(i,o)),l&&l.call(i,o);const p=i.delete(o);return u&&qt(i,"delete",o,void 0),p},clear(){const o=xe(this),i=o.size!==0,r=o.clear();return i&&qt(o,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=Ml(o,t,e)}),s}function di(t,e){const s=Ll(t,e);return(n,o,i)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?n:Reflect.get(Ce(s,o)&&o in n?s:n,o,i)}const Vl={get:di(!1,!1)},Ul={get:di(!1,!0)},jl={get:di(!0,!1)};const Kr=new WeakMap,Xr=new WeakMap,Yr=new WeakMap,zl=new WeakMap;function Hl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bl(t){return t.__v_skip||!Object.isExtensible(t)?0:Hl(hl(t))}function oo(t){return Qt(t)?t:pi(t,!1,Pl,Vl,Kr)}function Jl(t){return pi(t,!1,Nl,Ul,Xr)}function Ho(t){return pi(t,!0,Fl,jl,Yr)}function pi(t,e,s,n,o){if(!Ee(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Bl(t);if(i===0)return t;const r=o.get(t);if(r)return r;const l=new Proxy(t,i===2?n:s);return o.set(t,l),l}function Es(t){return Qt(t)?Es(t.__v_raw):!!(t&&t.__v_isReactive)}function Qt(t){return!!(t&&t.__v_isReadonly)}function dt(t){return!!(t&&t.__v_isShallow)}function fi(t){return t?!!t.__v_raw:!1}function xe(t){const e=t&&t.__v_raw;return e?xe(e):t}function ls(t){return!Ce(t,"__v_skip")&&Object.isExtensible(t)&&Dr(t,"__v_skip",!0),t}const Ve=t=>Ee(t)?oo(t):t,Vn=t=>Ee(t)?Ho(t):t;function We(t){return t?t.__v_isRef===!0:!1}function te(t){return Wl(t,!1)}function Wl(t,e){return We(t)?t:new Gl(t,e)}class Gl{constructor(e,s){this.dep=new ui,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:xe(e),this._value=s?e:Ve(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||dt(e)||Qt(e);e=n?e:xe(e),Xt(e,s)&&(this._rawValue=e,this._value=n?e:Ve(e),this.dep.trigger())}}function M(t){return We(t)?t.value:t}const Kl={get:(t,e,s)=>e==="__v_raw"?t:M(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const o=t[e];return We(o)&&!We(s)?(o.value=s,!0):Reflect.set(t,e,s,n)}};function Qr(t){return Es(t)?t:new Proxy(t,Kl)}class Xl{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new ui(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=un-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Re!==this)return Vr(this,!0),!0}get value(){const e=this.dep.track();return zr(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Yl(t,e,s=!1){let n,o;return ge(t)?n=t:(n=t.get,o=t.set),new Xl(n,o,s)}const kn={},Un=new WeakMap;let cs;function Ql(t,e=!1,s=cs){if(s){let n=Un.get(s);n||Un.set(s,n=[]),n.push(t)}}function Zl(t,e,s=$e){const{immediate:n,deep:o,once:i,scheduler:r,augmentJob:l,call:u}=s,p=A=>o?A:dt(A)||o===!1||o===0?Dt(A,1):Dt(A);let c,d,f,h,v=!1,y=!1;if(We(t)?(d=()=>t.value,v=dt(t)):Es(t)?(d=()=>p(t),v=!0):le(t)?(y=!0,v=t.some(A=>Es(A)||dt(A)),d=()=>t.map(A=>{if(We(A))return A.value;if(Es(A))return p(A);if(ge(A))return u?u(A,2):A()})):ge(t)?e?d=u?()=>u(t,2):t:d=()=>{if(f){Lt();try{f()}finally{Vt()}}const A=cs;cs=c;try{return u?u(t,3,[h]):t(h)}finally{cs=A}}:d=gt,e&&o){const A=d,V=o===!0?1/0:o;d=()=>Dt(A(),V)}const x=El(),j=()=>{c.stop(),x&&x.active&&oi(x.effects,c)};if(i&&e){const A=e;e=(...V)=>{A(...V),j()}}let N=y?new Array(t.length).fill(kn):kn;const _=A=>{if(!(!(c.flags&1)||!c.dirty&&!A))if(e){const V=c.run();if(o||v||(y?V.some((z,S)=>Xt(z,N[S])):Xt(V,N))){f&&f();const z=cs;cs=c;try{const S=[V,N===kn?void 0:y&&N[0]===kn?[]:N,h];N=V,u?u(e,3,S):e(...S)}finally{cs=z}}}else c.run()};return l&&l(_),c=new Mr(d),c.scheduler=r?()=>r(_,!1):_,h=A=>Ql(A,!1,c),f=c.onStop=()=>{const A=Un.get(c);if(A){if(u)u(A,4);else for(const V of A)V();Un.delete(c)}},e?n?_(!0):N=c.run():r?r(_.bind(null,!0),!0):c.run(),j.pause=c.pause.bind(c),j.resume=c.resume.bind(c),j.stop=j,j}function Dt(t,e=1/0,s){if(e<=0||!Ee(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,We(t))Dt(t.value,e,s);else if(le(t))for(let n=0;n<t.length;n++)Dt(t[n],e,s);else if(Fs(t)||ks(t))t.forEach(n=>{Dt(n,e,s)});else if(qr(t)){for(const n in t)Dt(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Dt(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xn(t,e,s,n){try{return n?t(...n):t()}catch(o){io(o,e,s)}}function bt(t,e,s,n){if(ge(t)){const o=xn(t,e,s,n);return o&&Or(o)&&o.catch(i=>{io(i,e,s)}),o}if(le(t)){const o=[];for(let i=0;i<t.length;i++)o.push(bt(t[i],e,s,n));return o}}function io(t,e,s,n=!0){const o=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:r}=e&&e.appContext.config||$e;if(e){let l=e.parent;const u=e.proxy,p=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const c=l.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,u,p)===!1)return}l=l.parent}if(i){Lt(),xn(i,null,10,[t,u,p]),Vt();return}}ec(t,s,o,n,r)}function ec(t,e,s,n=!0,o=!1){if(o)throw t;console.error(t)}const Ye=[];let kt=-1;const $s=[];let Jt=null,xs=0;const Zr=Promise.resolve();let jn=null;function Pe(t){const e=jn||Zr;return t?e.then(this?t.bind(this):t):e}function tc(t){let e=kt+1,s=Ye.length;for(;e<s;){const n=e+s>>>1,o=Ye[n],i=pn(o);i<t||i===t&&o.flags&2?e=n+1:s=n}return e}function hi(t){if(!(t.flags&1)){const e=pn(t),s=Ye[Ye.length-1];!s||!(t.flags&2)&&e>=pn(s)?Ye.push(t):Ye.splice(tc(e),0,t),t.flags|=1,ea()}}function ea(){jn||(jn=Zr.then(na))}function ta(t){le(t)?$s.push(...t):Jt&&t.id===-1?Jt.splice(xs+1,0,t):t.flags&1||($s.push(t),t.flags|=1),ea()}function Oi(t,e,s=kt+1){for(;s<Ye.length;s++){const n=Ye[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Ye.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function sa(t){if($s.length){const e=[...new Set($s)].sort((s,n)=>pn(s)-pn(n));if($s.length=0,Jt){Jt.push(...e);return}for(Jt=e,xs=0;xs<Jt.length;xs++){const s=Jt[xs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Jt=null,xs=0}}const pn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function na(t){try{for(kt=0;kt<Ye.length;kt++){const e=Ye[kt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),xn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;kt<Ye.length;kt++){const e=Ye[kt];e&&(e.flags&=-2)}kt=-1,Ye.length=0,sa(),jn=null,(Ye.length||$s.length)&&na()}}let je=null,oa=null;function zn(t){const e=je;return je=t,oa=t&&t.type.__scopeId||null,e}function Fe(t,e=je,s){if(!e||t._n)return t;const n=(...o)=>{n._d&&Jn(-1);const i=zn(e);let r;try{r=t(...o)}finally{zn(i),n._d&&Jn(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function ce(t,e){if(je===null)return t;const s=po(je),n=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[i,r,l,u=$e]=e[o];i&&(ge(i)&&(i={mounted:i,updated:i}),i.deep&&Dt(r),n.push({dir:i,instance:s,value:r,oldValue:void 0,arg:l,modifiers:u}))}return t}function ns(t,e,s,n){const o=t.dirs,i=e&&e.dirs;for(let r=0;r<o.length;r++){const l=o[r];i&&(l.oldValue=i[r].value);let u=l.dir[n];u&&(Lt(),bt(u,s,8,[t.el,l,t,e]),Vt())}}const ia=Symbol("_vte"),ra=t=>t.__isTeleport,tn=t=>t&&(t.disabled||t.disabled===""),Ii=t=>t&&(t.defer||t.defer===""),qi=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Di=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Bo=(t,e)=>{const s=t&&t.to;return Ie(s)?e?e(s):null:s},aa={name:"Teleport",__isTeleport:!0,process(t,e,s,n,o,i,r,l,u,p){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:v,createText:y,createComment:x}}=p,j=tn(e.props);let{shapeFlag:N,children:_,dynamicChildren:A}=e;if(t==null){const V=e.el=y(""),z=e.anchor=y("");h(V,s,n),h(z,s,n);const S=(L,R)=>{N&16&&c(_,L,R,o,i,r,l,u)},O=()=>{const L=e.target=Bo(e.props,v),R=la(L,e,y,h);L&&(r!=="svg"&&qi(L)?r="svg":r!=="mathml"&&Di(L)&&(r="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(L),j||(S(L,R),qn(e,!1)))};j&&(S(s,z),qn(e,!0)),Ii(e.props)?(e.el.__isMounted=!1,Xe(()=>{O(),delete e.el.__isMounted},i)):O()}else{if(Ii(e.props)&&t.el.__isMounted===!1){Xe(()=>{aa.process(t,e,s,n,o,i,r,l,u,p)},i);return}e.el=t.el,e.targetStart=t.targetStart;const V=e.anchor=t.anchor,z=e.target=t.target,S=e.targetAnchor=t.targetAnchor,O=tn(t.props),L=O?s:z,R=O?V:S;if(r==="svg"||qi(z)?r="svg":(r==="mathml"||Di(z))&&(r="mathml"),A?(f(t.dynamicChildren,A,L,o,i,r,l),yi(t,e,!0)):u||d(t,e,L,R,o,i,r,l,!1),j)O?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):En(e,s,V,p,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const E=e.target=Bo(e.props,v);E&&En(e,E,null,p,0)}else O&&En(e,z,S,p,1);qn(e,j)}},remove(t,e,s,{um:n,o:{remove:o}},i){const{shapeFlag:r,children:l,anchor:u,targetStart:p,targetAnchor:c,target:d,props:f}=t;if(d&&(o(p),o(c)),i&&o(u),r&16){const h=i||!tn(f);for(let v=0;v<l.length;v++){const y=l[v];n(y,e,s,h,!!y.dynamicChildren)}}},move:En,hydrate:sc};function En(t,e,s,{o:{insert:n},m:o},i=2){i===0&&n(t.targetAnchor,e,s);const{el:r,anchor:l,shapeFlag:u,children:p,props:c}=t,d=i===2;if(d&&n(r,e,s),(!d||tn(c))&&u&16)for(let f=0;f<p.length;f++)o(p[f],e,s,2);d&&n(l,e,s)}function sc(t,e,s,n,o,i,{o:{nextSibling:r,parentNode:l,querySelector:u,insert:p,createText:c}},d){function f(y,x,j,N){x.anchor=d(r(y),x,l(y),s,n,o,i),x.targetStart=j,x.targetAnchor=N}const h=e.target=Bo(e.props,u),v=tn(e.props);if(h){const y=h._lpa||h.firstChild;if(e.shapeFlag&16)if(v)f(t,e,y,y&&r(y));else{e.anchor=r(t);let x=y;for(;x;){if(x&&x.nodeType===8){if(x.data==="teleport start anchor")e.targetStart=x;else if(x.data==="teleport anchor"){e.targetAnchor=x,h._lpa=e.targetAnchor&&r(e.targetAnchor);break}}x=r(x)}e.targetAnchor||la(h,e,c,p),d(y&&r(y),e,h,s,n,o,i)}qn(e,v)}else v&&e.shapeFlag&16&&f(t,e,t,r(t));return e.anchor&&r(e.anchor)}const Os=aa;function qn(t,e){const s=t.ctx;if(s&&s.ut){let n,o;for(e?(n=t.el,o=t.anchor):(n=t.targetStart,o=t.targetAnchor);n&&n!==o;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function la(t,e,s,n){const o=e.targetStart=s(""),i=e.targetAnchor=s("");return o[ia]=i,t&&(n(o,t),n(i,t)),i}const It=Symbol("_leaveCb"),$n=Symbol("_enterCb");function ca(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return De(()=>{t.isMounted=!0}),lo(()=>{t.isUnmounting=!0}),t}const rt=[Function,Array],ua={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:rt,onEnter:rt,onAfterEnter:rt,onEnterCancelled:rt,onBeforeLeave:rt,onLeave:rt,onAfterLeave:rt,onLeaveCancelled:rt,onBeforeAppear:rt,onAppear:rt,onAfterAppear:rt,onAppearCancelled:rt},da=t=>{const e=t.subTree;return e.component?da(e.component):e},nc={name:"BaseTransition",props:ua,setup(t,{slots:e}){const s=Ns(),n=ca();return()=>{const o=e.default&&mi(e.default(),!0);if(!o||!o.length)return;const i=pa(o),r=xe(t),{mode:l}=r;if(n.isLeaving)return So(i);const u=Pi(i);if(!u)return So(i);let p=fn(u,r,n,s,d=>p=d);u.type!==Be&&ms(u,p);let c=s.subTree&&Pi(s.subTree);if(c&&c.type!==Be&&!us(c,u)&&da(s).type!==Be){let d=fn(c,r,n,s);if(ms(c,d),l==="out-in"&&u.type!==Be)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete d.afterLeave,c=void 0},So(i);l==="in-out"&&u.type!==Be?d.delayLeave=(f,h,v)=>{const y=fa(n,c);y[String(c.key)]=c,f[It]=()=>{h(),f[It]=void 0,delete p.delayedLeave,c=void 0},p.delayedLeave=()=>{v(),delete p.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function pa(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Be){e=s;break}}return e}const oc=nc;function fa(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function fn(t,e,s,n,o){const{appear:i,mode:r,persisted:l=!1,onBeforeEnter:u,onEnter:p,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:v,onLeaveCancelled:y,onBeforeAppear:x,onAppear:j,onAfterAppear:N,onAppearCancelled:_}=e,A=String(t.key),V=fa(s,t),z=(L,R)=>{L&&bt(L,n,9,R)},S=(L,R)=>{const E=R[1];z(L,R),le(L)?L.every(T=>T.length<=1)&&E():L.length<=1&&E()},O={mode:r,persisted:l,beforeEnter(L){let R=u;if(!s.isMounted)if(i)R=x||u;else return;L[It]&&L[It](!0);const E=V[A];E&&us(t,E)&&E.el[It]&&E.el[It](),z(R,[L])},enter(L){let R=p,E=c,T=d;if(!s.isMounted)if(i)R=j||p,E=N||c,T=_||d;else return;let $=!1;const I=L[$n]=H=>{$||($=!0,H?z(T,[L]):z(E,[L]),O.delayedLeave&&O.delayedLeave(),L[$n]=void 0)};R?S(R,[L,I]):I()},leave(L,R){const E=String(t.key);if(L[$n]&&L[$n](!0),s.isUnmounting)return R();z(f,[L]);let T=!1;const $=L[It]=I=>{T||(T=!0,R(),I?z(y,[L]):z(v,[L]),L[It]=void 0,V[E]===t&&delete V[E])};V[E]=t,h?S(h,[L,$]):$()},clone(L){const R=fn(L,e,s,n,o);return o&&o(R),R}};return O}function So(t){if(ro(t))return t=Zt(t),t.children=null,t}function Pi(t){if(!ro(t))return ra(t.type)&&t.children?pa(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&ge(s.default))return s.default()}}function ms(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ms(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function mi(t,e=!1,s){let n=[],o=0;for(let i=0;i<t.length;i++){let r=t[i];const l=s==null?r.key:String(s)+String(r.key!=null?r.key:i);r.type===me?(r.patchFlag&128&&o++,n=n.concat(mi(r.children,e,l))):(e||r.type!==Be)&&n.push(l!=null?Zt(r,{key:l}):r)}if(o>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function ha(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Hn=new WeakMap;function sn(t,e,s,n,o=!1){if(le(t)){t.forEach((v,y)=>sn(v,e&&(le(e)?e[y]:e),s,n,o));return}if(As(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&sn(t,e,s,n.component.subTree);return}const i=n.shapeFlag&4?po(n.component):n.el,r=o?null:i,{i:l,r:u}=t,p=e&&e.r,c=l.refs===$e?l.refs={}:l.refs,d=l.setupState,f=xe(d),h=d===$e?Rr:v=>Ce(f,v);if(p!=null&&p!==u){if(Fi(e),Ie(p))c[p]=null,h(p)&&(d[p]=null);else if(We(p)){p.value=null;const v=e;v.k&&(c[v.k]=null)}}if(ge(u))xn(u,l,12,[r,c]);else{const v=Ie(u),y=We(u);if(v||y){const x=()=>{if(t.f){const j=v?h(u)?d[u]:c[u]:u.value;if(o)le(j)&&oi(j,i);else if(le(j))j.includes(i)||j.push(i);else if(v)c[u]=[i],h(u)&&(d[u]=c[u]);else{const N=[i];u.value=N,t.k&&(c[t.k]=N)}}else v?(c[u]=r,h(u)&&(d[u]=r)):y&&(u.value=r,t.k&&(c[t.k]=r))};if(r){const j=()=>{x(),Hn.delete(t)};j.id=-1,Hn.set(t,j),Xe(j,s)}else Fi(t),x()}}}function Fi(t){const e=Hn.get(t);e&&(e.flags|=8,Hn.delete(t))}so().requestIdleCallback;so().cancelIdleCallback;const As=t=>!!t.type.__asyncLoader,ro=t=>t.type.__isKeepAlive;function ic(t,e){ma(t,"a",e)}function rc(t,e){ma(t,"da",e)}function ma(t,e,s=Je){const n=t.__wdc||(t.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(ao(e,n,s),s){let o=s.parent;for(;o&&o.parent;)ro(o.parent.vnode)&&ac(n,e,s,o),o=o.parent}}function ac(t,e,s,n){const o=ao(e,t,n,!0);Ze(()=>{oi(n[e],o)},s)}function ao(t,e,s=Je,n=!1){if(s){const o=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...r)=>{Lt();const l=_n(s),u=bt(e,s,t,r);return l(),Vt(),u});return n?o.unshift(i):o.push(i),i}}const Ut=t=>(e,s=Je)=>{(!vn||t==="sp")&&ao(t,(...n)=>e(...n),s)},lc=Ut("bm"),De=Ut("m"),ga=Ut("bu"),va=Ut("u"),lo=Ut("bum"),Ze=Ut("um"),cc=Ut("sp"),uc=Ut("rtg"),dc=Ut("rtc");function pc(t,e=Je){ao("ec",t,e)}const ya="components";function fc(t,e){return wa(ya,t,!0,e)||t}const ba=Symbol.for("v-ndc");function nn(t){return Ie(t)?wa(ya,t,!1)||t:t||ba}function wa(t,e,s=!0,n=!1){const o=je||Je;if(o){const i=o.type;{const l=tu(i,!1);if(l&&(l===e||l===ft(e)||l===to(ft(e))))return i}const r=Ni(o[t]||i[t],e)||Ni(o.appContext[t],e);return!r&&n?i:r}}function Ni(t,e){return t&&(t[e]||t[ft(e)]||t[to(ft(e))])}function ke(t,e,s,n){let o;const i=s,r=le(t);if(r||Ie(t)){const l=r&&Es(t);let u=!1,p=!1;l&&(u=!dt(t),p=Qt(t),t=no(t)),o=new Array(t.length);for(let c=0,d=t.length;c<d;c++)o[c]=e(u?p?Vn(Ve(t[c])):Ve(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){o=new Array(t);for(let l=0;l<t;l++)o[l]=e(l+1,l,void 0,i)}else if(Ee(t))if(t[Symbol.iterator])o=Array.from(t,(l,u)=>e(l,u,void 0,i));else{const l=Object.keys(t);o=new Array(l.length);for(let u=0,p=l.length;u<p;u++){const c=l[u];o[u]=e(t[c],c,u,i)}}else o=[];return o}function hn(t,e,s={},n,o){if(je.ce||je.parent&&As(je.parent)&&je.parent.ce){const p=Object.keys(s).length>0;return e!=="default"&&(s.name=e),g(),de(me,null,[fe("slot",s,n&&n())],p?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),g();const r=i&&xa(i(s)),l=s.key||r&&r.key,u=de(me,{key:(l&&!yt(l)?l:`_${e}`)+(!r&&n?"_fb":"")},r||(n?n():[]),r&&t._===1?64:-2);return!o&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function xa(t){return t.some(e=>gn(e)?!(e.type===Be||e.type===me&&!xa(e.children)):!0)?t:null}const Jo=t=>t?Va(t)?po(t):Jo(t.parent):null,on=Le(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Jo(t.parent),$root:t=>Jo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ca(t),$forceUpdate:t=>t.f||(t.f=()=>{hi(t.update)}),$nextTick:t=>t.n||(t.n=Pe.bind(t.proxy)),$watch:t=>Fc.bind(t)}),To=(t,e)=>t!==$e&&!t.__isScriptSetup&&Ce(t,e),hc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:o,props:i,accessCache:r,type:l,appContext:u}=t;let p;if(e[0]!=="$"){const h=r[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return o[e];case 4:return s[e];case 3:return i[e]}else{if(To(n,e))return r[e]=1,n[e];if(o!==$e&&Ce(o,e))return r[e]=2,o[e];if((p=t.propsOptions[0])&&Ce(p,e))return r[e]=3,i[e];if(s!==$e&&Ce(s,e))return r[e]=4,s[e];Wo&&(r[e]=0)}}const c=on[e];let d,f;if(c)return e==="$attrs"&&He(t.attrs,"get",""),c(t);if((d=l.__cssModules)&&(d=d[e]))return d;if(s!==$e&&Ce(s,e))return r[e]=4,s[e];if(f=u.config.globalProperties,Ce(f,e))return f[e]},set({_:t},e,s){const{data:n,setupState:o,ctx:i}=t;return To(o,e)?(o[e]=s,!0):n!==$e&&Ce(n,e)?(n[e]=s,!0):Ce(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:o,propsOptions:i,type:r}},l){let u,p;return!!(s[l]||t!==$e&&l[0]!=="$"&&Ce(t,l)||To(e,l)||(u=i[0])&&Ce(u,l)||Ce(n,l)||Ce(on,l)||Ce(o.config.globalProperties,l)||(p=r.__cssModules)&&p[l])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Ce(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function mc(){return gc().slots}function gc(t){const e=Ns();return e.setupContext||(e.setupContext=ja(e))}function Mi(t){return le(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Wo=!0;function vc(t){const e=Ca(t),s=t.proxy,n=t.ctx;Wo=!1,e.beforeCreate&&Li(e.beforeCreate,t,"bc");const{data:o,computed:i,methods:r,watch:l,provide:u,inject:p,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:v,activated:y,deactivated:x,beforeDestroy:j,beforeUnmount:N,destroyed:_,unmounted:A,render:V,renderTracked:z,renderTriggered:S,errorCaptured:O,serverPrefetch:L,expose:R,inheritAttrs:E,components:T,directives:$,filters:I}=e;if(p&&yc(p,n,null),r)for(const K in r){const ne=r[K];ge(ne)&&(n[K]=ne.bind(s))}if(o){const K=o.call(s,s);Ee(K)&&(t.data=oo(K))}if(Wo=!0,i)for(const K in i){const ne=i[K],he=ge(ne)?ne.bind(s,s):ge(ne.get)?ne.get.bind(s,s):gt,we=!ge(ne)&&ge(ne.set)?ne.set.bind(s):gt,Oe=F({get:he,set:we});Object.defineProperty(n,K,{enumerable:!0,configurable:!0,get:()=>Oe.value,set:Me=>Oe.value=Me})}if(l)for(const K in l)_a(l[K],n,s,K);if(u){const K=ge(u)?u.call(s):u;Reflect.ownKeys(K).forEach(ne=>{Ht(ne,K[ne])})}c&&Li(c,t,"c");function W(K,ne){le(ne)?ne.forEach(he=>K(he.bind(s))):ne&&K(ne.bind(s))}if(W(lc,d),W(De,f),W(ga,h),W(va,v),W(ic,y),W(rc,x),W(pc,O),W(dc,z),W(uc,S),W(lo,N),W(Ze,A),W(cc,L),le(R))if(R.length){const K=t.exposed||(t.exposed={});R.forEach(ne=>{Object.defineProperty(K,ne,{get:()=>s[ne],set:he=>s[ne]=he,enumerable:!0})})}else t.exposed||(t.exposed={});V&&t.render===gt&&(t.render=V),E!=null&&(t.inheritAttrs=E),T&&(t.components=T),$&&(t.directives=$),L&&ha(t)}function yc(t,e,s=gt){le(t)&&(t=Go(t));for(const n in t){const o=t[n];let i;Ee(o)?"default"in o?i=Et(o.from||n,o.default,!0):i=Et(o.from||n):i=Et(o),We(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):e[n]=i}}function Li(t,e,s){bt(le(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function _a(t,e,s,n){let o=n.includes(".")?Pa(s,n):()=>s[n];if(Ie(t)){const i=e[t];ge(i)&&ve(o,i)}else if(ge(t))ve(o,t.bind(s));else if(Ee(t))if(le(t))t.forEach(i=>_a(i,e,s,n));else{const i=ge(t.handler)?t.handler.bind(s):e[t.handler];ge(i)&&ve(o,i,t)}}function Ca(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:r}}=t.appContext,l=i.get(e);let u;return l?u=l:!o.length&&!s&&!n?u=e:(u={},o.length&&o.forEach(p=>Bn(u,p,r,!0)),Bn(u,e,r)),Ee(e)&&i.set(e,u),u}function Bn(t,e,s,n=!1){const{mixins:o,extends:i}=e;i&&Bn(t,i,s,!0),o&&o.forEach(r=>Bn(t,r,s,!0));for(const r in e)if(!(n&&r==="expose")){const l=bc[r]||s&&s[r];t[r]=l?l(t[r],e[r]):e[r]}return t}const bc={data:Vi,props:Ui,emits:Ui,methods:Gs,computed:Gs,beforeCreate:Ke,created:Ke,beforeMount:Ke,mounted:Ke,beforeUpdate:Ke,updated:Ke,beforeDestroy:Ke,beforeUnmount:Ke,destroyed:Ke,unmounted:Ke,activated:Ke,deactivated:Ke,errorCaptured:Ke,serverPrefetch:Ke,components:Gs,directives:Gs,watch:xc,provide:Vi,inject:wc};function Vi(t,e){return e?t?function(){return Le(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function wc(t,e){return Gs(Go(t),Go(e))}function Go(t){if(le(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Ke(t,e){return t?[...new Set([].concat(t,e))]:e}function Gs(t,e){return t?Le(Object.create(null),t,e):e}function Ui(t,e){return t?le(t)&&le(e)?[...new Set([...t,...e])]:Le(Object.create(null),Mi(t),Mi(e??{})):e}function xc(t,e){if(!t)return e;if(!e)return t;const s=Le(Object.create(null),t);for(const n in e)s[n]=Ke(t[n],e[n]);return s}function Sa(){return{app:null,config:{isNativeTag:Rr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _c=0;function Cc(t,e){return function(n,o=null){ge(n)||(n=Le({},n)),o!=null&&!Ee(o)&&(o=null);const i=Sa(),r=new WeakSet,l=[];let u=!1;const p=i.app={_uid:_c++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:nu,get config(){return i.config},set config(c){},use(c,...d){return r.has(c)||(c&&ge(c.install)?(r.add(c),c.install(p,...d)):ge(c)&&(r.add(c),c(p,...d))),p},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),p},component(c,d){return d?(i.components[c]=d,p):i.components[c]},directive(c,d){return d?(i.directives[c]=d,p):i.directives[c]},mount(c,d,f){if(!u){const h=p._ceVNode||fe(n,o);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(h,c,f),u=!0,p._container=c,c.__vue_app__=p,po(h.component)}},onUnmount(c){l.push(c)},unmount(){u&&(bt(l,p._instance,16),t(null,p._container),delete p._container.__vue_app__)},provide(c,d){return i.provides[c]=d,p},runWithContext(c){const d=Rs;Rs=p;try{return c()}finally{Rs=d}}};return p}}let Rs=null;function Ht(t,e){if(Je){let s=Je.provides;const n=Je.parent&&Je.parent.provides;n===s&&(s=Je.provides=Object.create(n)),s[t]=e}}function Et(t,e,s=!1){const n=Ns();if(n||Rs){let o=Rs?Rs._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&t in o)return o[t];if(arguments.length>1)return s&&ge(e)?e.call(n&&n.proxy):e}}const Ta={},ka=()=>Object.create(Ta),Ea=t=>Object.getPrototypeOf(t)===Ta;function Sc(t,e,s,n=!1){const o={},i=ka();t.propsDefaults=Object.create(null),$a(t,e,o,i);for(const r in t.propsOptions[0])r in o||(o[r]=void 0);s?t.props=n?o:Jl(o):t.type.props?t.props=o:t.props=i,t.attrs=i}function Tc(t,e,s,n){const{props:o,attrs:i,vnode:{patchFlag:r}}=t,l=xe(o),[u]=t.propsOptions;let p=!1;if((n||r>0)&&!(r&16)){if(r&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(co(t.emitsOptions,f))continue;const h=e[f];if(u)if(Ce(i,f))h!==i[f]&&(i[f]=h,p=!0);else{const v=ft(f);o[v]=Ko(u,l,v,h,t,!1)}else h!==i[f]&&(i[f]=h,p=!0)}}}else{$a(t,e,o,i)&&(p=!0);let c;for(const d in l)(!e||!Ce(e,d)&&((c=ts(d))===d||!Ce(e,c)))&&(u?s&&(s[d]!==void 0||s[c]!==void 0)&&(o[d]=Ko(u,l,d,void 0,t,!0)):delete o[d]);if(i!==l)for(const d in i)(!e||!Ce(e,d))&&(delete i[d],p=!0)}p&&qt(t.attrs,"set","")}function $a(t,e,s,n){const[o,i]=t.propsOptions;let r=!1,l;if(e)for(let u in e){if(Qs(u))continue;const p=e[u];let c;o&&Ce(o,c=ft(u))?!i||!i.includes(c)?s[c]=p:(l||(l={}))[c]=p:co(t.emitsOptions,u)||(!(u in n)||p!==n[u])&&(n[u]=p,r=!0)}if(i){const u=xe(s),p=l||$e;for(let c=0;c<i.length;c++){const d=i[c];s[d]=Ko(o,u,d,p[d],t,!Ce(p,d))}}return r}function Ko(t,e,s,n,o,i){const r=t[s];if(r!=null){const l=Ce(r,"default");if(l&&n===void 0){const u=r.default;if(r.type!==Function&&!r.skipFactory&&ge(u)){const{propsDefaults:p}=o;if(s in p)n=p[s];else{const c=_n(o);n=p[s]=u.call(null,e),c()}}else n=u;o.ce&&o.ce._setProp(s,n)}r[0]&&(i&&!l?n=!1:r[1]&&(n===""||n===ts(s))&&(n=!0))}return n}const kc=new WeakMap;function Aa(t,e,s=!1){const n=s?kc:e.propsCache,o=n.get(t);if(o)return o;const i=t.props,r={},l=[];let u=!1;if(!ge(t)){const c=d=>{u=!0;const[f,h]=Aa(d,e,!0);Le(r,f),h&&l.push(...h)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!u)return Ee(t)&&n.set(t,Ts),Ts;if(le(i))for(let c=0;c<i.length;c++){const d=ft(i[c]);ji(d)&&(r[d]=$e)}else if(i)for(const c in i){const d=ft(c);if(ji(d)){const f=i[c],h=r[d]=le(f)||ge(f)?{type:f}:Le({},f),v=h.type;let y=!1,x=!0;if(le(v))for(let j=0;j<v.length;++j){const N=v[j],_=ge(N)&&N.name;if(_==="Boolean"){y=!0;break}else _==="String"&&(x=!1)}else y=ge(v)&&v.name==="Boolean";h[0]=y,h[1]=x,(y||Ce(h,"default"))&&l.push(d)}}const p=[r,l];return Ee(t)&&n.set(t,p),p}function ji(t){return t[0]!=="$"&&!Qs(t)}const gi=t=>t==="_"||t==="_ctx"||t==="$stable",vi=t=>le(t)?t.map($t):[$t(t)],Ec=(t,e,s)=>{if(e._n)return e;const n=Fe((...o)=>vi(e(...o)),s);return n._c=!1,n},Ra=(t,e,s)=>{const n=t._ctx;for(const o in t){if(gi(o))continue;const i=t[o];if(ge(i))e[o]=Ec(o,i,n);else if(i!=null){const r=vi(i);e[o]=()=>r}}},Oa=(t,e)=>{const s=vi(e);t.slots.default=()=>s},Ia=(t,e,s)=>{for(const n in e)(s||!gi(n))&&(t[n]=e[n])},$c=(t,e,s)=>{const n=t.slots=ka();if(t.vnode.shapeFlag&32){const o=e._;o?(Ia(n,e,s),s&&Dr(n,"_",o,!0)):Ra(e,n)}else e&&Oa(t,e)},Ac=(t,e,s)=>{const{vnode:n,slots:o}=t;let i=!0,r=$e;if(n.shapeFlag&32){const l=e._;l?s&&l===1?i=!1:Ia(o,e,s):(i=!e.$stable,Ra(e,o)),r=e}else e&&(Oa(t,e),r={default:1});if(i)for(const l in o)!gi(l)&&r[l]==null&&delete o[l]},Xe=Hc;function Rc(t){return Oc(t)}function Oc(t,e){const s=so();s.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:r,createText:l,createComment:u,setText:p,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=gt,insertStaticContent:v}=t,y=(m,b,P,J=null,C=null,k=null,q=void 0,Y=null,X=!!b.dynamicChildren)=>{if(m===b)return;m&&!us(m,b)&&(J=B(m),Me(m,C,k,!0),m=null),b.patchFlag===-2&&(X=!1,b.dynamicChildren=null);const{type:Q,ref:ae,shapeFlag:ie}=b;switch(Q){case uo:x(m,b,P,J);break;case Be:j(m,b,P,J);break;case rn:m==null&&N(b,P,J,q);break;case me:T(m,b,P,J,C,k,q,Y,X);break;default:ie&1?V(m,b,P,J,C,k,q,Y,X):ie&6?$(m,b,P,J,C,k,q,Y,X):(ie&64||ie&128)&&Q.process(m,b,P,J,C,k,q,Y,X,ee)}ae!=null&&C?sn(ae,m&&m.ref,k,b||m,!b):ae==null&&m&&m.ref!=null&&sn(m.ref,null,k,m,!0)},x=(m,b,P,J)=>{if(m==null)n(b.el=l(b.children),P,J);else{const C=b.el=m.el;b.children!==m.children&&p(C,b.children)}},j=(m,b,P,J)=>{m==null?n(b.el=u(b.children||""),P,J):b.el=m.el},N=(m,b,P,J)=>{[m.el,m.anchor]=v(m.children,b,P,J,m.el,m.anchor)},_=({el:m,anchor:b},P,J)=>{let C;for(;m&&m!==b;)C=f(m),n(m,P,J),m=C;n(b,P,J)},A=({el:m,anchor:b})=>{let P;for(;m&&m!==b;)P=f(m),o(m),m=P;o(b)},V=(m,b,P,J,C,k,q,Y,X)=>{b.type==="svg"?q="svg":b.type==="math"&&(q="mathml"),m==null?z(b,P,J,C,k,q,Y,X):L(m,b,C,k,q,Y,X)},z=(m,b,P,J,C,k,q,Y)=>{let X,Q;const{props:ae,shapeFlag:ie,transition:re,dirs:pe}=m;if(X=m.el=r(m.type,k,ae&&ae.is,ae),ie&8?c(X,m.children):ie&16&&O(m.children,X,null,J,C,ko(m,k),q,Y),pe&&ns(m,null,J,"created"),S(X,m,m.scopeId,q,J),ae){for(const Ae in ae)Ae!=="value"&&!Qs(Ae)&&i(X,Ae,null,ae[Ae],k,J);"value"in ae&&i(X,"value",null,ae.value,k),(Q=ae.onVnodeBeforeMount)&&St(Q,J,m)}pe&&ns(m,null,J,"beforeMount");const be=Ic(C,re);be&&re.beforeEnter(X),n(X,b,P),((Q=ae&&ae.onVnodeMounted)||be||pe)&&Xe(()=>{Q&&St(Q,J,m),be&&re.enter(X),pe&&ns(m,null,J,"mounted")},C)},S=(m,b,P,J,C)=>{if(P&&h(m,P),J)for(let k=0;k<J.length;k++)h(m,J[k]);if(C){let k=C.subTree;if(b===k||Na(k.type)&&(k.ssContent===b||k.ssFallback===b)){const q=C.vnode;S(m,q,q.scopeId,q.slotScopeIds,C.parent)}}},O=(m,b,P,J,C,k,q,Y,X=0)=>{for(let Q=X;Q<m.length;Q++){const ae=m[Q]=Y?Wt(m[Q]):$t(m[Q]);y(null,ae,b,P,J,C,k,q,Y)}},L=(m,b,P,J,C,k,q)=>{const Y=b.el=m.el;let{patchFlag:X,dynamicChildren:Q,dirs:ae}=b;X|=m.patchFlag&16;const ie=m.props||$e,re=b.props||$e;let pe;if(P&&os(P,!1),(pe=re.onVnodeBeforeUpdate)&&St(pe,P,b,m),ae&&ns(b,m,P,"beforeUpdate"),P&&os(P,!0),(ie.innerHTML&&re.innerHTML==null||ie.textContent&&re.textContent==null)&&c(Y,""),Q?R(m.dynamicChildren,Q,Y,P,J,ko(b,C),k):q||ne(m,b,Y,null,P,J,ko(b,C),k,!1),X>0){if(X&16)E(Y,ie,re,P,C);else if(X&2&&ie.class!==re.class&&i(Y,"class",null,re.class,C),X&4&&i(Y,"style",ie.style,re.style,C),X&8){const be=b.dynamicProps;for(let Ae=0;Ae<be.length;Ae++){const Te=be[Ae],et=ie[Te],tt=re[Te];(tt!==et||Te==="value")&&i(Y,Te,et,tt,C,P)}}X&1&&m.children!==b.children&&c(Y,b.children)}else!q&&Q==null&&E(Y,ie,re,P,C);((pe=re.onVnodeUpdated)||ae)&&Xe(()=>{pe&&St(pe,P,b,m),ae&&ns(b,m,P,"updated")},J)},R=(m,b,P,J,C,k,q)=>{for(let Y=0;Y<b.length;Y++){const X=m[Y],Q=b[Y],ae=X.el&&(X.type===me||!us(X,Q)||X.shapeFlag&198)?d(X.el):P;y(X,Q,ae,null,J,C,k,q,!0)}},E=(m,b,P,J,C)=>{if(b!==P){if(b!==$e)for(const k in b)!Qs(k)&&!(k in P)&&i(m,k,b[k],null,C,J);for(const k in P){if(Qs(k))continue;const q=P[k],Y=b[k];q!==Y&&k!=="value"&&i(m,k,Y,q,C,J)}"value"in P&&i(m,"value",b.value,P.value,C)}},T=(m,b,P,J,C,k,q,Y,X)=>{const Q=b.el=m?m.el:l(""),ae=b.anchor=m?m.anchor:l("");let{patchFlag:ie,dynamicChildren:re,slotScopeIds:pe}=b;pe&&(Y=Y?Y.concat(pe):pe),m==null?(n(Q,P,J),n(ae,P,J),O(b.children||[],P,ae,C,k,q,Y,X)):ie>0&&ie&64&&re&&m.dynamicChildren?(R(m.dynamicChildren,re,P,C,k,q,Y),(b.key!=null||C&&b===C.subTree)&&yi(m,b,!0)):ne(m,b,P,ae,C,k,q,Y,X)},$=(m,b,P,J,C,k,q,Y,X)=>{b.slotScopeIds=Y,m==null?b.shapeFlag&512?C.ctx.activate(b,P,J,q,X):I(b,P,J,C,k,q,X):H(m,b,X)},I=(m,b,P,J,C,k,q)=>{const Y=m.component=Yc(m,J,C);if(ro(m)&&(Y.ctx.renderer=ee),Qc(Y,!1,q),Y.asyncDep){if(C&&C.registerDep(Y,W,q),!m.el){const X=Y.subTree=fe(Be);j(null,X,b,P),m.placeholder=X.el}}else W(Y,m,b,P,C,k,q)},H=(m,b,P)=>{const J=b.component=m.component;if(jc(m,b,P))if(J.asyncDep&&!J.asyncResolved){K(J,b,P);return}else J.next=b,J.update();else b.el=m.el,J.vnode=b},W=(m,b,P,J,C,k,q)=>{const Y=()=>{if(m.isMounted){let{next:ie,bu:re,u:pe,parent:be,vnode:Ae}=m;{const _t=qa(m);if(_t){ie&&(ie.el=Ae.el,K(m,ie,q)),_t.asyncDep.then(()=>{m.isUnmounted||Y()});return}}let Te=ie,et;os(m,!1),ie?(ie.el=Ae.el,K(m,ie,q)):ie=Ae,re&&In(re),(et=ie.props&&ie.props.onVnodeBeforeUpdate)&&St(et,be,ie,Ae),os(m,!0);const tt=Hi(m),xt=m.subTree;m.subTree=tt,y(xt,tt,d(xt.el),B(xt),m,C,k),ie.el=tt.el,Te===null&&zc(m,tt.el),pe&&Xe(pe,C),(et=ie.props&&ie.props.onVnodeUpdated)&&Xe(()=>St(et,be,ie,Ae),C)}else{let ie;const{el:re,props:pe}=b,{bm:be,m:Ae,parent:Te,root:et,type:tt}=m,xt=As(b);os(m,!1),be&&In(be),!xt&&(ie=pe&&pe.onVnodeBeforeMount)&&St(ie,Te,b),os(m,!0);{et.ce&&et.ce._def.shadowRoot!==!1&&et.ce._injectChildStyle(tt);const _t=m.subTree=Hi(m);y(null,_t,P,J,m,C,k),b.el=_t.el}if(Ae&&Xe(Ae,C),!xt&&(ie=pe&&pe.onVnodeMounted)){const _t=b;Xe(()=>St(ie,Te,_t),C)}(b.shapeFlag&256||Te&&As(Te.vnode)&&Te.vnode.shapeFlag&256)&&m.a&&Xe(m.a,C),m.isMounted=!0,b=P=J=null}};m.scope.on();const X=m.effect=new Mr(Y);m.scope.off();const Q=m.update=X.run.bind(X),ae=m.job=X.runIfDirty.bind(X);ae.i=m,ae.id=m.uid,X.scheduler=()=>hi(ae),os(m,!0),Q()},K=(m,b,P)=>{b.component=m;const J=m.vnode.props;m.vnode=b,m.next=null,Tc(m,b.props,J,P),Ac(m,b.children,P),Lt(),Oi(m),Vt()},ne=(m,b,P,J,C,k,q,Y,X=!1)=>{const Q=m&&m.children,ae=m?m.shapeFlag:0,ie=b.children,{patchFlag:re,shapeFlag:pe}=b;if(re>0){if(re&128){we(Q,ie,P,J,C,k,q,Y,X);return}else if(re&256){he(Q,ie,P,J,C,k,q,Y,X);return}}pe&8?(ae&16&&nt(Q,C,k),ie!==Q&&c(P,ie)):ae&16?pe&16?we(Q,ie,P,J,C,k,q,Y,X):nt(Q,C,k,!0):(ae&8&&c(P,""),pe&16&&O(ie,P,J,C,k,q,Y,X))},he=(m,b,P,J,C,k,q,Y,X)=>{m=m||Ts,b=b||Ts;const Q=m.length,ae=b.length,ie=Math.min(Q,ae);let re;for(re=0;re<ie;re++){const pe=b[re]=X?Wt(b[re]):$t(b[re]);y(m[re],pe,P,null,C,k,q,Y,X)}Q>ae?nt(m,C,k,!0,!1,ie):O(b,P,J,C,k,q,Y,X,ie)},we=(m,b,P,J,C,k,q,Y,X)=>{let Q=0;const ae=b.length;let ie=m.length-1,re=ae-1;for(;Q<=ie&&Q<=re;){const pe=m[Q],be=b[Q]=X?Wt(b[Q]):$t(b[Q]);if(us(pe,be))y(pe,be,P,null,C,k,q,Y,X);else break;Q++}for(;Q<=ie&&Q<=re;){const pe=m[ie],be=b[re]=X?Wt(b[re]):$t(b[re]);if(us(pe,be))y(pe,be,P,null,C,k,q,Y,X);else break;ie--,re--}if(Q>ie){if(Q<=re){const pe=re+1,be=pe<ae?b[pe].el:J;for(;Q<=re;)y(null,b[Q]=X?Wt(b[Q]):$t(b[Q]),P,be,C,k,q,Y,X),Q++}}else if(Q>re)for(;Q<=ie;)Me(m[Q],C,k,!0),Q++;else{const pe=Q,be=Q,Ae=new Map;for(Q=be;Q<=re;Q++){const ot=b[Q]=X?Wt(b[Q]):$t(b[Q]);ot.key!=null&&Ae.set(ot.key,Q)}let Te,et=0;const tt=re-be+1;let xt=!1,_t=0;const Hs=new Array(tt);for(Q=0;Q<tt;Q++)Hs[Q]=0;for(Q=pe;Q<=ie;Q++){const ot=m[Q];if(et>=tt){Me(ot,C,k,!0);continue}let Ct;if(ot.key!=null)Ct=Ae.get(ot.key);else for(Te=be;Te<=re;Te++)if(Hs[Te-be]===0&&us(ot,b[Te])){Ct=Te;break}Ct===void 0?Me(ot,C,k,!0):(Hs[Ct-be]=Q+1,Ct>=_t?_t=Ct:xt=!0,y(ot,b[Ct],P,null,C,k,q,Y,X),et++)}const Si=xt?qc(Hs):Ts;for(Te=Si.length-1,Q=tt-1;Q>=0;Q--){const ot=be+Q,Ct=b[ot],Ti=b[ot+1],ki=ot+1<ae?Ti.el||Ti.placeholder:J;Hs[Q]===0?y(null,Ct,P,ki,C,k,q,Y,X):xt&&(Te<0||Q!==Si[Te]?Oe(Ct,P,ki,2):Te--)}}},Oe=(m,b,P,J,C=null)=>{const{el:k,type:q,transition:Y,children:X,shapeFlag:Q}=m;if(Q&6){Oe(m.component.subTree,b,P,J);return}if(Q&128){m.suspense.move(b,P,J);return}if(Q&64){q.move(m,b,P,ee);return}if(q===me){n(k,b,P);for(let ie=0;ie<X.length;ie++)Oe(X[ie],b,P,J);n(m.anchor,b,P);return}if(q===rn){_(m,b,P);return}if(J!==2&&Q&1&&Y)if(J===0)Y.beforeEnter(k),n(k,b,P),Xe(()=>Y.enter(k),C);else{const{leave:ie,delayLeave:re,afterLeave:pe}=Y,be=()=>{m.ctx.isUnmounted?o(k):n(k,b,P)},Ae=()=>{k._isLeaving&&k[It](!0),ie(k,()=>{be(),pe&&pe()})};re?re(k,be,Ae):Ae()}else n(k,b,P)},Me=(m,b,P,J=!1,C=!1)=>{const{type:k,props:q,ref:Y,children:X,dynamicChildren:Q,shapeFlag:ae,patchFlag:ie,dirs:re,cacheIndex:pe}=m;if(ie===-2&&(C=!1),Y!=null&&(Lt(),sn(Y,null,P,m,!0),Vt()),pe!=null&&(b.renderCache[pe]=void 0),ae&256){b.ctx.deactivate(m);return}const be=ae&1&&re,Ae=!As(m);let Te;if(Ae&&(Te=q&&q.onVnodeBeforeUnmount)&&St(Te,b,m),ae&6)Ne(m.component,P,J);else{if(ae&128){m.suspense.unmount(P,J);return}be&&ns(m,null,b,"beforeUnmount"),ae&64?m.type.remove(m,b,P,ee,J):Q&&!Q.hasOnce&&(k!==me||ie>0&&ie&64)?nt(Q,b,P,!1,!0):(k===me&&ie&384||!C&&ae&16)&&nt(X,b,P),J&&jt(m)}(Ae&&(Te=q&&q.onVnodeUnmounted)||be)&&Xe(()=>{Te&&St(Te,b,m),be&&ns(m,null,b,"unmounted")},P)},jt=m=>{const{type:b,el:P,anchor:J,transition:C}=m;if(b===me){At(P,J);return}if(b===rn){A(m);return}const k=()=>{o(P),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(m.shapeFlag&1&&C&&!C.persisted){const{leave:q,delayLeave:Y}=C,X=()=>q(P,k);Y?Y(m.el,k,X):X()}else k()},At=(m,b)=>{let P;for(;m!==b;)P=f(m),o(m),m=P;o(b)},Ne=(m,b,P)=>{const{bum:J,scope:C,job:k,subTree:q,um:Y,m:X,a:Q}=m;zi(X),zi(Q),J&&In(J),C.stop(),k&&(k.flags|=8,Me(q,m,b,P)),Y&&Xe(Y,b),Xe(()=>{m.isUnmounted=!0},b)},nt=(m,b,P,J=!1,C=!1,k=0)=>{for(let q=k;q<m.length;q++)Me(m[q],b,P,J,C)},B=m=>{if(m.shapeFlag&6)return B(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const b=f(m.anchor||m.el),P=b&&b[ia];return P?f(P):b};let Z=!1;const se=(m,b,P)=>{m==null?b._vnode&&Me(b._vnode,null,null,!0):y(b._vnode||null,m,b,null,null,null,P),b._vnode=m,Z||(Z=!0,Oi(),sa(),Z=!1)},ee={p:y,um:Me,m:Oe,r:jt,mt:I,mc:O,pc:ne,pbc:R,n:B,o:t};return{render:se,hydrate:void 0,createApp:Cc(se)}}function ko({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function os({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Ic(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function yi(t,e,s=!1){const n=t.children,o=e.children;if(le(n)&&le(o))for(let i=0;i<n.length;i++){const r=n[i];let l=o[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[i]=Wt(o[i]),l.el=r.el),!s&&l.patchFlag!==-2&&yi(r,l)),l.type===uo&&l.patchFlag!==-1&&(l.el=r.el),l.type===Be&&!l.el&&(l.el=r.el)}}function qc(t){const e=t.slice(),s=[0];let n,o,i,r,l;const u=t.length;for(n=0;n<u;n++){const p=t[n];if(p!==0){if(o=s[s.length-1],t[o]<p){e[n]=o,s.push(n);continue}for(i=0,r=s.length-1;i<r;)l=i+r>>1,t[s[l]]<p?i=l+1:r=l;p<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,r=s[i-1];i-- >0;)s[i]=r,r=e[r];return s}function qa(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:qa(e)}function zi(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Dc=Symbol.for("v-scx"),Pc=()=>Et(Dc);function ve(t,e,s){return Da(t,e,s)}function Da(t,e,s=$e){const{immediate:n,deep:o,flush:i,once:r}=s,l=Le({},s),u=e&&n||!e&&i!=="post";let p;if(vn){if(i==="sync"){const h=Pc();p=h.__watcherHandles||(h.__watcherHandles=[])}else if(!u){const h=()=>{};return h.stop=gt,h.resume=gt,h.pause=gt,h}}const c=Je;l.call=(h,v,y)=>bt(h,c,v,y);let d=!1;i==="post"?l.scheduler=h=>{Xe(h,c&&c.suspense)}:i!=="sync"&&(d=!0,l.scheduler=(h,v)=>{v?h():hi(h)}),l.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=Zl(t,e,l);return vn&&(p?p.push(f):u&&f()),f}function Fc(t,e,s){const n=this.proxy,o=Ie(t)?t.includes(".")?Pa(n,t):()=>n[t]:t.bind(n,n);let i;ge(e)?i=e:(i=e.handler,s=e);const r=_n(this),l=Da(o,i.bind(n),s);return r(),l}function Pa(t,e){const s=e.split(".");return()=>{let n=t;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}const Nc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ft(e)}Modifiers`]||t[`${ts(e)}Modifiers`];function Mc(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||$e;let o=s;const i=e.startsWith("update:"),r=i&&Nc(n,e.slice(7));r&&(r.trim&&(o=s.map(c=>Ie(c)?c.trim():c)),r.number&&(o=s.map(Ln)));let l,u=n[l=bo(e)]||n[l=bo(ft(e))];!u&&i&&(u=n[l=bo(ts(e))]),u&&bt(u,t,6,o);const p=n[l+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,bt(p,t,6,o)}}const Lc=new WeakMap;function Fa(t,e,s=!1){const n=s?Lc:e.emitsCache,o=n.get(t);if(o!==void 0)return o;const i=t.emits;let r={},l=!1;if(!ge(t)){const u=p=>{const c=Fa(p,e,!0);c&&(l=!0,Le(r,c))};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!l?(Ee(t)&&n.set(t,null),null):(le(i)?i.forEach(u=>r[u]=null):Le(r,i),Ee(t)&&n.set(t,r),r)}function co(t,e){return!t||!Zn(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ce(t,e[0].toLowerCase()+e.slice(1))||Ce(t,ts(e))||Ce(t,e))}function Hi(t){const{type:e,vnode:s,proxy:n,withProxy:o,propsOptions:[i],slots:r,attrs:l,emit:u,render:p,renderCache:c,props:d,data:f,setupState:h,ctx:v,inheritAttrs:y}=t,x=zn(t);let j,N;try{if(s.shapeFlag&4){const A=o||n,V=A;j=$t(p.call(V,A,c,d,h,f,v)),N=l}else{const A=e;j=$t(A.length>1?A(d,{attrs:l,slots:r,emit:u}):A(d,null)),N=e.props?l:Vc(l)}}catch(A){an.length=0,io(A,t,1),j=fe(Be)}let _=j;if(N&&y!==!1){const A=Object.keys(N),{shapeFlag:V}=_;A.length&&V&7&&(i&&A.some(ni)&&(N=Uc(N,i)),_=Zt(_,N,!1,!0))}return s.dirs&&(_=Zt(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(s.dirs):s.dirs),s.transition&&ms(_,s.transition),j=_,zn(x),j}const Vc=t=>{let e;for(const s in t)(s==="class"||s==="style"||Zn(s))&&((e||(e={}))[s]=t[s]);return e},Uc=(t,e)=>{const s={};for(const n in t)(!ni(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function jc(t,e,s){const{props:n,children:o,component:i}=t,{props:r,children:l,patchFlag:u}=e,p=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&u>=0){if(u&1024)return!0;if(u&16)return n?Bi(n,r,p):!!r;if(u&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(r[f]!==n[f]&&!co(p,f))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:n===r?!1:n?r?Bi(n,r,p):!0:!!r;return!1}function Bi(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(e[i]!==t[i]&&!co(s,i))return!0}return!1}function zc({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const Na=t=>t.__isSuspense;function Hc(t,e){e&&e.pendingBranch?le(t)?e.effects.push(...t):e.effects.push(t):ta(t)}const me=Symbol.for("v-fgt"),uo=Symbol.for("v-txt"),Be=Symbol.for("v-cmt"),rn=Symbol.for("v-stc"),an=[];let it=null;function g(t=!1){an.push(it=t?null:[])}function Bc(){an.pop(),it=an[an.length-1]||null}let mn=1;function Jn(t,e=!1){mn+=t,t<0&&it&&e&&(it.hasOnce=!0)}function Ma(t){return t.dynamicChildren=mn>0?it||Ts:null,Bc(),mn>0&&it&&it.push(t),t}function w(t,e,s,n,o,i){return Ma(a(t,e,s,n,o,i,!0))}function de(t,e,s,n,o){return Ma(fe(t,e,s,n,o,!0))}function gn(t){return t?t.__v_isVNode===!0:!1}function us(t,e){return t.type===e.type&&t.key===e.key}const La=({key:t})=>t??null,Dn=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Ie(t)||We(t)||ge(t)?{i:je,r:t,k:e,f:!!s}:t:null);function a(t,e=null,s=null,n=0,o=null,i=t===me?0:1,r=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&La(e),ref:e&&Dn(e),scopeId:oa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:je};return l?(bi(u,s),i&128&&t.normalize(u)):s&&(u.shapeFlag|=Ie(s)?8:16),mn>0&&!r&&it&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&it.push(u),u}const fe=Jc;function Jc(t,e=null,s=null,n=0,o=null,i=!1){if((!t||t===ba)&&(t=Be),gn(t)){const l=Zt(t,e,!0);return s&&bi(l,s),mn>0&&!i&&it&&(l.shapeFlag&6?it[it.indexOf(t)]=l:it.push(l)),l.patchFlag=-2,l}if(su(t)&&(t=t.__vccOpts),e){e=Wc(e);let{class:l,style:u}=e;l&&!Ie(l)&&(e.class=ue(l)),Ee(u)&&(fi(u)&&!le(u)&&(u=Le({},u)),e.style=Ue(u))}const r=Ie(t)?1:Na(t)?128:ra(t)?64:Ee(t)?4:ge(t)?2:0;return a(t,e,s,n,o,r,i,!0)}function Wc(t){return t?fi(t)||Ea(t)?Le({},t):t:null}function Zt(t,e,s=!1,n=!1){const{props:o,ref:i,patchFlag:r,children:l,transition:u}=t,p=e?Xo(o||{},e):o,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:p,key:p&&La(p),ref:e&&e.ref?s&&i?le(i)?i.concat(Dn(e)):[i,Dn(e)]:Dn(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==me?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Zt(t.ssContent),ssFallback:t.ssFallback&&Zt(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&n&&ms(c,u.clone(c)),c}function _e(t=" ",e=0){return fe(uo,null,t,e)}function Gc(t,e){const s=fe(rn,null,t);return s.staticCount=e,s}function G(t="",e=!1){return e?(g(),de(Be,null,t)):fe(Be,null,t)}function $t(t){return t==null||typeof t=="boolean"?fe(Be):le(t)?fe(me,null,t.slice()):gn(t)?Wt(t):fe(uo,null,String(t))}function Wt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Zt(t)}function bi(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(le(e))s=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),bi(t,o()),o._c&&(o._d=!0));return}else{s=32;const o=e._;!o&&!Ea(e)?e._ctx=je:o===3&&je&&(je.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:je},s=32):(e=String(e),n&64?(s=16,e=[_e(e)]):s=8);t.children=e,t.shapeFlag|=s}function Xo(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=ue([e.class,n.class]));else if(o==="style")e.style=Ue([e.style,n.style]);else if(Zn(o)){const i=e[o],r=n[o];r&&i!==r&&!(le(i)&&i.includes(r))&&(e[o]=i?[].concat(i,r):r)}else o!==""&&(e[o]=n[o])}return e}function St(t,e,s,n=null){bt(t,e,7,[s,n])}const Kc=Sa();let Xc=0;function Yc(t,e,s){const n=t.type,o=(e?e.appContext:t.appContext)||Kc,i={uid:Xc++,vnode:t,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new kl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Aa(n,o),emitsOptions:Fa(n,o),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:n.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Mc.bind(null,i),t.ce&&t.ce(i),i}let Je=null;const Ns=()=>Je||je;let Wn,Yo;{const t=so(),e=(s,n)=>{let o;return(o=t[s])||(o=t[s]=[]),o.push(n),i=>{o.length>1?o.forEach(r=>r(i)):o[0](i)}};Wn=e("__VUE_INSTANCE_SETTERS__",s=>Je=s),Yo=e("__VUE_SSR_SETTERS__",s=>vn=s)}const _n=t=>{const e=Je;return Wn(t),t.scope.on(),()=>{t.scope.off(),Wn(e)}},Ji=()=>{Je&&Je.scope.off(),Wn(null)};function Va(t){return t.vnode.shapeFlag&4}let vn=!1;function Qc(t,e=!1,s=!1){e&&Yo(e);const{props:n,children:o}=t.vnode,i=Va(t);Sc(t,n,i,e),$c(t,o,s||e);const r=i?Zc(t,e):void 0;return e&&Yo(!1),r}function Zc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,hc);const{setup:n}=s;if(n){Lt();const o=t.setupContext=n.length>1?ja(t):null,i=_n(t),r=xn(n,t,0,[t.props,o]),l=Or(r);if(Vt(),i(),(l||t.sp)&&!As(t)&&ha(t),l){if(r.then(Ji,Ji),e)return r.then(u=>{Wi(t,u)}).catch(u=>{io(u,t,0)});t.asyncDep=r}else Wi(t,r)}else Ua(t)}function Wi(t,e,s){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ee(e)&&(t.setupState=Qr(e)),Ua(t)}function Ua(t,e,s){const n=t.type;t.render||(t.render=n.render||gt);{const o=_n(t);Lt();try{vc(t)}finally{Vt(),o()}}}const eu={get(t,e){return He(t,"get",""),t[e]}};function ja(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,eu),slots:t.slots,emit:t.emit,expose:e}}function po(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Qr(ls(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in on)return on[s](t)},has(e,s){return s in e||s in on}})):t.proxy}function tu(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function su(t){return ge(t)&&"__vccOpts"in t}const F=(t,e)=>Yl(t,e,vn);function za(t,e,s){try{Jn(-1);const n=arguments.length;return n===2?Ee(e)&&!le(e)?gn(e)?fe(t,null,[e]):fe(t,e):fe(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&gn(s)&&(s=[s]),fe(t,e,s))}finally{Jn(1)}}const nu="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qo;const Gi=typeof window<"u"&&window.trustedTypes;if(Gi)try{Qo=Gi.createPolicy("vue",{createHTML:t=>t})}catch{}const Ha=Qo?t=>Qo.createHTML(t):t=>t,ou="http://www.w3.org/2000/svg",iu="http://www.w3.org/1998/Math/MathML",Ot=typeof document<"u"?document:null,Ki=Ot&&Ot.createElement("template"),ru={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const o=e==="svg"?Ot.createElementNS(ou,t):e==="mathml"?Ot.createElementNS(iu,t):s?Ot.createElement(t,{is:s}):Ot.createElement(t);return t==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:t=>Ot.createTextNode(t),createComment:t=>Ot.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ot.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,o,i){const r=s?s.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),s),!(o===i||!(o=o.nextSibling)););else{Ki.innerHTML=Ha(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const l=Ki.content;if(n==="svg"||n==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,s)}return[r?r.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},zt="transition",Js="animation",Is=Symbol("_vtc"),Ba={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ja=Le({},ua,Ba),au=t=>(t.displayName="Transition",t.props=Ja,t),lu=au((t,{slots:e})=>za(oc,Wa(t),e)),is=(t,e=[])=>{le(t)?t.forEach(s=>s(...e)):t&&t(...e)},Xi=t=>t?le(t)?t.some(e=>e.length>1):t.length>1:!1;function Wa(t){const e={};for(const T in t)T in Ba||(e[T]=t[T]);if(t.css===!1)return e;const{name:s="v",type:n,duration:o,enterFromClass:i=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:l=`${s}-enter-to`,appearFromClass:u=i,appearActiveClass:p=r,appearToClass:c=l,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:h=`${s}-leave-to`}=t,v=cu(o),y=v&&v[0],x=v&&v[1],{onBeforeEnter:j,onEnter:N,onEnterCancelled:_,onLeave:A,onLeaveCancelled:V,onBeforeAppear:z=j,onAppear:S=N,onAppearCancelled:O=_}=e,L=(T,$,I,H)=>{T._enterCancelled=H,Bt(T,$?c:l),Bt(T,$?p:r),I&&I()},R=(T,$)=>{T._isLeaving=!1,Bt(T,d),Bt(T,h),Bt(T,f),$&&$()},E=T=>($,I)=>{const H=T?S:N,W=()=>L($,T,I);is(H,[$,W]),Yi(()=>{Bt($,T?u:i),Tt($,T?c:l),Xi(H)||Qi($,n,y,W)})};return Le(e,{onBeforeEnter(T){is(j,[T]),Tt(T,i),Tt(T,r)},onBeforeAppear(T){is(z,[T]),Tt(T,u),Tt(T,p)},onEnter:E(!1),onAppear:E(!0),onLeave(T,$){T._isLeaving=!0;const I=()=>R(T,$);Tt(T,d),T._enterCancelled?(Tt(T,f),Zo(T)):(Zo(T),Tt(T,f)),Yi(()=>{T._isLeaving&&(Bt(T,d),Tt(T,h),Xi(A)||Qi(T,n,x,I))}),is(A,[T,I])},onEnterCancelled(T){L(T,!1,void 0,!0),is(_,[T])},onAppearCancelled(T){L(T,!0,void 0,!0),is(O,[T])},onLeaveCancelled(T){R(T),is(V,[T])}})}function cu(t){if(t==null)return null;if(Ee(t))return[Eo(t.enter),Eo(t.leave)];{const e=Eo(t);return[e,e]}}function Eo(t){return vl(t)}function Tt(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Is]||(t[Is]=new Set)).add(e)}function Bt(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[Is];s&&(s.delete(e),s.size||(t[Is]=void 0))}function Yi(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let uu=0;function Qi(t,e,s,n){const o=t._endId=++uu,i=()=>{o===t._endId&&n()};if(s!=null)return setTimeout(i,s);const{type:r,timeout:l,propCount:u}=Ga(t,e);if(!r)return n();const p=r+"end";let c=0;const d=()=>{t.removeEventListener(p,f),i()},f=h=>{h.target===t&&++c>=u&&d()};setTimeout(()=>{c<u&&d()},l+1),t.addEventListener(p,f)}function Ga(t,e){const s=window.getComputedStyle(t),n=v=>(s[v]||"").split(", "),o=n(`${zt}Delay`),i=n(`${zt}Duration`),r=Zi(o,i),l=n(`${Js}Delay`),u=n(`${Js}Duration`),p=Zi(l,u);let c=null,d=0,f=0;e===zt?r>0&&(c=zt,d=r,f=i.length):e===Js?p>0&&(c=Js,d=p,f=u.length):(d=Math.max(r,p),c=d>0?r>p?zt:Js:null,f=c?c===zt?i.length:u.length:0);const h=c===zt&&/\b(?:transform|all)(?:,|$)/.test(n(`${zt}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function Zi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>er(s)+er(t[n])))}function er(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Zo(t){return(t?t.ownerDocument:document).body.offsetHeight}function du(t,e,s){const n=t[Is];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const tr=Symbol("_vod"),pu=Symbol("_vsh"),Ka=Symbol("");function fu(t){const e=Ns();if(!e)return;const s=e.ut=(o=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Gn(i,o))},n=()=>{const o=t(e.proxy);e.ce?Gn(e.ce,o):ei(e.subTree,o),s(o)};ga(()=>{ta(n)}),De(()=>{ve(n,gt,{flush:"post"});const o=new MutationObserver(n);o.observe(e.subTree.el.parentNode,{childList:!0}),Ze(()=>o.disconnect())})}function ei(t,e){if(t.shapeFlag&128){const s=t.suspense;t=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{ei(s.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Gn(t.el,e);else if(t.type===me)t.children.forEach(s=>ei(s,e));else if(t.type===rn){let{el:s,anchor:n}=t;for(;s&&(Gn(s,e),s!==n);)s=s.nextSibling}}function Gn(t,e){if(t.nodeType===1){const s=t.style;let n="";for(const o in e){const i=Tl(e[o]);s.setProperty(`--${o}`,i),n+=`--${o}: ${i};`}s[Ka]=n}}const hu=/(?:^|;)\s*display\s*:/;function mu(t,e,s){const n=t.style,o=Ie(s);let i=!1;if(s&&!o){if(e)if(Ie(e))for(const r of e.split(";")){const l=r.slice(0,r.indexOf(":")).trim();s[l]==null&&Pn(n,l,"")}else for(const r in e)s[r]==null&&Pn(n,r,"");for(const r in s)r==="display"&&(i=!0),Pn(n,r,s[r])}else if(o){if(e!==s){const r=n[Ka];r&&(s+=";"+r),n.cssText=s,i=hu.test(s)}}else e&&t.removeAttribute("style");tr in t&&(t[tr]=i?n.display:"",t[pu]&&(n.display="none"))}const sr=/\s*!important$/;function Pn(t,e,s){if(le(s))s.forEach(n=>Pn(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=gu(t,e);sr.test(s)?t.setProperty(ts(n),s.replace(sr,""),"important"):t[n]=s}}const nr=["Webkit","Moz","ms"],$o={};function gu(t,e){const s=$o[e];if(s)return s;let n=ft(e);if(n!=="filter"&&n in t)return $o[e]=n;n=to(n);for(let o=0;o<nr.length;o++){const i=nr[o]+n;if(i in t)return $o[e]=i}return e}const or="http://www.w3.org/1999/xlink";function ir(t,e,s,n,o,i=Cl(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(or,e.slice(6,e.length)):t.setAttributeNS(or,e,s):s==null||i&&!Pr(s)?t.removeAttribute(e):t.setAttribute(e,i?"":yt(s)?String(s):s)}function rr(t,e,s,n,o){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Ha(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,u=s==null?t.type==="checkbox"?"on":"":String(s);(l!==u||!("_value"in t))&&(t.value=u),s==null&&t.removeAttribute(e),t._value=s;return}let r=!1;if(s===""||s==null){const l=typeof t[e];l==="boolean"?s=Pr(s):s==null&&l==="string"?(s="",r=!0):l==="number"&&(s=0,r=!0)}try{t[e]=s}catch{}r&&t.removeAttribute(o||e)}function Pt(t,e,s,n){t.addEventListener(e,s,n)}function vu(t,e,s,n){t.removeEventListener(e,s,n)}const ar=Symbol("_vei");function yu(t,e,s,n,o=null){const i=t[ar]||(t[ar]={}),r=i[e];if(n&&r)r.value=n;else{const[l,u]=bu(e);if(n){const p=i[e]=_u(n,o);Pt(t,l,p,u)}else r&&(vu(t,l,r,u),i[e]=void 0)}}const lr=/(?:Once|Passive|Capture)$/;function bu(t){let e;if(lr.test(t)){e={};let n;for(;n=t.match(lr);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ts(t.slice(2)),e]}let Ao=0;const wu=Promise.resolve(),xu=()=>Ao||(wu.then(()=>Ao=0),Ao=Date.now());function _u(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;bt(Cu(n,s.value),e,5,[n])};return s.value=t,s.attached=xu(),s}function Cu(t,e){if(le(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const cr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Su=(t,e,s,n,o,i)=>{const r=o==="svg";e==="class"?du(t,n,r):e==="style"?mu(t,s,n):Zn(e)?ni(e)||yu(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Tu(t,e,n,r))?(rr(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ir(t,e,n,r,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ie(n))?rr(t,ft(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),ir(t,e,n,r))};function Tu(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&cr(e)&&ge(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return cr(e)&&Ie(s)?!1:e in t}const Xa=new WeakMap,Ya=new WeakMap,Kn=Symbol("_moveCb"),ur=Symbol("_enterCb"),ku=t=>(delete t.props.mode,t),Eu=ku({name:"TransitionGroup",props:Le({},Ja,{tag:String,moveClass:String}),setup(t,{slots:e}){const s=Ns(),n=ca();let o,i;return va(()=>{if(!o.length)return;const r=t.moveClass||`${t.name||"v"}-move`;if(!Iu(o[0].el,s.vnode.el,r)){o=[];return}o.forEach(Au),o.forEach(Ru);const l=o.filter(Ou);Zo(s.vnode.el),l.forEach(u=>{const p=u.el,c=p.style;Tt(p,r),c.transform=c.webkitTransform=c.transitionDuration="";const d=p[Kn]=f=>{f&&f.target!==p||(!f||f.propertyName.endsWith("transform"))&&(p.removeEventListener("transitionend",d),p[Kn]=null,Bt(p,r))};p.addEventListener("transitionend",d)}),o=[]}),()=>{const r=xe(t),l=Wa(r);let u=r.tag||me;if(o=[],i)for(let p=0;p<i.length;p++){const c=i[p];c.el&&c.el instanceof Element&&(o.push(c),ms(c,fn(c,l,n,s)),Xa.set(c,c.el.getBoundingClientRect()))}i=e.default?mi(e.default()):[];for(let p=0;p<i.length;p++){const c=i[p];c.key!=null&&ms(c,fn(c,l,n,s))}return fe(u,null,i)}}}),$u=Eu;function Au(t){const e=t.el;e[Kn]&&e[Kn](),e[ur]&&e[ur]()}function Ru(t){Ya.set(t,t.el.getBoundingClientRect())}function Ou(t){const e=Xa.get(t),s=Ya.get(t),n=e.left-s.left,o=e.top-s.top;if(n||o){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${o}px)`,i.transitionDuration="0s",t}}function Iu(t,e,s){const n=t.cloneNode(),o=t[Is];o&&o.forEach(l=>{l.split(/\s+/).forEach(u=>u&&n.classList.remove(u))}),s.split(/\s+/).forEach(l=>l&&n.classList.add(l)),n.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(n);const{hasTransform:r}=Ga(n);return i.removeChild(n),r}const es=t=>{const e=t.props["onUpdate:modelValue"]||!1;return le(e)?s=>In(e,s):e};function qu(t){t.target.composing=!0}function dr(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const pt=Symbol("_assign"),Se={created(t,{modifiers:{lazy:e,trim:s,number:n}},o){t[pt]=es(o);const i=n||o.props&&o.props.type==="number";Pt(t,e?"change":"input",r=>{if(r.target.composing)return;let l=t.value;s&&(l=l.trim()),i&&(l=Ln(l)),t[pt](l)}),s&&Pt(t,"change",()=>{t.value=t.value.trim()}),e||(Pt(t,"compositionstart",qu),Pt(t,"compositionend",dr),Pt(t,"change",dr))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:o,number:i}},r){if(t[pt]=es(r),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?Ln(t.value):t.value,u=e??"";l!==u&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||o&&t.value.trim()===u)||(t.value=u))}},Qe={deep:!0,created(t,e,s){t[pt]=es(s),Pt(t,"change",()=>{const n=t._modelValue,o=qs(t),i=t.checked,r=t[pt];if(le(n)){const l=ri(n,o),u=l!==-1;if(i&&!u)r(n.concat(o));else if(!i&&u){const p=[...n];p.splice(l,1),r(p)}}else if(Fs(n)){const l=new Set(n);i?l.add(o):l.delete(o),r(l)}else r(Qa(t,i))})},mounted:pr,beforeUpdate(t,e,s){t[pt]=es(s),pr(t,e,s)}};function pr(t,{value:e,oldValue:s},n){t._modelValue=e;let o;if(le(e))o=ri(e,n.props.value)>-1;else if(Fs(e))o=e.has(n.props.value);else{if(e===s)return;o=hs(e,Qa(t,!0))}t.checked!==o&&(t.checked=o)}const Fn={created(t,{value:e},s){t.checked=hs(e,s.props.value),t[pt]=es(s),Pt(t,"change",()=>{t[pt](qs(t))})},beforeUpdate(t,{value:e,oldValue:s},n){t[pt]=es(n),e!==s&&(t.checked=hs(e,n.props.value))}},ln={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const o=Fs(e);Pt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,r=>r.selected).map(r=>s?Ln(qs(r)):qs(r));t[pt](t.multiple?o?new Set(i):i:i[0]),t._assigning=!0,Pe(()=>{t._assigning=!1})}),t[pt]=es(n)},mounted(t,{value:e}){fr(t,e)},beforeUpdate(t,e,s){t[pt]=es(s)},updated(t,{value:e}){t._assigning||fr(t,e)}};function fr(t,e){const s=t.multiple,n=le(e);if(!(s&&!n&&!Fs(e))){for(let o=0,i=t.options.length;o<i;o++){const r=t.options[o],l=qs(r);if(s)if(n){const u=typeof l;u==="string"||u==="number"?r.selected=e.some(p=>String(p)===String(l)):r.selected=ri(e,l)>-1}else r.selected=e.has(l);else if(hs(qs(r),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function qs(t){return"_value"in t?t._value:t.value}function Qa(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Du={created(t,e,s){An(t,e,s,null,"created")},mounted(t,e,s){An(t,e,s,null,"mounted")},beforeUpdate(t,e,s,n){An(t,e,s,n,"beforeUpdate")},updated(t,e,s,n){An(t,e,s,n,"updated")}};function Pu(t,e){switch(t){case"SELECT":return ln;case"TEXTAREA":return Se;default:switch(e){case"checkbox":return Qe;case"radio":return Fn;default:return Se}}}function An(t,e,s,n,o){const r=Pu(t.tagName,s.props&&s.props.type)[o];r&&r(t,e,s,n)}const Fu=["ctrl","shift","alt","meta"],Nu={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Fu.some(s=>t[`${s}Key`]&&!e.includes(s))},Cn=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=((o,...i)=>{for(let r=0;r<e.length;r++){const l=Nu[e[r]];if(l&&l(o,e))return}return t(o,...i)}))},Mu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},fo=(t,e)=>{const s=t._withKeys||(t._withKeys={}),n=e.join(".");return s[n]||(s[n]=(o=>{if(!("key"in o))return;const i=ts(o.key);if(e.some(r=>r===i||Mu[r]===i))return t(o)}))},Lu=Le({patchProp:Su},ru);let hr;function Vu(){return hr||(hr=Rc(Lu))}const Uu=((...t)=>{const e=Vu().createApp(...t),{mount:s}=e;return e.mount=n=>{const o=zu(n);if(!o)return;const i=e._component;!ge(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const r=s(o,!1,ju(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},e});function ju(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function zu(t){return Ie(t)?document.querySelector(t):t}const Za={__name:"splitpanes",props:{horizontal:{type:Boolean,default:!1},pushOtherPanes:{type:Boolean,default:!0},maximizePanes:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean,default:!1}},emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click","splitter-dblclick"],setup(t,{emit:e}){const s=e,n=t,o=mc(),i=te([]),r=F(()=>i.value.reduce((B,Z)=>(B[~~Z.id]=Z)&&B,{})),l=F(()=>i.value.length),u=te(null),p=te(!1),c=te({mouseDown:!1,dragging:!1,activeSplitter:null,cursorOffset:0}),d=te({splitter:null,timeoutId:null}),f=F(()=>({[`splitpanes splitpanes--${n.horizontal?"horizontal":"vertical"}`]:!0,"splitpanes--dragging":c.value.dragging})),h=()=>{document.addEventListener("mousemove",x,{passive:!1}),document.addEventListener("mouseup",j),"ontouchstart"in window&&(document.addEventListener("touchmove",x,{passive:!1}),document.addEventListener("touchend",j))},v=()=>{document.removeEventListener("mousemove",x,{passive:!1}),document.removeEventListener("mouseup",j),"ontouchstart"in window&&(document.removeEventListener("touchmove",x,{passive:!1}),document.removeEventListener("touchend",j))},y=(B,Z)=>{const se=B.target.closest(".splitpanes__splitter");if(se){const{left:ee,top:U}=se.getBoundingClientRect(),{clientX:m,clientY:b}="ontouchstart"in window&&B.touches?B.touches[0]:B;c.value.cursorOffset=n.horizontal?b-U:m-ee}h(),c.value.mouseDown=!0,c.value.activeSplitter=Z},x=B=>{c.value.mouseDown&&(B.preventDefault(),c.value.dragging=!0,requestAnimationFrame(()=>{S(V(B)),Ne("resize",{event:B},!0)}))},j=B=>{c.value.dragging&&(window.getSelection().removeAllRanges(),Ne("resized",{event:B},!0)),c.value.mouseDown=!1,c.value.activeSplitter=null,setTimeout(()=>{c.value.dragging=!1,v()},100)},N=(B,Z)=>{"ontouchstart"in window&&(B.preventDefault(),d.value.splitter===Z?(clearTimeout(d.value.timeoutId),d.value.timeoutId=null,_(B,Z),d.value.splitter=null):(d.value.splitter=Z,d.value.timeoutId=setTimeout(()=>d.value.splitter=null,500))),c.value.dragging||Ne("splitter-click",{event:B,index:Z},!0)},_=(B,Z)=>{if(Ne("splitter-dblclick",{event:B,index:Z},!0),n.maximizePanes){let se=0;i.value=i.value.map((ee,U)=>(ee.size=U===Z?ee.max:ee.min,U!==Z&&(se+=ee.min),ee)),i.value[Z].size-=se,Ne("pane-maximize",{event:B,index:Z,pane:i.value[Z]}),Ne("resized",{event:B,index:Z},!0)}},A=(B,Z)=>{Ne("pane-click",{event:B,index:r.value[Z].index,pane:r.value[Z]})},V=B=>{const Z=u.value.getBoundingClientRect(),{clientX:se,clientY:ee}="ontouchstart"in window&&B.touches?B.touches[0]:B;return{x:se-(n.horizontal?0:c.value.cursorOffset)-Z.left,y:ee-(n.horizontal?c.value.cursorOffset:0)-Z.top}},z=B=>{B=B[n.horizontal?"y":"x"];const Z=u.value[n.horizontal?"clientHeight":"clientWidth"];return n.rtl&&!n.horizontal&&(B=Z-B),B*100/Z},S=B=>{const Z=c.value.activeSplitter;let se={prevPanesSize:L(Z),nextPanesSize:R(Z),prevReachedMinPanes:0,nextReachedMinPanes:0};const ee=0+(n.pushOtherPanes?0:se.prevPanesSize),U=100-(n.pushOtherPanes?0:se.nextPanesSize),m=Math.max(Math.min(z(B),U),ee);let b=[Z,Z+1],P=i.value[b[0]]||null,J=i.value[b[1]]||null;const C=P.max<100&&m>=P.max+se.prevPanesSize,k=J.max<100&&m<=100-(J.max+R(Z+1));if(C||k){C?(P.size=P.max,J.size=Math.max(100-P.max-se.prevPanesSize-se.nextPanesSize,0)):(P.size=Math.max(100-J.max-se.prevPanesSize-R(Z+1),0),J.size=J.max);return}if(n.pushOtherPanes){const q=O(se,m);if(!q)return;({sums:se,panesToResize:b}=q),P=i.value[b[0]]||null,J=i.value[b[1]]||null}P!==null&&(P.size=Math.min(Math.max(m-se.prevPanesSize-se.prevReachedMinPanes,P.min),P.max)),J!==null&&(J.size=Math.min(Math.max(100-m-se.nextPanesSize-se.nextReachedMinPanes,J.min),J.max))},O=(B,Z)=>{const se=c.value.activeSplitter,ee=[se,se+1];return Z<B.prevPanesSize+i.value[ee[0]].min&&(ee[0]=E(se).index,B.prevReachedMinPanes=0,ee[0]<se&&i.value.forEach((U,m)=>{m>ee[0]&&m<=se&&(U.size=U.min,B.prevReachedMinPanes+=U.min)}),B.prevPanesSize=L(ee[0]),ee[0]===void 0)?(B.prevReachedMinPanes=0,i.value[0].size=i.value[0].min,i.value.forEach((U,m)=>{m>0&&m<=se&&(U.size=U.min,B.prevReachedMinPanes+=U.min)}),i.value[ee[1]].size=100-B.prevReachedMinPanes-i.value[0].min-B.prevPanesSize-B.nextPanesSize,null):Z>100-B.nextPanesSize-i.value[ee[1]].min&&(ee[1]=T(se).index,B.nextReachedMinPanes=0,ee[1]>se+1&&i.value.forEach((U,m)=>{m>se&&m<ee[1]&&(U.size=U.min,B.nextReachedMinPanes+=U.min)}),B.nextPanesSize=R(ee[1]-1),ee[1]===void 0)?(B.nextReachedMinPanes=0,i.value.forEach((U,m)=>{m<l.value-1&&m>=se+1&&(U.size=U.min,B.nextReachedMinPanes+=U.min)}),i.value[ee[0]].size=100-B.prevPanesSize-R(ee[0]-1),null):{sums:B,panesToResize:ee}},L=B=>i.value.reduce((Z,se,ee)=>Z+(ee<B?se.size:0),0),R=B=>i.value.reduce((Z,se,ee)=>Z+(ee>B+1?se.size:0),0),E=B=>[...i.value].reverse().find(Z=>Z.index<B&&Z.size>Z.min)||{},T=B=>i.value.find(Z=>Z.index>B+1&&Z.size>Z.min)||{},$=()=>{var B;const Z=Array.from(((B=u.value)==null?void 0:B.children)||[]);for(const se of Z){const ee=se.classList.contains("splitpanes__pane"),U=se.classList.contains("splitpanes__splitter");!ee&&!U&&(se.remove(),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))}},I=(B,Z,se=!1)=>{const ee=B-1,U=document.createElement("div");U.classList.add("splitpanes__splitter"),se||(U.onmousedown=m=>y(m,ee),typeof window<"u"&&"ontouchstart"in window&&(U.ontouchstart=m=>y(m,ee)),U.onclick=m=>N(m,ee+1)),U.ondblclick=m=>_(m,ee+1),Z.parentNode.insertBefore(U,Z)},H=B=>{B.onmousedown=void 0,B.onclick=void 0,B.ondblclick=void 0,B.remove()},W=()=>{var B;const Z=Array.from(((B=u.value)==null?void 0:B.children)||[]);for(const ee of Z)ee.className.includes("splitpanes__splitter")&&H(ee);let se=0;for(const ee of Z)ee.className.includes("splitpanes__pane")&&(!se&&n.firstSplitter?I(se,ee,!0):se&&I(se,ee),se++)},K=({uid:B,...Z})=>{const se=r.value[B];for(const[ee,U]of Object.entries(Z))se[ee]=U},ne=B=>{var Z;let se=-1;Array.from(((Z=u.value)==null?void 0:Z.children)||[]).some(ee=>(ee.className.includes("splitpanes__pane")&&se++,ee.isSameNode(B.el))),i.value.splice(se,0,{...B,index:se}),i.value.forEach((ee,U)=>ee.index=U),p.value&&Pe(()=>{W(),we({addedPane:i.value[se]}),Ne("pane-add",{pane:i.value[se]})})},he=B=>{const Z=i.value.findIndex(ee=>ee.id===B);i.value[Z].el=null;const se=i.value.splice(Z,1)[0];i.value.forEach((ee,U)=>ee.index=U),Pe(()=>{W(),Ne("pane-remove",{pane:se}),we({removedPane:{...se}})})},we=(B={})=>{!B.addedPane&&!B.removedPane?Me():i.value.some(Z=>Z.givenSize!==null||Z.min||Z.max<100)?jt(B):Oe(),p.value&&Ne("resized")},Oe=()=>{const B=100/l.value;let Z=0;const se=[],ee=[];for(const U of i.value)U.size=Math.max(Math.min(B,U.max),U.min),Z-=U.size,U.size>=U.max&&se.push(U.id),U.size<=U.min&&ee.push(U.id);Z>.1&&At(Z,se,ee)},Me=()=>{let B=100;const Z=[],se=[];let ee=0;for(const m of i.value)B-=m.size,m.givenSize!==null&&ee++,m.size>=m.max&&Z.push(m.id),m.size<=m.min&&se.push(m.id);let U=100;if(B>.1){for(const m of i.value)m.givenSize===null&&(m.size=Math.max(Math.min(B/(l.value-ee),m.max),m.min)),U-=m.size;U>.1&&At(U,Z,se)}},jt=({addedPane:B,removedPane:Z}={})=>{let se=100/l.value,ee=0;const U=[],m=[];(B?.givenSize??null)!==null&&(se=(100-B.givenSize)/(l.value-1));for(const b of i.value)ee-=b.size,b.size>=b.max&&U.push(b.id),b.size<=b.min&&m.push(b.id);if(!(Math.abs(ee)<.1)){for(const b of i.value)B?.givenSize!==null&&B?.id===b.id||(b.size=Math.max(Math.min(se,b.max),b.min)),ee-=b.size,b.size>=b.max&&U.push(b.id),b.size<=b.min&&m.push(b.id);ee>.1&&At(ee,U,m)}},At=(B,Z,se)=>{let ee;B>0?ee=B/(l.value-Z.length):ee=B/(l.value-se.length),i.value.forEach((U,m)=>{if(B>0&&!Z.includes(U.id)){const b=Math.max(Math.min(U.size+ee,U.max),U.min),P=b-U.size;B-=P,U.size=b}else if(!se.includes(U.id)){const b=Math.max(Math.min(U.size+ee,U.max),U.min),P=b-U.size;B-=P,U.size=b}}),Math.abs(B)>.1&&Pe(()=>{p.value&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})},Ne=(B,Z=void 0,se=!1)=>{const ee=Z?.index??c.value.activeSplitter??null;s(B,{...Z,...ee!==null&&{index:ee},...se&&ee!==null&&{prevPane:i.value[ee-(n.firstSplitter?1:0)],nextPane:i.value[ee+(n.firstSplitter?0:1)]},panes:i.value.map(U=>({min:U.min,max:U.max,size:U.size}))})};ve(()=>n.firstSplitter,()=>W()),De(()=>{$(),W(),we(),Ne("ready"),p.value=!0}),lo(()=>p.value=!1);const nt=()=>{var B;return za("div",{ref:u,class:f.value},(B=o.default)==null?void 0:B.call(o))};return Ht("panes",i),Ht("indexedPanes",r),Ht("horizontal",F(()=>n.horizontal)),Ht("requestUpdate",K),Ht("onPaneAdd",ne),Ht("onPaneRemove",he),Ht("onPaneClick",A),(B,Z)=>(g(),de(nn(nt)))}},Xn={__name:"pane",props:{size:{type:[Number,String]},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},setup(t){var e;const s=t,n=Et("requestUpdate"),o=Et("onPaneAdd"),i=Et("horizontal"),r=Et("onPaneRemove"),l=Et("onPaneClick"),u=(e=Ns())==null?void 0:e.uid,p=Et("indexedPanes"),c=F(()=>p.value[u]),d=te(null),f=F(()=>{const x=isNaN(s.size)||s.size===void 0?0:parseFloat(s.size);return Math.max(Math.min(x,v.value),h.value)}),h=F(()=>{const x=parseFloat(s.minSize);return isNaN(x)?0:x}),v=F(()=>{const x=parseFloat(s.maxSize);return isNaN(x)?100:x}),y=F(()=>{var x;return`${i.value?"height":"width"}: ${(x=c.value)==null?void 0:x.size}%`});return ve(()=>f.value,x=>n({uid:u,size:x})),ve(()=>h.value,x=>n({uid:u,min:x})),ve(()=>v.value,x=>n({uid:u,max:x})),De(()=>{o({id:u,el:d.value,min:h.value,max:v.value,givenSize:s.size===void 0?null:f.value,size:f.value})}),lo(()=>r(u)),(x,j)=>(g(),w("div",{ref_key:"paneEl",ref:d,class:"splitpanes__pane",onClick:j[0]||(j[0]=N=>M(l)(N,x._.uid)),style:Ue(y.value)},[hn(x.$slots,"default")],4))}},ys={ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},Hu="info";class Bu{constructor(){this.allowedComponents=new Set,this.globalEnabled=!0,this.allowAll=!1,this.loadFromStorage()}enable(...e){e.forEach(s=>this.allowedComponents.add(s.toLowerCase())),this.saveToStorage(),console.log(" Logging enabled for:",e.join(", "))}disable(...e){e.forEach(s=>this.allowedComponents.delete(s.toLowerCase())),this.saveToStorage(),console.log(" Logging disabled for:",e.join(", "))}enableAll(){this.allowAll=!0,this.saveToStorage(),console.log(" Logging enabled for ALL components")}disableAll(){this.allowAll=!1,this.allowedComponents.clear(),this.saveToStorage(),console.log(" Logging disabled for ALL components (errors still show)")}status(){console.log(" Logging Status:"),console.log("  Global enabled:",this.globalEnabled),console.log("  Allow all:",this.allowAll),console.log("  Enabled components:",Array.from(this.allowedComponents).join(", ")||"none")}listComponents(){console.log(" Available components to filter:"),Array.from(this.registeredComponents||[]).sort().forEach(s=>{const n=this.isComponentEnabled(s);console.log(`  ${n?"":""} ${s}`)})}isComponentEnabled(e){return this.globalEnabled?this.allowAll?!0:this.allowedComponents.has(e.toLowerCase()):!1}registerComponent(e){this.registeredComponents||(this.registeredComponents=new Set),this.registeredComponents.add(e)}saveToStorage(){try{const e={allowedComponents:Array.from(this.allowedComponents),allowAll:this.allowAll,globalEnabled:this.globalEnabled};localStorage.setItem("sandbox_logging_filters",JSON.stringify(e))}catch{}}loadFromStorage(){try{const e=JSON.parse(localStorage.getItem("sandbox_logging_filters")||"{}");this.allowedComponents=new Set(e.allowedComponents||[]),this.allowAll=e.allowAll||!1,this.globalEnabled=e.globalEnabled!==!1,localStorage.getItem("sandbox_logging_filters")||(this.allowedComponents=new Set(["themeswitcher","codemirroreditor","editoradapter","analytics"]))}catch{this.allowedComponents=new Set(["themeswitcher","codemirroreditor","editoradapter","analytics"])}}}const Gt=new Bu;typeof window<"u"&&(window.logFilter={enable:(...t)=>Gt.enable(...t),disable:(...t)=>Gt.disable(...t),enableAll:()=>Gt.enableAll(),disableAll:()=>Gt.disableAll(),status:()=>Gt.status(),list:()=>Gt.listComponents()});class ss{constructor(e={}){this.enabled=e.enabled!==!1,this.level=e.level||Hu,this.prefix=e.prefix||"",this.component=this.prefix,this.redactSecrets=e.redactSecrets||!1,this.currentLevel=ys[this.level.toUpperCase()]??ys.INFO,this.component&&Gt.registerComponent(this.component)}shouldLog(e){if(e.toUpperCase()==="ERROR")return this.enabled&&ys[e.toUpperCase()]<=this.currentLevel;const s=!this.component||Gt.isComponentEnabled(this.component);return this.enabled&&s&&ys[e.toUpperCase()]<=this.currentLevel}redactArgs(e){return this.redactSecrets?e.map(s=>typeof s=="string"?s.replace(/\b[a-zA-Z0-9]{20,}\b/g,"[REDACTED]"):s):e}formatMessage(e,...s){const n=this.prefix?`[${this.prefix}] `:"",o=this.redactArgs(s);return[n+e,...o]}error(e,...s){this.shouldLog("error")&&console.error(...this.formatMessage(e,...s))}warn(e,...s){this.shouldLog("warn")&&console.warn(...this.formatMessage(e,...s))}info(e,...s){this.shouldLog("info")&&console.info(...this.formatMessage(e,...s))}log(e,...s){this.shouldLog("info")&&console.log(...this.formatMessage(e,...s))}debug(e,...s){this.shouldLog("debug")&&console.debug(...this.formatMessage(e,...s))}trace(e,...s){if(this.shouldLog("trace")){const n=this.redactSecrets;this.redactSecrets=!0,console.trace(...this.formatMessage(e,...s)),this.redactSecrets=n}}table(e,s){if(this.shouldLog("info")){const n=this.prefix?`[${this.prefix}]`:"";n&&console.log(n),console.table(e,s)}}group(e){this.shouldLog("info")&&console.group(...this.formatMessage(e))}groupCollapsed(e){this.shouldLog("info")&&console.groupCollapsed(...this.formatMessage(e))}groupEnd(){this.shouldLog("info")&&console.groupEnd()}time(e){this.shouldLog("debug")&&console.time(this.prefix?`[${this.prefix}] ${e}`:e)}timeEnd(e){this.shouldLog("debug")&&console.timeEnd(this.prefix?`[${this.prefix}] ${e}`:e)}setLevel(e){this.level=e,this.currentLevel=ys[e.toUpperCase()]??ys.INFO}enable(){this.enabled=!0}disable(){this.enabled=!1}isEnabled(){return this.enabled}}function wt(t={}){return new ss(t)}class Ge{constructor(e){this.name=e,this.logger=wt(e),this.state=oo({}),this.disposed=!1,this.watchers=[],this.computedRefs=new Map}init(){this.logger.debug(`Initializing ${this.name} controller`)}createState(e){return Object.assign(this.state,e),this.state}createComputed(e,s){const n=F(s.bind(this));return this.computedRefs.set(e,n),n}createWatcher(e,s,n={}){const o=ve(e,s.bind(this),n);return this.watchers.push(o),o}getComputed(e){const s=this.computedRefs.get(e);return s?s.value:void 0}emit(e,s){if(this.disposed){this.logger.warn(`Cannot emit event '${e}' on disposed controller`);return}this.logger.debug(`Emitting event: ${e}`,s),this.eventHandlers&&this.eventHandlers[e]&&this.eventHandlers[e].forEach(n=>n(s))}on(e,s){return this.eventHandlers||(this.eventHandlers={}),this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(s),()=>{const n=this.eventHandlers[e].indexOf(s);n>-1&&this.eventHandlers[e].splice(n,1)}}async executeAsync(e,s="Operation failed"){try{return this.logger.debug("Executing async operation"),{success:!0,data:await e()}}catch(n){return this.logger.error(s,n),this.emit("error",{message:s,error:n}),{success:!1,error:n}}}validate(e,s){try{return{valid:!0,data:new e(s)}}catch(n){return this.logger.error(`Validation failed for ${e.name}:`,n.message),{valid:!1,error:n.message}}}async nextTick(){await Pe()}dispose(){this.logger.debug(`Disposing ${this.name} controller`),this.watchers.forEach(e=>e()),this.watchers=[],this.computedRefs.clear(),this.eventHandlers=null,this.disposed=!0}isDisposed(){return this.disposed}static generateId(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const s=Math.random()*16|0;return(e==="x"?s:s&3|8).toString(16)})}generateId(){return Ge.generateId()}}const mr={NAVIGATION:"navigation",UI:"ui"},Ju={TAB_SWITCH:"tab_switch"},Rn={SETTINGS_OPEN:"settings_open",CORS_MODAL_OPEN:"cors_modal_open",CURL_TUTORIAL_OPEN:"curl_tutorial_open",NEW_REQUEST:"new_request"},Mt=wt({prefix:"Analytics"});let Cs=!1,ds=!1,rs=null;const Wu=()=>!1,Gu=()=>{if(Cs){Mt.warn("Analytics already initialized");return}if(rs=void 0,Mt.info("Analytics init:",{measurementId:rs?`${rs.substring(0,5)}...`:"NOT SET",isDev:!1,debugFlag:void 0}),!rs){Mt.warn("GA Measurement ID not configured - add VITE_GA_MEASUREMENT_ID to .env and rebuild"),Cs=!0,ds=!1;return}if(ds=Wu(),!ds){Mt.info("Analytics disabled in development mode (set VITE_GA_DEBUG=true to enable)"),Cs=!0;return}window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",rs,{send_page_view:!0,page_location:window.location.href,page_path:window.location.pathname,page_title:document.title});const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${rs}`,document.head.appendChild(e),Cs=!0,console.log("[GA] Initialized with ID:",rs,"| isEnabled:",ds)},Ro=(t,e={})=>{if(!Cs){Mt.warn("Analytics not initialized, call initializeAnalytics() first");return}if(Mt.info("Event:",t,e),!ds){Mt.debug("Analytics disabled, event not sent");return}try{console.log("[GA Event]",t,e),window.gtag("event",t,e)}catch(s){console.error("[GA Error]",t,s.message)}},Ku=(t,e)=>{if(!Cs){Mt.warn("Analytics not initialized");return}if(ds)try{window.gtag("event","page_view",{page_path:t,page_title:e,page_location:window.location.href})}catch(s){Mt.error("Failed to track page view",{pagePath:t,error:s.message})}};function el(){return{trackEvent:Ro,trackPageView:Ku,isEnabled:()=>ds,trackNavigation:(t,e={})=>{Ro(t,{event_category:mr.NAVIGATION,...e})},trackUI:(t,e={})=>{Ro(t,{event_category:mr.UI,...e})}}}class Xu extends Ge{constructor(){super("sidebar"),this.createState({activeTab:"collections"})}init(){this.logger.debug(`${this.name} controller initialized`)}switchTab(e){if(!["collections","environments","history"].includes(e)){this.logger.warn(`Invalid tab name: ${e}`);return}this.state.activeTab=e,this.logger.debug(`Switched to tab: ${e}`);const{trackNavigation:s}=el();s(Ju.TAB_SWITCH,{tab_name:e})}}const Yu=new ss({prefix:"BaseModel",level:"debug"});class oe{constructor(e={}){this.validateAndAssign(e)}static generateId(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const s=Math.random()*16|0;return(e==="x"?s:s&3|8).toString(16)})}static getTimestamp(){return new Date().toISOString()}validateAndAssign(e){const s=this.constructor.schema||{};Object.entries(s).forEach(([n,o])=>{const i=e[n];if(o.required&&i===void 0&&o.default===void 0)throw new Error(`Required field '${n}' is missing in ${this.constructor.name}`);const r=i!==void 0?i:typeof o.default=="function"?o.default():o.default;if(r!==void 0){if(o.type&&!this.validateType(r,o.type))throw new Error(`Invalid type for '${n}' in ${this.constructor.name}. Expected ${o.type}`);if(o.enum&&!o.enum.includes(r))throw new Error(`Invalid value for '${n}' in ${this.constructor.name}. Must be one of: ${o.enum.join(", ")}`);if(o.validator&&!o.validator(r))throw new Error(`Validation failed for '${n}' in ${this.constructor.name}`);this[n]=r}})}validateType(e,s){return typeof s=="string"?s==="array"?Array.isArray(e):s==="object"?e===null||typeof e=="object"&&!Array.isArray(e):typeof e===s:typeof s=="function"?e instanceof s:!1}toJSON(){const e=this.constructor.schema||{},s={};return Object.keys(e).forEach(n=>{this[n]!==void 0&&(this[n]&&typeof this[n].toJSON=="function"?s[n]=this[n].toJSON():Array.isArray(this[n])?s[n]=this[n].map(o=>o&&typeof o.toJSON=="function"?o.toJSON():o):s[n]=this[n])}),s}clone(){return new this.constructor(JSON.parse(JSON.stringify(this.toJSON())))}update(e){const s=this.constructor.schema||{};return Object.entries(e).forEach(([n,o])=>{if(s[n]){if(s[n].type&&!this.validateType(o,s[n].type))throw new Error(`Invalid type for '${n}' in ${this.constructor.name}`);this[n]=o}}),this}static fromJSON(e){try{const s=JSON.parse(e);return new this(s)}catch(s){throw new Error(`Failed to parse JSON for ${this.name}: ${s.message}`)}}validate(){try{return this.validateAndAssign(this.toJSON()),!0}catch(e){return Yu.error(`Validation error in ${this.constructor.name}:`,e.message),!1}}}const Qu=["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS","CONNECT","TRACE"],Zu=["none","raw","form-data","x-www-form-urlencoded","binary"],ed=["none","basic","bearer","apikey","oauth2","hawk","awsv4","ntlm","digest"];class yn extends oe{static schema={id:{type:"string",default:()=>oe.generateId()},key:{type:"string",default:""},value:{type:"string",default:""},description:{type:"string",default:""},enabled:{type:"boolean",default:!0},type:{type:"string",default:"text"}}}class mt extends oe{static schema={raw:{type:"string",default:""},protocol:{type:"string",default:"https"},host:{type:"array",default:[]},port:{type:"string",default:""},path:{type:"array",default:[]},query:{type:"array",default:[]},hash:{type:"string",default:""},variable:{type:"array",default:[]}};static fromString(e){if(!e)return new mt;try{const s=new URL(e.startsWith("http")?e:`https://${e}`);return new mt({raw:e,protocol:s.protocol.replace(":",""),host:s.hostname.split("."),port:s.port||"",path:s.pathname==="/"?[]:s.pathname.split("/").filter(Boolean),query:Array.from(s.searchParams.entries()).map(([n,o])=>new yn({key:n,value:o,enabled:!0}).toJSON()),hash:s.hash?s.hash.substring(1):""})}catch{return new mt({raw:e})}}toString(){if(this.raw)return this.raw;const e=this.protocol||"https",s=Array.isArray(this.host)?this.host.join("."):"",n=this.port?`:${this.port}`:"",o=Array.isArray(this.path)?`/${this.path.join("/")}`:"",i=Array.isArray(this.query)&&this.query.length>0?"?"+this.query.filter(l=>l.enabled).map(l=>`${l.key}=${l.value}`).join("&"):"",r=this.hash?`#${this.hash}`:"";return`${e}://${s}${n}${o}${i}${r}`}}class Ft extends oe{static schema={type:{type:"string",enum:ed,default:"none"},basic:{type:"object",default:null},bearer:{type:"object",default:null},apikey:{type:"object",default:null},oauth2:{type:"object",default:null},hawk:{type:"object",default:null},awsv4:{type:"object",default:null},ntlm:{type:"object",default:null},digest:{type:"object",default:null}};static createBasic(e="",s=""){return new Ft({type:"basic",basic:{username:e,password:s}})}static createBearer(e=""){return new Ft({type:"bearer",bearer:{token:e}})}static createApiKey(e="",s="",n="header"){return new Ft({type:"apikey",apikey:{key:e,value:s,in:n}})}}class ct extends oe{static schema={mode:{type:"string",enum:Zu,default:"none"},raw:{type:"string",default:""},formData:{type:"array",default:[]},urlEncoded:{type:"array",default:[]},binary:{type:"object",default:null},options:{type:"object",default:null},disabled:{type:"boolean",default:!1}};static createRaw(e="",s="json"){return new ct({mode:"raw",raw:e,options:{raw:{language:s}}})}static createFormData(e=[]){return new ct({mode:"form-data",formData:e.map(s=>new yn(s).toJSON())})}static createUrlEncoded(e=[]){return new ct({mode:"x-www-form-urlencoded",urlEncoded:e.map(s=>new yn(s).toJSON())})}static createBinary(e=null){return new ct({mode:"binary",binary:e})}static createGraphQL(e="",s="{}"){return new ct({mode:"graphql",graphql:{query:e,variables:s}})}}class tl extends oe{static schema={id:{type:"string",default:()=>oe.generateId()},name:{type:"string",default:"New Request"},method:{type:"string",enum:Qu,default:"GET"},url:{type:mt,default:()=>new mt},header:{type:"array",default:[]},body:{type:ct,default:()=>new ct},auth:{type:Ft,default:null},event:{type:"array",default:[]},description:{type:"string",default:""},protocolProfileBehavior:{type:"object",default:{}},createdAt:{type:"string",default:()=>oe.getTimestamp()},updatedAt:{type:"string",default:()=>oe.getTimestamp()}};constructor(e={}){e.id&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.url&&typeof e.url=="string"?e.url=mt.fromString(e.url):e.url&&!(e.url instanceof mt)&&(e.url=new mt(e.url)),e.body&&!(e.body instanceof ct)&&(e.body=new ct(e.body)),e.auth&&!(e.auth instanceof Ft)&&(e.auth=new Ft(e.auth)),e.header&&(e.header=e.header.map(s=>new yn(s).toJSON())),super(e)}addHeader(e,s,n=!0){return this.header.push(new yn({key:e,value:s,enabled:n}).toJSON()),this.updatedAt=oe.getTimestamp(),this}removeHeader(e){return this.header=this.header.filter(s=>s.key!==e),this.updatedAt=oe.getTimestamp(),this}setUrl(e){return this.url=mt.fromString(e),this.updatedAt=oe.getTimestamp(),this}setBody(e){return e instanceof ct?this.body=e:this.body=new ct(e),this.updatedAt=oe.getTimestamp(),this}setAuth(e){return e instanceof Ft?this.auth=e:this.auth=new Ft(e),this.updatedAt=oe.getTimestamp(),this}getEnabledHeaders(){return this.header.filter(e=>e.enabled)}getUrlString(){return this.url instanceof mt?this.url.toString():this.url.raw||""}}class Nt extends oe{static schema={id:{type:"string",default:()=>oe.generateId()},name:{type:"string",default:"New Folder"},description:{type:"string",default:""},item:{type:"array",default:[]},auth:{type:"object",default:null},event:{type:"array",default:[]},variable:{type:"array",default:[]},protocolProfileBehavior:{type:"object",default:{}}};addItem(e){return e instanceof tl||e instanceof Nt?this.item.push(e.toJSON()):this.item.push(e),this}removeItem(e){return this.item=this.item.filter(s=>s.id!==e),this}findItem(e){for(const s of this.item){if(s.id===e)return s;if(s.item&&Array.isArray(s.item)){const n=new Nt(s).findItem(e);if(n)return n}}return null}getAllRequests(){const e=[];for(const s of this.item)if(s.request)e.push(s);else if(s.item&&Array.isArray(s.item)){const n=new Nt(s).getAllRequests();e.push(...n)}return e}}class On extends oe{static schema={id:{type:"string",default:()=>oe.generateId()},name:{type:"string",required:!0},description:{type:"string",default:""},schema:{type:"string",default:"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},version:{type:"object",default:()=>({major:1,minor:0,patch:0})},_postman_id:{type:"string",default:()=>oe.generateId()}}}class td extends oe{static schema={id:{type:"string",default:()=>oe.generateId()},key:{type:"string",required:!0},value:{type:"string",default:""},type:{type:"string",enum:["string","number","boolean","any"],default:"string"},disabled:{type:"boolean",default:!1}}}class cn extends oe{static schema={info:{type:On,required:!0},item:{type:"array",default:[]},auth:{type:"object",default:null},event:{type:"array",default:[]},variable:{type:"array",default:[]},protocolProfileBehavior:{type:"object",default:{}},createdAt:{type:"string",default:()=>oe.getTimestamp()},updatedAt:{type:"string",default:()=>oe.getTimestamp()}};constructor(e={}){typeof e=="string"&&(e={info:{name:e}}),e.info&&e.info.id&&typeof e.info.id!="string"&&(e.info.id=String(e.info.id)),e.info&&e.info._postman_id&&typeof e.info._postman_id!="string"&&(e.info._postman_id=String(e.info._postman_id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.info?e.info instanceof On||(e.info=new On(e.info)):e.info=new On({name:e.name||"New Collection"}),super(e)}addRequest(e){const s=e instanceof tl?e.toJSON():e;return this.item.push(s),this.updatedAt=oe.getTimestamp(),this}addFolder(e){const s=e instanceof Nt?e.toJSON():e;return this.item.push(s),this.updatedAt=oe.getTimestamp(),this}removeItem(e){const s=this.item.length;if(this.item=this.item.filter(n=>n.id!==e),this.item.length<s)this.updatedAt=oe.getTimestamp();else for(let n of this.item)if(n.item&&Array.isArray(n.item)){const o=new Nt(n);o.removeItem(e),n=o.toJSON(),this.updatedAt=oe.getTimestamp()}return this}findItem(e,s=[]){for(let n=0;n<this.item.length;n++){const o=this.item[n],i=[...s,n];if(o.id===e)return{item:o,path:i};if(o.item&&Array.isArray(o.item)){const r=new Nt(o),l=this.findItemInFolder(r,e,i);if(l)return l}}return null}findItemInFolder(e,s,n){for(let o=0;o<e.item.length;o++){const i=e.item[o],r=[...n,"item",o];if(i.id===s)return{item:i,path:r};if(i.item&&Array.isArray(i.item)){const l=new Nt(i),u=this.findItemInFolder(l,s,r);if(u)return u}}return null}updateItem(e,s){const n=this.findItem(e);return n&&(Object.assign(n.item,s),this.updatedAt=oe.getTimestamp()),this}getAllRequests(){const e=[];for(const s of this.item)if(s.request)e.push(s);else if(s.item&&Array.isArray(s.item)){const n=new Nt(s).getAllRequests();e.push(...n)}return e}getAllFolders(){const e=[],s=n=>{for(const o of n)o.item&&Array.isArray(o.item)&&(e.push(o),s(o.item))};return s(this.item),e}addVariable(e,s,n="string"){const o=new td({key:e,value:s,type:n});return this.variable.push(o.toJSON()),this.updatedAt=oe.getTimestamp(),this}removeVariable(e){return this.variable=this.variable.filter(s=>s.key!==e),this.updatedAt=oe.getTimestamp(),this}getVariable(e){const s=this.variable.find(n=>n.key===e&&!n.disabled);return s?s.value:void 0}export(){const e={info:this.info.toJSON(),item:this.item,auth:this.auth,event:this.event,variable:this.variable};return Object.keys(this.protocolProfileBehavior).length>0&&(e.protocolProfileBehavior=this.protocolProfileBehavior),e}static import(e){return new cn(e)}}const Ms={COLLECTIONS:"toastman_collections",ENVIRONMENTS:"toastman_environments",SETTINGS:"toastman_settings",ACTIVE_ENVIRONMENT:"toastman_active_environment",TABS:"toastman_tabs",CONVERSATIONS:"toastman_conversations"},Oo=new EventTarget;function gr(t,e=null){try{return t?JSON.parse(t):e}catch(s){return wt("storage").warn("Failed to parse JSON from localStorage:",s),e}}function Io(t){try{return JSON.stringify(xe(t))}catch(e){return wt("storage").error("Failed to stringify JSON for localStorage:",e),null}}function Ls(t,e=null,s={}){const n=wt("storage"),{immediate:o=!0,deep:i=!0,debounce:r=100}=s,l=gr(localStorage.getItem(t),e),u=te(l);let p=!1,c=null;const d=()=>{p||(clearTimeout(c),c=setTimeout(()=>{const y=Io(u.value);y!==null?(n.debug(`Saving to ${t}`,u.value),localStorage.setItem(t,y),n.info(`Saved to localStorage - key=${t}, size=${y.length}`),Oo.dispatchEvent(new CustomEvent("storage-change",{detail:{key:t,value:u.value}}))):n.error(`Failed to stringify data for ${t}`)},r))};o&&ve(u,d,{deep:i});const f=y=>{if(y.key===t&&y.newValue!==null){const x=gr(y.newValue,e);p=!0,u.value=x,Pe(()=>{p=!1})}};window.addEventListener("storage",f);const h=y=>{if(y.detail.key===t){const x=Io(u.value),j=Io(y.detail.value);x!==j&&(p=!0,u.value=y.detail.value,Pe(()=>{p=!1}))}};return Oo.addEventListener("storage-change",h),{data:u,save:()=>d(),cleanup:()=>{clearTimeout(c),window.removeEventListener("storage",f),Oo.removeEventListener("storage-change",h)},key:t}}function sd(){const t=Ls(Ms.COLLECTIONS,[]);return Array.isArray(t.data.value)||(t.data.value=[]),t}function nd(){const t=Ls(Ms.ENVIRONMENTS,[]);return Array.isArray(t.data.value)||(t.data.value=[]),t}function od(){const t={proxy:{enabled:!1,protocol:"http",host:"",port:"",username:"",password:"",excludeList:""},certificates:[],theme:"dark",editorThemeDark:"gob",editorThemeLight:"textmate",autoSave:!0,requestTimeout:3e4,followRedirects:!0,maxRedirects:10,fontSize:14,fontFamily:"monospace",sidebarWidth:25,responseViewMode:"pretty",requestViewMode:"params",showLineNumbers:!0,wordWrap:!1,minimap:!1,autoComplete:!0},e=Ls(Ms.SETTINGS,t);if(e.data.value){const s={...t,...e.data.value};e.data.value.proxy&&(s.proxy={...t.proxy,...e.data.value.proxy}),JSON.stringify(s)!==JSON.stringify(e.data.value)&&(e.data.value=s)}return e}function id(){return Ls(Ms.ACTIVE_ENVIRONMENT,null)}function rd(){const t=Ls(Ms.TABS,[]);return Array.isArray(t.data.value)||(t.data.value=[]),t}function ad(){const t=Ls(Ms.CONVERSATIONS,[]);return Array.isArray(t.data.value)||(t.data.value=[]),t}function qe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}function fs(t="",e="",s=!0){return{key:t,value:e,enabled:s,id:qe()}}function ho(t=""){const e=t.indexOf("?"),s=e>-1?t.substring(0,e):t,n=e>-1?t.substring(e+1):"",o=[];n&&n.split("&").forEach(p=>{const c=p.indexOf("=");c>-1?o.push(fs(decodeURIComponent(p.substring(0,c)),decodeURIComponent(p.substring(c+1)),!0)):p&&o.push(fs(decodeURIComponent(p),"",!0))});const i=s.indexOf("/",s.indexOf("//")>-1?s.indexOf("//")+2:0),r=i>-1?s.substring(i).split("/").filter(Boolean):[],l=t.indexOf("#"),u=l>-1?t.substring(l+1):void 0;return{raw:s,protocol:t.startsWith("https://")?"https":t.startsWith("http://")?"http":"",host:[],port:void 0,path:r,query:o,hash:u}}function mo(t="none"){const e={mode:t,disabled:!1};switch(t){case"raw":e.raw="",e.options={raw:{language:"json"}};break;case"urlencoded":e.urlencoded=[];break;case"formdata":e.formdata=[];break;case"binary":e.file=null;break;case"graphql":e.graphql={query:"",variables:""};break}return e}function Nn({method:t="GET",url:e="",headers:s=[],body:n=null,auth:o=null}={}){return{method:t,header:s.length?s:[fs("Content-Type","application/json")],url:typeof e=="string"?ho(e):e,body:n||mo(),auth:o||null,description:""}}function vr({name:t="New Request",request:e=null,response:s=[]}={}){return{id:qe(),name:t,request:e||Nn(),response:s,event:[],protocolProfileBehavior:{}}}function ld(t="New Collection"){return{id:qe(),name:t,description:"",schema:"https://schema.getpostman.com/json/collection/v2.1.0/collection.json",version:{major:1,minor:0,patch:0}}}function cd(t="New Collection"){return{info:ld(t),item:[],auth:null,event:[],variable:[],protocolProfileBehavior:{}}}function ud({itemId:t=null,collectionId:e=null,conversationId:s=null,name:n="New Request",method:o="GET",saved:i=!1}={}){return{id:qe(),itemId:t,collectionId:e,conversationId:s,name:n,method:o,saved:i,active:!1,modified:!1}}const ti={urlencoded:"urlencoded",formdata:"formdata",file:"file",raw:"raw",graphql:"graphql"},dd=ti,pd=["oauth1","oauth2"],fd=["edgegrid"];class Mn{static import(e){const s=[],n=[];if(!e||typeof e!="object")return n.push({type:"structure",message:"Invalid collection data: expected object"}),{collection:null,warnings:s,errors:n};if(!e.info||!e.info.name)return n.push({type:"structure",message:"Invalid collection format: missing info.name"}),{collection:null,warnings:s,errors:n};const o=JSON.parse(JSON.stringify(e));if(o.info.id=qe(),o.info._postman_id=o.info._postman_id||qe(),o.event&&o.event.length>0&&s.push({type:"scripts",message:"Collection-level scripts detected. Collection scripts run for all requests and are not supported."}),o.auth){const i=this._checkAuthSupport(o.auth,"collection");i&&s.push(i),o.auth=this._normalizeAuth(o.auth)}if(o.variable&&o.variable.length>0&&(o.variable=o.variable.map(i=>this._normalizeVariable(i))),o.item){const{items:i,itemWarnings:r}=this._processItems(o.item);o.item=i,s.push(...r)}return{collection:o,warnings:s,errors:n}}static export(e){const s=JSON.parse(JSON.stringify(e));return s.info&&(s.info.schema=s.info.schema||"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"),s.item&&(s.item=this._exportItems(s.item)),s.auth&&(s.auth=this._denormalizeAuth(s.auth)),s.variable&&(s.variable=s.variable.map(n=>this._denormalizeVariable(n))),s._postman_exported_at=new Date().toISOString(),s._postman_exported_using="ToastMan",delete s.createdAt,delete s.updatedAt,s}static _processItems(e){const s=[],n=[];for(const o of e)if(o.item&&Array.isArray(o.item)){const i={id:qe(),name:o.name||"Unnamed Folder",type:"folder",description:this._normalizeDescription(o.description),item:[]};if(o.auth){const u=this._checkAuthSupport(o.auth,`folder "${o.name}"`);u&&n.push(u),i.auth=this._normalizeAuth(o.auth)}o.event&&o.event.length>0&&(n.push({type:"scripts",message:`Folder "${o.name}" has scripts. Folder scripts run for all contained requests and are not supported.`,item:o.name}),i.event=o.event);const{items:r,itemWarnings:l}=this._processItems(o.item);i.item=r,n.push(...l),s.push(i)}else{const{request:i,requestWarnings:r}=this._processRequest(o);s.push(i),n.push(...r)}return{items:s,itemWarnings:n}}static _processRequest(e){const s=[],n={id:qe(),name:e.name||"Unnamed Request",type:"request",description:this._normalizeDescription(e.description)};if(e.request?typeof e.request=="string"?n.request={method:"GET",url:this._normalizeUrl(e.request),header:[],body:null}:n.request=this._normalizeRequestObject(e.request,e.name,s):(n.request=this._createDefaultRequest(),s.push({type:"missing",message:`Request "${e.name}" has no request data. Created default GET request.`,item:e.name})),e.event&&e.event.length>0){const o=e.event.some(i=>i.listen==="prerequest");e.event.some(i=>i.listen==="test"),o&&s.push({type:"scripts",message:`Request "${e.name}" has pre-request scripts. Pre-request scripts are stored but not executed.`,item:e.name}),n.event=e.event}return e.response&&e.response.length>0&&(n.response=e.response,s.push({type:"responses",message:`Request "${e.name}" has ${e.response.length} saved response(s). Responses are stored for reference.`,item:e.name})),e.protocolProfileBehavior&&(n.protocolProfileBehavior=e.protocolProfileBehavior),{request:n,requestWarnings:s}}static _normalizeRequestObject(e,s,n){const o={method:e.method||"GET",url:this._normalizeUrl(e.url),header:this._normalizeHeaders(e.header),body:this._normalizeBody(e.body,s,n)};if(e.auth){const i=this._checkAuthSupport(e.auth,`request "${s}"`);i&&n.push(i),o.auth=this._normalizeAuth(e.auth)}return e.description&&(o.description=this._normalizeDescription(e.description)),e.proxy&&n.push({type:"proxy",message:`Request "${s}" has proxy configuration. Proxy settings are not supported.`,item:s}),e.certificate&&n.push({type:"certificate",message:`Request "${s}" has SSL certificate configuration. Certificates are not supported.`,item:s}),o}static _normalizeUrl(e){if(!e)return{raw:"",query:[]};if(typeof e=="string")return{raw:e,query:[]};const s={raw:e.raw||"",query:[]};if(!s.raw&&e.protocol&&e.host){const n=Array.isArray(e.host)?e.host.join("."):e.host,o=e.path?Array.isArray(e.path)?e.path.join("/"):e.path:"",i=e.port?`:${e.port}`:"";s.raw=`${e.protocol}://${n}${i}/${o}`}return e.query&&Array.isArray(e.query)&&(s.query=e.query.map(n=>({key:n.key||"",value:n.value||"",enabled:n.disabled!==!0,description:this._normalizeDescription(n.description)}))),e.protocol&&(s.protocol=e.protocol),e.host&&(s.host=e.host),e.path&&(s.path=e.path),e.port&&(s.port=e.port),e.hash&&(s.hash=e.hash),e.variable&&(s.variable=e.variable),s}static _normalizeHeaders(e){return e?typeof e=="string"?[]:e.map(s=>({key:s.key||"",value:s.value||"",enabled:s.disabled!==!0,description:this._normalizeDescription(s.description)})):[]}static _normalizeBody(e,s,n){if(!e||e.disabled)return null;const o={mode:ti[e.mode]||e.mode||"none"};switch(e.mode){case"raw":o.raw=e.raw||"",e.options?.raw?.language&&(o.options={raw:{language:e.options.raw.language}});break;case"urlencoded":o.urlEncoded=(e.urlencoded||[]).map(i=>({key:i.key||"",value:i.value||"",enabled:i.disabled!==!0,description:this._normalizeDescription(i.description)}));break;case"formdata":o.formData=(e.formdata||[]).map(i=>{const r={key:i.key||"",enabled:i.disabled!==!0,type:i.type||"text",description:this._normalizeDescription(i.description)};return i.type==="file"?r.src=i.src:r.value=i.value||"",r});break;case"file":o.binary=e.file||null;break;case"graphql":o.graphql={query:e.graphql?.query||"",variables:e.graphql?.variables||""};break;default:e.mode&&!ti[e.mode]&&n.push({type:"body",message:`Request "${s}" has unknown body mode "${e.mode}".`,item:s})}return o}static _checkAuthSupport(e,s){return!e||!e.type||e.type==="noauth"||e.type==="none"?null:fd.includes(e.type)?{type:"auth",message:`${s} uses ${e.type} authentication which is not supported.`,item:s}:pd.includes(e.type)?{type:"auth",message:`${s} uses ${e.type} authentication. Token must be obtained manually.`,item:s}:null}static _normalizeAuth(e){if(!e||!e.type)return null;const s={type:e.type==="noauth"?"none":e.type},n=e[e.type];if(Array.isArray(n)){s[e.type]={};for(const o of n)o.key&&(s[e.type][o.key]=o.value)}else n&&typeof n=="object"&&(s[e.type]=n);return s}static _denormalizeAuth(e){if(!e||!e.type||e.type==="none")return{type:"noauth"};const s={type:e.type},n=e[e.type];return n&&typeof n=="object"&&!Array.isArray(n)?s[e.type]=Object.entries(n).map(([o,i])=>({key:o,value:i,type:"string"})):s[e.type]=n,s}static _normalizeVariable(e){return{id:e.id||qe(),key:e.key||"",value:e.value||"",type:e.type||"string",enabled:e.disabled!==!0,description:this._normalizeDescription(e.description)}}static _denormalizeVariable(e){const s={id:e.id,key:e.key,value:e.value,type:e.type||"string"};return e.enabled===!1&&(s.disabled=!0),s}static _normalizeDescription(e){return e?typeof e=="string"?e:typeof e=="object"&&e.content?e.content:"":""}static _createDefaultRequest(){return{method:"GET",url:{raw:"",query:[]},header:[],body:null}}static _exportItems(e){return e.map(s=>{if(s.type==="folder"||s.item&&Array.isArray(s.item)){const n={name:s.name,item:this._exportItems(s.item||[])};return s.description&&(n.description=s.description),s.auth&&(n.auth=this._denormalizeAuth(s.auth)),s.event&&(n.event=s.event),n}else return this._exportRequestItem(s)})}static _exportRequestItem(e){const s={name:e.name,request:this._exportRequest(e.request)};return e.description&&(s.description=e.description),e.event&&(s.event=e.event),e.response&&(s.response=e.response),e.protocolProfileBehavior&&(s.protocolProfileBehavior=e.protocolProfileBehavior),s}static _exportRequest(e){if(!e)return{method:"GET",url:""};const s={method:e.method||"GET",url:this._exportUrl(e.url),header:this._exportHeaders(e.header)};return e.body&&(s.body=this._exportBody(e.body)),e.auth&&(s.auth=this._denormalizeAuth(e.auth)),e.description&&(s.description=e.description),s}static _exportUrl(e){if(!e)return"";if(typeof e=="string")return e;const s={raw:e.raw||""};return e.protocol&&(s.protocol=e.protocol),e.host&&(s.host=e.host),e.path&&(s.path=e.path),e.port&&(s.port=e.port),e.hash&&(s.hash=e.hash),e.query&&e.query.length>0&&(s.query=e.query.map(n=>{const o={key:n.key,value:n.value};return n.enabled===!1&&(o.disabled=!0),o})),e.variable&&(s.variable=e.variable),s}static _exportHeaders(e){return e?e.map(s=>{const n={key:s.key,value:s.value};return s.enabled===!1&&(n.disabled=!0),n}):[]}static _exportBody(e){if(!e||e.mode==="none")return null;const n={mode:dd[e.mode]||e.mode};switch(e.mode){case"raw":n.raw=e.raw||"",e.options&&(n.options=e.options);break;case"x-www-form-urlencoded":n.urlencoded=(e.urlEncoded||[]).map(o=>({key:o.key,value:o.value,disabled:o.enabled===!1}));break;case"form-data":n.formdata=(e.formData||[]).map(o=>({key:o.key,value:o.value,type:o.type||"text",src:o.src,disabled:o.enabled===!1}));break;case"binary":n.file=e.binary;break;case"graphql":n.graphql=e.graphql;break}return n}static summarizeWarnings(e){const s={total:e.length,byType:{},messages:[]};for(const n of e)s.byType[n.type]=(s.byType[n.type]||0)+1,s.messages.push(n.message);return s}}let qo=null;function Ds(){return qo||(qo=hd()),qo}function hd(){const t=wt("collections"),{data:e}=sd(),s=F(()=>{const I=e.value||[];t.debug("allCollections computed - raw collections.value:",I),t.debug("allCollections computed - is array:",Array.isArray(I));const H=I.filter(W=>W&&W.info&&W.info.id);return t.debug("allCollections computed - filtered result:",H.length,"items"),H}),n=F(()=>s.value.reduce((I,H)=>I+(H.item?.length||0),0)),o=(I="New Collection")=>{t.info("Creating collection with name:",I);const H=cd(I);return t.debug("Created collection object:",H),e.value||(e.value=[]),e.value.push(H),t.info("Collections array after push - length:",e.value.length),t.debug("Full collections array:",e.value),H},i=I=>e.value.find(H=>H.info.id===I),r=(I,H)=>{const W=i(I);return W&&Object.assign(W.info,H),W},l=I=>{const H=e.value.findIndex(W=>W.info.id===I);return H>-1?(e.value.splice(H,1),!0):!1},u=I=>{const H=i(I);if(H){const W=JSON.parse(JSON.stringify(H));return W.info.id=qe(),W.info.name=`${H.info.name} Copy`,W.item=W.item.map(K=>({...K,id:qe()})),e.value.push(W),W}return null},p=(I,H=null)=>{const W=i(I);if(W){const K=vr({name:"New Request",request:H||Nn()});return W.item.push(K),K}return null},c=(I,H)=>{const W=i(I);if(W){const K=ne=>{for(const he of ne){if(he.id===H&&(he.type==="request"||!he.type&&he.request))return he;if((he.type==="folder"||!he.type&&he.item)&&he.item){const we=K(he.item);if(we)return we}}return null};return K(W.item||[])}return null},d=(I,H,W)=>{const K=c(I,H);return K&&(W.name!==void 0&&(K.name=W.name),W.request&&f(K.request,W.request)),K},f=(I,H)=>{for(const W in H)if(Object.prototype.hasOwnProperty.call(H,W)){const K=H[W],ne=I[W];h(K)&&h(ne)?f(ne,K):I[W]=K}},h=I=>I!==null&&typeof I=="object"&&!Array.isArray(I)&&Object.prototype.toString.call(I)==="[object Object]",v=(I,H)=>{const W=i(I);if(W){const K=W.item.findIndex(ne=>ne.id===H);if(K>-1)return W.item.splice(K,1),!0}return!1},y=(I,H)=>{const W=c(I,H);if(W){const K=JSON.parse(JSON.stringify(W));K.id=qe(),K.name=`${W.name} Copy`;const ne=i(I);if(ne)return ne.item.push(K),K}return null},x=(I,H,W)=>{const K=i(I),ne=i(H);if(K&&ne){const he=K.item.findIndex(we=>we.id===W);if(he>-1){const[we]=K.item.splice(he,1);return ne.item.push(we),we}}return null},j=I=>{const H=[],W=I.toLowerCase();return e.value.forEach(K=>{K.item.forEach(ne=>{const he=ne.name.toLowerCase().includes(W),we=ne.request?.url?.raw?.toLowerCase().includes(W)||!1,Oe=(ne.request?.method||ne.method||"").toLowerCase().includes(W);(he||we||Oe)&&H.push({collection:K.info,item:ne})})}),H},N=I=>{const H=[];return e.value.forEach(W=>{W.item.forEach(K=>{(K.request?.method||K.method)===I&&H.push({collection:W.info,item:K})})}),H},_=(I,H)=>{const W=i(I);if(!W)return null;const K=ne=>{for(const he of ne){if(he.id===H)return{item:he,parent:ne};if(he.item&&Array.isArray(he.item)){const we=K(he.item);if(we)return we}}return null};return K(W.item||[])},A=(I,H,W=null)=>{const K=_(I,H);if(K&&K.item.item){const ne=vr({name:"New Request",request:W||Nn()});return K.item.item.push(ne),ne}return null},V=(I,H="New Folder")=>{const W=i(I);if(W){const K={id:qe(),name:H,type:"folder",item:[]};return W.item.push(K),K}return null},z=(I,H,W="New Folder")=>{const K=_(I,H);if(K&&K.item.item){const ne={id:qe(),name:W,type:"folder",item:[]};return K.item.item.push(ne),ne}return null},S=(I,H,W)=>{const K=_(I,H);return K?(K.item.name=W,K.item):null},O=(I,H)=>{const W=_(I,H);if(W){const K=JSON.parse(JSON.stringify(W.item)),ne=he=>{he.id=qe(),he.item&&Array.isArray(he.item)&&he.item.forEach(ne)};return ne(K),K.name=`${K.name} Copy`,W.parent.push(K),K}return null},L=(I,H)=>{const W=_(I,H);if(W){const K=W.parent.indexOf(W.item);if(K>-1)return W.parent.splice(K,1),!0}return!1},R=I=>{const H=i(I);return H?{...H,_postman_exported_at:new Date().toISOString(),_postman_exported_using:"ToastMan"}:null},E=(I,H={})=>{const{appendImportedSuffix:W=!0}=H;try{t.info("Importing collection using PostmanAdapter");const K=Mn.import(I);if(K.errors.length>0&&!K.collection){const he=K.errors.map(we=>we.message).join("; ");throw new Error(he)}const ne=K.collection;if(W&&(ne.info.name=`${ne.info.name} (Imported)`),K.warnings.length>0){const he=Mn.summarizeWarnings(K.warnings);t.info(`Collection imported with ${he.total} warning(s):`,he.byType),K.warnings.forEach(we=>{t.debug(`[${we.type}] ${we.message}`)})}return e.value.push(ne),t.info("Successfully imported collection:",ne.info.name),{collection:ne,warnings:K.warnings,errors:K.errors}}catch(K){throw t.error("Failed to import collection:",K),K}},T=I=>{const H=i(I);return H?Mn.export(H):null},$=async()=>{if(await Pe(),!e.value||e.value.length===0){const I=o("My Collection");p(I.info.id,Nn({method:"GET",url:"https://api.example.com/users"}))}};return t.info("Collections store initialized, current data length:",e.value?.length||0),{collections:s,totalRequests:n,createCollection:o,getCollection:i,updateCollection:r,deleteCollection:l,duplicateCollection:u,addRequest:p,getRequest:c,updateRequest:d,deleteRequest:v,duplicateRequest:y,moveRequest:x,addFolderToCollection:V,addRequestToFolder:A,addFolderToFolder:z,renameFolder:S,duplicateFolder:O,deleteFolder:L,searchRequests:j,getRequestsByMethod:N,exportCollection:R,exportCollectionToPostman:T,importCollection:E,initializeDefaultData:$}}const bs=te("composer");function wi(){return{mobileView:bs,toggleMobileView:()=>{bs.value=bs.value==="sidebar"?"composer":"sidebar"},setMobileView:i=>{(i==="sidebar"||i==="composer")&&(bs.value=i)},showComposer:()=>{bs.value="composer"},showSidebar:()=>{bs.value="sidebar"},isMobile:()=>window.innerWidth<=768}}let Do=null;function bn(){return Do||(Do=md()),Do}function md(){const t=wt("tabs"),{data:e}=rd(),s=Ds(),{showComposer:n,isMobile:o}=wi(),i=F(()=>e.value||[]),r=F(()=>i.value.find(T=>T.active)),l=F(()=>i.value.filter(T=>!T.closed)),u=F(()=>i.value.filter(T=>!T.saved&&T.modified)),p=({itemId:T=null,collectionId:$=null,conversationId:I=null,name:H="New Request",method:W="GET"}={})=>{i.value.forEach(ne=>{ne.active=!1});const K=ud({itemId:T,collectionId:$,conversationId:I,name:H,method:W});return K.active=!0,e.value.push(K),K},c=(T,$)=>{const I=s.getCollection(T),H=s.getRequest(T,$);if(!I||!H)return t.warn("Collection or request not found - collection:",!!I,"request:",!!H),null;t.debug("Opening request with structure:",{requestId:$,requestName:H.name,hasNestedRequest:!!H.request,requestMethod:H.request?.method||H.method,requestStructure:Object.keys(H)});const W=i.value.find(ne=>ne.itemId===$&&ne.collectionId===T);if(W)return f(W.id),o()&&n(),W;const K=p({itemId:$,collectionId:T,name:H.name||"Unnamed Request",method:H.request?.method||H.method||"GET"});return o()&&n(),K},d=T=>i.value.find($=>$.id===T),f=T=>{i.value.forEach($=>{$.active=$.id===T})},h=(T,$)=>{const I=d(T);return I&&(Object.assign(I,$),I.itemId&&$.name!==void 0&&(I.modified=!0)),I},v=T=>{const $=e.value.findIndex(W=>W.id===T);if($===-1)return!1;const H=e.value[$].active;if(e.value.splice($,1),H&&e.value.length>0){const W=e.value[Math.max(0,$-1)];f(W.id)}return!0},y=()=>{e.value.length=0},x=T=>{const $=d(T);$&&(e.value.length=0,e.value.push($),f(T))},j=T=>{const $=d(T);if($){const I=p({itemId:$.itemId,collectionId:$.collectionId,name:`${$.name} Copy`,method:$.method});return I.saved=!1,I.modified=!0,I}return null},N=T=>{const $=d(T);$&&($.saved=!0,$.modified=!1)},_=T=>{const $=d(T);$&&($.modified=!0)},A=T=>{const $=d(T);if($&&$.itemId&&$.collectionId){const I=s.getRequest($.collectionId,$.itemId);I&&($.name=I.name,$.method=I.request?.method||I.method||"GET",$.saved=!0,$.modified=!1)}},V=T=>{const $=i.value.findIndex(I=>I.id===T);return $>=0&&$<i.value.length-1?i.value[$+1]:null},z=T=>{const $=i.value.findIndex(I=>I.id===T);return $>0?i.value[$-1]:null},S=(T,$)=>{const I=i.value.findIndex(H=>H.id===T);if(I>=0&&$>=0&&$<i.value.length){const[H]=i.value.splice(I,1);i.value.splice($,0,H)}},O=T=>{const $=d(T);if(!$)return null;if($.itemId&&$.collectionId)return s.updateRequest($.collectionId,$.itemId,{name:$.name}),N(T),{action:"updated",tab:$};{let I=$.collectionId;I||(s.collections.value.length===0?I=s.createCollection("My Collection").info.id:I=s.collections.value[0].info.id);const H=s.addRequest(I);if(H)return s.updateRequest(I,H.id,{name:$.name}),$.itemId=H.id,$.collectionId=I,N(T),{action:"created",tab:$,request:H}}return null},L=()=>{const T=[];return u.value.forEach($=>{const I=O($.id);I&&T.push(I)}),T},R=()=>{const T=[];return i.value.forEach($=>{if($.itemId&&$.collectionId){if(!s.getCollection($.collectionId)){T.push($.id);return}s.getRequest($.collectionId,$.itemId)||T.push($.id)}}),T.forEach($=>{v($)}),T.length};ve(()=>s.collections.value,()=>{Pe(()=>{i.value.forEach(T=>{T.itemId&&T.collectionId&&A(T.id)}),R()})},{deep:!0});const E=async()=>{if(await Pe(),i.value.length===0){t.info("Creating initial tab...");const T=p({name:"New Request",method:"GET"});t.info("Created initial tab with ID:",T.id)}else!r.value&&i.value.length>0&&f(i.value[0].id)};return t.info("Tabs store initialized, current tab count:",i.value.length),{tabs:i,activeTab:r,activeTabs:l,unsavedTabs:u,createTab:p,openRequest:c,getTab:d,setActiveTab:f,updateTab:h,closeTab:v,closeAllTabs:y,closeOtherTabs:x,duplicateTab:j,markTabAsSaved:N,markTabAsModified:_,syncTabWithRequest:A,getNextTab:V,getPreviousTab:z,moveTab:S,saveTab:O,saveAllTabs:L,cleanupOrphanedTabs:R,initializeDefaultData:E}}const gd=16,vd=32,yd=48,bd=4;function wd(t,e){if(e===0)return!0;const s=t[e],n=t[e-1];return!!(n===n.toLowerCase()&&s===s.toUpperCase()&&s!==s.toLowerCase()||["-","_","/","."," "].includes(n))}function Po(t,e){if(!t||!e)return{match:!t,score:0};const s=t.toLowerCase(),n=e.toLowerCase();for(const p of s)if(!n.includes(p))return{match:!1,score:0};let o=0,i=0,r=-1,l=0;for(let p=0;p<e.length&&i<t.length;p++)if(n[p]===s[i]){let c=0;if(p===0&&(c+=yd),wd(e,p)&&(c+=vd),r===p-1)l++,c+=gd*l;else if(l=1,r>=0){const d=p-r-1;c-=bd*d}o+=c,r=p,i++}const u=i===t.length;return u&&t.length>0&&(o=o/t.length),{match:u,score:u?o:0}}function xd(t,e){if(!t)return{match:!0,score:0};const s=e.name||"",n=typeof e.url=="string"?e.url:e.url?.raw||"",o=e.method||"",i=Po(t,s),r=Po(t,n),l=Po(t,o),u=i.score,p=r.score*.8,c=l.score*.6,d=i.match||r.match||l.match,f=Math.max(u,p,c);return{match:d,score:f}}class _d extends Ge{constructor(){super("collections"),this.createState({expandedCollections:new Set,showNewCollectionDialog:!1,searchQuery:"",filterMethod:null}),this.collectionsStore=Ds(),this.tabsStore=bn()}init(){super.init(),this.collectionsStore||(this.collectionsStore=Ds()),this.tabsStore||(this.tabsStore=bn()),this.logger.debug("Initializing computed properties"),this.logger.debug("Collections store available:",!!this.collectionsStore),this.logger.debug("Store collections value:",this.collectionsStore?.collections?.value),this.collections=this.createComputed("collections",()=>{if(!this.collectionsStore)return this.logger.warn("Collections store not available"),[];const e=this.collectionsStore.collections.value||[];if(this.logger.debug("Raw collections from store:",e.length,"items"),this.logger.debug("Collections data:",JSON.stringify(e)),!Array.isArray(e))return this.logger.warn("Collections is not an array:",e),[];const s=e.map(n=>{try{return new cn(n)}catch(o){return this.logger.error("Failed to parse collection:",o),n}});return this.logger.debug("Processed collections:",s.length,"items"),s}),this.logger.debug("Collections computed created, test value:",this.getComputed("collections")),this.filteredCollections=this.createComputed("filteredCollections",()=>{const e=this.getComputed("collections");if(!e||!Array.isArray(e))return[];const s=this.state.searchQuery.trim();return!s&&!this.state.filterMethod?e:e.map(n=>{try{const o=new cn(n.toJSON());return o.item=this.filterItems(n.item,s,this.state.filterMethod),o}catch(o){return this.logger.error("Failed to filter collection:",o),n}}).filter(n=>n.item&&n.item.length>0)}),this.createWatcher(()=>this.getComputed("collections"),(e,s)=>{if(e&&e.length>0&&(!s||s.length===0)&&this.state&&this.state.expandedCollections&&this.state.expandedCollections.size===0){const n=e[0];n?.info?.id&&(this.logger.info("Auto-expanding first collection:",n.info.name),this.state.expandedCollections.add(n.info.id))}},{immediate:!1})}filterItems(e,s,n){if(!e)return[];const o=[];for(const i of e){if(i.item&&Array.isArray(i.item)){const l=this.filterItems(i.item,s,n);if(l.length>0){const u=Object.assign(Object.create(Object.getPrototypeOf(i)),i,{item:l}),p=l.reduce((c,d)=>Math.max(c,d._fuzzyScore||0),0);u._fuzzyScore=p,o.push(u)}continue}if(!i.request)continue;const r=i.request.method||"GET";if(!(n&&r!==n))if(s){const l=typeof i.request.url=="string"?i.request.url:i.request.url?.raw||"",u={name:i.name||"",url:l,method:r},{match:p,score:c}=xd(s,u);if(!p)continue;i._fuzzyScore=c,o.push(i)}else i._fuzzyScore=0,o.push(i)}return s&&o.length>0&&o.sort((i,r)=>(r._fuzzyScore||0)-(i._fuzzyScore||0)),o}toggleCollection(e){this.state.expandedCollections.has(e)?(this.state.expandedCollections.delete(e),this.logger.debug(`Collapsed collection: ${e}`)):(this.state.expandedCollections.add(e),this.logger.debug(`Expanded collection: ${e}`))}isCollectionExpanded(e){return this.state.expandedCollections.has(e)}openRequest(e,s){this.logger.info(`Opening request: ${s} from collection: ${e}`),this.tabsStore.openRequest(e,s),this.emit("requestOpened",{collectionId:e,requestId:s})}async createCollection(e){const s=await this.executeAsync(async()=>{const n=this.validate(cn,{info:{name:e}});if(!n.valid)throw new Error(n.error);const o=this.collectionsStore.createCollection(e);return this.logger.info("Created collection:",o?.info?.name,"with ID:",o?.info?.id),o?.info?.id&&this.state.expandedCollections.add(o.info.id),o},"Failed to create collection");return s.success&&(this.state.showNewCollectionDialog=!1,this.emit("collectionCreated",s.data)),s}async deleteCollection(e){const s=await this.executeAsync(async()=>{this.collectionsStore.deleteCollection(e),this.state.expandedCollections.delete(e),this.logger.info(`Deleted collection: ${e}`)},"Failed to delete collection");return s.success&&this.emit("collectionDeleted",e),s}searchCollections(e){this.state.searchQuery=e,this.logger.debug("Searching collections with query:",e)}filterByMethod(e){this.state.filterMethod=e,this.logger.debug("Filtering by method:",e)}clearFilters(){this.state.searchQuery="",this.state.filterMethod=null,this.logger.debug("Cleared filters")}toggleNewCollectionDialog(e){this.state.showNewCollectionDialog=e}getMethodColor(e){return{GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)",HEAD:"var(--color-head)",OPTIONS:"var(--color-options)"}[e]||"var(--color-text-secondary)"}addFolderToCollection(e,s){this.logger.info(`Adding folder to collection ${e}: ${s}`);const n=this.collectionsStore.addFolderToCollection(e,s);return n&&this.emit("folderAddedToCollection",{collectionId:e,folder:n}),n}addRequestToFolder(e,s){this.logger.info(`Adding request to folder ${s} in collection ${e}`);const n=this.collectionsStore.addRequestToFolder(e,s);return n&&this.emit("requestAddedToFolder",{collectionId:e,folderId:s,request:n}),n}addFolderToFolder(e,s,n="New Folder"){this.logger.info(`Adding folder to folder ${s} in collection ${e}`);const o=this.collectionsStore.addFolderToFolder(e,s,n);return o&&this.emit("folderAddedToFolder",{collectionId:e,parentFolderId:s,folder:o}),o}async renameFolder(e,s,n){if(n&&n.trim()){this.logger.info(`Renaming folder ${s} to ${n}`);const o=this.collectionsStore.renameFolder(e,s,n.trim());return o&&this.emit("folderRenamed",{collectionId:e,folderId:s,folder:o}),o}return null}duplicateFolder(e,s){this.logger.info(`Duplicating folder ${s} in collection ${e}`);const n=this.collectionsStore.duplicateFolder(e,s);return n&&this.emit("folderDuplicated",{collectionId:e,originalFolderId:s,duplicatedFolder:n}),n}async deleteFolder(e,s){this.logger.info(`Deleting folder ${s} from collection ${e}`);const n=this.collectionsStore.deleteFolder(e,s);return n&&this.emit("folderDeleted",{collectionId:e,folderId:s}),n}}class Cd extends Ge{constructor(){super("CollectionsTabController"),this.collectionsController=new _d,this.init()}init(){super.init(),this.collectionsController.init(),this.createState({contextMenuRefs:{collection:null,request:null,folder:null},showNewFolderDialog:!1,newFolderDialogData:null}),this.collectionsController.on("collectionCreated",e=>{this.emit("collectionCreated",e)}),this.collectionsController.on("collectionDeleted",e=>{this.emit("collectionDeleted",e)})}setContextMenuRefs(e,s,n){this.state.contextMenuRefs.collection=e,this.state.contextMenuRefs.request=s,this.state.contextMenuRefs.folder=n,e?.controller&&e.controller.on("showFolderDialog",o=>{this.showNewFolderDialog(o)}),n?.controller&&n.controller.on("showFolderDialog",o=>{this.showNewFolderDialog(o)})}getComputed(e){return this.collectionsController.getComputed(e)}toggleCollection(e){return this.collectionsController.toggleCollection(e)}openRequest(e,s){return this.collectionsController.openRequest(e,s)}toggleNewCollectionDialog(e){return this.collectionsController.toggleNewCollectionDialog(e)}isCollectionExpanded(e){return this.collectionsController.isCollectionExpanded(e)}getMethodColor(e){return this.collectionsController.getMethodColor(e)}searchCollections(e){return this.collectionsController.searchCollections(e)}clearFilters(){return this.collectionsController.clearFilters()}async createCollection(e){return this.collectionsController.createCollection(e)}async deleteCollection(e){return this.collectionsController.deleteCollection(e)}showContextMenu(e,s){const n=this.state.contextMenuRefs.collection;n&&n.show(e,s)}showRequestContextMenu(e,s,n){e.stopPropagation();const o=this.state.contextMenuRefs.request;o&&o.show(e,s,n)}showFolderContextMenu(e,s,n){e.stopPropagation();const o=this.state.contextMenuRefs.folder;o&&o.show(e,s,n)}handleContextAction(e,s){this.logger.info("Context action:",e,s)}handleRequestContextAction(e,s){this.logger.info("Request context action:",e,s)}handleFolderContextAction(e,s){this.logger.info("Folder context action:",e,s)}getCollectionsState(){return this.collectionsController.state}getCollections(){return this.getComputed("collections")||[]}getFilteredCollections(){return this.getComputed("filteredCollections")||[]}showNewFolderDialog(e){this.state.newFolderDialogData=e,this.state.showNewFolderDialog=!0,this.logger.info("Showing folder dialog for:",e.type,"collection:",e.collectionId)}hideNewFolderDialog(){this.state.showNewFolderDialog=!1,this.state.newFolderDialogData=null}validateState(){const e=[];return this.collectionsController||e.push("Collections controller not initialized"),this.state.contextMenuRefs||e.push("Context menu references not set"),{isValid:e.length===0,errors:e}}getDebugInfo(){return{controller:"CollectionsTabController",collectionsControllerState:this.collectionsController?.state,contextMenuRefs:{collection:!!this.state.contextMenuRefs?.collection,request:!!this.state.contextMenuRefs?.request,folder:!!this.state.contextMenuRefs?.folder},validation:this.validateState()}}dispose(){this.collectionsController&&this.collectionsController.dispose(),super.dispose()}}class sl extends Ge{constructor(e){super(e),this.createState({visible:!1,loading:!1,errors:{},formData:{}}),this.resetFormData()}open(e={}){this.state.visible=!0,this.state.errors={},this.state.loading=!1,e&&Object.keys(e).length>0?this.state.formData={...e}:this.resetFormData(),this.logger.debug(`${this.name} dialog opened`),this.emit("opened",e)}close(){this.state.visible=!1,this.state.errors={},this.state.loading=!1,this.resetFormData(),this.logger.debug(`${this.name} dialog closed`),this.emit("closed")}resetFormData(){this.state.formData={}}validateForm(){return this.state.errors={},!0}async submit(){if(!this.validateForm())return this.logger.warn("Form validation failed"),{success:!1,errors:this.state.errors};this.state.loading=!0;const e=await this.executeAsync(async()=>{const s=await this.processSubmit(this.state.formData);return this.logger.info(`${this.name} dialog submitted successfully`),s},`Failed to submit ${this.name} dialog`);return this.state.loading=!1,e.success?(this.emit("submitted",e.data),this.close()):this.handleSubmitError(e.error),e}async processSubmit(e){return e}handleSubmitError(e){e.validationErrors?this.state.errors=e.validationErrors:this.state.errors={general:e.message||"An error occurred"},this.logger.error("Submit error:",e),this.emit("submitError",e)}cancel(){if(this.state.loading){this.logger.warn("Cannot cancel while loading");return}this.logger.debug(`${this.name} dialog cancelled`),this.emit("cancelled"),this.close()}setFieldError(e,s){this.state.errors[e]=s}clearFieldError(e){delete this.state.errors[e]}clearErrors(){this.state.errors={}}updateFormField(e,s){this.state.formData[e]=s,this.clearFieldError(e)}hasErrors(){return Object.keys(this.state.errors).length>0}isVisible(){return this.state.visible}isLoading(){return this.state.loading}async confirmClose(){return this.hasUnsavedChanges()?new Promise(e=>{this.emit("confirmClose",{resolve:e})}):!0}hasUnsavedChanges(){return!1}}const at=te({show:!1,title:"",message:"",type:"info",confirmText:"OK",cancelText:null,showInput:!1,inputPlaceholder:"",inputValue:"",resolve:null,reject:null});function Vs(){const t=h=>new Promise((v,y)=>{at.value={show:!0,title:h.title||"Alert",message:h.message||"",type:h.type||"info",confirmText:h.confirmText||"OK",cancelText:h.cancelText||null,showInput:!1,inputPlaceholder:"",inputValue:"",resolve:ls(v),reject:ls(y)}}),e=h=>new Promise((v,y)=>{at.value={show:!0,title:h.title||"Confirm",message:h.message||"",type:h.type||"warning",confirmText:h.confirmText||"Confirm",cancelText:h.cancelText||"Cancel",showInput:!1,inputPlaceholder:"",inputValue:"",resolve:ls(v),reject:ls(y)}}),s=h=>new Promise((v,y)=>{at.value={show:!0,title:h.title||"Input Required",message:h.message||"",type:"info",confirmText:h.confirmText||"OK",cancelText:h.cancelText||"Cancel",showInput:!0,inputPlaceholder:h.placeholder||"",inputValue:h.defaultValue||"",resolve:ls(v),reject:ls(y)}}),n=h=>{at.value.resolve&&at.value.resolve(h),i()},o=()=>{at.value.resolve&&at.value.resolve(at.value.showInput?null:!1),i()},i=()=>{at.value.show=!1,at.value.resolve=null,at.value.reject=null};return{alertState:at,showAlert:t,showConfirm:e,showPrompt:s,handleConfirm:n,handleCancel:o,closeAlert:i,alert:(h,v="Alert")=>t({message:h,title:v,type:"info"}),alertError:(h,v="Error")=>t({message:h,title:v,type:"error"}),alertWarning:(h,v="Warning")=>t({message:h,title:v,type:"warning"}),alertSuccess:(h,v="Success")=>t({message:h,title:v,type:"success"}),confirm:(h,v="Confirm")=>e({message:h,title:v,type:"warning"}),confirmDelete:(h,v="Delete Confirmation")=>e({message:h,title:v,type:"error",confirmText:"Delete",cancelText:"Cancel"}),prompt:(h,v="",y="Input Required")=>s({message:h,defaultValue:v,title:y})}}class Sd extends sl{constructor(){super("new-collection"),this.collectionsStore=Ds(),this.alertService=Vs()}resetFormData(){this.state.formData={name:"",description:"",template:"blank",importData:null}}validateForm(){return this.clearErrors(),!this.state.formData.name||this.state.formData.name.trim().length===0?(this.setFieldError("name","Collection name is required"),!1):this.state.formData.name.trim().length<2?(this.setFieldError("name","Collection name must be at least 2 characters"),!1):this.state.formData.name.trim().length>100?(this.setFieldError("name","Collection name must be less than 100 characters"),!1):this.isNameTaken(this.state.formData.name.trim())?(this.setFieldError("name","A collection with this name already exists"),!1):this.state.formData.description&&this.state.formData.description.length>500?(this.setFieldError("description","Description must be less than 500 characters"),!1):this.state.formData.template==="import"&&!this.state.formData.importData?(this.setFieldError("import","Please select a file to import"),!1):!0}isNameTaken(e){return(this.collectionsStore.collections?.value||this.collectionsStore.collections||[]).some(n=>n.info?.name.toLowerCase()===e.toLowerCase())}async processSubmit(e){const{name:s,description:n,template:o,importData:i}=e;let r;switch(o){case"blank":r=await this.createBlankCollection(s.trim(),n.trim());break;case"rest-api":r=await this.createRestApiTemplate(s.trim(),n.trim());break;case"graphql":r=await this.createGraphQLTemplate(s.trim(),n.trim());break;case"import":r=await this.importCollection(i,s.trim(),n.trim());break;default:throw new Error(`Unknown template: ${o}`)}return this.logger.info(`Created collection: ${r.info.name}`),r}async createBlankCollection(e,s){const n=this.collectionsStore.createCollection(e);return s&&this.collectionsStore.updateCollection(n.info.id,{description:s}),n}async createRestApiTemplate(e,s){const n=this.collectionsStore.createCollection(e);return s&&this.collectionsStore.updateCollection(n.info.id,{description:s}),[{name:"Get Users",request:{method:"GET",url:{raw:"https://jsonplaceholder.typicode.com/users",protocol:"https",host:["jsonplaceholder","typicode","com"],path:["users"]},header:[{key:"Accept",value:"application/json",enabled:!0}]}},{name:"Create User",request:{method:"POST",url:{raw:"https://jsonplaceholder.typicode.com/users",protocol:"https",host:["jsonplaceholder","typicode","com"],path:["users"]},header:[{key:"Content-Type",value:"application/json",enabled:!0},{key:"Accept",value:"application/json",enabled:!0}],body:{mode:"raw",raw:JSON.stringify({name:"John Doe",email:"john@example.com",username:"johndoe"},null,2),options:{raw:{language:"json"}}}}},{name:"Update User",request:{method:"PUT",url:{raw:"https://jsonplaceholder.typicode.com/users/1",protocol:"https",host:["jsonplaceholder","typicode","com"],path:["users","1"]},header:[{key:"Content-Type",value:"application/json",enabled:!0},{key:"Accept",value:"application/json",enabled:!0}],body:{mode:"raw",raw:JSON.stringify({name:"Jane Doe",email:"jane@example.com"},null,2),options:{raw:{language:"json"}}}}},{name:"Delete User",request:{method:"DELETE",url:{raw:"https://jsonplaceholder.typicode.com/users/1",protocol:"https",host:["jsonplaceholder","typicode","com"],path:["users","1"]},header:[{key:"Accept",value:"application/json",enabled:!0}]}}].forEach(i=>{this.collectionsStore.addRequest(n.info.id,i.request);const r=this.collectionsStore.getCollection(n.info.id),l=r.item[r.item.length-1];l&&(l.name=i.name)}),n}async createGraphQLTemplate(e,s){const n=this.collectionsStore.createCollection(e);return s&&this.collectionsStore.updateCollection(n.info.id,{description:s}),[{name:"Get Users Query",request:{method:"POST",url:{raw:"https://api.graphql.example.com/graphql",protocol:"https",host:["api","graphql","example","com"],path:["graphql"]},header:[{key:"Content-Type",value:"application/json",enabled:!0},{key:"Accept",value:"application/json",enabled:!0}],body:{mode:"graphql",graphql:{query:`query GetUsers {
  users {
    id
    name
    email
  }
}`,variables:"{}"}}}},{name:"Create User Mutation",request:{method:"POST",url:{raw:"https://api.graphql.example.com/graphql",protocol:"https",host:["api","graphql","example","com"],path:["graphql"]},header:[{key:"Content-Type",value:"application/json",enabled:!0},{key:"Accept",value:"application/json",enabled:!0}],body:{mode:"graphql",graphql:{query:`mutation CreateUser($input: CreateUserInput!) {
  createUser(input: $input) {
    id
    name
    email
  }
}`,variables:JSON.stringify({input:{name:"John Doe",email:"john@example.com"}},null,2)}}}}].forEach(i=>{this.collectionsStore.addRequest(n.info.id,i.request);const r=this.collectionsStore.getCollection(n.info.id),l=r.item[r.item.length-1];l&&(l.name=i.name)}),n}async importCollection(e,s,n){let o;try{o=JSON.parse(e)}catch{throw new Error("Invalid JSON file")}if(!o.info)throw new Error("Not a valid Postman collection");s&&s!==o.info.name&&(o.info.name=s),n&&(o.info.description=n);const i=this.collectionsStore.importCollection(o,{appendImportedSuffix:!1});if(i.warnings&&i.warnings.length>0){const r=Mn.summarizeWarnings(i.warnings);this._showImportWarnings(r)}return i.collection}_showImportWarnings(e){const s=[];e.byType.scripts&&s.push(`${e.byType.scripts} script(s) detected (scripts are stored but not executed)`),e.byType.auth&&s.push(`${e.byType.auth} authentication warning(s) (some auth types require manual configuration)`),e.byType.proxy&&s.push("Proxy configuration not supported"),e.byType.certificate&&s.push("SSL certificate configuration not supported"),e.byType.responses&&s.push("Saved responses imported for reference");const n=s.length>0?`Collection imported with ${e.total} notice(s):

 ${s.join(`
 `)}`:`Collection imported with ${e.total} notice(s). Check console for details.`;this.alertService.alertWarning(n,"Import Notices")}async handleFileSelect(e){if(!e)return;if(!e.name.endsWith(".json")){this.setFieldError("import","Please select a JSON file");return}if(e.size>10*1024*1024){this.setFieldError("import","File size must be less than 10MB");return}const s=await this.executeAsync(async()=>{const n=await this.readFile(e);try{if(!JSON.parse(n).info)throw new Error("Not a valid Postman collection");return n}catch{throw new Error("Invalid JSON or not a Postman collection")}},"Failed to read file");if(s.success){this.state.formData.importData=s.data;const n=JSON.parse(s.data);n.info?.name&&!this.state.formData.name&&(this.state.formData.name=n.info.name),n.info?.description&&!this.state.formData.description&&(this.state.formData.description=n.info.description),this.clearFieldError("import"),this.logger.info("File loaded successfully:",e.name)}else this.setFieldError("import",s.error.message)}async readFile(e){return new Promise((s,n)=>{const o=new FileReader;o.onload=i=>s(i.target.result),o.onerror=i=>n(new Error("Failed to read file")),o.readAsText(e)})}updateField(e,s){this.updateFormField(e,s),e==="template"&&(this.clearFieldError("import"),s!=="import"&&(this.state.formData.importData=null))}getTemplates(){return[{id:"blank",name:"Blank Collection",description:"Start with an empty collection",icon:""},{id:"rest-api",name:"REST API",description:"Collection with sample REST API requests",icon:""},{id:"graphql",name:"GraphQL",description:"Collection with sample GraphQL queries",icon:""},{id:"import",name:"Import from File",description:"Import an existing Postman collection",icon:""}]}getImportPreview(){if(!this.state.formData.importData)return null;try{const e=JSON.parse(this.state.formData.importData);return{name:e.info?.name||"Unknown",description:e.info?.description||"",requestCount:this.countRequests(e.item||[]),folderCount:this.countFolders(e.item||[])}}catch{return null}}countRequests(e){let s=0;for(const n of e)n.request?s++:n.item&&(s+=this.countRequests(n.item));return s}countFolders(e){let s=0;for(const n of e)n.item&&(s++,s+=this.countFolders(n.item));return s}}const ye=(t,e)=>{const s=t.__vccOpts||t;for(const[n,o]of e)s[n]=o;return s},Td={class:"dialog-header"},kd={class:"dialog-title"},Ed={class:"dialog-content"},$d={key:0,class:"dialog-footer"},Ad={__name:"BaseDialog",props:{title:{type:String,required:!0},width:{type:String,default:"600px"},height:{type:String,default:"auto"}},emits:["close"],setup(t,{emit:e}){const s=t,n=e,o=()=>{n("close")},i=l=>{l.key==="Escape"&&o()},r=l=>{l.target===l.currentTarget&&o()};return De(()=>{document.addEventListener("keydown",i),document.body.style.overflow="hidden"}),Ze(()=>{document.removeEventListener("keydown",i),document.body.style.overflow=""}),(l,u)=>(g(),w("div",{class:"dialog-backdrop",onClick:r},[a("div",{class:"dialog-container",style:Ue({width:s.width,height:s.height==="auto"?"auto":s.height})},[a("div",Td,[a("h2",kd,D(s.title),1),a("button",{class:"close-button",onClick:o},"  ")]),a("div",Ed,[hn(l.$slots,"default",{},void 0,!0)]),l.$slots.footer?(g(),w("div",$d,[hn(l.$slots,"footer",{},void 0,!0)])):G("",!0)],4)]))}},Us=ye(Ad,[["__scopeId","data-v-4a7b8c6a"]]),Rd={class:"dialog-content"},Od={class:"form-group"},Id={key:0,class:"error-text"},qd={class:"form-group"},Dd={key:0,class:"error-text"},Pd={class:"form-group"},Fd={class:"template-grid"},Nd=["onClick"],Md={class:"template-icon"},Ld={class:"template-name"},Vd={class:"template-description"},Ud={key:0,class:"form-group"},jd={class:"file-input-group"},zd={for:"import-file",class:"file-input-label"},Hd={key:0},Bd={key:1},Jd={key:0,class:"error-text"},Wd={key:1,class:"import-preview"},Gd={class:"preview-item"},Kd={key:0,class:"preview-item"},Xd={class:"preview-item"},Yd={class:"preview-item"},Qd=["disabled"],Zd=["disabled"],ep={__name:"NewCollectionDialog",emits:["close","create"],setup(t,{emit:e}){const s=e,n=new Sd,o=n.state,i=async()=>{(await n.submit()).success&&s("close")},r=async()=>{await n.confirmClose()&&(n.close(),s("close"))},l=(f,h)=>n.updateField(f,h),u=f=>{const h=f.target.files[0];h&&n.handleFileSelect(h)},p=n.getTemplates(),c=n.getImportPreview(),d=te(null);return De(()=>{n.open(),setTimeout(()=>{d.value?.focus()},100)}),Ze(()=>{n.dispose()}),(f,h)=>(g(),de(Us,{title:"New Collection",width:"600px",onClose:r},{footer:Fe(()=>[a("button",{onClick:r,class:"cancel-btn",disabled:M(o).loading}," Cancel ",8,Qd),a("button",{onClick:i,class:"primary create-btn",disabled:M(o).loading||!M(o).formData.name?.trim()||M(n).hasErrors()},D(M(o).loading?"Creating...":"Create Collection"),9,Zd)]),default:Fe(()=>[a("div",Rd,[a("div",Od,[h[4]||(h[4]=a("label",{for:"collection-name",class:"form-label"},"Collection Name",-1)),ce(a("input",{ref_key:"nameInput",ref:d,id:"collection-name","onUpdate:modelValue":h[0]||(h[0]=v=>M(o).formData.name=v),onInput:h[1]||(h[1]=v=>l("name",v.target.value)),type:"text",placeholder:"Enter collection name",class:ue(["form-input",{error:M(o).errors.name}]),onKeyup:fo(i,["enter"])},null,34),[[Se,M(o).formData.name]]),M(o).errors.name?(g(),w("div",Id,D(M(o).errors.name),1)):G("",!0)]),a("div",qd,[h[5]||(h[5]=a("label",{for:"collection-description",class:"form-label"},"Description (Optional)",-1)),ce(a("textarea",{id:"collection-description","onUpdate:modelValue":h[2]||(h[2]=v=>M(o).formData.description=v),onInput:h[3]||(h[3]=v=>l("description",v.target.value)),placeholder:"Describe your collection",class:"form-textarea",rows:"3"},null,544),[[Se,M(o).formData.description]]),M(o).errors.description?(g(),w("div",Dd,D(M(o).errors.description),1)):G("",!0)]),a("div",Pd,[h[6]||(h[6]=a("label",{class:"form-label"},"Template",-1)),a("div",Fd,[(g(!0),w(me,null,ke(M(p),v=>(g(),w("div",{key:v.id,class:ue(["template-card",{selected:M(o).formData.template===v.id}]),onClick:y=>l("template",v.id)},[a("div",Md,D(v.icon),1),a("div",Ld,D(v.name),1),a("div",Vd,D(v.description),1)],10,Nd))),128))])]),M(o).formData.template==="import"?(g(),w("div",Ud,[h[12]||(h[12]=a("label",{class:"form-label"},"Import File",-1)),a("div",jd,[a("input",{type:"file",accept:".json",onChange:u,class:"file-input",id:"import-file"},null,32),a("label",zd,[M(o).formData.importData?(g(),w("span",Bd," File loaded")):(g(),w("span",Hd,"Choose Postman Collection (.json)"))])]),M(o).errors.import?(g(),w("div",Jd,D(M(o).errors.import),1)):G("",!0),M(c)?(g(),w("div",Wd,[h[11]||(h[11]=a("h4",null,"Import Preview",-1)),a("div",Gd,[h[7]||(h[7]=a("strong",null,"Name:",-1)),_e(" "+D(M(c).name),1)]),M(c).description?(g(),w("div",Kd,[h[8]||(h[8]=a("strong",null,"Description:",-1)),_e(" "+D(M(c).description),1)])):G("",!0),a("div",Xd,[h[9]||(h[9]=a("strong",null,"Requests:",-1)),_e(" "+D(M(c).requestCount),1)]),a("div",Yd,[h[10]||(h[10]=a("strong",null,"Folders:",-1)),_e(" "+D(M(c).folderCount),1)])])):G("",!0)])):G("",!0)])]),_:1}))}},tp=ye(ep,[["__scopeId","data-v-c6aedbc0"]]);class sp extends Ge{constructor(e,s=null){super("NewFolderDialogController"),this.collectionId=e,this.parentFolderId=s,this.collectionsStore=Ds(),this.init()}init(){super.init(),this.createState({name:"",description:"",isSubmitting:!1,hasChanges:!1,validation:{isValid:!1,errors:{}}}),this.watchFormChanges()}watchFormChanges(){}updateField(e,s){this.state[e]=s,this.state.hasChanges=!0,this.validateForm()}validateForm(){const e={};return this.state.name.trim()?this.state.name.trim().length<2?e.name="Folder name must be at least 2 characters":this.state.name.trim().length>100&&(e.name="Folder name must be less than 100 characters"):e.name="Folder name is required",this.state.name.trim()&&this.isDuplicateName(this.state.name.trim())&&(e.name="A folder with this name already exists"),this.state.validation={isValid:Object.keys(e).length===0,errors:e},this.state.validation}isDuplicateName(e){try{const s=this.collectionsStore.getCollection(this.collectionId);if(!s)return!1;let n=s;if(this.parentFolderId){const i=(r,l)=>{for(const u of r){if(u.id===l)return u;if(u.item&&Array.isArray(u.item)){const p=i(u.item,l);if(p)return p}}return null};if(n=i(s.item||[],this.parentFolderId),!n)return!1}return(n.item||[]).some(i=>i.name&&i.name.toLowerCase()===e.toLowerCase()&&(i.type==="folder"||!i.type&&i.item))}catch(s){return this.logger.error("Error checking duplicate name:",s),!1}}async submit(){return this.executeAsync(async()=>{if(!this.validateForm().isValid)throw new Error("Please fix the form errors before submitting");this.state.isSubmitting=!0;const s={name:this.state.name.trim(),description:this.state.description.trim()};let n;if(this.parentFolderId?n=this.collectionsStore.addFolderToFolder(this.collectionId,this.parentFolderId,s.name):n=this.collectionsStore.addFolderToCollection(this.collectionId,s.name),!n)throw new Error("Failed to create folder");return this.logger.info("Created new folder:",n.name),this.resetForm(),n},"Failed to create folder")}resetForm(){this.state.name="",this.state.description="",this.state.hasChanges=!1,this.state.isSubmitting=!1,this.state.validation={isValid:!1,errors:{}}}async confirmClose(){return this.state.hasChanges,!0}close(){this.resetForm()}getCollectionInfo(){try{return{name:this.collectionsStore.getCollection(this.collectionId)?.info?.name||"Unknown Collection",id:this.collectionId}}catch(e){return this.logger.error("Error getting collection info:",e),{name:"Unknown Collection",id:this.collectionId}}}getParentFolderInfo(){if(!this.parentFolderId)return null;try{const e=this.collectionsStore.getCollection(this.collectionId);if(!e)return null;const s=(o,i)=>{for(const r of o){if(r.id===i)return r;if(r.item&&Array.isArray(r.item)){const l=s(r.item,i);if(l)return l}}return null},n=s(e.item||[],this.parentFolderId);return n?{name:n.name||"Unnamed Folder",id:this.parentFolderId}:null}catch(e){return this.logger.error("Error getting parent folder info:",e),null}}getDebugInfo(){return{collectionId:this.collectionId,parentFolderId:this.parentFolderId,state:this.state,collectionInfo:this.getCollectionInfo(),parentFolderInfo:this.getParentFolderInfo()}}}const np={class:"form-group"},op={key:0,class:"error-message"},ip={class:"form-group"},rp=["disabled"],ap={key:0},lp={key:1},cp={__name:"NewFolderDialog",props:{collectionId:{type:String,required:!0},parentFolderId:{type:String,default:null}},emits:["close","create"],setup(t,{emit:e}){const s=t,n=e,o=new sp(s.collectionId,s.parentFolderId),i=o.state,r=async()=>{const p=await o.submit();p.success&&(n("create",p.data),n("close"))},l=async()=>{await o.confirmClose()&&(o.close(),n("close"))},u=(p,c)=>o.updateField(p,c);return De(()=>{o.init()}),Ze(()=>{o.dispose()}),(p,c)=>(g(),de(Us,{title:"Create New Folder",onClose:l,width:400},{footer:Fe(()=>[a("button",{type:"button",class:"btn-cancel",onClick:l}," Cancel "),a("button",{type:"button",class:"btn-primary",onClick:r,disabled:!M(i).validation.isValid||M(i).isSubmitting},[M(i).isSubmitting?(g(),w("span",ap,"Creating...")):(g(),w("span",lp,"Create Folder"))],8,rp)]),default:Fe(()=>[a("div",np,[c[4]||(c[4]=a("label",{for:"folder-name"},"Folder Name",-1)),ce(a("input",{id:"folder-name","onUpdate:modelValue":c[0]||(c[0]=d=>M(i).name=d),onInput:c[1]||(c[1]=d=>u("name",d.target.value)),type:"text",placeholder:"Enter folder name",class:ue(["form-input",{"has-error":M(i).validation.errors.name}]),onKeyup:fo(r,["enter"]),autofocus:""},null,34),[[Se,M(i).name]]),M(i).validation.errors.name?(g(),w("div",op,D(M(i).validation.errors.name),1)):G("",!0)]),a("div",ip,[c[5]||(c[5]=a("label",{for:"folder-description"},"Description (Optional)",-1)),ce(a("textarea",{id:"folder-description","onUpdate:modelValue":c[2]||(c[2]=d=>M(i).description=d),onInput:c[3]||(c[3]=d=>u("description",d.target.value)),placeholder:"Enter folder description",class:"form-input",rows:"3"},null,544),[[Se,M(i).description]])])]),_:1}))}},up=ye(cp,[["__scopeId","data-v-f9215fc7"]]),dp={key:0,class:"menu-header"},pp={class:"menu-title"},fp={class:"menu-items"},hp={key:0,class:"menu-separator"},mp=["onClick","disabled"],gp={key:0,class:"menu-icon"},vp={class:"menu-text"},yp={key:1,class:"menu-shortcut"},bp={__name:"BaseContextMenu",props:{controller:{type:Object,required:!0},title:{type:String,default:null},menuItems:{type:Array,default:()=>[]}},emits:["action"],setup(t,{emit:e}){const s=new ss({prefix:"BaseContextMenu",level:"debug"}),n=t,o=e,i=te(null),r=async l=>{try{o("action",{action:l,item:n.controller.state?.item}),await n.controller?.executeAction(l,n.controller.state?.item)}catch(u){s.error("Menu action failed:",u)}};return De(()=>{i.value&&n.controller&&(n.controller.setMenuRef(i.value),n.controller.positionMenu(i.value))}),Ze(()=>{n.controller&&n.controller.setMenuRef(null)}),(l,u)=>(g(),w("div",{ref_key:"menuRef",ref:i,class:"context-menu",style:Ue({left:`${t.controller.state?.x||0}px`,top:`${t.controller.state?.y||0}px`})},[t.title||l.$slots.header?(g(),w("div",dp,[hn(l.$slots,"header",{},()=>[a("span",pp,D(t.title||t.controller?.getMenuTitle(t.controller.state?.item)),1)],!0)])):G("",!0),a("div",fp,[(g(!0),w(me,null,ke(t.menuItems,(p,c)=>(g(),w(me,{key:c},[p.type==="separator"?(g(),w("div",hp)):(g(),w("button",{key:1,class:ue(["menu-item",{danger:p.danger,disabled:p.disabled}]),onClick:d=>r(p.action),disabled:p.disabled},[p.icon?(g(),w("span",gp,D(p.icon),1)):G("",!0),a("span",vp,D(p.label),1),p.shortcut?(g(),w("span",yp,D(p.shortcut),1)):G("",!0)],10,mp))],64))),128)),hn(l.$slots,"items",{item:t.controller.state?.item,handleAction:r},void 0,!0)])],4))}},go=ye(bp,[["__scopeId","data-v-c95484dd"]]);class vo extends Ge{constructor(e){super(e),this.createState({show:!1,item:null,x:0,y:0,menuRef:null})}init(){super.init(),this.handleClickOutside=this.handleClickOutside.bind(this),this.handleEscape=this.handleEscape.bind(this)}show(e,s){this.logger.debug("Showing context menu for:",s),e.preventDefault(),e.stopPropagation(),this.state.show=!0,this.state.item=s,this.state.x=e.clientX,this.state.y=e.clientY,document.addEventListener("click",this.handleClickOutside),document.addEventListener("keydown",this.handleEscape),this.emit("shown",{item:s,x:e.clientX,y:e.clientY})}hide(){this.logger.debug("Hiding context menu"),this.state.show=!1,this.state.item=null,document.removeEventListener("click",this.handleClickOutside),document.removeEventListener("keydown",this.handleEscape),this.emit("hidden")}handleClickOutside(e){this.state.menuRef&&!this.state.menuRef.contains(e.target)&&this.hide()}handleEscape(e){e.key==="Escape"&&this.hide()}setMenuRef(e){this.state.menuRef=e}async executeAction(e,s){this.logger.debug(`Executing action: ${e} for:`,s);try{const n=await this.handleAction(e,s);return this.hide(),this.emit("actionCompleted",{action:e,item:s,result:n}),n}catch(n){throw this.logger.error(`Failed to execute action ${e}:`,n),this.emit("actionFailed",{action:e,item:s,error:n}),n}}async handleAction(e,s){throw new Error(`Action '${e}' not implemented in ${this.constructor.name}`)}getMenuItems(){return[]}getMenuTitle(e){return e?.name||"Item"}positionMenu(e){if(!e)return;const s=e.getBoundingClientRect(),n=window.innerWidth,o=window.innerHeight;let i=this.state.x,r=this.state.y;this.state.x+s.width>n&&(i=n-s.width-10),this.state.y+s.height>o&&(r=o-s.height-10),i=Math.max(10,i),r=Math.max(10,r),e.style.left=`${i}px`,e.style.top=`${r}px`,this.logger.debug(`Positioned menu at: (${i}, ${r})`)}dispose(){this.hide(),super.dispose()}}class wp extends vo{constructor(e){super("collection-context-menu"),this.collectionsController=e,this.alert=Vs()}getMenuTitle(e){return e?.info?.name||"Collection"}getMenuItems(){return[{action:"create-request",label:"Create Request",icon:""},{action:"create-folder",label:"Create Folder",icon:""},{type:"separator"},{action:"rename",label:"Rename",icon:""},{action:"duplicate",label:"Duplicate",icon:""},{type:"separator"},{action:"delete",label:"Delete",icon:"",danger:!0}]}async handleAction(e,s){switch(this.logger.info(`Executing collection action: ${e} for collection: ${s?.info?.name}`),e){case"create-request":return await this.createRequest(s);case"create-folder":return await this.createFolder(s);case"rename":return await this.renameCollection(s);case"duplicate":return await this.duplicateCollection(s);case"delete":return await this.deleteCollection(s);default:throw new Error(`Unknown action: ${e}`)}}async createRequest(e){const s=this.collectionsController.collectionsStore.addRequest(e.info.id);if(s)return this.collectionsController.openRequest(e.info.id,s.id),this.logger.info("Created new request in collection:",e.info.name),{action:"create-request",requestId:s.id};throw new Error("Failed to create request")}async createFolder(e){return this.emit("showFolderDialog",{type:"create-folder",collectionId:e.info.id,parentFolderId:null,collection:e}),this.logger.info("Requested folder creation dialog for collection:",e.info.name),{action:"create-folder",dialogRequested:!0}}async renameCollection(e){const s=await this.alert.prompt("Enter new collection name:",e.info.name,"Rename Collection");return s&&s.trim()&&s.trim()!==e.info.name?(this.collectionsController.collectionsStore.updateCollection(e.info.id,{name:s.trim()}),this.logger.info("Renamed collection from",e.info.name,"to",s.trim()),await this.alert.alertSuccess(`Collection renamed to "${s.trim()}"`),{action:"rename",oldName:e.info.name,newName:s.trim()}):{action:"rename",cancelled:!0}}async duplicateCollection(e){const s=this.collectionsController.collectionsStore.duplicateCollection(e.info.id);if(s?.info?.id)return this.collectionsController.state.expandedCollections.add(s.info.id),this.logger.info("Duplicated collection:",e.info.name,"",s.info.name),await this.alert.alertSuccess(`Collection duplicated as "${s.info.name}"`),{action:"duplicate",originalId:e.info.id,duplicateId:s.info.id};throw await this.alert.alertError("Failed to duplicate collection"),new Error("Failed to duplicate collection")}async deleteCollection(e){return await this.alert.confirmDelete(`Are you sure you want to delete the collection "${e.info.name}"?

This action cannot be undone.`,"Delete Collection")?(await this.collectionsController.deleteCollection(e.info.id),this.logger.info("Deleted collection:",e.info.name),await this.alert.alertSuccess(`Collection "${e.info.name}" has been deleted`),{action:"delete",collectionId:e.info.id,collectionName:e.info.name}):{action:"delete",cancelled:!0}}}const xp={__name:"CollectionContextMenu",props:{collectionsController:{type:Object,required:!0}},emits:["close","action"],setup(t,{expose:e,emit:s}){const n=t,o=s,i=new wp(n.collectionsController);i.init();const r=F(()=>i.getMenuItems()),l=u=>{o("action",u)};return e({show:(u,p)=>i.show(u,p),hide:()=>i.hide(),controller:i}),(u,p)=>M(i).state.show?(g(),de(go,{key:0,controller:M(i),"menu-items":r.value,onAction:l},null,8,["controller","menu-items"])):G("",!0)}};class _p extends vo{constructor(e){super("request-context-menu"),this.collectionsController=e,this.alert=Vs()}getMenuTitle(e){return e?.request?.name||"Request"}getMenuItems(){return[{action:"open",label:"Open in Tab",icon:""},{type:"separator"},{action:"rename",label:"Rename",icon:""},{action:"duplicate",label:"Duplicate",icon:""},{type:"separator"},{action:"move",label:"Move to Collection",icon:""},{type:"separator"},{action:"delete",label:"Delete",icon:"",danger:!0}]}async handleAction(e,s){if(this.logger.info(`Executing request action: ${e} for request: ${s?.request?.name}`),!s||!s.collectionId||!s.request){this.logger.error("Invalid request data for action:",e,s);return}const{collectionId:n,request:o}=s;switch(e){case"open":await this.openRequest(n,o.id);break;case"rename":await this.renameRequest(n,o.id);break;case"duplicate":await this.duplicateRequest(n,o.id);break;case"move":await this.moveRequest(n,o.id);break;case"delete":await this.deleteRequest(n,o.id);break;default:this.logger.warn(`Unknown action: ${e}`)}this.hide()}async openRequest(e,s){this.logger.info(`Opening request ${s} from collection ${e}`),this.collectionsController.openRequest(e,s)}async renameRequest(e,s){const n=this.collectionsController.collectionsStore.getRequest(e,s);if(!n){this.logger.error("Request not found for rename"),await this.alert.alertError("Request not found");return}const o=await this.alert.prompt("Enter new name:",n.name,"Rename Request");o&&o.trim()&&o.trim()!==n.name&&(this.collectionsController.collectionsStore.updateRequest(e,s,{name:o.trim()}),this.logger.info(`Renamed request to: ${o.trim()}`),await this.alert.alertSuccess(`Request renamed to "${o.trim()}"`))}async duplicateRequest(e,s){const n=this.collectionsController.collectionsStore.duplicateRequest(e,s);n?(this.logger.info(`Duplicated request: ${n.name}`),await this.alert.alertSuccess(`Request duplicated as "${n.name}"`)):await this.alert.alertError("Failed to duplicate request")}async moveRequest(e,s){const o=(this.collectionsController.collectionsStore.collections.value||[]).filter(u=>u.info.id!==e);if(o.length===0){await this.alert.alertWarning("No other collections available to move to.");return}const r=`Select collection to move to:

${o.map((u,p)=>`${p+1}. ${u.info.name} (${u.item?.length||0} requests)`).join(`
`)}

Enter collection number (1-${o.length}):`,l=await this.alert.prompt(r,"","Move Request");if(l){const u=parseInt(l)-1;if(u>=0&&u<o.length){const p=o[u].info.id;this.collectionsController.collectionsStore.moveRequest(e,p,s)?(this.logger.info(`Moved request to collection: ${o[u].info.name}`),await this.alert.alertSuccess(`Request moved to "${o[u].info.name}"`)):await this.alert.alertError("Failed to move request")}else await this.alert.alertError("Invalid selection. Please enter a valid collection number.")}}async deleteRequest(e,s){const n=this.collectionsController.collectionsStore.getRequest(e,s);if(!n){this.logger.error("Request not found for deletion"),await this.alert.alertError("Request not found");return}await this.alert.confirmDelete(`Are you sure you want to delete "${n.name}"? This action cannot be undone.`,"Delete Request")&&(this.collectionsController.collectionsStore.deleteRequest(e,s)?(this.logger.info(`Deleted request: ${n.name}`),await this.alert.alertSuccess(`Request "${n.name}" has been deleted`)):await this.alert.alertError("Failed to delete request"))}show(e,s,n){const o={collectionId:s.info.id,request:n};super.show(e,o)}}const Cp={__name:"RequestContextMenu",props:{collectionsController:{type:Object,required:!0}},emits:["close","action"],setup(t,{expose:e,emit:s}){const n=t,o=s,i=new _p(n.collectionsController);i.init();const r=F(()=>i.getMenuItems()),l=u=>{o("action",u)};return e({show:(u,p,c)=>i.show(u,p,c),hide:()=>i.hide(),controller:i}),(u,p)=>M(i).state.show?(g(),de(go,{key:0,controller:M(i),"menu-items":r.value,onAction:l},null,8,["controller","menu-items"])):G("",!0)}};class Sp extends vo{constructor(e){super("folder-context-menu"),this.collectionsController=e,this.currentCollection=null,this.alert=Vs()}show(e,s,n){this.currentCollection=s,super.show(e,n)}getMenuTitle(e){return e?.name||"Folder"}getMenuItems(){return[{action:"new-request",label:"New Request",icon:""},{action:"new-folder",label:"New Folder",icon:""},{type:"separator"},{action:"rename",label:"Rename",icon:""},{action:"duplicate",label:"Duplicate",icon:""},{type:"separator"},{action:"delete",label:"Delete",icon:"",danger:!0}]}async handleAction(e,s){if(!this.currentCollection)throw new Error("No collection context available");switch(this.logger.info(`Executing folder action: ${e} for folder: ${s?.name}`),e){case"new-request":return await this.addRequestToFolder(s);case"new-folder":return await this.addFolderToFolder(s);case"rename":return await this.renameFolder(s);case"duplicate":return await this.duplicateFolder(s);case"delete":return await this.deleteFolder(s);default:throw new Error(`Unknown action: ${e}`)}}async addRequestToFolder(e){const s=this.collectionsController.addRequestToFolder(this.currentCollection.info.id,e.id);if(s)return this.logger.info("Added new request to folder:",e.name),{action:"new-request",requestId:s.id};throw new Error("Failed to add request to folder")}async addFolderToFolder(e){return this.emit("showFolderDialog",{type:"new-folder",collectionId:this.currentCollection.info.id,parentFolderId:e.id,collection:this.currentCollection,parentFolder:e}),this.logger.info("Requested folder creation dialog for folder:",e.name),{action:"new-folder",dialogRequested:!0}}async renameFolder(e){const s=await this.alert.prompt("Enter new folder name:",e.name,"Rename Folder");if(s&&s.trim()&&s.trim()!==e.name){if(this.collectionsController.collectionsStore.renameFolder(this.currentCollection.info.id,e.id,s.trim()))return this.logger.info("Renamed folder from",e.name,"to",s.trim()),await this.alert.alertSuccess(`Folder renamed to "${s.trim()}"`),{action:"rename",oldName:e.name,newName:s.trim()};throw await this.alert.alertError("Failed to rename folder"),new Error("Failed to rename folder")}return{action:"rename",cancelled:!0}}async duplicateFolder(e){const s=this.collectionsController.duplicateFolder(this.currentCollection.info.id,e.id);if(s)return this.logger.info("Duplicated folder:",e.name,"",s.name),{action:"duplicate",originalId:e.id,duplicateId:s.id};throw new Error("Failed to duplicate folder")}async deleteFolder(e){if(await this.alert.confirmDelete(`Are you sure you want to delete the folder "${e.name}"?

This action cannot be undone and will delete all contents inside the folder.`,"Delete Folder")){if(this.collectionsController.collectionsStore.deleteFolder(this.currentCollection.info.id,e.id))return this.logger.info("Deleted folder:",e.name),await this.alert.alertSuccess(`Folder "${e.name}" has been deleted`),{action:"delete",folderId:e.id,folderName:e.name};throw await this.alert.alertError("Failed to delete folder"),new Error("Failed to delete folder")}return{action:"delete",cancelled:!0}}}const Tp={__name:"FolderContextMenu",props:{collectionsController:{type:Object,required:!0}},emits:["close","action"],setup(t,{expose:e,emit:s}){const n=t,o=s,i=new Sp(n.collectionsController);i.init();const r=F(()=>i.getMenuItems()),l=u=>{o("action",u)};return e({show:(u,p,c)=>i.show(u,p,c),hide:()=>i.hide(),controller:i}),(u,p)=>M(i).state.show?(g(),de(go,{key:0,controller:M(i),"menu-items":r.value,onAction:l},null,8,["controller","menu-items"])):G("",!0)}};function yr(t,e={}){const{delay:s=500,moveThreshold:n=10}=e;let o=null,i=0,r=0;const l=te(!1),u=f=>{const h=f.touches[0];i=h.clientX,r=h.clientY,o=setTimeout(()=>{l.value=!0;const v=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,view:window,clientX:h.clientX,clientY:h.clientY,screenX:h.screenX,screenY:h.screenY});Object.defineProperty(v,"target",{value:f.target,enumerable:!0}),t(v),navigator.vibrate&&navigator.vibrate(50)},s)},p=f=>{if(!o)return;const h=f.touches[0],v=Math.abs(h.clientX-i),y=Math.abs(h.clientY-r);(v>n||y>n)&&(clearTimeout(o),o=null,l.value=!1)},c=()=>{o&&(clearTimeout(o),o=null),l.value=!1},d=()=>{o&&(clearTimeout(o),o=null),l.value=!1};return Ze(()=>{o&&clearTimeout(o)}),{isLongPressing:l,longPressHandlers:{onTouchstart:u,onTouchmove:p,onTouchend:c,onTouchcancel:d}}}const kp={class:"collection-item-wrapper"},Ep={key:0,class:"folder-container"},$p={class:"expand-icon"},Ap={class:"folder-name"},Rp={class:"item-count"},Op={key:0,class:"folder-children"},Ip={class:"request-name"},qp={__name:"CollectionItem",props:{item:{type:Object,required:!0},collectionId:{type:String,required:!0},depth:{type:Number,default:0},controller:{type:Object,required:!0}},emits:["open-request","show-context-menu","show-folder-context-menu"],setup(t,{emit:e}){const s=t,n=e,o=te(!1),{isLongPressing:i,longPressHandlers:r}=yr(x=>{v(x)}),{isLongPressing:l,longPressHandlers:u}=yr(x=>{v(x)}),p=F(()=>s.item.type==="folder"||!s.item.type&&s.item.item&&Array.isArray(s.item.item)),c=F(()=>s.item.type==="request"||!s.item.type&&s.item.request),d=F(()=>{if(!p.value)return 0;const x=j=>{let N=0;for(const _ of j||[])_.type==="request"||!_.type&&_.request?N++:(_.type==="folder"||!_.type&&_.item)&&(N+=x(_.item));return N};return x(s.item.item)}),f=()=>{p.value&&(o.value=!o.value)},h=()=>{c.value?n("open-request",s.collectionId,s.item.id):p.value&&f()},v=x=>{x.preventDefault(),x.stopPropagation(),c.value?n("show-context-menu",x,s.item):p.value&&n("show-folder-context-menu",x,s.item)},y=x=>({GET:"#22c55e",POST:"#ef4444",PUT:"#f59e0b",PATCH:"#a855f7",DELETE:"#ef4444",HEAD:"#6b7280",OPTIONS:"#06b6d4"})[x]||"#6b7280";return(x,j)=>{const N=fc("CollectionItem",!0);return g(),w("div",kp,[p.value?(g(),w("div",Ep,[a("div",Xo({class:["folder-item",{"long-pressing":M(i)}],style:{paddingLeft:`${t.depth*20}px`},onClick:h,onContextmenu:v},M(r)),[a("span",$p,D(o.value?"":""),1),a("span",Ap,D(t.item.name||"Unnamed Folder"),1),a("span",Rp,D(d.value),1)],16),o.value&&t.item.item?(g(),w("div",Op,[(g(!0),w(me,null,ke(t.item.item,_=>(g(),de(N,{key:_.id,item:_,"collection-id":t.collectionId,depth:t.depth+1,controller:t.controller,onOpenRequest:j[0]||(j[0]=(A,V)=>x.$emit("open-request",A,V)),onShowContextMenu:j[1]||(j[1]=(A,V)=>x.$emit("show-context-menu",A,V)),onShowFolderContextMenu:j[2]||(j[2]=(A,V)=>x.$emit("show-folder-context-menu",A,V))},null,8,["item","collection-id","depth","controller"]))),128))])):G("",!0)])):c.value?(g(),w("div",Xo({key:1,class:["request-item",{"long-pressing":M(l)}],style:{paddingLeft:`${(t.depth+1)*20}px`},onClick:h,onContextmenu:v},M(u)),[a("span",{class:"method-badge",style:Ue({color:y(t.item.request?.method||"GET")})},D(t.item.request?.method||"GET"),5),a("span",Ip,D(t.item.name||"Unnamed Request"),1)],16)):G("",!0)])}}},Dp=ye(qp,[["__scopeId","data-v-25d12e96"]]),Pp={class:"collections-tab"},Fp={class:"search-container"},Np=["value"],Mp={class:"collections-list"},Lp={key:0,class:"empty-state"},Vp={key:1,class:"empty-state welcome-state"},Up={key:2,class:"empty-state search-empty"},jp=["onClick","onContextmenu","onTouchstart","onTouchend","onTouchcancel"],zp={class:"expand-icon"},Hp={class:"collection-name"},Bp={class:"request-count"},Jp={key:1,class:"requests-list"},Wp=500,Gp={__name:"CollectionsTab",setup(t){let e=null;const s=te({}),n=te("");let o=null;const i=te(new Set);let r=new Map;const l=(R,E)=>{const T=R.touches[0],$=setTimeout(()=>{i.value.add(E.info.id);const I=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,view:window,clientX:T.clientX,clientY:T.clientY,screenX:T.screenX,screenY:T.screenY});Object.defineProperty(I,"target",{value:R.target,enumerable:!0}),x(I,E),navigator.vibrate&&navigator.vibrate(50),setTimeout(()=>{i.value.delete(E.info.id)},200)},Wp);r.set(E.info.id,$)},u=R=>{const E=r.get(R.info.id);E&&(clearTimeout(E),r.delete(R.info.id)),i.value.delete(R.info.id)},p=R=>i.value.has(R),c=te(null),d=te(null),f=te(null);De(()=>{e=new Cd,s.value=e.getCollectionsState(),e.setContextMenuRefs(c.value,d.value,f.value),e.on("collectionCreated",T=>{}),e.on("collectionDeleted",T=>{});const E=setInterval(()=>{},100);e._intervalId=E}),Ze(()=>{o&&(clearTimeout(o),o=null),e&&(e._intervalId&&clearInterval(e._intervalId),e.dispose(),e=null)}),ve([c,d,f],()=>{e&&e.setContextMenuRefs(c.value,d.value,f.value)});const h=R=>e?.toggleCollection(R),v=(R,E)=>e?.openRequest(R,E),y=()=>e?.toggleNewCollectionDialog(!0),x=(R,E)=>e?.showContextMenu(R,E),j=(R,E,T)=>e?.showRequestContextMenu(R,E,T),N=(R,E,T)=>e?.showFolderContextMenu(R,E,T),_=R=>e?.handleContextAction(R),A=R=>e?.handleRequestContextAction(R),V=()=>e?.getCollections()||[],z=()=>e?.getFilteredCollections()||[],S=R=>e?.isCollectionExpanded(R)||!1,O=R=>{const E=R.target.value;n.value=E,o&&clearTimeout(o),o=setTimeout(()=>{e?.searchCollections(E)},150)},L=()=>{n.value="",e?.searchCollections("")};return(R,E)=>(g(),w("div",Pp,[a("div",{class:"section-header"},[E[4]||(E[4]=a("span",{class:"section-title"},"Collections",-1)),a("button",{class:"btn-icon",title:"New Collection",onClick:y},"+")]),a("div",Fp,[E[5]||(E[5]=a("span",{class:"search-icon"},"",-1)),a("input",{type:"text",class:"search-input",placeholder:"Search requests...",value:n.value,onInput:O,onKeydown:fo(L,["escape"])},null,40,Np),n.value?(g(),w("button",{key:0,class:"search-clear",onClick:L,title:"Clear search"},"  ")):G("",!0)]),a("div",Mp,[V()?V().length===0?(g(),w("div",Vp,[E[7]||(E[7]=a("div",{class:"welcome-icon"},"",-1)),E[8]||(E[8]=a("h3",null,"Welcome to ToastMan!",-1)),E[9]||(E[9]=a("p",null,"Get started by creating your first collection to organize your API requests.",-1)),a("button",{class:"btn-primary",onClick:y}," Create Your First Collection "),E[10]||(E[10]=a("div",{class:"quick-tips"},[a("h4",null,"Quick Tips:"),a("ul",null,[a("li",null,"Collections help organize related requests"),a("li",null,"Use environments to manage variables"),a("li",null,"Import from Postman collections")])],-1))])):n.value&&z().length===0?(g(),w("div",Up,[E[13]||(E[13]=a("span",{class:"search-empty-icon"},"",-1)),a("p",null,[E[11]||(E[11]=_e('No requests match "',-1)),a("strong",null,D(n.value),1),E[12]||(E[12]=_e('"',-1))]),a("button",{class:"btn-secondary",onClick:L},"Clear search")])):(g(!0),w(me,{key:3},ke(z(),T=>(g(),w("div",{key:T?.info?.id||Date.now(),class:"collection-item"},[T&&T.info?(g(),w("div",{key:0,class:ue(["collection-header",{"long-pressing":p(T.info.id)}]),onClick:$=>h(T.info.id),onContextmenu:$=>x($,T),onTouchstart:$=>l($,T),onTouchend:$=>u(T),onTouchcancel:$=>u(T)},[a("span",zp,D(S(T.info.id)?"":""),1),a("span",Hp,D(T.info.name),1),a("span",Bp,D((T.item||[]).length),1)],42,jp)):G("",!0),T&&T.info&&S(T.info.id)&&T.item?(g(),w("div",Jp,[(g(!0),w(me,null,ke(T.item,$=>(g(),de(Dp,{key:$.id,item:$,"collection-id":T.info.id,controller:M(e)?.collectionsController,onOpenRequest:E[0]||(E[0]=(I,H)=>v(I,H)),onShowContextMenu:(I,H)=>j(I,T,H),onShowFolderContextMenu:(I,H)=>N(I,T,H)},null,8,["item","collection-id","controller","onShowContextMenu","onShowFolderContextMenu"]))),128))])):G("",!0)]))),128)):(g(),w("div",Lp,[...E[6]||(E[6]=[a("div",{class:"loading-spinner"},"",-1),a("p",null,"Loading collections...",-1)])]))]),s.value.showNewCollectionDialog?(g(),de(tp,{key:0,onClose:E[1]||(E[1]=()=>M(e)?.toggleNewCollectionDialog(!1))})):G("",!0),M(e)?.state?.showNewFolderDialog&&M(e)?.state?.newFolderDialogData?(g(),de(up,{key:1,"collection-id":M(e).state.newFolderDialogData.collectionId,"parent-folder-id":M(e).state.newFolderDialogData.parentFolderId,onClose:E[2]||(E[2]=()=>M(e)?.hideNewFolderDialog()),onCreate:E[3]||(E[3]=()=>M(e)?.hideNewFolderDialog())},null,8,["collection-id","parent-folder-id"])):G("",!0),M(e)?(g(),w(me,{key:2},[fe(xp,{ref_key:"contextMenuRef",ref:c,"collections-controller":M(e).collectionsController,onAction:_},null,8,["collections-controller"]),fe(Cp,{ref_key:"requestContextMenuRef",ref:d,"collections-controller":M(e).collectionsController,onAction:A},null,8,["collections-controller"]),fe(Tp,{ref_key:"folderContextMenuRef",ref:f,"collections-controller":M(e).collectionsController,onAction:_},null,8,["collections-controller"])],64)):G("",!0)]))}},Kp=ye(Gp,[["__scopeId","data-v-d74502f2"]]);class Kt extends oe{static schema={id:{type:"string",default:()=>oe.generateId()},key:{type:"string",required:!0},value:{type:"string",default:""},type:{type:"string",enum:["default","secret","boolean","number","json"],default:"default"},enabled:{type:"boolean",default:!0},description:{type:"string",default:""}};constructor(e={}){super(e),this.validateValue()}validateValue(){if(this.type==="boolean"&&this.value!==""&&this.value!=="true"&&this.value!=="false")throw new Error(`Boolean variable '${this.key}' must have value 'true' or 'false'`);if(this.type==="number"&&this.value!==""&&isNaN(Number(this.value)))throw new Error(`Number variable '${this.key}' must have a numeric value`);if(this.type==="json"&&this.value!=="")try{JSON.parse(this.value)}catch{throw new Error(`JSON variable '${this.key}' must have valid JSON as value`)}}getParsedValue(){if(!(!this.enabled||this.value===""))switch(this.type){case"boolean":return this.value==="true";case"number":return Number(this.value);case"json":try{return JSON.parse(this.value)}catch{return this.value}case"secret":case"default":default:return this.value}}isSecret(){return this.type==="secret"}}class Yt extends oe{static schema={id:{type:"string",default:()=>oe.generateId()},name:{type:"string",required:!0},values:{type:"array",default:[]},isActive:{type:"boolean",default:!1},isGlobal:{type:"boolean",default:!1},color:{type:"string",default:""},_postman_variable_scope:{type:"string",default:"environment"},_postman_exported_at:{type:"string",default:()=>oe.getTimestamp()},_postman_exported_using:{type:"string",default:"ToastMan"},createdAt:{type:"string",default:()=>oe.getTimestamp()},updatedAt:{type:"string",default:()=>oe.getTimestamp()}};constructor(e={}){typeof e=="string"&&(e={name:e}),e.id!==void 0&&e.id!==null&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt!==void 0&&e.createdAt!==null&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt!==void 0&&e.updatedAt!==null&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e._postman_exported_at!==void 0&&e._postman_exported_at!==null&&typeof e._postman_exported_at!="string"&&(e._postman_exported_at=e._postman_exported_at instanceof Date?e._postman_exported_at.toISOString():String(e._postman_exported_at)),e.values&&(e.values=e.values.map(s=>s instanceof Kt?s.toJSON():new Kt(s).toJSON())),super(e)}addVariable(e,s,n="default",o=!0){const i=this.values.findIndex(r=>r.key===e);return i!==-1?this.values[i]=new Kt({key:e,value:s,type:n,enabled:o}).toJSON():this.values.push(new Kt({key:e,value:s,type:n,enabled:o}).toJSON()),this.updatedAt=oe.getTimestamp(),this}removeVariable(e){return this.values=this.values.filter(s=>s.key!==e),this.updatedAt=oe.getTimestamp(),this}getVariable(e){const s=this.values.find(n=>n.key===e&&n.enabled);if(s)return new Kt(s).getParsedValue()}getAllVariables(){const e={};for(const s of this.values)if(s.enabled){const n=new Kt(s);e[s.key]=n.getParsedValue()}return e}getEnabledVariables(){return this.values.filter(e=>e.enabled)}toggleVariable(e){const s=this.values.find(n=>n.key===e);return s&&(s.enabled=!s.enabled,this.updatedAt=oe.getTimestamp()),this}updateVariable(e,s){const n=this.values.find(o=>o.key===e);return n&&(Object.assign(n,s),this.updatedAt=oe.getTimestamp()),this}replaceVariables(e){return!e||typeof e!="string"?e:e.replace(/\{\{(\w+)\}\}/g,(s,n)=>{const o=this.getVariable(n);return o!==void 0?String(o):s})}merge(e){const s=new Yt(this.toJSON());for(const n of e.values)s.values.find(o=>o.key===n.key)||s.values.push(n);return s}export(){return{id:this.id,name:this.name,values:this.values.map(e=>({key:e.key,value:e.type==="secret"?"":e.value,type:e.type,enabled:e.enabled})),_postman_variable_scope:this._postman_variable_scope,_postman_exported_at:new Date().toISOString(),_postman_exported_using:this._postman_exported_using}}static import(e){return new Yt(e)}static createGlobal(){return new Yt({name:"Global",isGlobal:!0,_postman_variable_scope:"globals"})}}const Xp=new ss({prefix:"useEnvironments",level:"debug"});let Fo=null;function gs(){return Fo||(Fo=Yp()),Fo}function Yp(){const{data:t}=nd(),{data:e}=id(),s=F(()=>t.value||[]),n=F(()=>e.value?s.value.find(S=>S.id===e.value):null),o=F(()=>s.value.reduce((S,O)=>S+(O.values?.length||0),0)),i=(S="New Environment")=>{const L=new Yt({name:S}).toJSON();return t.value.push(L),L},r=S=>s.value.find(O=>O.id===S),l=(S,O)=>{const L=r(S);return L&&(Object.assign(L,O),L._postman_exported_at=new Date().toISOString()),L},u=S=>{const O=t.value.findIndex(L=>L.id===S);return O>-1?(t.value.splice(O,1),e.value===S&&(e.value=null),!0):!1},p=S=>{const O=r(S);if(O){const R=new Yt(O).clone();R.id=qe(),R.name=`${O.name} Copy`,R._postman_exported_at=new Date().toISOString(),R.values=R.values.map(T=>({...T,id:qe()}));const E=R.toJSON();return t.value.push(E),E}return null},c=S=>{const O=r(S);return O?(e.value=S,O):(S===null&&(e.value=null),null)},d=(S,O="",L="",R=!0)=>{const E=r(S);if(E){const T=new Kt({key:O,value:L,enabled:R});return E.values.push(T.toJSON()),E._postman_exported_at=new Date().toISOString(),T.toJSON()}return null},f=(S,O)=>{const L=r(S);return L?L.values.find(R=>R.id===O):null},h=(S,O,L)=>{const R=f(S,O);if(R){Object.assign(R,L);const E=r(S);E&&(E._postman_exported_at=new Date().toISOString())}return R},v=(S,O)=>{const L=r(S);if(L){const R=L.values.findIndex(E=>E.id===O);if(R>-1)return L.values.splice(R,1),L._postman_exported_at=new Date().toISOString(),!0}return!1},y=(S,O)=>{const L=f(S,O);if(L){const R=JSON.parse(JSON.stringify(L));R.id=qe(),R.key=`${L.key}_copy`;const E=r(S);if(E)return E.values.push(R),E._postman_exported_at=new Date().toISOString(),R}return null},x=(S,O=null)=>{const L=O?r(O):n.value;return L&&L.values.find(E=>E.key===S&&E.enabled)?.value||null},j=(S,O=null)=>!S||typeof S!="string"?S:S.replace(/\{\{([^}]+)\}\}/g,(L,R)=>{const E=x(R.trim(),O);return E!==null?E:L}),N=(S=null)=>{const O=S?r(S):n.value;return O?O.values.filter(L=>L.enabled).map(L=>({key:L.key,value:L.value})):[]},_=S=>{const O=[],L=S.toLowerCase();return s.value.forEach(R=>{R.values.forEach(E=>{const T=E.key.toLowerCase().includes(L),$=E.value.toLowerCase().includes(L);(T||$)&&O.push({environment:R,variable:E})})}),O},A=S=>{const O=r(S);return O?{...O,_postman_exported_at:new Date().toISOString(),_postman_exported_using:"ToastMan"}:null},V=S=>{try{if(!S.name)throw new Error("Invalid environment format");const O=["default","secret","boolean","number","json"],L=(S.values||[]).map(T=>({...T,id:qe(),type:O.includes(T.type)?T.type:"default"})),R=new Yt({...S,values:L,color:S.color||""});R.id=qe(),R.name=`${R.name} (Imported)`,R._postman_exported_at=new Date().toISOString(),R._postman_exported_using="ToastMan";const E=R.toJSON();return t.value.push(E),E}catch(O){throw Xp.error("Failed to import environment:",O),O}},z=async()=>{if(await Pe(),s.value.length===0){const S=i("Development");d(S.id,"baseUrl","https://api-dev.example.com"),d(S.id,"apiKey","dev-api-key-123");const O=i("Production");d(O.id,"baseUrl","https://api.example.com"),d(O.id,"apiKey","prod-api-key-456"),c(S.id)}};return{environments:s,activeEnvironment:n,activeEnvironmentId:F(()=>e.value),totalVariables:o,createEnvironment:i,getEnvironment:r,updateEnvironment:l,deleteEnvironment:u,duplicateEnvironment:p,setActiveEnvironment:c,addVariable:d,getVariable:f,updateVariable:h,deleteVariable:v,duplicateVariable:y,resolveVariable:x,interpolateString:j,getAvailableVariables:N,searchVariables:_,exportEnvironment:A,importEnvironment:V,initializeDefaultData:z}}class Qp extends Ge{constructor(){super("environments"),this.createState({}),this.environmentsStore=gs()}init(){super.init(),this.environments=this.createComputed("environments",()=>{if(!this.environmentsStore)return[];const e=this.environmentsStore.environments.value||[];return Array.isArray(e)?e:[]}),this.activeEnvironment=this.createComputed("activeEnvironment",()=>this.environmentsStore&&this.environmentsStore.activeEnvironment.value||null)}async createEnvironment(e="New Environment"){const s=await this.executeAsync(async()=>{const n=this.validate(Yt,{name:e});if(!n.valid)throw new Error(n.error);const o=this.environmentsStore.createEnvironment(e);return this.logger.info("Created environment:",o?.name,"with ID:",o?.id),o},"Failed to create environment");return s.success&&this.emit("environmentCreated",s.data),s}setActiveEnvironment(e){this.environmentsStore.setActiveEnvironment(e),this.logger.info(`Set active environment: ${e}`),this.emit("environmentChanged",e)}async updateEnvironment(e,s){const n=await this.executeAsync(async()=>{const o=this.environmentsStore.updateEnvironment(e,s);return this.logger.info(`Updated environment: ${e}`),o},"Failed to update environment");return n.success&&this.emit("environmentUpdated",{environmentId:e,environment:n.data}),n}async deleteEnvironment(e){const s=await this.executeAsync(async()=>{this.environmentsStore.deleteEnvironment(e),this.logger.info(`Deleted environment: ${e}`)},"Failed to delete environment");return s.success&&this.emit("environmentDeleted",e),s}async duplicateEnvironment(e){const s=await this.executeAsync(async()=>{const n=this.environmentsStore.duplicateEnvironment(e);return this.logger.info(`Duplicated environment: ${e}`),n},"Failed to duplicate environment");return s.success&&this.emit("environmentDuplicated",s.data),s}async addVariable(e,s="",n="",o=!0){const i=await this.executeAsync(async()=>{const r=this.environmentsStore.addVariable(e,s,n,o);return this.logger.info(`Added variable '${s}' to environment: ${e}`),r},"Failed to add variable");return i.success&&this.emit("variableAdded",{environmentId:e,variable:i.data}),i}async updateVariable(e,s,n){const o=await this.executeAsync(async()=>{const i=this.environmentsStore.updateVariable(e,s,n);return this.logger.info(`Updated variable in environment: ${e}`),i},"Failed to update variable");return o.success&&this.emit("variableUpdated",{environmentId:e,variableId:s,variable:o.data}),o}async deleteVariable(e,s){const n=await this.executeAsync(async()=>{this.environmentsStore.deleteVariable(e,s),this.logger.info(`Deleted variable from environment: ${e}`)},"Failed to delete variable");return n.success&&this.emit("variableDeleted",{environmentId:e,variableId:s}),n}async importEnvironment(e){const s=await this.executeAsync(async()=>{const n=this.environmentsStore.importEnvironment(e);return this.logger.info("Imported environment:",n?.name),n},"Failed to import environment");return s.success&&this.emit("environmentImported",s.data),s}exportEnvironment(e){try{const s=this.environmentsStore.exportEnvironment(e);return this.logger.info("Exported environment:",e),this.emit("environmentExported",{environmentId:e,data:s}),{success:!0,data:s}}catch(s){return this.logger.error("Failed to export environment:",s),{success:!1,error:s.message}}}}const Zp=["disabled"],ef={class:"import-section"},tf={key:0,class:"import-trigger"},sf={key:1,class:"import-preview"},nf={class:"preview-header"},of={class:"preview-info"},rf={class:"preview-name"},af={class:"preview-meta"},lf={class:"preview-filename"},cf={key:2,class:"import-error"},uf={class:"error-content"},df={class:"error-text"},pf={class:"form-actions"},ff=["disabled"],hf={__name:"NewEnvironmentDialog",emits:["close","create","import"],setup(t,{emit:e}){const s=e,n=te(""),o=te(null),i=te(null),r=te(null),l=te(""),u=te(""),p=F(()=>r.value!==null),c=F(()=>p.value?"Import Environment":"Create Environment"),d=F(()=>p.value?r.value!==null&&!u.value:n.value.trim().length>0),f=F(()=>p.value?"Import Environment":"New Environment"),h=N=>{const _=N.target.files[0];if(!_)return;l.value=_.name,u.value="",r.value=null;const A=new FileReader;A.onload=V=>{try{const z=JSON.parse(V.target.result);if(!z.name){u.value="Environment file is missing a name field.";return}if(!Array.isArray(z.values)){u.value="Environment file is missing a values array.";return}r.value=z}catch{u.value="Could not parse file. Please select a valid Postman environment JSON."}},A.onerror=()=>{u.value="Failed to read file."},A.readAsText(_)},v=()=>{r.value=null,l.value="",u.value="",i.value&&(i.value.value="")},y=()=>{i.value?.click()},x=N=>{N.preventDefault(),p.value&&r.value?(s("import",r.value),s("close")):n.value.trim()&&(s("create",n.value.trim()),s("close"))},j=()=>{s("close")};return De(()=>{setTimeout(()=>{o.value?.focus()},100)}),(N,_)=>(g(),de(Us,{title:f.value,width:"450px",onClose:j},{default:Fe(()=>[a("form",{onSubmit:x,class:"environment-form"},[a("div",{class:ue(["form-group",{disabled:p.value}])},[_[1]||(_[1]=a("label",{for:"environment-name",class:"form-label"}," Environment Name ",-1)),ce(a("input",{id:"environment-name",ref_key:"nameInput",ref:o,"onUpdate:modelValue":_[0]||(_[0]=A=>n.value=A),type:"text",placeholder:"e.g., Development, Production, Staging",class:"form-input",disabled:p.value},null,8,Zp),[[Se,n.value]]),_[2]||(_[2]=a("p",{class:"form-help"}," Choose a descriptive name for your environment. ",-1))],2),_[7]||(_[7]=a("div",{class:"divider"},[a("span",{class:"divider-text"},"or")],-1)),a("div",ef,[a("input",{ref_key:"fileInput",ref:i,type:"file",accept:".json",class:"file-input-hidden",onChange:h},null,544),!r.value&&!u.value?(g(),w("div",tf,[a("button",{type:"button",class:"btn-import",onClick:y},[..._[3]||(_[3]=[a("span",{class:"import-icon"},"",-1),_e(" Import from Postman file ",-1)])]),_[4]||(_[4]=a("p",{class:"import-hint"}," Select a .postman_environment.json file ",-1))])):r.value?(g(),w("div",sf,[a("div",nf,[_[5]||(_[5]=a("span",{class:"preview-icon"},"",-1)),a("div",of,[a("span",rf,D(r.value.name),1),a("span",af,D(r.value.values?.length||0)+" variables",1)]),a("button",{type:"button",class:"btn-clear",onClick:v,title:"Clear and start over"},"  ")]),a("p",lf,D(l.value),1)])):u.value?(g(),w("div",cf,[a("div",uf,[_[6]||(_[6]=a("span",{class:"error-icon"},"",-1)),a("span",df,D(u.value),1)]),a("button",{type:"button",class:"btn-retry",onClick:y}," Try another file ")])):G("",!0)]),a("div",pf,[a("button",{type:"button",class:"btn-secondary",onClick:j}," Cancel "),a("button",{type:"submit",class:"btn-primary",disabled:!d.value},D(c.value),9,ff)])],32)]),_:1},8,["title"]))}},mf=ye(hf,[["__scopeId","data-v-c0dc3c70"]]);class gf extends vo{constructor(e){super("environment-context-menu"),this.environmentsController=e,this.alert=Vs()}getMenuTitle(e){return e?.name||"Environment"}getMenuItems(){return[{action:"activate",label:"Set as Active",icon:""},{type:"separator"},{action:"variables",label:"Manage Variables",icon:""},{action:"rename",label:"Rename",icon:""},{action:"duplicate",label:"Duplicate",icon:""},{action:"export",label:"Export",icon:""},{type:"separator"},{action:"delete",label:"Delete",icon:"",danger:!0}]}async handleAction(e,s){switch(this.logger.info(`Executing environment action: ${e} for environment: ${s?.name}`),e){case"activate":return await this.activateEnvironment(s);case"variables":return await this.manageVariables(s);case"rename":return await this.renameEnvironment(s);case"duplicate":return await this.duplicateEnvironment(s);case"export":return await this.exportEnvironment(s);case"delete":return await this.deleteEnvironment(s);default:throw new Error(`Unknown action: ${e}`)}}async activateEnvironment(e){return this.environmentsController.setActiveEnvironment(e.id),this.logger.info("Activated environment:",e.name),{action:"activate",environmentId:e.id,environmentName:e.name}}async manageVariables(e){return this.logger.info("Opening variables dialog for environment:",e.name),{action:"variables",environment:e}}async renameEnvironment(e){const s=await this.alert.prompt("Enter new environment name:",e.name,"Rename Environment");return s&&s.trim()&&s.trim()!==e.name?(this.environmentsController.environmentsStore.updateEnvironment(e.id,{name:s.trim()}),this.logger.info("Renamed environment from",e.name,"to",s.trim()),await this.alert.alertSuccess(`Environment renamed to "${s.trim()}"`),{action:"rename",oldName:e.name,newName:s.trim()}):{action:"rename",cancelled:!0}}async duplicateEnvironment(e){const s=this.environmentsController.duplicateEnvironment(e.id);if(s)return this.logger.info("Duplicated environment:",e.name,"",s.name),{action:"duplicate",originalId:e.id,duplicateId:s.id};throw new Error("Failed to duplicate environment")}async exportEnvironment(e){try{const s={id:e.id,name:e.name,values:e.values||[],exportedAt:new Date().toISOString(),exportedBy:"ToastMan"},n=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),o=URL.createObjectURL(n),i=document.createElement("a");return i.href=o,i.download=`${e.name.replace(/[^a-z0-9]/gi,"_")}_environment.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o),this.logger.info("Exported environment:",e.name),{action:"export",environmentId:e.id,environmentName:e.name}}catch(s){throw this.logger.error("Failed to export environment:",s),new Error("Failed to export environment")}}async deleteEnvironment(e){const s=this.environmentsController.environmentsStore.activeEnvironment?.value?.id===e.id||this.environmentsController.environmentsStore.activeEnvironment?.id===e.id,n=s?`Are you sure you want to delete the environment "${e.name}"?

This is your currently ACTIVE environment. Deleting it will deactivate all environment variables.

This action cannot be undone.`:`Are you sure you want to delete the environment "${e.name}"?

This action cannot be undone.`;return await this.alert.confirmDelete(n,"Delete Environment")?(await this.environmentsController.deleteEnvironment(e.id),this.logger.info("Deleted environment:",e.name),await this.alert.alertSuccess(`Environment "${e.name}" has been deleted`),{action:"delete",environmentId:e.id,environmentName:e.name,wasActive:s}):{action:"delete",cancelled:!0}}}const vf={key:0,class:"active-indicator"},yf={__name:"EnvironmentContextMenu",props:{environmentsController:{type:Object,required:!0}},emits:["close","action"],setup(t,{expose:e,emit:s}){const n=t,o=s,i=new gf(n.environmentsController);i.init();const r=F(()=>i.getMenuItems()),l=u=>{o("action",u)};return e({show:(u,p)=>i.show(u,p),hide:()=>i.hide(),controller:i}),(u,p)=>M(i).state.show?(g(),de(go,{key:0,controller:M(i),"menu-items":r.value,onAction:l},{items:Fe(({item:c,handleAction:d})=>[t.environmentsController.environmentsStore.activeEnvironment?.value?.id===c?.id||t.environmentsController.environmentsStore.activeEnvironment?.id===c?.id?(g(),w("div",vf,[...p[0]||(p[0]=[a("span",{class:"active-icon"},"",-1),a("span",{class:"active-text"},"Currently Active",-1)])])):G("",!0)]),_:1},8,["controller","menu-items"])):G("",!0)}},bf=ye(yf,[["__scopeId","data-v-d84c6688"]]),wf=["disabled","aria-expanded"],xf={class:"custom-dropdown-value"},_f=["aria-selected","onClick"],Cf={__name:"CustomDropdown",props:{modelValue:{type:[String,Number],default:null},options:{type:Array,required:!0},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"Select an option"}},emits:["update:modelValue"],setup(t,{emit:e}){const s=t,n=e,o=te(!1),i=te(null),r=te(null),l=te(-1),u=_=>typeof _=="object"&&_!==null?_.value:_,p=_=>typeof _=="object"&&_!==null?_.label:_,c=_=>u(_)===s.modelValue,d=_=>l.value===_,f=F(()=>{if(s.modelValue===null||s.modelValue===void 0||s.modelValue==="")return s.placeholder;const _=s.options.find(A=>u(A)===s.modelValue);return _?p(_):s.placeholder}),h=()=>{if(!s.disabled)if(o.value=!o.value,o.value){const _=s.options.findIndex(A=>u(A)===s.modelValue);l.value=_>=0?_:0}else l.value=-1},v=_=>{const A=u(_);n("update:modelValue",A),o.value=!1,l.value=-1},y=_=>{if(o.value)switch(_.key){case"ArrowDown":_.preventDefault(),l.value=Math.min(l.value+1,s.options.length-1),x();break;case"ArrowUp":_.preventDefault(),l.value=Math.max(l.value-1,0),x();break;case"Enter":_.preventDefault(),l.value>=0&&l.value<s.options.length&&v(s.options[l.value]);break;case"Tab":o.value=!1,l.value=-1;break}},x=()=>{if(!r.value||l.value<0)return;const A=r.value.querySelectorAll(".custom-dropdown-option")[l.value];A&&A.scrollIntoView({block:"nearest",behavior:"smooth"})},j=_=>{o.value&&i.value&&r.value&&!i.value.contains(_.target)&&!r.value.contains(_.target)&&(o.value=!1)},N=_=>{_.key==="Escape"&&o.value&&(o.value=!1,l.value=-1)};return De(()=>{document.addEventListener("click",j),document.addEventListener("keydown",N),document.addEventListener("keydown",y)}),Ze(()=>{document.removeEventListener("click",j),document.removeEventListener("keydown",N),document.removeEventListener("keydown",y)}),(_,A)=>(g(),w("div",{class:ue(["custom-dropdown",{"is-open":o.value,"is-disabled":t.disabled}])},[a("button",{ref_key:"triggerRef",ref:i,type:"button",disabled:t.disabled,onClick:h,class:"custom-dropdown-trigger","aria-expanded":o.value,"aria-haspopup":!0},[a("span",xf,D(f.value),1),(g(),w("svg",{class:ue(["custom-dropdown-chevron",{"is-open":o.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...A[0]||(A[0]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,wf),fe(lu,{name:"dropdown-fade"},{default:Fe(()=>[o.value?(g(),w("div",{key:0,ref_key:"dropdownRef",ref:r,class:"custom-dropdown-menu",role:"listbox"},[(g(!0),w(me,null,ke(t.options,(V,z)=>(g(),w("button",{key:u(V),type:"button",role:"option","aria-selected":c(V),onClick:S=>v(V),class:ue(["custom-dropdown-option",{"is-selected":c(V),"is-focused":d(z)}])},D(p(V)),11,_f))),128))],512)):G("",!0)]),_:1})],2))}},_s=ye(Cf,[["__scopeId","data-v-53d20cee"]]),Sf={class:"variables-container"},Tf={class:"variables-table"},kf={class:"table-body"},Ef={class:"col-checkbox"},$f=["onUpdate:modelValue","disabled"],Af={class:"col-key"},Rf=["onUpdate:modelValue","onInput"],Of={key:0,class:"error-text"},If={class:"col-type"},qf={class:"col-value"},Df=["type","onUpdate:modelValue","placeholder","disabled"],Pf=["onUpdate:modelValue","placeholder","disabled"],Ff={class:"col-actions"},Nf={class:"action-buttons"},Mf=["onClick"],Lf=["onClick"],Vf={class:"variables-summary"},Uf={class:"summary-text"},jf=["disabled"],zf={__name:"EnvironmentVariablesDialog",props:{environment:{type:Object,required:!0}},emits:["close","update"],setup(t,{emit:e}){const s=new ss({prefix:"EnvironmentVariablesDialog",level:"debug"}),n=t,o=e,i=te([]);te({key:"",value:"",type:"default",description:"",enabled:!0});const r=te([]);De(()=>{const _=n.environment.values||[];i.value=_.map(A=>({...A})),i.value.length===0&&p()});const l=[{value:"default",label:"Text"},{value:"secret",label:"Secret"},{value:"number",label:"Number"},{value:"boolean",label:"Boolean"},{value:"json",label:"JSON"}],u=F(()=>i.value.filter(_=>_.enabled&&_.key).length),p=async()=>{const _=i.value.length;i.value.push({id:`temp_${Date.now()}`,key:"",value:"",type:"default",description:"",enabled:!0}),await Pe();const A=r.value[_];A&&(A.scrollIntoView({behavior:"smooth",block:"center"}),A.focus())},c=_=>{i.value.splice(_,1),i.value.length===0&&p()},d=async _=>{const A=i.value[_],V={...A,id:`temp_${Date.now()}`,key:`${A.key}_copy`,enabled:!0};i.value.splice(_+1,0,V),await Pe();const z=r.value[_+1];z&&(z.scrollIntoView({behavior:"smooth",block:"center"}),z.focus(),z.select())},f=_=>{if(!_.key)return"Key is required";if(i.value.filter(V=>V.key===_.key&&V.key!=="").length>1)return"Duplicate key";if(_.type==="number"&&_.value!==""&&isNaN(Number(_.value)))return"Must be a number";if(_.type==="boolean"&&_.value!==""&&_.value!=="true"&&_.value!=="false")return"Must be true or false";if(_.type==="json"&&_.value!=="")try{JSON.parse(_.value)}catch{return"Invalid JSON"}return null},h=F(()=>{const _={};return i.value.forEach((A,V)=>{if(A.key){const z=f(A);z&&(_[V]=z)}}),_}),v=_=>h.value[_]||null,y=F(()=>Object.keys(h.value).length>0),x=()=>{if(y.value)return;const _=i.value.filter(V=>V.key.trim()!=="").map(V=>{try{return new Kt({key:V.key.trim(),value:V.value,type:V.type,description:V.description||"",enabled:V.enabled}).toJSON()}catch(z){return s.error("Error creating environment variable:",z),null}}).filter(V=>V!==null),A={...n.environment,values:_};o("update",A),o("close")},j=async(_,A)=>{const V=i.value[_];if(V.key=A.target.value,_===i.value.length-1&&V.key.trim()!==""){const z=i.value.length;i.value.push({id:`temp_${Date.now()}`,key:"",value:"",type:"default",description:"",enabled:!0}),await Pe();const S=r.value[z];S&&S.scrollIntoView({behavior:"smooth",block:"nearest"})}},N=_=>{switch(_){case"secret":return"Enter secret value...";case"number":return"Enter number...";case"boolean":return"true or false";case"json":return"Enter JSON object...";default:return"Enter value..."}};return(_,A)=>(g(),de(Us,{title:`Environment Variables - ${t.environment.name}`,width:"800px",height:"600px",onClose:A[1]||(A[1]=V=>o("close"))},{footer:Fe(()=>[a("button",{onClick:A[0]||(A[0]=V=>o("close")),class:"btn-secondary"}," Cancel "),a("button",{onClick:x,class:"btn-primary",disabled:y.value}," Save Changes ",8,jf)]),default:Fe(()=>[a("div",Sf,[a("div",Tf,[A[7]||(A[7]=a("div",{class:"table-header"},[a("div",{class:"col-checkbox"}),a("div",{class:"col-key"},"Variable"),a("div",{class:"col-type"},"Type"),a("div",{class:"col-value"},"Initial Value"),a("div",{class:"col-actions"},"Actions")],-1)),a("div",kf,[(g(!0),w(me,null,ke(i.value,(V,z)=>(g(),w("div",{key:V.id||z,class:ue(["variable-row",{disabled:!V.enabled}])},[a("div",Ef,[A[2]||(A[2]=a("label",{class:"mobile-label"},"Enabled",-1)),ce(a("input",{type:"checkbox","onUpdate:modelValue":S=>V.enabled=S,disabled:!V.key},null,8,$f),[[Qe,V.enabled]])]),a("div",Af,[A[3]||(A[3]=a("label",{class:"mobile-label"},"Variable Name",-1)),ce(a("input",{type:"text","onUpdate:modelValue":S=>V.key=S,onInput:S=>j(z,S),placeholder:"Variable name...",class:ue(["input-field",{error:v(z)}]),ref_for:!0,ref:S=>{S&&(r.value[z]=S)}},null,42,Rf),[[Se,V.key]]),v(z)?(g(),w("div",Of,D(v(z)),1)):G("",!0)]),a("div",If,[A[4]||(A[4]=a("label",{class:"mobile-label"},"Type",-1)),fe(_s,{modelValue:V.type,"onUpdate:modelValue":S=>V.type=S,options:l,disabled:!V.key,class:"input-field"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),a("div",qf,[A[5]||(A[5]=a("label",{class:"mobile-label"},"Initial Value",-1)),V.type!=="json"?ce((g(),w("input",{key:0,type:V.type==="secret"?"password":"text","onUpdate:modelValue":S=>V.value=S,placeholder:N(V.type),class:"input-field",disabled:!V.key},null,8,Df)),[[Du,V.value]]):ce((g(),w("textarea",{key:1,"onUpdate:modelValue":S=>V.value=S,placeholder:N(V.type),class:"input-field textarea-field",disabled:!V.key,rows:"2"},null,8,Pf)),[[Se,V.value]])]),a("div",Ff,[A[6]||(A[6]=a("label",{class:"mobile-label"},"Actions",-1)),a("div",Nf,[V.key?(g(),w("button",{key:0,onClick:S=>d(z),class:"action-btn duplicate-btn",title:"Duplicate variable"},"  ",8,Mf)):G("",!0),i.value.length>1?(g(),w("button",{key:1,onClick:S=>c(z),class:"action-btn delete-btn",title:"Delete variable"},"  ",8,Lf)):G("",!0)])])],2))),128))])]),a("div",Vf,[a("span",Uf,D(u.value)+" enabled variable"+D(u.value!==1?"s":""),1),a("button",{onClick:p,class:"btn-secondary"}," + Add Variable ")])])]),_:1},8,["title"]))}},Hf=ye(zf,[["__scopeId","data-v-9ca8f12a"]]),Bf={class:"environments-tab"},Jf={class:"environments-list"},Wf={key:0,class:"empty-state"},Gf={key:1,class:"empty-state welcome-state"},Kf=["onClick","onContextmenu"],Xf={class:"environment-content"},Yf={class:"environment-name"},Qf={class:"variable-count"},Zf={class:"environment-actions"},eh={key:0,class:"active-badge"},th={__name:"EnvironmentsTab",setup(t){const e=new ss({prefix:"EnvironmentsTab",level:"debug"}),s=new Qp;s.init(),s.state;const n=F(()=>s.getComputed("environments")||[]),o=F(()=>s.getComputed("activeEnvironment")),i=te(!1),r=te(!1),l=te(null),u=te(null),p=()=>{i.value=!0},c=async j=>{(await s.createEnvironment(j)).success&&(i.value=!1)},d=async j=>{const N=await s.importEnvironment(j);N.success?(i.value=!1,e.info("Environment imported successfully:",j.name)):e.error("Failed to import environment:",N.error)},f=j=>s.setActiveEnvironment(j),h=(j,N)=>{u.value&&u.value.show(j,N)},v=j=>{j.action==="variables"&&j.item&&y(j.item)},y=j=>{l.value=j,r.value=!0},x=async j=>{const N=await s.updateEnvironment(j.id,{values:j.values});N.success?(r.value=!1,l.value=null):e.error("[DEBUG] Update failed:",N.error)};return De(()=>{}),Ze(()=>{s.dispose()}),(j,N)=>(g(),w("div",Bf,[a("div",{class:"section-header"},[N[2]||(N[2]=a("span",{class:"section-title"},"Environments",-1)),a("button",{class:"btn-icon",title:"New Environment",onClick:p},"+")]),a("div",Jf,[n.value?n.value.length===0?(g(),w("div",Gf,[N[4]||(N[4]=a("div",{class:"welcome-icon"},"",-1)),N[5]||(N[5]=a("h3",null,"No Environments Yet",-1)),N[6]||(N[6]=a("p",null,"Environments help manage variables like API URLs, tokens, and settings across different stages.",-1)),a("button",{class:"btn-primary",onClick:p}," Create Your First Environment "),N[7]||(N[7]=a("div",{class:"quick-tips"},[a("h4",null,"Environment Examples:"),a("ul",null,[a("li",null,"Development (dev APIs)"),a("li",null,"Staging (test environment)"),a("li",null,"Production (live APIs)")])],-1))])):(g(!0),w(me,{key:2},ke(n.value,_=>(g(),w("div",{key:_?.id||Date.now(),class:ue(["environment-item",{active:o.value?.id===_?.id}]),onClick:A=>_&&f(_.id),onContextmenu:A=>h(A,_)},[N[8]||(N[8]=a("div",{class:"environment-indicator"},null,-1)),a("div",Xf,[a("span",Yf,D(_?.name||"Unnamed Environment"),1),a("span",Qf,D((_?.values||[]).length)+" variables",1)]),a("div",Zf,[o.value?.id===_?.id?(g(),w("span",eh,"Active")):G("",!0)])],42,Kf))),128)):(g(),w("div",Wf,[...N[3]||(N[3]=[a("div",{class:"loading-spinner"},"",-1),a("p",null,"Loading environments...",-1)])]))]),i.value?(g(),de(mf,{key:0,onClose:N[0]||(N[0]=_=>i.value=!1),onCreate:c,onImport:d})):G("",!0),fe(bf,{ref_key:"contextMenuRef",ref:u,"environments-controller":M(s),onAction:v},null,8,["environments-controller"]),r.value&&l.value?(g(),de(Hf,{key:1,environment:l.value,onClose:N[1]||(N[1]=_=>{r.value=!1,l.value=null}),onUpdate:x},null,8,["environment"])):G("",!0)]))}},sh=ye(th,[["__scopeId","data-v-2138bffc"]]),js={REQUEST:"request",RESPONSE:"response",VALIDATION:"validation",SCRIPT_RESULTS:"script_results",CONSOLE_LOG:"console_log",ENV_CHANGE:"env_change"};function zs({type:t,data:e}={}){return{id:qe(),type:t,data:e,timestamp:new Date().toISOString()}}function nh(t,e=""){return zs({type:js.REQUEST,data:{request:t,curl:e}})}function oh(t){return zs({type:js.RESPONSE,data:{status:t.status,statusText:t.statusText,headers:t.headers||{},body:t.body,time:t.time,size:t.size,error:t.error||null,success:t.success!==!1}})}function ih(t,e=""){return zs({type:js.VALIDATION,data:{errors:t,curlInput:e,errorCount:t.filter(s=>s.type==="error").length,warningCount:t.filter(s=>s.type==="warning").length}})}function rh(t){return zs({type:js.SCRIPT_RESULTS,data:{tests:t.tests||[],duration:t.duration||0,error:t.error||null}})}function ah(t){return zs({type:js.CONSOLE_LOG,data:{logs:t}})}function lh(t,e="",s=!0){return zs({type:js.ENV_CHANGE,data:{changes:t,environmentName:e,hasActiveEnvironment:s}})}function ch({name:t="New Conversation",requestId:e=null,collectionId:s=null,folderId:n=null,initialRequest:o=null}={}){return{id:qe(),name:t,requestId:e,collectionId:s,folderId:n,messages:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}function ws(t,e){return t.messages.push(e),t.updatedAt=new Date().toISOString(),t}let No=null;function xi(){return No||(No=uh()),No}function uh(){const t=wt("conversations"),{data:e}=ad(),s=te(null),n=F(()=>s.value&&e.value.find(z=>z.id===s.value)||null),o=F(()=>n.value?.messages||[]),i=F(()=>!!n.value),r=F(()=>e.value.length),l=({name:z="New Request",requestId:S=null,collectionId:O=null,folderId:L=null}={})=>{t.info("Creating new conversation:",{name:z,requestId:S,collectionId:O});const R=ch({name:z,requestId:S,collectionId:O,folderId:L});return e.value.push(R),s.value=R.id,t.debug("Conversation created:",R.id),R};return{conversations:e,activeConversationId:s,activeConversation:n,activeMessages:o,hasActiveConversation:i,conversationCount:r,createNewConversation:l,openConversation:({name:z,requestId:S,collectionId:O,folderId:L=null})=>{const R=e.value.find(E=>E.requestId===S&&E.collectionId===O);return R?(t.info("Opening existing conversation:",R.id),s.value=R.id,R):l({name:z,requestId:S,collectionId:O,folderId:L})},setActiveConversation:z=>{e.value.some(O=>O.id===z)?(s.value=z,t.debug("Active conversation set:",z)):t.warn("Conversation not found:",z)},addRequest:(z,S="")=>{const O=n.value;if(!O)return t.warn("No active conversation to add request to"),null;const L=nh(z,S);return ws(O,L),t.debug("Request message added:",L.id),L},addResponse:z=>{const S=n.value;if(!S)return t.warn("No active conversation to add response to"),null;const O=oh(z);return ws(S,O),t.debug("Response message added:",O.id),O},addValidationError:(z,S="")=>{const O=n.value;if(!O)return t.warn("No active conversation to add validation error to"),null;const L=ih(z,S);return ws(O,L),t.debug("Validation error message added:",L.id),L},addScriptResults:z=>{const S=n.value;if(!S)return t.warn("No active conversation to add script results to"),null;if(!z.tests?.length&&!z.error)return null;const O=rh(z);return ws(S,O),t.debug("Script results message added:",O.id),O},addConsoleLogs:z=>{const S=n.value;if(!S)return t.warn("No active conversation to add console logs to"),null;if(!z?.length)return null;const O=ah(z);return ws(S,O),t.debug("Console log message added:",O.id),O},addEnvChanges:(z,S="",O=!0)=>{const L=n.value;if(!L)return t.warn("No active conversation to add env changes to"),null;if(!z?.length)return null;const R=lh(z,S,O);return ws(L,R),t.debug("Environment change message added:",R.id),R},clearActiveConversation:()=>{const z=n.value;z&&(z.messages=[],z.updatedAt=new Date().toISOString(),t.info("Conversation cleared:",z.id))},deleteConversation:z=>{const S=e.value.findIndex(O=>O.id===z);S>-1&&(e.value.splice(S,1),s.value===z&&(s.value=null),t.info("Conversation deleted:",z))},getConversationByRequest:(z,S)=>e.value.find(O=>O.requestId===z&&O.collectionId===S)||null,updateConversationName:(z,S)=>{const O=e.value.find(L=>L.id===z);O&&(O.name=S,O.updatedAt=new Date().toISOString())},getSortedConversations:()=>[...e.value].sort((z,S)=>new Date(S.updatedAt)-new Date(z.updatedAt)),closeActiveConversation:()=>{s.value=null,t.debug("Active conversation closed")}}}class dh extends Ge{constructor(){super("history"),this.tabsStore=bn(),this.conversationsStore=xi(),this.createState({filterMethod:null,searchQuery:""})}init(){super.init(),this.logger.debug("History controller initialized")}getSessions(){return this.conversationsStore.getSortedConversations().filter(e=>e.messages&&e.messages.length>0)}getSessionSummary(e){const s=e.messages||[],n=s.filter(l=>l.type==="request"),o=n[n.length-1];let i="GET",r=e.name||"Request";return o?.data?.request&&(i=o.data.request.method||"GET",r=o.data.request.url?.raw||e.name||"Request"),{id:e.id,name:e.name,method:i,url:r,messageCount:s.length,requestCount:n.length,updatedAt:e.updatedAt,createdAt:e.createdAt}}openSession(e){const s=this.conversationsStore.conversations.value.find(r=>r.id===e);if(!s){this.logger.warn("Session not found:",e);return}const n=this.tabsStore.tabs.value.find(r=>r.conversationId===e);if(n){this.tabsStore.setActiveTab(n.id),this.conversationsStore.setActiveConversation(e),this.logger.info("Focused existing tab for session:",e),this.emit("sessionOpened",{sessionId:e,tabId:n.id});return}const o=this.getSessionSummary(s),i=this.tabsStore.createTab({name:o.name||`${o.method} Request`,method:o.method,conversationId:e});this.conversationsStore.setActiveConversation(e),this.logger.info("Opened session in new tab:",e),this.emit("sessionOpened",{sessionId:e,tabId:i.id})}clearHistory(){const e=this.conversationsStore.conversations.value;e.splice(0,e.length),this.logger.info("Cleared all sessions"),this.emit("historyCleared")}removeSession(e){this.conversationsStore.deleteConversation(e),this.logger.debug("Removed session:",e),this.emit("sessionRemoved",e)}filterByMethod(e){const s=this.getSessions();return e?s.filter(n=>this.getSessionSummary(n).method===e):s}searchSessions(e){const s=this.getSessions();if(!e)return s;const n=e.toLowerCase();return s.filter(o=>{const i=this.getSessionSummary(o);return i.name?.toLowerCase().includes(n)||i.url?.toLowerCase().includes(n)||i.method?.toLowerCase().includes(n)})}getHistoryStats(){const e=this.getSessions(),s={};let n=0;return e.forEach(o=>{const i=this.getSessionSummary(o);s[i.method]=(s[i.method]||0)+1,n+=i.messageCount}),{totalSessions:e.length,totalMessages:n,methods:s}}formatTime(e){const s=new Date(e),o=new Date-s;return o<6e4?"Just now":o<36e5?`${Math.floor(o/6e4)}m ago`:o<864e5?`${Math.floor(o/36e5)}h ago`:o<1728e5?"Yesterday":o<6048e5?`${Math.floor(o/864e5)}d ago`:s.toLocaleDateString()}getMethodColor(e){return{GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)",HEAD:"var(--color-head)",OPTIONS:"var(--color-options)"}[e]||"var(--color-text-secondary)"}onUnmounted(){this.dispose()}}const ph={class:"history-tab"},fh={class:"section-header"},hh={class:"header-actions"},mh={class:"history-list"},gh={key:0,class:"empty-state welcome-state"},vh=["onClick"],yh={class:"history-header"},bh={class:"history-name"},wh={class:"history-time"},xh=["onClick"],_h={class:"history-meta"},Ch={class:"message-count"},Sh={key:0,class:"url-preview"},Th={__name:"HistoryTab",setup(t){const e=new dh,{showComposer:s,isMobile:n}=wi(),o=F(()=>e.getSessions().map(c=>e.getSessionSummary(c))),i=()=>e.clearHistory(),r=c=>{e.openSession(c),n()&&s()},l=c=>e.removeSession(c),u=c=>e.formatTime(c),p=c=>e.getMethodColor(c);return De(()=>{e.init()}),Ze(()=>{e.onUnmounted()}),(c,d)=>(g(),w("div",ph,[a("div",fh,[d[1]||(d[1]=a("span",{class:"section-title"},"Session History",-1)),a("div",hh,[o.value.length>0?(g(),w("button",{key:0,class:"btn-icon",title:"Clear All Sessions",onClick:i},[...d[0]||(d[0]=[a("span",{class:"icon-trash"},"",-1)])])):G("",!0)])]),a("div",mh,[o.value.length===0?(g(),w("div",gh,[...d[2]||(d[2]=[a("div",{class:"welcome-icon"},"",-1),a("h3",null,"No Session History",-1),a("p",null,"Your conversation sessions will appear here. Send some requests to get started!",-1),a("div",{class:"quick-tips"},[a("h4",null,"Session Features:"),a("ul",null,[a("li",null,"Full conversation threads"),a("li",null,"Continue where you left off"),a("li",null,"Persists across browser sessions")])],-1)])])):(g(!0),w(me,{key:1},ke(o.value,f=>(g(),w("div",{key:f.id,class:"history-item",onClick:h=>r(f.id)},[a("div",yh,[a("span",{class:"method-badge",style:Ue({color:p(f.method)})},D(f.method),5),a("span",bh,D(f.name),1),a("span",wh,D(u(f.updatedAt)),1),a("button",{class:"btn-remove",title:"Remove session",onClick:Cn(h=>l(f.id),["stop"])},"  ",8,xh)]),a("div",_h,[a("span",Ch,D(f.messageCount)+" message"+D(f.messageCount!==1?"s":""),1),f.url!==f.name?(g(),w("span",Sh,D(f.url),1)):G("",!0)])],8,vh))),128))])]))}},kh=ye(Th,[["__scopeId","data-v-afe6d9cb"]]),Eh={class:"sidebar"},$h={class:"sidebar-tabs"},Ah={class:"tab-content"},Rh={__name:"Sidebar",setup(t){const e=new Xu,s=e.state,n=o=>e.switchTab(o);return De(()=>{e.init()}),Ze(()=>{e.dispose()}),(o,i)=>(g(),w("div",Eh,[a("div",$h,[a("button",{class:ue(["tab",{active:M(s).activeTab==="collections"}]),onClick:i[0]||(i[0]=r=>n("collections")),"data-icon":"",title:"Collections"},"  Collections ",2),a("button",{class:ue(["tab",{active:M(s).activeTab==="environments"}]),onClick:i[1]||(i[1]=r=>n("environments")),"data-icon":"",title:"Environments"},"  Environments ",2),a("button",{class:ue(["tab",{active:M(s).activeTab==="history"}]),onClick:i[2]||(i[2]=r=>n("history")),"data-icon":"",title:"History"},"  History ",2)]),a("div",Ah,[M(s).activeTab==="collections"?(g(),de(Kp,{key:0})):G("",!0),M(s).activeTab==="environments"?(g(),de(sh,{key:1})):G("",!0),M(s).activeTab==="history"?(g(),de(kh,{key:2})):G("",!0)])]))}},br=ye(Rh,[["__scopeId","data-v-080bd6f9"]]);function yo(){const t=gs(),e=/\{\{([^}]+)\}\}/g,s=d=>{if(!d||typeof d!="string")return[];const f=[];let h;for(e.lastIndex=0;(h=e.exec(d))!==null;)f.push({name:h[1].trim(),match:h[0],start:h.index,end:h.index+h[0].length,raw:h[1]});return f},n=(d,f=null)=>{const h=f?t.getEnvironment(f):t.activeEnvironment.value;return h?!!h.values?.find(y=>y.key===d&&y.enabled):!1},o=(d,f=null)=>t.resolveVariable(d,f),i=(d,f=null)=>t.interpolateString(d,f),r=(d,f=null)=>s(d).map(y=>{const x=n(y.name,f),j=o(y.name,f);return{...y,exists:x,value:j,resolved:j!==null}}),l=(d,f=null)=>{if(!d||typeof d!="string")return[{type:"text",content:d}];const h=r(d,f);if(h.length===0)return[{type:"text",content:d}];const v=[];let y=0;return h.forEach(x=>{x.start>y&&v.push({type:"text",content:d.slice(y,x.start)}),v.push({type:"variable",content:x.match,name:x.name,exists:x.exists,value:x.value,resolved:x.resolved}),y=x.end}),y<d.length&&v.push({type:"text",content:d.slice(y)}),v},u=(d,f=null)=>{const h=r(d,f),v=i(d,f);return{original:d,interpolated:v,variables:h,hasVariables:h.length>0,allResolved:h.every(y=>y.resolved),unresolvedCount:h.filter(y=>!y.resolved).length}},p=F(()=>t.activeEnvironment.value),c=F(()=>t.getAvailableVariables());return{detectVariables:s,variableExists:n,getVariableValue:o,interpolateText:i,analyzeVariables:r,splitTextForHighlighting:l,previewInterpolation:u,activeEnvironment:p,availableVariables:c,VARIABLE_REGEX:e}}const Oh={class:"message-bubble request"},Ih={class:"bubble-header"},qh={class:"url"},Dh={class:"timestamp"},Ph={class:"bubble-summary"},Fh={key:0,class:"summary-row"},Nh={class:"summary-badge"},Mh={class:"summary-preview"},Lh={key:1,class:"summary-row"},Vh={class:"summary-badge"},Uh={class:"summary-preview"},jh={key:0,class:"bubble-details"},zh={key:0,class:"bubble-section"},Hh={class:"toggle-icon"},Bh={key:0,class:"section-content"},Jh={class:"kv-key"},Wh={class:"kv-value"},Gh={key:1,class:"bubble-section"},Kh={class:"toggle-icon"},Xh={key:0,class:"section-content"},Yh={class:"body-content"},Qh={class:"bubble-section curl-section"},Zh={class:"toggle-icon"},em={key:0,class:"section-content"},tm={class:"curl-content"},sm={class:"bubble-actions"},nm=["title"],om={__name:"RequestBubble",props:{message:{type:Object,required:!0}},emits:["edit"],setup(t,{emit:e}){const s=t,{interpolateText:n}=yo(),o=te(!1),i=te({headers:!1,body:!0,curl:!1}),r=F(()=>s.message.data?.request||{}),l=F(()=>s.message.data?.curl||""),u=F(()=>r.value.method||"GET"),p=F(()=>{const S=r.value.url;return S?typeof S=="string"?S:S.raw||"":""}),c=F(()=>n(p.value)),d=F(()=>{const S=c.value;return S.length>60?S.substring(0,60)+"...":S}),f=F(()=>(r.value.header||[]).filter(S=>S.enabled!==!1&&S.key)),h=F(()=>{const S=r.value.body;return!S||S.mode==="none"?!1:S.mode==="raw"?!!S.raw:S.mode==="formdata"?(S.formdata||[]).length>0:S.mode==="urlencoded"?(S.urlencoded||[]).length>0:!1}),v=F(()=>{const S=r.value.body;return!S||S.mode==="none"?"":{raw:"JSON",formdata:"Form",urlencoded:"URL"}[S.mode]||S.mode}),y=F(()=>{if(f.value.length===0)return"";const S=f.value[0],O=`${S.key}: ${S.value}`;return O.length>40?O.substring(0,40)+"...":f.value.length>1?O+` +${f.value.length-1}`:O}),x=F(()=>{const S=r.value.body;if(!S)return"";if(S.mode==="raw"){const O=S.raw||"";return O.length>50?O.substring(0,50)+"...":O}if(S.mode==="formdata"){const O=(S.formdata||[]).filter(L=>L.enabled!==!1);return O.length===0?"":`${O.length} field${O.length>1?"s":""}`}if(S.mode==="urlencoded"){const O=(S.urlencoded||[]).filter(L=>L.enabled!==!1);return O.length===0?"":`${O.length} field${O.length>1?"s":""}`}return""}),j=F(()=>{const S=r.value.body;if(!S)return"";if(S.mode==="raw")try{return JSON.stringify(JSON.parse(S.raw),null,2)}catch{return S.raw}return S.mode==="formdata"?(S.formdata||[]).filter(O=>O.enabled!==!1).map(O=>`${O.key}=${O.value}`).join(`
`):S.mode==="urlencoded"?(S.urlencoded||[]).filter(O=>O.enabled!==!1).map(O=>`${O.key}=${O.value}`).join("&"):""}),N=F(()=>({GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)"})[u.value]||"var(--color-text-secondary)"),_=F(()=>s.message.timestamp?new Date(s.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"");function A(){o.value=!o.value}function V(S){i.value[S]=!i.value[S]}function z(){navigator.clipboard.writeText(l.value)}return(S,O)=>(g(),w("div",Oh,[a("div",Ih,[a("div",{class:"method-badge",style:Ue({backgroundColor:N.value})},D(u.value),5),a("span",qh,D(d.value),1),a("span",Dh,D(_.value),1)]),a("div",Ph,[f.value.length>0?(g(),w("div",Fh,[O[4]||(O[4]=a("span",{class:"summary-label"},"Headers",-1)),a("span",Nh,D(f.value.length),1),a("span",Mh,D(y.value),1)])):G("",!0),h.value?(g(),w("div",Lh,[O[5]||(O[5]=a("span",{class:"summary-label"},"Body",-1)),a("span",Vh,D(v.value),1),a("span",Uh,D(x.value),1)])):G("",!0)]),o.value?(g(),w("div",jh,[f.value.length>0?(g(),w("div",zh,[a("div",{class:"section-header",onClick:O[0]||(O[0]=L=>V("headers"))},[a("span",null,"Headers ("+D(f.value.length)+")",1),a("span",Hh,D(i.value.headers?"":"+"),1)]),i.value.headers?(g(),w("div",Bh,[(g(!0),w(me,null,ke(f.value,L=>(g(),w("div",{key:L.key,class:"kv-item"},[a("span",Jh,D(L.key)+":",1),a("span",Wh,D(L.value),1)]))),128))])):G("",!0)])):G("",!0),h.value?(g(),w("div",Gh,[a("div",{class:"section-header",onClick:O[1]||(O[1]=L=>V("body"))},[O[6]||(O[6]=a("span",null,"Body",-1)),a("span",Kh,D(i.value.body?"":"+"),1)]),i.value.body?(g(),w("div",Xh,[a("pre",Yh,D(j.value),1)])):G("",!0)])):G("",!0),a("div",Qh,[a("div",{class:"section-header",onClick:O[2]||(O[2]=L=>V("curl"))},[O[7]||(O[7]=a("span",null,"cURL",-1)),a("span",Zh,D(i.value.curl?"":"+"),1)]),i.value.curl?(g(),w("div",em,[a("pre",tm,D(l.value),1),a("button",{class:"copy-btn",onClick:z},"Copy")])):G("",!0)])])):G("",!0),a("div",sm,[a("button",{class:"action-btn",onClick:A,title:o.value?"Collapse":"Expand"},D(o.value?"":""),9,nm),a("button",{class:"action-btn",onClick:O[3]||(O[3]=L=>S.$emit("edit")),title:"Edit"}," Edit ")])]))}},im=ye(om,[["__scopeId","data-v-d976764f"]]),rm={class:"base-text-editor"},am=["value","placeholder","readonly"],lm={__name:"BaseTextEditor",props:{modelValue:{type:String,default:""},language:{type:String,default:"text"},theme:{type:String,default:"dark"},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},height:{type:String,default:"400px"},options:{type:Object,default:()=>({})}},emits:["update:modelValue","change","focus","blur"],setup(t,{expose:e,emit:s}){const n=t;return e({focus:()=>{console.warn("BaseTextEditor: focus() should be implemented by concrete editor")},blur:()=>{console.warn("BaseTextEditor: blur() should be implemented by concrete editor")},setValue:u=>{console.warn("BaseTextEditor: setValue() should be implemented by concrete editor")},getValue:()=>(console.warn("BaseTextEditor: getValue() should be implemented by concrete editor"),n.modelValue)}),(u,p)=>(g(),w("div",rm,[a("textarea",{value:t.modelValue,onInput:p[0]||(p[0]=c=>u.$emit("update:modelValue",c.target.value)),onFocus:p[1]||(p[1]=c=>u.$emit("focus",c)),onBlur:p[2]||(p[2]=c=>u.$emit("blur",c)),placeholder:t.placeholder,readonly:t.readonly,style:Ue({height:t.height}),class:"fallback-editor"},null,44,am)]))}},_i=ye(lm,[["__scopeId","data-v-f64ee84a"]]);function nl(){if(!window.ace){console.warn("ACE not loaded, cannot initialize curl mode");return}const t=window.ace;t.define("ace/mode/curl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,s,n){const o=e("ace/lib/oop"),i=e("ace/mode/text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{token:"variable.language",regex:/\{\{[^}]+\}\}/},{token:"keyword.control",regex:/\b(GET|POST|PUT|PATCH|DELETE|HEAD|OPTIONS|CONNECT|TRACE)\b/},{token:"keyword.operator",regex:/--[a-z][a-z0-9-]*/},{token:"keyword.operator",regex:/-[A-Za-z]\b/},{token:"string.other",regex:/https?:\/\/[^\s'"]+/},{token:"string.quoted.double",regex:/"/,next:"qqstring"},{token:"string.quoted.single",regex:/'/,next:"qstring"},{token:"support.type",regex:/[A-Za-z][A-Za-z0-9-]*(?=\s*:)/},{token:"constant.numeric",regex:/\b\d+\b/},{token:"keyword.operator",regex:/\\$/},{token:"comment.line",regex:/#.*/}],qqstring:[{token:"variable.language",regex:/\{\{[^}]+\}\}/},{token:"constant.character.escape",regex:/\\./},{token:"string.quoted.double",regex:/"/,next:"start"},{defaultToken:"string.quoted.double"}],qstring:[{token:"variable.language",regex:/\{\{[^}]+\}\}/},{token:"constant.character.escape",regex:/\\./},{token:"string.quoted.single",regex:/'/,next:"start"},{defaultToken:"string.quoted.single"}]},this.normalizeRules()};o.inherits(r,i),s.CurlHighlightRules=r}),t.define("ace/mode/curl",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/curl_highlight_rules"],function(e,s,n){const o=e("ace/lib/oop"),i=e("ace/mode/text").Mode,r=e("ace/mode/curl_highlight_rules").CurlHighlightRules,l=function(){this.HighlightRules=r,this.$behaviour=this.$defaultBehaviour};o.inherits(l,i),(function(){this.lineCommentStart="#",this.$id="ace/mode/curl"}).call(l.prototype),s.Mode=l}),console.debug("ACE curl mode initialized")}typeof window<"u"&&window.ace&&nl();const wr=[{caption:"GET",value:"GET",meta:"method",description:"Retrieve resource"},{caption:"POST",value:"POST",meta:"method",description:"Create resource"},{caption:"PUT",value:"PUT",meta:"method",description:"Update/replace resource"},{caption:"PATCH",value:"PATCH",meta:"method",description:"Partial update"},{caption:"DELETE",value:"DELETE",meta:"method",description:"Delete resource"},{caption:"HEAD",value:"HEAD",meta:"method",description:"Get headers only"},{caption:"OPTIONS",value:"OPTIONS",meta:"method",description:"Get allowed methods"}],xr=[{caption:"-X",value:"-X ",meta:"method",description:"HTTP method"},{caption:"--request",value:"--request ",meta:"method",description:"HTTP method (long)"},{caption:"-H",value:"-H ",meta:"header",description:"Add header"},{caption:"--header",value:"--header ",meta:"header",description:"Add header (long)"},{caption:"-d",value:"-d ",meta:"data",description:"Request body data"},{caption:"--data",value:"--data ",meta:"data",description:"Request body (long)"},{caption:"--data-raw",value:"--data-raw ",meta:"data",description:"Raw data (no processing)"},{caption:"--data-binary",value:"--data-binary ",meta:"data",description:"Binary data"},{caption:"--data-urlencode",value:"--data-urlencode ",meta:"data",description:"URL encoded data"},{caption:"-F",value:"-F ",meta:"form",description:"Multipart form field"},{caption:"--form",value:"--form ",meta:"form",description:"Multipart form (long)"},{caption:"-u",value:"-u ",meta:"auth",description:"User:password auth"},{caption:"--user",value:"--user ",meta:"auth",description:"User auth (long)"},{caption:"-k",value:"-k ",meta:"ssl",description:"Allow insecure connections"},{caption:"--insecure",value:"--insecure ",meta:"ssl",description:"Skip SSL verification"},{caption:"-L",value:"-L ",meta:"redirect",description:"Follow redirects"},{caption:"--location",value:"--location ",meta:"redirect",description:"Follow redirects (long)"},{caption:"-v",value:"-v ",meta:"debug",description:"Verbose output"},{caption:"--verbose",value:"--verbose ",meta:"debug",description:"Verbose (long)"},{caption:"-i",value:"-i ",meta:"output",description:"Include response headers"},{caption:"--include",value:"--include ",meta:"output",description:"Include headers (long)"},{caption:"-s",value:"-s ",meta:"output",description:"Silent mode"},{caption:"--silent",value:"--silent ",meta:"output",description:"Silent (long)"},{caption:"--connect-timeout",value:"--connect-timeout ",meta:"timeout",description:"Connection timeout (seconds)"},{caption:"-m",value:"-m ",meta:"timeout",description:"Max time for request"},{caption:"--max-time",value:"--max-time ",meta:"timeout",description:"Max time (long)"},{caption:"-o",value:"-o ",meta:"output",description:"Write to file"},{caption:"--output",value:"--output ",meta:"output",description:"Write to file (long)"}],cm=[{caption:"Content-Type: application/json",value:"Content-Type: application/json",meta:"content",description:"JSON content"},{caption:"Content-Type: application/x-www-form-urlencoded",value:"Content-Type: application/x-www-form-urlencoded",meta:"content",description:"Form content"},{caption:"Content-Type: multipart/form-data",value:"Content-Type: multipart/form-data",meta:"content",description:"Multipart form"},{caption:"Content-Type: text/plain",value:"Content-Type: text/plain",meta:"content",description:"Plain text"},{caption:"Content-Type: text/xml",value:"Content-Type: text/xml",meta:"content",description:"XML content"},{caption:"Authorization: Bearer ",value:"Authorization: Bearer ",meta:"auth",description:"Bearer token auth"},{caption:"Authorization: Basic ",value:"Authorization: Basic ",meta:"auth",description:"Basic auth"},{caption:"Authorization: ApiKey ",value:"Authorization: ApiKey ",meta:"auth",description:"API key auth"},{caption:"Accept: application/json",value:"Accept: application/json",meta:"accept",description:"Accept JSON"},{caption:"Accept: */*",value:"Accept: */*",meta:"accept",description:"Accept anything"},{caption:"Accept: text/html",value:"Accept: text/html",meta:"accept",description:"Accept HTML"},{caption:"User-Agent: ",value:"User-Agent: ",meta:"header",description:"User agent string"},{caption:"Cache-Control: no-cache",value:"Cache-Control: no-cache",meta:"cache",description:"No caching"},{caption:"Cache-Control: max-age=0",value:"Cache-Control: max-age=0",meta:"cache",description:"Revalidate"},{caption:"X-Api-Key: ",value:"X-Api-Key: ",meta:"custom",description:"API key header"},{caption:"X-Request-ID: ",value:"X-Request-ID: ",meta:"custom",description:"Request ID header"}];function um(){try{const e=gs().activeEnvironment?.value;return e?.values?e.values.filter(s=>s.enabled!==!1).map(s=>({caption:`{{${s.key}}}`,value:`{{${s.key}}}`,meta:"variable",description:s.value?s.value.length>30?s.value.slice(0,30)+"...":s.value:"empty",score:500})):[]}catch{return[]}}function dm(t,e){const s=t.slice(0,e);return/\{\{[^}]*$/.test(s)?"variable":/-X\s*$/.test(s)||/--request\s*$/.test(s)?"method":/-H\s*['"]?$/.test(s)||/--header\s*['"]?$/.test(s)?"header":/(^|\s)-[a-zA-Z-]*$/.test(s)?"flag":/^\s*$/.test(s)||/\s$/.test(s)?"general":null}const _r={identifierRegexps:[/[a-zA-Z_0-9\-{]/],getCompletions(t,e,s,n,o){const i=e.getLine(s.row),r=dm(i,s.column);let l=[];switch(r){case"variable":l=um();break;case"method":l=wr.map((u,p)=>({...u,score:1e3-p}));break;case"header":l=cm.map((u,p)=>({...u,score:1e3-p}));break;case"flag":l=xr.filter(u=>u.caption.toLowerCase().startsWith(n.toLowerCase())).map((u,p)=>({...u,score:900-p}));break;case"general":l=[...wr.map((u,p)=>({...u,score:800-p})),...xr.slice(0,10).map((u,p)=>({...u,score:700-p}))];break}o(null,l)},getDocTooltip(t){if(t.description)return{docHTML:`<div style="padding: 4px 8px;"><strong>${t.caption}</strong><br/><span style="color: #888;">${t.description}</span></div>`}}},pm={"-X":{name:"Request Method",short:"-X",long:"--request",description:"Specifies the HTTP request method to use when communicating with the server.",example:"-X POST",usage:"Common methods: GET (default), POST, PUT, PATCH, DELETE, HEAD, OPTIONS.",tip:"GET is used by default. Use -X to override for other methods."},"--request":{name:"Request Method",short:"-X",long:"--request",description:"Specifies the HTTP request method to use when communicating with the server.",example:"--request POST",usage:"Common methods: GET (default), POST, PUT, PATCH, DELETE, HEAD, OPTIONS.",tip:"GET is used by default. Use --request to override for other methods."},"-H":{name:"Header",short:"-H",long:"--header",description:"Adds a custom HTTP header to the request. Multiple -H flags can be used.",example:'-H "Content-Type: application/json"',usage:'Format: -H "Header-Name: value". Use for authentication, content types, etc.',tip:"Common headers: Content-Type, Authorization, Accept, User-Agent."},"--header":{name:"Header",short:"-H",long:"--header",description:"Adds a custom HTTP header to the request. Multiple --header flags can be used.",example:'--header "Authorization: Bearer token123"',usage:'Format: --header "Header-Name: value". Use for authentication, content types, etc.',tip:"Common headers: Content-Type, Authorization, Accept, User-Agent."},"-d":{name:"Data",short:"-d",long:"--data",description:"Sends the specified data in a POST request body. Implies -X POST.",example:`-d '{"name": "John", "email": "john@example.com"}'`,usage:"Data is sent as application/x-www-form-urlencoded by default.",tip:'Use with -H "Content-Type: application/json" for JSON payloads.'},"--data":{name:"Data",short:"-d",long:"--data",description:"Sends the specified data in a POST request body. Implies -X POST.",example:`--data '{"key": "value"}'`,usage:"Data is sent as application/x-www-form-urlencoded by default.",tip:'Use with --header "Content-Type: application/json" for JSON payloads.'},"--data-raw":{name:"Raw Data",short:null,long:"--data-raw",description:"Sends data exactly as specified, without any processing.",example:`--data-raw '{"raw": "data"}'`,usage:"Unlike -d, special characters like @ are not interpreted.",tip:"Use when your data contains @ symbols that should be literal."},"--data-binary":{name:"Binary Data",short:null,long:"--data-binary",description:"Sends binary data in the request body.",example:"--data-binary @file.bin",usage:"Use for uploading binary files. Preserves newlines and special chars.",tip:"Use @filename to read data from a file."},"--data-urlencode":{name:"URL Encoded Data",short:null,long:"--data-urlencode",description:"URL-encodes the data before sending.",example:'--data-urlencode "name=John Doe"',usage:"Automatically encodes special characters for URL safety.",tip:"Useful for form data with spaces or special characters."},"-F":{name:"Form Field",short:"-F",long:"--form",description:"Sends a multipart/form-data POST request with form fields.",example:'-F "file=@photo.jpg" -F "name=John"',usage:"Use for file uploads or form submissions. @ prefix reads from file.",tip:"Automatically sets Content-Type to multipart/form-data."},"--form":{name:"Form Field",short:"-F",long:"--form",description:"Sends a multipart/form-data POST request with form fields.",example:'--form "document=@report.pdf"',usage:"Use for file uploads or form submissions. @ prefix reads from file.",tip:"Automatically sets Content-Type to multipart/form-data."},"-u":{name:"User Authentication",short:"-u",long:"--user",description:"Specifies username and password for server authentication.",example:"-u username:password",usage:"Format: -u user:pass. Omit password to be prompted.",tip:"Used for Basic HTTP authentication. Consider using tokens instead."},"--user":{name:"User Authentication",short:"-u",long:"--user",description:"Specifies username and password for server authentication.",example:"--user admin:secret123",usage:"Format: --user user:pass. Omit password to be prompted.",tip:"Used for Basic HTTP authentication. Consider using tokens instead."},"-k":{name:"Insecure",short:"-k",long:"--insecure",description:"Allows connections to SSL sites without valid certificates.",example:"-k https://self-signed.example.com",usage:"Skips SSL certificate verification. Use with caution!",tip:"Only use for development/testing with self-signed certs."},"--insecure":{name:"Insecure",short:"-k",long:"--insecure",description:"Allows connections to SSL sites without valid certificates.",example:"--insecure https://localhost:8443",usage:"Skips SSL certificate verification. Use with caution!",tip:"Only use for development/testing with self-signed certs."},"-L":{name:"Follow Redirects",short:"-L",long:"--location",description:"Follows HTTP redirects (3xx responses) to the new location.",example:"-L https://short.url/abc",usage:"Automatically follows Location headers up to 50 redirects.",tip:"Essential for shortened URLs or sites with redirects."},"--location":{name:"Follow Redirects",short:"-L",long:"--location",description:"Follows HTTP redirects (3xx responses) to the new location.",example:"--location https://example.com/old-page",usage:"Automatically follows Location headers up to 50 redirects.",tip:"Essential for shortened URLs or sites with redirects."},"-o":{name:"Output File",short:"-o",long:"--output",description:"Writes output to a file instead of stdout.",example:"-o response.json",usage:"Saves the response body to the specified file.",tip:"Use with -O to keep the remote filename."},"--output":{name:"Output File",short:"-o",long:"--output",description:"Writes output to a file instead of stdout.",example:"--output data.txt",usage:"Saves the response body to the specified file.",tip:"Use with --remote-name to keep the remote filename."},"-O":{name:"Remote Name",short:"-O",long:"--remote-name",description:"Writes output using the remote filename from the URL.",example:"-O https://example.com/file.zip",usage:'Saves to "file.zip" based on the URL path.',tip:"Convenient for downloading files with original names."},"-v":{name:"Verbose",short:"-v",long:"--verbose",description:"Shows detailed information about the request and response.",example:"-v https://api.example.com",usage:"Displays headers, SSL handshake, and connection info.",tip:"Great for debugging. Use -vv for even more detail."},"--verbose":{name:"Verbose",short:"-v",long:"--verbose",description:"Shows detailed information about the request and response.",example:"--verbose https://api.example.com",usage:"Displays headers, SSL handshake, and connection info.",tip:"Great for debugging. Use multiple -v for more detail."},"-i":{name:"Include Headers",short:"-i",long:"--include",description:"Includes HTTP response headers in the output.",example:"-i https://api.example.com",usage:"Shows status line and headers before the body.",tip:"Useful for seeing status codes and response headers."},"--include":{name:"Include Headers",short:"-i",long:"--include",description:"Includes HTTP response headers in the output.",example:"--include https://api.example.com",usage:"Shows status line and headers before the body.",tip:"Useful for seeing status codes and response headers."},"-s":{name:"Silent",short:"-s",long:"--silent",description:"Suppresses progress meter and error messages.",example:"-s https://api.example.com",usage:"Useful in scripts where you only want the response body.",tip:"Combine with -S to show errors but hide progress."},"--silent":{name:"Silent",short:"-s",long:"--silent",description:"Suppresses progress meter and error messages.",example:"--silent https://api.example.com",usage:"Useful in scripts where you only want the response body.",tip:"Combine with --show-error to show errors but hide progress."},"-m":{name:"Max Time",short:"-m",long:"--max-time",description:"Sets maximum time in seconds for the entire operation.",example:"-m 30",usage:"Request fails if it takes longer than specified seconds.",tip:"Use to prevent hanging on slow servers."},"--max-time":{name:"Max Time",short:"-m",long:"--max-time",description:"Sets maximum time in seconds for the entire operation.",example:"--max-time 60",usage:"Request fails if it takes longer than specified seconds.",tip:"Use to prevent hanging on slow servers."},"--connect-timeout":{name:"Connect Timeout",short:null,long:"--connect-timeout",description:"Sets maximum time in seconds to wait for connection.",example:"--connect-timeout 10",usage:"Only affects the connection phase, not the transfer.",tip:"Use with --max-time for complete timeout control."},"-b":{name:"Cookie",short:"-b",long:"--cookie",description:"Sends cookies with the request.",example:'-b "session=abc123; user=john"',usage:'Format: "name=value" or read from file with -b cookies.txt',tip:"Use -c to save received cookies to a file."},"--cookie":{name:"Cookie",short:"-b",long:"--cookie",description:"Sends cookies with the request.",example:'--cookie "token=xyz789"',usage:'Format: "name=value" or read from file with --cookie cookies.txt',tip:"Use --cookie-jar to save received cookies to a file."},"-c":{name:"Cookie Jar",short:"-c",long:"--cookie-jar",description:"Saves received cookies to a file.",example:"-c cookies.txt",usage:"Stores cookies from response Set-Cookie headers.",tip:"Use with -b to read cookies back in subsequent requests."},"-A":{name:"User Agent",short:"-A",long:"--user-agent",description:"Sets the User-Agent header for the request.",example:'-A "Mozilla/5.0 (Windows NT 10.0; Win64; x64)"',usage:"Identifies the client to the server.",tip:"Some APIs require specific user agents."},"--user-agent":{name:"User Agent",short:"-A",long:"--user-agent",description:"Sets the User-Agent header for the request.",example:'--user-agent "MyApp/1.0"',usage:"Identifies the client to the server.",tip:"Some APIs require specific user agents."}};function fm(t){const e=t?.trim();return pm[e]||null}const ol=new Set(["-X","--request","-H","--header","-d","--data","--data-raw","--data-binary","--data-urlencode","-F","--form","-u","--user","-k","--insecure","-L","--location","-o","--output","-O","--remote-name","-v","--verbose","-i","--include","-s","--silent","-S","--show-error","-m","--max-time","--connect-timeout","-b","--cookie","-c","--cookie-jar","-A","--user-agent","-e","--referer","-G","--get","-I","--head","--compressed","--http1.1","--http2","-x","--proxy","-U","--proxy-user"]),hm=new Set(["-X","--request","-H","--header","-d","--data","--data-raw","--data-binary","--data-urlencode","-F","--form","-u","--user","-o","--output","-m","--max-time","--connect-timeout","-b","--cookie","-c","--cookie-jar","-A","--user-agent","-e","--referer","-x","--proxy","-U","--proxy-user"]),mm=new Set(["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS","CONNECT","TRACE"]);function il(t){const e=[];if(!t||!t.trim())return e;const s=t.split(`
`),n=vm(t,s);e.push(...n);const o=gm(t);let i=!1,r=0;for(;r<o.length;){const l=o[r],u=l.value;if(u.toLowerCase()==="curl"){r++;continue}if(ym(u)){i=!0,r++;continue}if(u.startsWith("-")){if(!ol.has(u)){const p=bm(u);e.push({row:l.row,column:l.column,endRow:l.endRow,endColumn:l.endColumn,text:p?`Unknown flag "${u}". Did you mean "${p}"?`:`Unknown flag "${u}"`,type:"error"}),r++;continue}if(hm.has(u)){if(r+1>=o.length||o[r+1].value.startsWith("-")){e.push({row:l.row,column:l.column,endRow:l.endRow,endColumn:l.endColumn,text:`Flag "${u}" requires a value`,type:"error"}),r++;continue}const p=o[r+1];if(u==="-X"||u==="--request"){const c=p.value.toUpperCase();mm.has(c)||e.push({row:p.row,column:p.column,endRow:p.endRow,endColumn:p.endColumn,text:`Invalid HTTP method "${p.value}". Valid: GET, POST, PUT, PATCH, DELETE, HEAD, OPTIONS`,type:"error"})}(u==="-H"||u==="--header")&&(p.value.includes(":")||e.push({row:p.row,column:p.column,endRow:p.endRow,endColumn:p.endColumn,text:'Header should be "Name: Value" format (missing colon)',type:"warning"})),r+=2;continue}r++;continue}r++}if(!i&&o.length>0){const l=o.find(u=>u.value.toLowerCase()!=="curl")||o[0];l&&e.push({row:l.row,column:l.column,endRow:l.endRow,endColumn:l.endColumn,text:"Missing URL. A cURL command needs a URL.",type:"error"})}return e}function gm(t){const e=[];let s=0,n=0,o="",i=0,r=0,l=!1,u=!1,p=!1;const c=()=>{o.trim()&&e.push({value:o.trim(),row:i,column:r,endRow:s,endColumn:n}),o=""};for(let d=0;d<t.length;d++){const f=t[d],h=t[d+1];if(f==="\\"&&h===`
`&&!l&&!u){d++,s++,n=0;continue}if(f===`
`){!l&&!u?c():o+=f,s++,n=0;continue}if(p){o+=f,p=!1,n++;continue}if(f==="\\"&&!l){p=!0,o+=f,n++;continue}if(f==="'"&&!u){l=!l,n++;continue}if(f==='"'&&!l){u=!u,n++;continue}if(f===" "&&!l&&!u){c(),n++;continue}o===""&&(i=s,r=n),o+=f,n++}return c(),e}function vm(t,e){const s=[];let n=!1,o=!1,i=null,r=null,l=!1;for(let u=0;u<e.length;u++){const p=e[u];for(let c=0;c<p.length;c++){const d=p[c];if(l){l=!1;continue}if(d==="\\"){l=!0;continue}d==="'"&&!o&&(n?(n=!1,i=null):(n=!0,i={row:u,col:c})),d==='"'&&!n&&(o?(o=!1,r=null):(o=!0,r={row:u,col:c}))}}return n&&i&&s.push({row:i.row,column:i.col,endRow:i.row,endColumn:i.col+1,text:"Unclosed single quote",type:"error"}),o&&r&&s.push({row:r.row,column:r.col,endRow:r.row,endColumn:r.col+1,text:"Unclosed double quote",type:"error"}),s}function ym(t){return!!(t.startsWith("http://")||t.startsWith("https://")||t.includes("{{")&&t.includes("}}")||!t.startsWith("-")&&t.includes(".")&&!t.includes(" ")||t.startsWith("localhost")||t.match(/^127\.0\.0\.\d+/))}function bm(t){const e=t.toLowerCase();let s=null,n=0;for(const o of ol){const i=wm(e,o.toLowerCase());i>n&&i>.5&&(n=i,s=o)}return s}function wm(t,e){if(t===e)return 1;if(t.length<2||e.length<2)return 0;const s=new Set;for(let o=0;o<t.length-1;o++)s.add(t.substring(o,o+2));let n=0;for(let o=0;o<e.length-1;o++)s.has(e.substring(o,o+2))&&n++;return 2*n/(t.length+e.length-2)}const xm={class:"curl-tooltip-header"},_m={class:"curl-tooltip-name"},Cm={class:"curl-tooltip-flags"},Sm={key:0},Tm={key:1},km={class:"curl-tooltip-desc"},Em={key:0,class:"curl-tooltip-example"},$m={key:1,class:"curl-tooltip-tip"},Am={class:"variable-tooltip-name"},Rm={key:0,class:"variable-tooltip-value"},Om={key:1,class:"variable-tooltip-unresolved"},Im={__name:"AceTextEditor",props:{modelValue:{type:String,default:""},language:{type:String,default:"text",validator:t=>["text","json","xml","html","javascript","css","curl"].includes(t)},theme:{type:String,default:"dark",validator:t=>["dark","light"].includes(t)},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},height:{type:String,default:"400px"},options:{type:Object,default:()=>({})}},emits:["update:modelValue","change","focus","blur","send"],setup(t,{expose:e,emit:s}){let n=null;const o=yo(),i=gs(),r=wt("AceTextEditor"),l=t,u=s,p=te(null),c=te(null),d=te(!1),f=te(!1),h=te(!1),v=te(0),y=te(0),x=te(null);let j=null;const N=te(!1),_=te(0),A=te(0),V=te(null);let z=[],S=null,O=null;const{data:L}=od(),R=new Set(["gob","textmate"]),E=async U=>{if(R.has(U))return!0;try{return await new Promise((m,b)=>{const P=document.createElement("script");P.src=`https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/theme-${U}.js`,P.onload=m,P.onerror=b,document.head.appendChild(P)}),R.add(U),r.debug(`Loaded ACE theme: ${U}`),!0}catch(m){return r.error(`Failed to load ACE theme: ${U}`,m),!1}},T=F(()=>{const U=l.theme||"dark",m=L.value?.ui?.editorThemeDark||L.value?.editorThemeDark||"gob",b=L.value?.ui?.editorThemeLight||L.value?.editorThemeLight||"textmate";return U==="light"?b:m});ve(T,async U=>{c.value&&n&&(await E(U),c.value.setTheme(Mo(U)),r.debug(`Applied theme: ${U}`))},{immediate:!1});const $=F(()=>({text:"ace/mode/text",json:"ace/mode/json",xml:"ace/mode/xml",html:"ace/mode/html",javascript:"ace/mode/javascript",css:"ace/mode/css",curl:"ace/mode/curl"})[l.language]||"ace/mode/text"),I=async()=>{try{if(window.ace)n=window.ace,H();else{const U=document.createElement("script");U.src="https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/ace.js",U.onload=()=>{n=window.ace,H()},U.onerror=()=>{r.error("Failed to load ACE from CDN"),f.value=!0},document.head.appendChild(U)}}catch(U){r.error("Failed to load ACE editor, falling back to textarea:",U),f.value=!0}},H=async()=>{try{const m=["mode-text","mode-json","mode-xml","mode-html","mode-javascript","mode-css","theme-gob","theme-textmate","ext-language_tools"].map(b=>new Promise((P,J)=>{const C=document.createElement("script");C.src=`https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/${b}.js`,C.onload=P,C.onerror=J,document.head.appendChild(C)}));await Promise.all(m),n.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/"),n.config.set("workerPath","https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/"),nl(),d.value=!0,await Pe(),p.value&&W()}catch(U){r.error("Failed to load ACE components:",U),f.value=!0}},W=async()=>{if(!(!n||!p.value||c.value))try{c.value=n.edit(p.value);const U=T.value;await E(U),c.value.setTheme(Mo(U)),c.value.session.setMode($.value);const m={fontSize:14,showPrintMargin:!1,wrap:!0,readOnly:l.readonly,placeholder:l.placeholder};l.language==="curl"&&(m.enableBasicAutocompletion=!0,m.enableLiveAutocompletion=!0,m.enableSnippets=!1),c.value.setOptions({...m,...l.options}),l.language==="curl"&&(c.value.completers=[_r]),c.value.setValue(l.modelValue,-1),c.value.on("change",()=>{const b=c.value.getValue();u("update:modelValue",b),u("change",b),l.language==="curl"&&(ee(),B())}),c.value.on("focus",b=>{u("focus",b)}),c.value.on("blur",b=>{u("blur",b)}),c.value.commands.addCommand({name:"sendRequest",bindKey:{win:"Ctrl-Enter",mac:"Cmd-Enter"},exec:()=>{u("send")}}),setTimeout(()=>{c.value.resize()},100),l.language==="curl"&&(jt(),setTimeout(()=>{se(),nt()},100)),r.debug("ACE editor initialized successfully")}catch(U){r.error("Failed to create ACE editor:",U),f.value=!0}};ve(()=>l.modelValue,U=>{c.value&&c.value.getValue()!==U&&c.value.setValue(U,-1)}),ve(()=>l.language,U=>{c.value&&(c.value.session.setMode($.value),U==="curl"?(c.value.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),c.value.completers=[_r]):(c.value.setOptions({enableBasicAutocompletion:!1,enableLiveAutocompletion:!1}),c.value.completers=[]))}),ve(()=>l.theme,async()=>{if(c.value&&n){const U=T.value;await E(U),c.value.setTheme(Mo(U))}}),ve(()=>l.readonly,U=>{c.value&&c.value.setReadOnly(U)}),ve(()=>l.height,()=>{c.value&&setTimeout(()=>{c.value.resize()},50)}),ve(()=>i.activeEnvironment.value,()=>{c.value&&l.language==="curl"&&nt()});const K=()=>{c.value&&c.value.focus()},ne=()=>{c.value&&c.value.blur()},he=U=>{c.value&&c.value.setValue(U,-1)},we=()=>c.value?c.value.getValue():l.modelValue,Oe=(U,m,b)=>{j&&(clearTimeout(j),j=null),x.value=U,v.value=m+10,y.value=b+10,h.value=!0},Me=()=>{j=setTimeout(()=>{h.value=!1,x.value=null},100)},jt=()=>{if(!c.value||l.language!=="curl")return;const U=c.value,m=U.container;m.addEventListener("mousemove",b=>{const P=U.renderer.screenToTextCoordinates(b.clientX,b.clientY),J=U.session.getTokenAt(P.row,P.column);if(J&&J.type==="keyword.operator"){const C=fm(J.value);if(C){Ne(),Oe(C,b.clientX,b.clientY);return}}if(J&&J.type==="variable.language"){const C=J.value.slice(2,-2).trim(),k=o.variableExists(C),q=o.getVariableValue(C);Me(),At({name:C,value:k?q:null,resolved:k},b.clientX,b.clientY);return}Me(),Ne()}),m.addEventListener("mouseleave",()=>{Me(),Ne()})},At=(U,m,b)=>{j&&(clearTimeout(j),j=null),V.value=U,_.value=m+10,A.value=b+10,N.value=!0},Ne=()=>{j=setTimeout(()=>{N.value=!1,V.value=null},100)},nt=()=>{if(!c.value||l.language!=="curl")return;const U=c.value.session,m=c.value.getValue();z.forEach(C=>U.removeMarker(C)),z=[];const b=o.analyzeVariables(m);if(b.length===0)return;const P=n.require("ace/range").Range,J=m.split(`
`);b.forEach(C=>{let k=0,q=0,Y=0,X=0;for(let re=0;re<J.length;re++){const pe=J[re].length+1;if(k+pe>C.start){q=re,Y=C.start-k,X=Y+C.match.length;break}k+=pe}const Q=new P(q,Y,q,X),ae=C.resolved?"ace_variable-resolved":"ace_variable-unresolved",ie=U.addMarker(Q,ae,"text",!0);z.push(ie)})},B=()=>{S&&clearTimeout(S),S=setTimeout(nt,200)};let Z=[];const se=()=>{if(!c.value||l.language!=="curl")return;const U=c.value.session,m=c.value.getValue(),b=il(m);Z.forEach(C=>U.removeMarker(C)),Z=[];const P=b.map(C=>({row:C.row,column:C.column,text:C.text,type:C.type}));U.setAnnotations(P);const J=n.require("ace/range").Range;b.forEach(C=>{const k=new J(C.row,C.column,C.endRow,C.endColumn),q=C.type==="error"?"ace_error-marker":"ace_warning-marker",Y=U.addMarker(k,q,"text",!0);Z.push(Y)})},ee=()=>{O&&clearTimeout(O),O=setTimeout(se,500)};return De(()=>{I()}),Ze(()=>{c.value&&(c.value.destroy(),c.value=null)}),e({focus:K,blur:ne,setValue:he,getValue:we,editor:c}),(U,m)=>(g(),w("div",{class:"ace-text-editor",style:Ue({height:t.height})},[f.value?(g(),de(_i,{key:1,"model-value":t.modelValue,language:t.language,theme:t.theme,readonly:t.readonly,placeholder:t.placeholder,height:t.height,options:t.options,"onUpdate:modelValue":m[0]||(m[0]=b=>U.$emit("update:modelValue",b)),onChange:m[1]||(m[1]=b=>U.$emit("change",b)),onFocus:m[2]||(m[2]=b=>U.$emit("focus",b)),onBlur:m[3]||(m[3]=b=>U.$emit("blur",b))},null,8,["model-value","language","theme","readonly","placeholder","height","options"])):(g(),w("div",{key:0,ref_key:"editorContainer",ref:p,class:"ace-editor-container",style:Ue({height:t.height})},null,4)),(g(),de(Os,{to:"body"},[h.value&&x.value?(g(),w("div",{key:0,class:"curl-tooltip",style:Ue({left:v.value+"px",top:y.value+"px"})},[a("div",xm,[a("span",_m,D(x.value.name),1),a("span",Cm,[x.value.short?(g(),w("code",Sm,D(x.value.short),1)):G("",!0),x.value.long?(g(),w("code",Tm,D(x.value.long),1)):G("",!0)])]),a("p",km,D(x.value.description),1),x.value.example?(g(),w("div",Em,[m[4]||(m[4]=a("span",{class:"curl-tooltip-label"},"Example:",-1)),a("code",null,D(x.value.example),1)])):G("",!0),x.value.tip?(g(),w("p",$m,D(x.value.tip),1)):G("",!0)],4)):G("",!0)])),(g(),de(Os,{to:"body"},[N.value&&V.value?(g(),w("div",{key:0,class:"variable-tooltip",style:Ue({left:_.value+"px",top:A.value+"px"})},[a("span",Am,D(V.value.name),1),V.value.resolved?(g(),w("span",Rm," = "+D(V.value.value),1)):(g(),w("span",Om," (not found in environment) "))],4)):G("",!0)]))],4))}},qm=ye(Im,[["__scopeId","data-v-26a5e70f"]]),Ps={ACE:"ace",FALLBACK:"fallback"},rl=Ps.ACE,Dm={[Ps.ACE]:qm,[Ps.FALLBACK]:_i};function al(){return Dm[rl]||_i}const Cr=[{id:"terminal",name:"Terminal",description:"Classic green-on-black terminal"},{id:"monokai",name:"Monokai",description:"Popular dark theme with vibrant colors"},{id:"dracula",name:"Dracula",description:"Purple-tinted dark theme"},{id:"tomorrow_night",name:"Tomorrow Night",description:"Soft muted colors"},{id:"tomorrow_night_eighties",name:"Tomorrow Night 80s",description:"Retro dark theme"},{id:"twilight",name:"Twilight",description:"Subdued warm tones"},{id:"cobalt",name:"Cobalt",description:"Deep blue background"},{id:"idle_fingers",name:"Idle Fingers",description:"Muted earth tones"},{id:"kr_theme",name:"krTheme",description:"High contrast dark"},{id:"merbivore",name:"Merbivore",description:"Dark with red accents"},{id:"mono_industrial",name:"Mono Industrial",description:"Industrial monochrome"},{id:"pastel_on_dark",name:"Pastel on Dark",description:"Soft pastel colors"},{id:"clouds_midnight",name:"Clouds Midnight",description:"Dark cloud theme"},{id:"ambiance",name:"Ambiance",description:"Warm amber tones"},{id:"chaos",name:"Chaos",description:"Vibrant chaos theme"},{id:"gob",name:"Gob",description:"Golden/amber theme"}],Sr=[{id:"textmate",name:"TextMate",description:"Clean and readable"},{id:"chrome",name:"Chrome",description:"Crisp browser-style"},{id:"github",name:"GitHub",description:"GitHub-inspired"},{id:"xcode",name:"Xcode",description:"Apple Xcode style"},{id:"tomorrow",name:"Tomorrow",description:"Soft light theme"},{id:"kuroir",name:"Kuroir",description:"Warm light theme"},{id:"katzenmilch",name:"Katzenmilch",description:"Creamy light theme"},{id:"sqlserver",name:"SQL Server",description:"SQL Server Management Studio"},{id:"eclipse",name:"Eclipse",description:"Eclipse IDE style"},{id:"dreamweaver",name:"Dreamweaver",description:"Adobe Dreamweaver"},{id:"clouds",name:"Clouds",description:"Light and airy"},{id:"crimson_editor",name:"Crimson Editor",description:"Classic editor style"},{id:"dawn",name:"Dawn",description:"Soft morning colors"},{id:"iplastic",name:"IPlastic",description:"Modern plastic look"},{id:"solarized_light",name:"Solarized Light",description:"Solarized color scheme"}];function Mo(t){return`ace/theme/${t}`}const Tr={[Ps.ACE]:{theme:"dark",options:{fontSize:14,showPrintMargin:!1,wrap:!0}},[Ps.FALLBACK]:{theme:"light",options:{}}};function ll(){return Tr[rl]||Tr[Ps.FALLBACK]}const Pm={class:"card-container"},Fm={class:"card-face card-front"},Nm={class:"bubble-header"},Mm={class:"header-left"},Lm={class:"meta"},Vm={class:"header-right"},Um={class:"timestamp"},jm=["title"],zm={key:0,class:"error-content"},Hm={class:"error-message"},Bm={key:1,class:"response-body"},Jm={key:1,class:"no-body"},Wm={class:"card-face card-back"},Gm={class:"bubble-header"},Km={class:"header-left"},Xm={class:"header-right"},Ym={class:"timestamp"},Qm=["title"],Zm={class:"headers-list"},eg={class:"kv-key"},tg={class:"kv-value"},Lo=500*1024,sg={__name:"ResponseBubble",props:{message:{type:Object,required:!0},maximized:{type:Boolean,default:!1}},emits:["maximize","minimize"],setup(t,{emit:e}){const s=al(),n=ll(),o={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Content Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot",421:"Misdirected Request",422:"Unprocessable Content",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"},i=t,r=e,l=te(!1),u=te(!1),p=F(()=>i.message.data||{}),c=F(()=>p.value.status||0),d=F(()=>p.value.statusText||""),f=F(()=>d.value&&d.value!=="Unknown"?d.value:o[c.value]||"Unknown");F(()=>!p.value.success||c.value===0);const h=F(()=>c.value===0),v=F(()=>p.value.error||"Request failed"),y=F(()=>{const $=c.value;return $===0?"error":$>=200&&$<300?"success":$>=300&&$<400?"redirect":$>=400&&$<500?"client-error":$>=500?"server-error":""}),x=F(()=>p.value.headers||{}),j=F(()=>Object.keys(x.value).length),N=F(()=>p.value.body),_=F(()=>N.value!==null&&N.value!==void 0),A=F(()=>{if(!_.value)return 0;const $=typeof N.value=="string"?N.value:JSON.stringify(N.value);return new Blob([$]).size});F(()=>A.value>Lo);const V=F(()=>{if(!_.value)return"";let $="";if(typeof N.value=="object")try{$=JSON.stringify(N.value,null,2)}catch{$=String(N.value)}else if(typeof N.value=="string")try{$=JSON.stringify(JSON.parse(N.value),null,2)}catch{$=N.value}else $=String(N.value);if($.length>Lo){const I=$.substring(0,Lo),H=I.lastIndexOf(`
`);return(H>0?I.substring(0,H):I)+`

... [Response truncated - `+z.value+" total. Use download button to get full response]"}return $}),z=F(()=>{const $=A.value;return $<1024?`${$} B`:$<1024*1024?`${($/1024).toFixed(1)} KB`:`${($/(1024*1024)).toFixed(2)} MB`});F(()=>V.value.split(`
`).length>10);const S=F(()=>{const $=x.value["content-type"]||"";if($.includes("json"))return"json";if($.includes("html"))return"html";if($.includes("xml"))return"xml";if($.includes("javascript"))return"javascript";const I=V.value.trim();return I.startsWith("{")||I.startsWith("[")?"json":I.startsWith("<")?"xml":"plaintext"}),O=F(()=>{const $=p.value.time;return!$&&$!==0?"":$<1e3?`${Math.round($)}ms`:`${($/1e3).toFixed(2)}s`}),L=F(()=>{const $=p.value.size;return!$&&$!==0?"":$<1024?`${$} B`:$<1024*1024?`${($/1024).toFixed(2)} KB`:`${($/(1024*1024)).toFixed(2)} MB`}),R=F(()=>i.message.timestamp?new Date(i.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"");function E(){l.value=!l.value}function T(){if(!_.value)return;const $=x.value["content-type"]||"";let I="txt",H="text/plain";$.includes("json")?(I="json",H="application/json"):$.includes("html")?(I="html",H="text/html"):$.includes("xml")&&(I="xml",H="application/xml");let W="";typeof N.value=="object"?W=JSON.stringify(N.value,null,2):W=String(N.value);const K=new Blob([W],{type:H}),ne=URL.createObjectURL(K),we=`response-${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.${I}`,Oe=document.createElement("a");Oe.href=ne,Oe.download=we,document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),URL.revokeObjectURL(ne)}return($,I)=>(g(),w("div",{class:ue(["message-bubble response",[y.value,{flipped:u.value,maximized:t.maximized}]])},[a("div",Pm,[a("div",Fm,[a("div",Nm,[a("div",Mm,[a("div",{class:ue(["status-badge",y.value])},D(c.value)+" "+D(f.value),3),a("span",Lm,D(O.value)+"  "+D(L.value),1)]),a("div",Vm,[a("span",Um,D(R.value),1),j.value>0?(g(),w("button",{key:0,class:"headers-flip-btn",onClick:I[0]||(I[0]=H=>u.value=!0),title:"View response headers"}," Headers ("+D(j.value)+") ",1)):G("",!0),_.value?(g(),w("button",{key:1,class:"download-btn",onClick:T,title:"Download response"},"  ")):G("",!0),a("button",{class:"maximize-btn",onClick:I[1]||(I[1]=H=>r(t.maximized?"minimize":"maximize",t.message)),title:t.maximized?"Restore":"Maximize"},D(t.maximized?"":""),9,jm)])]),h.value?(g(),w("div",zm,[I[4]||(I[4]=a("span",{class:"error-icon"},"",-1)),a("span",Hm,D(v.value),1)])):(g(),w("div",Bm,[a("div",{class:ue(["body-preview",{expanded:l.value||t.maximized}])},[_.value?(g(),de(nn(M(s)),{key:0,"model-value":V.value,language:S.value,theme:"dark",readonly:!0,height:t.maximized?"600px":l.value?"400px":"200px",options:{...M(n).options,showGutter:!0,highlightActiveLine:!1}},null,8,["model-value","language","height","options"])):(g(),w("div",Jm,"No response body"))],2),_.value&&!t.maximized?(g(),w("button",{key:0,class:"expand-btn",onClick:E},D(l.value?"Show less":"Show more"),1)):G("",!0)]))]),a("div",Wm,[a("div",Gm,[a("div",Km,[a("div",{class:ue(["status-badge",y.value])},D(c.value)+" "+D(f.value),3),I[5]||(I[5]=a("span",{class:"meta"},"Response Headers",-1))]),a("div",Xm,[a("span",Ym,D(R.value),1),a("button",{class:"headers-flip-btn active",onClick:I[2]||(I[2]=H=>u.value=!1),title:"View response body"}," Body "),_.value?(g(),w("button",{key:0,class:"download-btn",onClick:T,title:"Download response"},"  ")):G("",!0),a("button",{class:"maximize-btn",onClick:I[3]||(I[3]=H=>r(t.maximized?"minimize":"maximize",t.message)),title:t.maximized?"Restore":"Maximize"},D(t.maximized?"":""),9,Qm)])]),a("div",Zm,[(g(!0),w(me,null,ke(x.value,(H,W)=>(g(),w("div",{key:W,class:"kv-item"},[a("span",eg,D(W)+":",1),a("span",tg,D(H),1)]))),128))])])])],2))}},cl=ye(sg,[["__scopeId","data-v-e651ec1f"]]),ng={class:"message-bubble validation"},og={class:"validation-card"},ig={class:"validation-header"},rg={class:"header-right"},ag={key:0,class:"error-count"},lg={key:1,class:"warning-count"},cg={class:"timestamp"},ug={class:"validation-content"},dg={class:"error-list"},pg={class:"error-type-icon"},fg={class:"error-details"},hg={key:0,class:"error-location"},mg={class:"error-message"},gg={__name:"ValidationBubble",props:{message:{type:Object,required:!0}},setup(t){const e=t,s=F(()=>e.message.data||{}),n=F(()=>s.value.errors||[]),o=F(()=>s.value.errorCount||0),i=F(()=>s.value.warningCount||0),r=F(()=>e.message.timestamp?new Date(e.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"");return(l,u)=>(g(),w("div",ng,[a("div",og,[a("div",ig,[u[0]||(u[0]=a("div",{class:"header-left"},[a("span",{class:"validation-icon"},"!"),a("span",{class:"validation-title"},"cURL Validation Failed")],-1)),a("div",rg,[o.value>0?(g(),w("span",ag,D(o.value)+" error"+D(o.value!==1?"s":""),1)):G("",!0),i.value>0?(g(),w("span",lg,D(i.value)+" warning"+D(i.value!==1?"s":""),1)):G("",!0),a("span",cg,D(r.value),1)])]),a("div",ug,[u[1]||(u[1]=a("p",{class:"validation-intro"}," Your cURL command has issues that need to be fixed before sending: ",-1)),a("div",dg,[(g(!0),w(me,null,ke(n.value,(p,c)=>(g(),w("div",{key:c,class:ue(["error-item",p.type])},[a("span",pg,D(p.type==="error"?"x":"!"),1),a("div",fg,[p.row!==void 0?(g(),w("span",hg," Line "+D(p.row+1)+", Col "+D(p.column+1),1)):G("",!0),a("span",mg,D(p.text),1)])],2))),128))]),u[2]||(u[2]=a("div",{class:"validation-tip"},[a("span",{class:"tip-icon"},"i"),a("span",{class:"tip-text"}," Fix the highlighted errors in the editor above, then try sending again. ")],-1))])])]))}},vg=ye(gg,[["__scopeId","data-v-28138400"]]),yg={class:"message-bubble script-results"},bg={class:"script-header"},wg={class:"header-left"},xg={class:"script-icon"},_g={class:"header-right"},Cg={key:0,class:"passed-count"},Sg={key:1,class:"failed-count"},Tg={class:"timestamp"},kg={key:0,class:"script-content"},Eg={class:"test-icon"},$g={class:"test-details"},Ag={class:"test-name"},Rg={key:0,class:"test-duration"},Og={key:1,class:"test-error"},Ig={class:"error-message"},qg={key:0,class:"error-diff"},Dg={class:"expected"},Pg={class:"actual"},Fg={key:1,class:"script-content"},Ng={class:"script-error"},Mg={class:"error-details"},Lg={class:"error-message"},Vg={key:2,class:"script-footer"},Ug={class:"duration-label"},jg={__name:"ScriptMessage",props:{message:{type:Object,required:!0}},setup(t){const e=t,s=F(()=>e.message.data||{}),n=F(()=>s.value.tests||[]),o=F(()=>s.value.error||null),i=F(()=>s.value.duration),r=F(()=>n.value.filter(c=>c.passed).length),l=F(()=>n.value.filter(c=>!c.passed).length),u=F(()=>e.message.timestamp?new Date(e.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""),p=c=>{if(c===void 0)return"undefined";if(c===null)return"null";if(typeof c=="string")return`"${c}"`;if(typeof c=="object")try{return JSON.stringify(c)}catch{return String(c)}return String(c)};return(c,d)=>(g(),w("div",yg,[a("div",{class:ue(["script-card",{"has-failures":l.value>0,"all-passed":l.value===0&&r.value>0}])},[a("div",bg,[a("div",wg,[a("span",xg,D(l.value>0?"!":""),1),d[0]||(d[0]=a("span",{class:"script-title"},"Script Tests",-1))]),a("div",_g,[r.value>0?(g(),w("span",Cg,D(r.value)+" passed ",1)):G("",!0),l.value>0?(g(),w("span",Sg,D(l.value)+" failed ",1)):G("",!0),a("span",Tg,D(u.value),1)])]),n.value.length>0?(g(),w("div",kg,[(g(!0),w(me,null,ke(n.value,(f,h)=>(g(),w("div",{key:h,class:ue(["test-item",{passed:f.passed,failed:!f.passed}])},[a("span",Eg,D(f.passed?"":""),1),a("div",$g,[a("span",Ag,D(f.name),1),f.duration!==void 0?(g(),w("span",Rg,D(f.duration.toFixed(1))+"ms ",1)):G("",!0),!f.passed&&f.error?(g(),w("div",Og,[a("span",Ig,D(f.error.message),1),f.error.expected!==void 0?(g(),w("div",qg,[a("span",Dg,"Expected: "+D(p(f.error.expected)),1),a("span",Pg,"Actual: "+D(p(f.error.actual)),1)])):G("",!0)])):G("",!0)])],2))),128))])):o.value?(g(),w("div",Fg,[a("div",Ng,[d[2]||(d[2]=a("span",{class:"error-icon"},"!",-1)),a("div",Mg,[d[1]||(d[1]=a("span",{class:"error-title"},"Script Error",-1)),a("span",Lg,D(o.value.message),1)])])])):G("",!0),i.value?(g(),w("div",Vg,[a("span",Ug,"Script executed in "+D(i.value.toFixed(1))+"ms",1)])):G("",!0)],2)]))}},zg=ye(jg,[["__scopeId","data-v-ef4775c2"]]),Hg={class:"message-bubble console-output"},Bg={class:"console-card"},Jg={class:"console-header"},Wg={class:"header-right"},Gg={class:"log-count"},Kg={class:"timestamp"},Xg={class:"console-content"},Yg={class:"log-type-badge"},Qg={class:"log-args"},Zg={__name:"ConsoleMessage",props:{message:{type:Object,required:!0}},setup(t){const e=t,s=F(()=>e.message.data||{}),n=F(()=>s.value.logs||[]),o=F(()=>e.message.timestamp?new Date(e.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""),i=r=>({log:"LOG",info:"INFO",warn:"WARN",error:"ERR",debug:"DBG"})[r]||"LOG";return(r,l)=>(g(),w("div",Hg,[a("div",Bg,[a("div",Jg,[l[0]||(l[0]=a("div",{class:"header-left"},[a("span",{class:"console-icon"},">"),a("span",{class:"console-title"},"Console Output")],-1)),a("div",Wg,[a("span",Gg,D(n.value.length)+" message"+D(n.value.length!==1?"s":""),1),a("span",Kg,D(o.value),1)])]),a("div",Xg,[(g(!0),w(me,null,ke(n.value,(u,p)=>(g(),w("div",{key:p,class:ue(["log-item",u.type])},[a("span",Yg,D(i(u.type)),1),a("div",Qg,[(g(!0),w(me,null,ke(u.args,(c,d)=>(g(),w("span",{key:d,class:"log-arg"},D(c),1))),128))])],2))),128))])])]))}},ev=ye(Zg,[["__scopeId","data-v-0ee2c53d"]]),tv={class:"message-bubble env-changes"},sv={class:"env-card"},nv={class:"env-header"},ov={class:"header-right"},iv={key:0,class:"env-name"},rv={class:"change-count"},av={class:"timestamp"},lv={class:"env-content"},cv={class:"change-action-icon"},uv={class:"change-details"},dv={class:"change-key"},pv={class:"change-value"},fv={class:"change-label"},hv={key:0,class:"env-note"},mv={__name:"EnvChangeMessage",props:{message:{type:Object,required:!0}},setup(t){const e=t,s=F(()=>e.message.data||{}),n=F(()=>s.value.changes||[]),o=F(()=>s.value.environmentName||""),i=F(()=>s.value.hasActiveEnvironment!==!1),r=F(()=>e.message.timestamp?new Date(e.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""),l=c=>({set:"+",unset:"-",update:"~"})[c]||"+",u=(c,d)=>c==="unset"?"(removed)":c==="set"&&d!==void 0?"(updated)":c==="set"?"(new)":"",p=c=>{if(c==null)return"(empty)";const d=String(c);return d.length>50?`"${d.substring(0,47)}..."`:`"${d}"`};return(c,d)=>(g(),w("div",tv,[a("div",sv,[a("div",nv,[d[0]||(d[0]=a("div",{class:"header-left"},[a("span",{class:"env-icon"},""),a("span",{class:"env-title"},"Environment Updated")],-1)),a("div",ov,[o.value?(g(),w("span",iv,D(o.value),1)):G("",!0),a("span",rv,D(n.value.length)+" change"+D(n.value.length!==1?"s":""),1),a("span",av,D(r.value),1)])]),a("div",lv,[(g(!0),w(me,null,ke(n.value,(f,h)=>(g(),w("div",{key:h,class:ue(["change-item",f.action])},[a("span",cv,D(l(f.action)),1),a("div",uv,[a("span",dv,D(f.key),1),d[1]||(d[1]=a("span",{class:"change-equals"},"=",-1)),a("span",pv,D(p(f.value)),1),a("span",fv,D(u(f.action,f.oldValue)),1)])],2))),128))]),i.value?G("",!0):(g(),w("div",hv,[...d[2]||(d[2]=[a("span",{class:"note-icon"},"!",-1),a("span",{class:"note-text"},"No active environment - changes were not persisted",-1)])]))])]))}},gv=ye(mv,[["__scopeId","data-v-b30864b9"]]),vv={class:"conversation-thread"},yv={key:0,class:"thread-header"},bv={class:"thread-title"},wv={class:"thread-actions"},xv=["title"],_v={key:0,class:"empty-state"},Cv={key:1,class:"loading-indicator"},Sv={__name:"ConversationThread",props:{conversation:{type:Object,default:null},messages:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1}},emits:["edit-request","clear","maximize-response"],setup(t,{emit:e}){const s=t,n=e,o=te(null),i=te(!0),r=["script_results","console_log","env_change"],l=F(()=>i.value?s.messages:s.messages.filter(f=>!r.includes(f.type)));ve(()=>s.messages.length,async()=>{await Pe(),u()}),ve(()=>s.isLoading,async f=>{f&&(await Pe(),u())});function u(){o.value&&(o.value.scrollTop=o.value.scrollHeight)}function p(f){n("edit-request",f)}function c(){n("clear")}function d(f){n("maximize-response",f)}return(f,h)=>(g(),w("div",vv,[t.conversation?(g(),w("div",yv,[a("h3",bv,D(t.conversation.name),1),a("div",wv,[a("button",{class:ue(["action-btn toggle-btn",{active:i.value}]),onClick:h[0]||(h[0]=v=>i.value=!i.value),title:i.value?"Hide test results":"Show test results"},D(i.value?"Hide Tests":"Show Tests"),11,xv),a("button",{class:"action-btn",onClick:c,title:"Clear conversation"}," Clear ")])])):G("",!0),a("div",{ref_key:"messagesContainer",ref:o,class:"messages-container"},[l.value.length===0?(g(),w("div",_v,[...h[1]||(h[1]=[a("div",{class:"empty-icon"},"",-1),a("p",{class:"empty-title"},"Start a conversation",-1),a("p",{class:"empty-subtitle"}," Send a request to see the response here ",-1)])])):G("",!0),fe($u,{name:"message",tag:"div",class:"messages-list"},{default:Fe(()=>[(g(!0),w(me,null,ke(l.value,v=>(g(),w(me,{key:v.id},[v.type==="request"?(g(),de(im,{key:0,message:v,onEdit:y=>p(v)},null,8,["message","onEdit"])):v.type==="response"?(g(),de(cl,{key:1,message:v,onMaximize:y=>d(v)},null,8,["message","onMaximize"])):v.type==="validation"?(g(),de(vg,{key:2,message:v},null,8,["message"])):v.type==="console_log"?(g(),de(ev,{key:3,message:v},null,8,["message"])):v.type==="script_results"?(g(),de(zg,{key:4,message:v},null,8,["message"])):v.type==="env_change"?(g(),de(gv,{key:5,message:v},null,8,["message"])):G("",!0)],64))),128))]),_:1}),t.isLoading?(g(),w("div",Cv,[...h[2]||(h[2]=[a("div",{class:"loading-dots"},[a("span"),a("span"),a("span")],-1),a("span",{class:"loading-text"},"Sending request...",-1)])])):G("",!0)],512)]))}},Tv=ye(Sv,[["__scopeId","data-v-b87e34b4"]]),kv=["onMouseenter"],Ev={key:0,class:"highlight-placeholder"},$v=["value","placeholder"],Av={class:"tooltip-name"},Rv={key:0,class:"tooltip-value"},Ov={key:1,class:"tooltip-unresolved"},Iv={key:0,class:"variable-preview"},qv={class:"preview-header"},Dv={key:0,class:"preview-warning"},Pv={class:"preview-content"},Fv={class:"preview-original"},Nv={class:"preview-interpolated"},Mv={class:"preview-variables"},Lv={class:"variable-name"},Vv={class:"variable-value"},Uv={__name:"VariableHighlightInput",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:""},class:{type:String,default:""}},emits:["update:modelValue","keydown"],setup(t,{emit:e}){const s=new ss({prefix:"VariableHighlightInput",level:"debug"}),n=t,o=e,i=gs();let r,l;try{const R=yo();r=R.splitTextForHighlighting,l=R.previewInterpolation}catch(R){s.error("Failed to load composable:",R),r=E=>[{type:"text",content:E}],l=E=>({hasVariables:!1,original:E,interpolated:E,variables:[]})}const u=te(null),p=te(null),c=te(!1),d=te(!1),f=te(0),h=te(0),v=te(null);let y=null;const x=R=>{o("update:modelValue",R.target.value)},j=F(()=>(i.activeEnvironment.value,r(n.modelValue))),N=F(()=>(i.activeEnvironment.value,l(n.modelValue))),_=F(()=>j.value.some(R=>R.type==="variable")),A=()=>{u.value&&p.value&&(p.value.scrollLeft=u.value.scrollLeft,p.value.scrollTop=u.value.scrollTop)},V=()=>{N.value.hasVariables&&(c.value=!0)},z=()=>{setTimeout(()=>{c.value=!1},200)},S=R=>{x(R),Pe(()=>{N.value.hasVariables?c.value=!0:c.value=!1})};ve(()=>n.modelValue,()=>{Pe(()=>{A()})});const O=(R,E)=>{y&&(clearTimeout(y),y=null),v.value={name:R.name,value:R.value,resolved:R.resolved},f.value=E.clientX+10,h.value=E.clientY+10,d.value=!0},L=()=>{y=setTimeout(()=>{d.value=!1,v.value=null},100)};return(R,E)=>(g(),w("div",{class:ue(["variable-input-container",n.class])},[a("div",{ref_key:"highlightRef",ref:p,class:"highlight-backdrop","aria-hidden":"true"},[(g(!0),w(me,null,ke(j.value,(T,$)=>(g(),w("span",{key:$,class:ue({"highlight-text":T.type==="text","highlight-variable":T.type==="variable","highlight-variable--resolved":T.type==="variable"&&T.resolved,"highlight-variable--unresolved":T.type==="variable"&&!T.resolved}),onMouseenter:I=>T.type==="variable"?O(T,I):null,onMouseleave:L},D(T.content),43,kv))),128)),n.modelValue?G("",!0):(g(),w("span",Ev,D(n.placeholder),1))],512),a("input",{ref_key:"inputRef",ref:u,value:n.modelValue,onInput:S,onScroll:A,onFocus:V,onBlur:z,onKeydown:E[0]||(E[0]=T=>R.$emit("keydown",T)),type:"text",placeholder:n.placeholder,class:ue(["variable-input",{"has-variables":_.value}])},null,42,$v),(g(),de(Os,{to:"body"},[d.value&&v.value?(g(),w("div",{key:0,class:"variable-hover-tooltip",style:Ue({left:f.value+"px",top:h.value+"px"})},[a("span",Av,D(v.value.name),1),v.value.resolved?(g(),w("span",Rv," = "+D(v.value.value),1)):(g(),w("span",Ov," (not found) "))],4)):G("",!0)])),c.value&&N.value.hasVariables?(g(),w("div",Iv,[a("div",qv,[E[1]||(E[1]=a("span",{class:"preview-title"},"Variables Preview",-1)),N.value.unresolvedCount>0?(g(),w("span",Dv,D(N.value.unresolvedCount)+" unresolved ",1)):G("",!0)]),a("div",Pv,[a("div",Fv,[E[2]||(E[2]=a("strong",null,"Original:",-1)),_e(" "+D(N.value.original),1)]),a("div",Nv,[E[3]||(E[3]=a("strong",null,"Result:",-1)),_e(" "+D(N.value.interpolated),1)])]),a("div",Mv,[(g(!0),w(me,null,ke(N.value.variables,T=>(g(),w("div",{key:T.name,class:ue(["preview-variable",{"preview-variable--resolved":T.resolved}])},[a("span",Lv,D(T.name),1),E[4]||(E[4]=a("span",{class:"variable-arrow"},"",-1)),a("span",Vv,D(T.resolved?T.value:"undefined"),1)],2))),128))])])):G("",!0)],2))}},as=ye(Uv,[["__scopeId","data-v-2945e7bd"]]),ul=[{name:"Status code is 200",category:"Status Code",description:"Check if response status is 200 OK",code:`pm.test("Status code is 200", function () {
    pm.expect(pm.response.code).to.equal(200);
});`},{name:"Status code is 201",category:"Status Code",description:"Check if response status is 201 Created",code:`pm.test("Status code is 201", function () {
    pm.expect(pm.response.code).to.equal(201);
});`},{name:"Successful response",category:"Status Code",description:"Check if status code is in 2xx range",code:`pm.test("Successful response", function () {
    pm.expect(pm.response.code).to.be.oneOf([200, 201, 204]);
});`},{name:"Response time < 200ms",category:"Performance",description:"Check if response time is under 200 milliseconds",code:`pm.test("Response time is less than 200ms", function () {
    pm.expect(pm.response.responseTime).to.be.below(200);
});`},{name:"Response time < 500ms",category:"Performance",description:"Check if response time is under 500 milliseconds",code:`pm.test("Response time is less than 500ms", function () {
    pm.expect(pm.response.responseTime).to.be.below(500);
});`},{name:"Response has JSON body",category:"Response Body",description:"Check if response can be parsed as JSON",code:`pm.test("Response is valid JSON", function () {
    pm.response.json(); // Throws if invalid JSON
});`},{name:"Response has property",category:"Response Body",description:"Check if JSON response has a specific property",code:`pm.test("Response has 'data' property", function () {
    const json = pm.response.json();
    pm.expect(json).to.have.property("data");
});`},{name:"Response array not empty",category:"Response Body",description:"Check if response array has at least one item",code:`pm.test("Response array is not empty", function () {
    const json = pm.response.json();
    pm.expect(json).to.be.an("array");
    pm.expect(json.length).to.be.above(0);
});`},{name:"Response value equals",category:"Response Body",description:"Check if a specific value matches expected",code:`pm.test("Response status is 'success'", function () {
    const json = pm.response.json();
    pm.expect(json.status).to.equal("success");
});`},{name:"Response contains string",category:"Response Body",description:"Check if response body contains a string",code:`pm.test("Response contains expected text", function () {
    pm.expect(pm.response.text()).to.include("expected text");
});`},{name:"Content-Type is JSON",category:"Headers",description:"Check if Content-Type header indicates JSON",code:`pm.test("Content-Type is application/json", function () {
    pm.expect(pm.response.headers.get("Content-Type")).to.include("application/json");
});`},{name:"Header exists",category:"Headers",description:"Check if a specific header is present",code:`pm.test("X-Request-Id header exists", function () {
    pm.expect(pm.response.headers.has("X-Request-Id")).to.be.true;
});`},{name:"Save access token",category:"Environment",description:"Extract and save access token from response",code:`// Save access token to environment
const json = pm.response.json();
if (json.access_token) {
    pm.environment.set("access_token", json.access_token);
    console.log("Access token saved to environment");
}`},{name:"Save response value",category:"Environment",description:"Save a value from response to environment",code:`// Save a value from response to environment
const json = pm.response.json();
pm.environment.set("saved_id", json.id);`},{name:"Save multiple values",category:"Environment",description:"Save multiple values from OAuth response",code:`// Save OAuth tokens
const json = pm.response.json();
if (pm.response.code === 200) {
    pm.environment.set("access_token", json.access_token);
    pm.environment.set("refresh_token", json.refresh_token);
    pm.environment.set("expires_in", json.expires_in);
    console.log("Tokens saved successfully");
}`},{name:"Use environment variable",category:"Environment",description:"Access an environment variable in test",code:`pm.test("Response matches expected user", function () {
    const expectedId = pm.environment.get("user_id");
    const json = pm.response.json();
    pm.expect(json.id).to.equal(expectedId);
});`},{name:"Validate object schema",category:"Schema",description:"Check if response has required properties",code:`pm.test("Response has valid schema", function () {
    const json = pm.response.json();
    pm.expect(json).to.have.property("id");
    pm.expect(json).to.have.property("name");
    pm.expect(json).to.have.property("email");
    pm.expect(json.id).to.be.a("number");
    pm.expect(json.name).to.be.a("string");
    pm.expect(json.email).to.be.a("string");
});`},{name:"Validate array items",category:"Schema",description:"Check if each array item has required properties",code:`pm.test("Each item has required properties", function () {
    const json = pm.response.json();
    pm.expect(json).to.be.an("array");
    json.forEach((item, index) => {
        pm.expect(item, \`Item \${index}\`).to.have.property("id");
        pm.expect(item, \`Item \${index}\`).to.have.property("name");
    });
});`},{name:"Check error response",category:"Errors",description:"Verify error response structure",code:`pm.test("Error response is valid", function () {
    const json = pm.response.json();
    pm.expect(json).to.have.property("error");
    pm.expect(json.error).to.have.property("message");
});`},{name:"Not found response",category:"Errors",description:"Check for 404 Not Found response",code:`pm.test("Resource not found", function () {
    pm.expect(pm.response.code).to.equal(404);
    const json = pm.response.json();
    pm.expect(json.error).to.include("not found");
});`},{name:"Conditional save",category:"Conditional",description:"Save to environment only on success",code:`// Only save data on successful response
if (pm.response.code === 200) {
    const json = pm.response.json();
    pm.environment.set("last_response_id", json.id);
    pm.test("Data saved successfully", function () {
        pm.expect(true).to.be.true;
    });
} else {
    console.warn("Request failed with status:", pm.response.code);
}`},{name:"Log response details",category:"Debugging",description:"Log response information for debugging",code:`// Log response details for debugging
console.log("Status:", pm.response.code, pm.response.status);
console.log("Response time:", pm.response.responseTime, "ms");
console.log("Body:", pm.response.text().substring(0, 200));`}];function jv(){const t={};return ul.forEach(e=>{t[e.category]||(t[e.category]=[]),t[e.category].push(e)}),t}function zv(t){return ul.find(e=>e.name===t)}const Hv={class:"chat-composer"},Bv={class:"composer-tabs"},Jv={key:0,class:"script-dot"},Wv={key:0,class:"curl-input-container"},Gv={class:"curl-toolbar"},Kv=["title"],Xv={key:1,class:"visual-input-container"},Yv={class:"url-row"},Qv={class:"visual-tabs"},Zv={key:0,class:"badge"},ey={key:0,class:"badge"},ty={key:0,class:"auth-dot"},sy={class:"visual-panel"},ny={key:0,class:"kv-editor"},oy=["onUpdate:modelValue"],iy=["onUpdate:modelValue"],ry=["onClick"],ay={key:1,class:"kv-editor"},ly=["onUpdate:modelValue"],cy=["onUpdate:modelValue"],uy=["onClick"],dy={key:2,class:"body-editor"},py={class:"body-mode-selector"},fy=["value"],hy={key:0,class:"body-raw-editor"},my={key:1,class:"kv-editor"},gy=["onUpdate:modelValue"],vy=["onUpdate:modelValue"],yy=["onClick"],by={key:2,class:"kv-editor"},wy=["onUpdate:modelValue"],xy=["onUpdate:modelValue"],_y=["onClick"],Cy={key:3,class:"auth-editor"},Sy={class:"auth-type-row"},Ty={key:0,class:"auth-fields"},ky={class:"auth-field"},Ey={key:1,class:"auth-fields"},$y={class:"auth-field"},Ay={class:"auth-field"},Ry={key:2,class:"auth-fields"},Oy={class:"auth-field"},Iy={class:"auth-field"},qy={class:"auth-field"},Dy={class:"auth-radio-group"},Py={class:"auth-hint"},Fy={key:0},Ny={key:1},My={key:3,class:"auth-empty"},Ly={key:2,class:"script-input-container"},Vy={class:"script-header"},Uy={class:"script-type-selector"},jy={key:0,class:"prerequest-warning"},zy={class:"script-actions"},Hy={class:"script-editor-container"},By={class:"composer-actions"},Jy=["disabled"],Wy={key:0,class:"loading-spinner"},Gy={key:1},Ky={__name:"ChatComposer",props:{controller:{type:Object,required:!0}},emits:["send","save","mode-change"],setup(t,{emit:e}){fu(C=>({v54fd1658:H.value}));const s=al(),n=ll(),o=jv(),i=t,r=e,l=te(i.controller.state.composerMode),u=te(i.controller.state.curlInput),p=te(i.controller.state.method),c=te(i.controller.state.url),d=te(i.controller.state.headers),f=te(i.controller.state.params),h=te(i.controller.state.body),v=te(i.controller.state.auth||{type:"none",bearer:{token:""},basic:{username:"",password:""},apikey:{key:"X-API-Key",value:"",in:"header"}}),y=te(i.controller.state.script||{preRequest:"",postRequest:""}),x=te("params"),j=te("test"),N=te(""),_=te(null),A=te(null),V=te(!1),z=F(()=>i.controller.state.isLoading),S=["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS"],O=[{value:"none",label:"No Auth"},{value:"bearer",label:"Bearer Token"},{value:"basic",label:"Basic Auth"},{value:"apikey",label:"API Key"}],L=[{value:"test",label:"Post-Request Script"},{value:"prerequest",label:"Pre-Request Script"}],R=F(()=>{const C=[{value:"",label:"Insert Snippet..."}];return Object.entries(o).forEach(([k,q])=>{q.forEach(Y=>{C.push({value:Y.name,label:`${k}: ${Y.name}`})})}),C}),E=[{value:"none",label:"None"},{value:"raw",label:"Raw"},{value:"formdata",label:"Form Data"},{value:"urlencoded",label:"URL Encoded"}],T=[{value:"json",label:"JSON",mode:"json"},{value:"xml",label:"XML",mode:"xml"},{value:"html",label:"HTML",mode:"html"},{value:"text",label:"Text",mode:"text"}],$=te("json"),I=F(()=>T.find(k=>k.value===$.value)?.mode||"text"),H=F(()=>i.controller.getMethodColor(p.value)),W=F(()=>f.value.filter(C=>C.enabled&&C.key).length),K=F(()=>d.value.filter(C=>C.enabled&&C.key).length),ne=F(()=>l.value==="curl"?u.value.trim().length>0:c.value.trim().length>0),he=F(()=>i.controller.state.currentRequestId&&i.controller.state.currentCollectionId),we=F(()=>y.value.postRequest&&y.value.postRequest.trim().length>0||y.value.preRequest&&y.value.preRequest.trim().length>0);ve(l,C=>i.controller.setComposerMode(C)),ve(u,C=>i.controller.setCurlInput(C)),ve(p,C=>i.controller.updateField("method",C)),ve(c,C=>i.controller.updateField("url",C)),ve(d,C=>i.controller.updateField("headers",C),{deep:!0}),ve(f,C=>i.controller.updateField("params",C),{deep:!0}),ve(h,C=>i.controller.updateField("body",C),{deep:!0}),ve(v,C=>i.controller.updateField("auth",C),{deep:!0}),ve(y,C=>i.controller.updateField("script",C),{deep:!0}),ve(()=>i.controller.state.composerMode,C=>{l.value=C}),ve(()=>i.controller.state.curlInput,C=>{u.value=C}),ve(()=>i.controller.state.method,C=>{p.value=C}),ve(()=>i.controller.state.url,C=>{c.value=C}),ve(()=>i.controller.state.headers,C=>{d.value=C},{deep:!0}),ve(()=>i.controller.state.params,C=>{f.value=C},{deep:!0}),ve(()=>i.controller.state.body,C=>{h.value=C},{deep:!0}),ve(()=>i.controller.state.auth,C=>{C&&(v.value=C)},{deep:!0}),ve(()=>i.controller.state.script,C=>{C&&(y.value=C)},{deep:!0});function Oe(C){l.value=C,r("mode-change",C)}function Me(){f.value.push({key:"",value:"",enabled:!0,id:Date.now()})}function jt(C){f.value.splice(C,1)}function At(){d.value.push({key:"",value:"",enabled:!0,id:Date.now()})}function Ne(C){d.value.splice(C,1)}function nt(){h.value.formData.push({key:"",value:"",enabled:!0,id:Date.now()})}function B(C){h.value.formData.splice(C,1)}function Z(){h.value.urlEncoded.push({key:"",value:"",enabled:!0,id:Date.now()})}function se(C){h.value.urlEncoded.splice(C,1)}function ee(){!ne.value||z.value||r("send")}function U(){he.value&&r("save")}function m(C){if(!C)return;const k=zv(C);if(k){const q=y.value.postRequest||"",Y=q.trim()?`

`:"";y.value.postRequest=q+Y+k.code}N.value=""}function b(){V.value?u.value=J(u.value):u.value=P(u.value),V.value=!V.value}function P(C){if(!C.trim())return C;let k=C.replace(/\s*\\\s*\n\s*/g," ").replace(/\s+/g," ").trim();const Y=["-X","--request","-H","--header","-d","--data","--data-raw","--data-binary","--data-urlencode","-F","--form","-u","--user","-A","--user-agent","-b","--cookie","-c","--cookie-jar","-e","--referer","-o","--output","-L","--location","-k","--insecure","-v","--verbose","-s","--silent","--compressed","--connect-timeout","--max-time"].map(ae=>ae.replace(/-/g,"\\-")).join("|"),X=new RegExp(`\\s+(${Y})(?=\\s|$)`,"g");return k.replace(X,` \\
  $1`)}function J(C){return C.trim()?C.replace(/\s*\\\s*\n\s*/g," ").replace(/\s+/g," ").trim():C}return(C,k)=>(g(),w("div",Hv,[a("div",Bv,[a("button",{class:ue(["tab-btn",{active:l.value==="curl"}]),onClick:k[0]||(k[0]=q=>Oe("curl"))}," cURL ",2),a("button",{class:ue(["tab-btn",{active:l.value==="visual"}]),onClick:k[1]||(k[1]=q=>Oe("visual"))}," Visual ",2),a("button",{class:ue(["tab-btn",{active:l.value==="script","has-script":we.value}]),onClick:k[2]||(k[2]=q=>Oe("script"))},[k[24]||(k[24]=_e(" Script ",-1)),we.value?(g(),w("span",Jv)):G("",!0)],2)]),l.value==="curl"?(g(),w("div",Wv,[a("div",Gv,[a("button",{class:ue(["curl-format-btn",{active:V.value}]),onClick:b,title:V.value?"Minify cURL (single line)":"Beautify cURL (multi-line)"},D(V.value?" Minify":" Beautify"),11,Kv)]),(g(),de(nn(M(s)),{ref_key:"curlInputRef",ref:_,modelValue:u.value,"onUpdate:modelValue":k[3]||(k[3]=q=>u.value=q),language:"curl",theme:"dark",height:"100%",placeholder:"Paste cURL: https://api.example.com -X POST -H 'Content-Type: application/json'",options:{showGutter:!0,wrap:!V.value,fontSize:13,showLineNumbers:!1,showFoldWidgets:!1},onSend:ee},null,40,["modelValue","options"]))])):l.value==="visual"?(g(),w("div",Xv,[a("div",Yv,[fe(_s,{modelValue:p.value,"onUpdate:modelValue":k[4]||(k[4]=q=>p.value=q),options:S,class:"method-select"},null,8,["modelValue"]),fe(as,{modelValue:c.value,"onUpdate:modelValue":k[5]||(k[5]=q=>c.value=q),class:"url-input",placeholder:"https://api.example.com/endpoint",onKeydown:fo(ee,["enter"])},null,8,["modelValue"])]),a("div",Qv,[a("button",{class:ue(["visual-tab-btn",{active:x.value==="params"}]),onClick:k[6]||(k[6]=q=>x.value="params")},[k[25]||(k[25]=_e(" Params ",-1)),W.value>0?(g(),w("span",Zv,D(W.value),1)):G("",!0)],2),a("button",{class:ue(["visual-tab-btn",{active:x.value==="headers"}]),onClick:k[7]||(k[7]=q=>x.value="headers")},[k[26]||(k[26]=_e(" Headers ",-1)),K.value>0?(g(),w("span",ey,D(K.value),1)):G("",!0)],2),a("button",{class:ue(["visual-tab-btn",{active:x.value==="body"}]),onClick:k[8]||(k[8]=q=>x.value="body")}," Body ",2),a("button",{class:ue(["visual-tab-btn",{active:x.value==="auth"}]),onClick:k[9]||(k[9]=q=>x.value="auth")},[k[27]||(k[27]=_e(" Auth ",-1)),v.value.type!=="none"?(g(),w("span",ty)):G("",!0)],2)]),a("div",sy,[x.value==="params"?(g(),w("div",ny,[(g(!0),w(me,null,ke(f.value,(q,Y)=>(g(),w("div",{key:q.id,class:"kv-row"},[ce(a("input",{type:"checkbox","onUpdate:modelValue":X=>q.enabled=X},null,8,oy),[[Qe,q.enabled]]),ce(a("input",{"onUpdate:modelValue":X=>q.key=X,placeholder:"Key",class:"kv-input"},null,8,iy),[[Se,q.key]]),fe(as,{modelValue:q.value,"onUpdate:modelValue":X=>q.value=X,placeholder:"Value",class:"kv-input"},null,8,["modelValue","onUpdate:modelValue"]),a("button",{class:"remove-btn",onClick:X=>jt(Y)},"",8,ry)]))),128)),a("button",{class:"add-btn",onClick:Me},"+ Add Param")])):G("",!0),x.value==="headers"?(g(),w("div",ay,[(g(!0),w(me,null,ke(d.value,(q,Y)=>(g(),w("div",{key:q.id,class:"kv-row"},[ce(a("input",{type:"checkbox","onUpdate:modelValue":X=>q.enabled=X},null,8,ly),[[Qe,q.enabled]]),ce(a("input",{"onUpdate:modelValue":X=>q.key=X,placeholder:"Key",class:"kv-input"},null,8,cy),[[Se,q.key]]),fe(as,{modelValue:q.value,"onUpdate:modelValue":X=>q.value=X,placeholder:"Value",class:"kv-input"},null,8,["modelValue","onUpdate:modelValue"]),a("button",{class:"remove-btn",onClick:X=>Ne(Y)},"",8,uy)]))),128)),a("button",{class:"add-btn",onClick:At},"+ Add Header")])):G("",!0),x.value==="body"?(g(),w("div",dy,[a("div",py,[(g(),w(me,null,ke(E,q=>a("label",{key:q.value},[ce(a("input",{type:"radio","onUpdate:modelValue":k[10]||(k[10]=Y=>h.value.mode=Y),value:q.value},null,8,fy),[[Fn,h.value.mode]]),_e(" "+D(q.label),1)])),64)),h.value.mode==="raw"?(g(),de(_s,{key:0,modelValue:$.value,"onUpdate:modelValue":k[11]||(k[11]=q=>$.value=q),options:T,class:"raw-type-select"},null,8,["modelValue"])):G("",!0)]),h.value.mode==="raw"?(g(),w("div",hy,[(g(),de(nn(M(s)),{modelValue:h.value.raw,"onUpdate:modelValue":k[12]||(k[12]=q=>h.value.raw=q),language:I.value,theme:M(n).theme,options:M(n).options,height:"100%",placeholder:'{"key": "value"}'},null,8,["modelValue","language","theme","options"]))])):h.value.mode==="formdata"?(g(),w("div",my,[(g(!0),w(me,null,ke(h.value.formData,(q,Y)=>(g(),w("div",{key:q.id,class:"kv-row"},[ce(a("input",{type:"checkbox","onUpdate:modelValue":X=>q.enabled=X},null,8,gy),[[Qe,q.enabled]]),ce(a("input",{"onUpdate:modelValue":X=>q.key=X,placeholder:"Key",class:"kv-input"},null,8,vy),[[Se,q.key]]),fe(as,{modelValue:q.value,"onUpdate:modelValue":X=>q.value=X,placeholder:"Value",class:"kv-input"},null,8,["modelValue","onUpdate:modelValue"]),a("button",{class:"remove-btn",onClick:X=>B(Y)},"",8,yy)]))),128)),a("button",{class:"add-btn",onClick:nt},"+ Add Field")])):h.value.mode==="urlencoded"?(g(),w("div",by,[(g(!0),w(me,null,ke(h.value.urlEncoded,(q,Y)=>(g(),w("div",{key:q.id,class:"kv-row"},[ce(a("input",{type:"checkbox","onUpdate:modelValue":X=>q.enabled=X},null,8,wy),[[Qe,q.enabled]]),ce(a("input",{"onUpdate:modelValue":X=>q.key=X,placeholder:"Key",class:"kv-input"},null,8,xy),[[Se,q.key]]),fe(as,{modelValue:q.value,"onUpdate:modelValue":X=>q.value=X,placeholder:"Value",class:"kv-input"},null,8,["modelValue","onUpdate:modelValue"]),a("button",{class:"remove-btn",onClick:X=>se(Y)},"",8,_y)]))),128)),a("button",{class:"add-btn",onClick:Z},"+ Add Field")])):G("",!0)])):G("",!0),x.value==="auth"?(g(),w("div",Cy,[a("div",Sy,[k[28]||(k[28]=a("label",{class:"auth-label"},"Type",-1)),fe(_s,{modelValue:v.value.type,"onUpdate:modelValue":k[13]||(k[13]=q=>v.value.type=q),options:O,class:"auth-select"},null,8,["modelValue"])]),v.value.type==="bearer"?(g(),w("div",Ty,[a("div",ky,[k[29]||(k[29]=a("label",{class:"auth-label"},"Token",-1)),fe(as,{modelValue:v.value.bearer.token,"onUpdate:modelValue":k[14]||(k[14]=q=>v.value.bearer.token=q),placeholder:"Enter bearer token (e.g., eyJhbGciOi...)"},null,8,["modelValue"])]),k[30]||(k[30]=a("div",{class:"auth-hint"},[a("code",null,"-H 'Authorization: Bearer <token>'")],-1))])):G("",!0),v.value.type==="basic"?(g(),w("div",Ey,[a("div",$y,[k[31]||(k[31]=a("label",{class:"auth-label"},"Username",-1)),ce(a("input",{"onUpdate:modelValue":k[15]||(k[15]=q=>v.value.basic.username=q),class:"auth-input",placeholder:"Username"},null,512),[[Se,v.value.basic.username]])]),a("div",Ay,[k[32]||(k[32]=a("label",{class:"auth-label"},"Password",-1)),ce(a("input",{"onUpdate:modelValue":k[16]||(k[16]=q=>v.value.basic.password=q),type:"password",class:"auth-input",placeholder:"Password"},null,512),[[Se,v.value.basic.password]])]),k[33]||(k[33]=a("div",{class:"auth-hint"},[a("code",null,"-u '<username>:<password>'")],-1))])):G("",!0),v.value.type==="apikey"?(g(),w("div",Ry,[a("div",Oy,[k[34]||(k[34]=a("label",{class:"auth-label"},"Key",-1)),ce(a("input",{"onUpdate:modelValue":k[17]||(k[17]=q=>v.value.apikey.key=q),class:"auth-input",placeholder:"Header name (e.g., X-API-Key)"},null,512),[[Se,v.value.apikey.key]])]),a("div",Iy,[k[35]||(k[35]=a("label",{class:"auth-label"},"Value",-1)),fe(as,{modelValue:v.value.apikey.value,"onUpdate:modelValue":k[18]||(k[18]=q=>v.value.apikey.value=q),placeholder:"API key value"},null,8,["modelValue"])]),a("div",qy,[k[38]||(k[38]=a("label",{class:"auth-label"},"Add to",-1)),a("div",Dy,[a("label",null,[ce(a("input",{type:"radio","onUpdate:modelValue":k[19]||(k[19]=q=>v.value.apikey.in=q),value:"header"},null,512),[[Fn,v.value.apikey.in]]),k[36]||(k[36]=_e(" Header ",-1))]),a("label",null,[ce(a("input",{type:"radio","onUpdate:modelValue":k[20]||(k[20]=q=>v.value.apikey.in=q),value:"query"},null,512),[[Fn,v.value.apikey.in]]),k[37]||(k[37]=_e(" Query Param ",-1))])])]),a("div",Py,[v.value.apikey.in==="header"?(g(),w("code",Fy,"-H '"+D(v.value.apikey.key||"X-API-Key")+": <value>'",1)):(g(),w("code",Ny,"?"+D(v.value.apikey.key||"api_key")+"=<value>",1))])])):G("",!0),v.value.type==="none"?(g(),w("div",My,[...k[39]||(k[39]=[a("p",null,"This request does not use any authentication.",-1)])])):G("",!0)])):G("",!0)])])):l.value==="script"?(g(),w("div",Ly,[a("div",Vy,[a("div",Uy,[fe(_s,{modelValue:j.value,"onUpdate:modelValue":k[21]||(k[21]=q=>j.value=q),options:L,class:"script-type-select"},null,8,["modelValue"]),j.value==="prerequest"?(g(),w("span",jy," Pre-request scripts are stored but not executed ")):G("",!0)]),a("div",zy,[fe(_s,{modelValue:N.value,"onUpdate:modelValue":[k[22]||(k[22]=q=>N.value=q),m],options:R.value,placeholder:"Insert Snippet...",class:"snippet-select"},null,8,["modelValue","options"])])]),a("div",Hy,[(g(),de(nn(M(s)),{ref_key:"scriptEditorRef",ref:A,modelValue:y.value.postRequest,"onUpdate:modelValue":k[23]||(k[23]=q=>y.value.postRequest=q),language:"javascript",theme:M(n).theme,height:"100%",placeholder:`// Write your post-request script here
// Example: pm.test('Status is 200', function() {
//   pm.expect(pm.response.code).to.equal(200);
// });`,options:{showGutter:!0,wrap:!0,fontSize:12}},null,8,["modelValue","theme"]))]),k[40]||(k[40]=Gc('<div class="script-help" data-v-25486efd><details data-v-25486efd><summary data-v-25486efd>Available APIs</summary><div class="api-list" data-v-25486efd><code data-v-25486efd>pm.response.code</code> - Status code<br data-v-25486efd><code data-v-25486efd>pm.response.json()</code> - Parse body as JSON<br data-v-25486efd><code data-v-25486efd>pm.response.text()</code> - Raw body text<br data-v-25486efd><code data-v-25486efd>pm.response.responseTime</code> - Duration in ms<br data-v-25486efd><code data-v-25486efd>pm.response.headers.get(name)</code> - Get header<br data-v-25486efd><code data-v-25486efd>pm.environment.get(key)</code> - Get env variable<br data-v-25486efd><code data-v-25486efd>pm.environment.set(key, value)</code> - Set env variable<br data-v-25486efd><code data-v-25486efd>pm.test(name, fn)</code> - Run test assertion<br data-v-25486efd><code data-v-25486efd>pm.expect(value)</code> - Chai-like assertions<br data-v-25486efd><code data-v-25486efd>console.log(...)</code> - Log output </div></details></div>',1))])):G("",!0),a("div",By,[he.value?(g(),w("button",{key:0,class:"save-btn",onClick:U,title:"Save to collection"}," Save ")):G("",!0),a("button",{class:"send-btn",disabled:z.value||!ne.value,onClick:ee},[z.value?(g(),w("span",Wy)):(g(),w("span",Gy,"Send"))],8,Jy)])]))}},Xy=ye(Ky,[["__scopeId","data-v-25486efd"]]);class Yy{constructor(e={}){this.options={timeout:3e4,followRedirects:!0,maxRedirects:5,...e},this.proxy=null,this.certificates=[],this.interceptors={request:[],response:[]}}setProxy(e){this.proxy=e}addCertificate(e){this.certificates.push(e)}addRequestInterceptor(e){this.interceptors.request.push(e)}addResponseInterceptor(e){this.interceptors.response.push(e)}async applyRequestInterceptors(e){let s={...e};for(const n of this.interceptors.request)s=await n(s);return s}async applyResponseInterceptors(e){let s=e;for(const n of this.interceptors.response)s=await n(s);return s}buildUrl(e,s=[]){const n=s.filter(r=>r.enabled&&r.key);if(n.length===0)return e;const o=n.map(r=>`${encodeURIComponent(r.key)}=${encodeURIComponent(r.value||"")}`).join("&"),i=e.includes("?")?"&":"?";return`${e}${i}${o}`}buildHeaders(e=[]){const s={};return e.filter(n=>n.enabled&&n.key).forEach(n=>{s[n.key]=n.value||""}),s}async execute(e){throw new Error("execute() must be implemented by subclass")}async send(e){const s=performance.now();try{const n=await this.applyRequestInterceptors(e);n.fullUrl=this.buildUrl(n.url,n.params),n.headersObj=this.buildHeaders(n.headers);const o=await this.execute(n);return o.time=performance.now()-s,await this.applyResponseInterceptors(o)}catch(n){const o={success:!1,error:n.message,status:n.status||0,statusText:n.statusText||"Network Error",time:performance.now()-s,headers:{},body:null,size:0};return this.applyResponseInterceptors(o)}}}class Qy{constructor({success:e=!0,status:s=200,statusText:n="OK",headers:o={},body:i=null,size:r=0,time:l=0,error:u=null}){this.success=e,this.status=s,this.statusText=n,this.headers=o,this.body=i,this.size=r,this.time=l,this.error=u}}class Zy{static clients=new Map;static register(e,s){this.clients.set(e,s)}static create(e="fetch",s={}){const n=this.clients.get(e);if(!n)throw new Error(`Unknown HTTP client: ${e}`);return new n(s)}}class dl extends Yy{constructor(e={}){if(super(e),this.logger=new ss({prefix:"FetchHttpClient",level:"debug"}),typeof window>"u"||!window.fetch)throw new Error("FetchHttpClient requires browser environment with Fetch API")}async execute(e){const s=new AbortController,n=setTimeout(()=>s.abort(),this.options.timeout);try{const o={method:e.method,headers:e.headersObj,signal:s.signal,credentials:"include",mode:"cors"};["GET","HEAD"].includes(e.method.toUpperCase())||(o.body=this.prepareBody(e.body,e.bodyType,e.headersObj));const i=await fetch(e.fullUrl,o);clearTimeout(n);const r=await this.parseResponse(i),l=this.calculateSize(r);return new Qy({success:i.ok,status:i.status,statusText:i.statusText,headers:this.parseHeaders(i.headers),body:r.body,size:l,error:i.ok?null:`${i.status} ${i.statusText}`})}catch(o){throw clearTimeout(n),o.name==="AbortError"?new Error(`Request timeout after ${this.options.timeout}ms`):o.message.includes("Failed to fetch")?new Error("Network error - Check CORS policy or network connection"):o}}prepareBody(e,s,n){if(!e)return null;switch(s){case"raw":return this.isJSON(e)&&!n["Content-Type"]&&(n["Content-Type"]="application/json"),e;case"formdata":case"form-data":const o=new FormData;return Array.isArray(e)?e.forEach(i=>{i.key&&i.enabled!==!1&&o.append(i.key,i.value||"")}):typeof e=="object"&&Object.entries(e).forEach(([i,r])=>{o.append(i,r)}),delete n["Content-Type"],o;case"urlencoded":case"x-www-form-urlencoded":if(n["Content-Type"]="application/x-www-form-urlencoded",Array.isArray(e)){const i=new URLSearchParams;return e.forEach(r=>{r.key&&r.enabled!==!1&&i.append(r.key,r.value||"")}),i.toString()}return typeof e=="object"?new URLSearchParams(e).toString():e;case"binary":return n["Content-Type"]="application/octet-stream",e;case"graphql":return n["Content-Type"]="application/json",JSON.stringify(e);default:return e}}async parseResponse(e){const s=e.headers.get("content-type")||"";let n=null,o="";try{if(o=await e.text(),s.includes("application/json"))try{n=JSON.parse(o)}catch{n=o}else s.includes("text/html")||s.includes("text/plain")||s.includes("text/xml")||s.includes("application/xml")?n=o:s.includes("image/")?n=`[Binary image data - ${o.length} bytes]`:n=o}catch(i){this.logger.error("Error parsing response:",i),n=null}return{body:n,bodyText:o}}parseHeaders(e){const s={};return e.forEach((n,o)=>{s[o]=n}),s}calculateSize(e){return e.bodyText?new Blob([e.bodyText]).size:0}isJSON(e){try{return JSON.parse(e),!0}catch{return!1}}setProxy(e){super.setProxy(e),this.logger.warn("Direct proxy configuration is not supported in browsers. Consider using a browser extension or backend proxy.")}addCertificate(e){super.addCertificate(e),this.logger.warn("Client certificates cannot be configured via JavaScript. The browser will handle certificate selection.")}}function eb(t){const e=[];let s="",n=!1,o=!1,i=!1;for(let r=0;r<t.length;r++){const l=t[r];if(i){s+=l,i=!1;continue}if(l==="\\"){i=!0,s+=l;continue}if(l==="'"&&!o){n=!n;continue}if(l==='"'&&!n){o=!o;continue}if(l===" "&&!n&&!o){s.trim()&&e.push(s.trim()),s="";continue}s+=l}return s.trim()&&e.push(s.trim()),e}function tb(t){return!!(t.startsWith("http://")||t.startsWith("https://")||t.includes("{{")&&t.includes("}}")||!t.startsWith("-")&&t.includes(".")&&!t.includes(" ")||t.startsWith("localhost")||t.match(/^127\.0\.0\.\d+/))}function sb(t){const e=t.indexOf(":");return e===-1?{key:t.trim(),value:""}:{key:t.substring(0,e).trim(),value:t.substring(e+1).trim()}}function kr(t){const e=t.indexOf("=");if(e===-1)return{key:t.trim(),value:"",type:"text"};const s=t.substring(0,e).trim();let n=t.substring(e+1).trim(),o="text";return n.startsWith("@")&&(o="file",n=n.substring(1)),{key:s,value:n,type:o}}function nb(t){try{return atob(t)}catch{return null}}function ob(t){if(!t||typeof t!="string")return ib();let e=t.trim();e.toLowerCase().startsWith("curl ")&&(e=e.substring(5).trim());const s=eb(e);let n="GET",o="";const i=[];let r="none",l="";const u=[],p=[];let c=null,d=0;for(;d<s.length;){const v=s[d];if(tb(v)){o=v,d++;continue}switch(v){case"-X":case"--request":d+1<s.length?(n=s[d+1].toUpperCase(),d+=2):d++;break;case"-u":case"--user":if(d+1<s.length){const y=s[d+1],x=y.indexOf(":");x!==-1?c={type:"basic",basic:{username:y.substring(0,x),password:y.substring(x+1)}}:c={type:"basic",basic:{username:y,password:""}},d+=2}else d++;break;case"-H":case"--header":if(d+1<s.length){const y=sb(s[d+1]);if(y.key.toLowerCase()==="authorization"){const x=y.value;if(x.toLowerCase().startsWith("bearer ")){c={type:"bearer",bearer:{token:x.slice(7).trim()}},d+=2;continue}if(x.toLowerCase().startsWith("basic ")){const j=x.slice(6).trim(),N=nb(j);if(N){const _=N.indexOf(":");_!==-1?c={type:"basic",basic:{username:N.substring(0,_),password:N.substring(_+1)}}:c={type:"basic",basic:{username:N,password:""}},d+=2;continue}}}i.push(fs(y.key,y.value,!0)),d+=2}else d++;break;case"-d":case"--data":case"--data-raw":d+1<s.length?(r="raw",l=s[d+1],n==="GET"&&(n="POST"),d+=2):d++;break;case"--data-urlencode":if(d+1<s.length){r="urlencoded";const y=kr(s[d+1]);p.push(fs(y.key,y.value,!0)),n==="GET"&&(n="POST"),d+=2}else d++;break;case"-F":case"--form":if(d+1<s.length){r="formdata";const y=kr(s[d+1]);u.push({...fs(y.key,y.value,!0),type:y.type}),n==="GET"&&(n="POST"),d+=2}else d++;break;case"-G":case"--get":n="GET",d++;break;case"-I":case"--head":n="HEAD",d++;break;default:d++;break}}let f=mo(r);r==="raw"?(f.raw=l,f.options={raw:{language:rb(l)}}):r==="formdata"?f.formdata=u:r==="urlencoded"&&(f.urlencoded=p);const h=ho(o);return{method:n,url:h,header:i.length>0?i:[],body:f,auth:c}}function ib(){return{method:"GET",url:ho(""),header:[],body:mo("none"),auth:null}}function rb(t){if(!t)return"text";const e=t.trim();if(e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]"))try{return JSON.parse(e),"json"}catch{}return e.startsWith("<")&&e.endsWith(">")?"xml":e.toLowerCase().includes("<!doctype html")||e.toLowerCase().includes("<html")?"html":"text"}function ze(t){return t?t.replace(/'/g,"'\\''"):""}function ab(t,e){if(!t)return"";const s=e?.type==="apikey"&&e?.apikey?.in==="query"&&e?.apikey?.key&&e?.apikey?.value?{key:e.apikey.key,value:e.apikey.value}:null;if(typeof t=="string"){if(s){const c=t.includes("?")?"&":"?";return`${t}${c}${encodeURIComponent(s.key)}=${encodeURIComponent(s.value)}`}return t}if(t.raw){if(s){const c=t.raw.includes("?")?"&":"?";return`${t.raw}${c}${encodeURIComponent(s.key)}=${encodeURIComponent(s.value)}`}return t.raw}const n=t.protocol||"https",o=Array.isArray(t.host)?t.host.join("."):t.host||"",i=t.port?`:${t.port}`:"",r=Array.isArray(t.path)?"/"+t.path.join("/"):t.path||"",l=[];if(t.query&&t.query.length>0){const c=t.query.filter(d=>d.enabled!==!1);l.push(...c.map(d=>`${encodeURIComponent(d.key)}=${encodeURIComponent(d.value)}`))}s&&l.push(`${encodeURIComponent(s.key)}=${encodeURIComponent(s.value)}`);const u=l.length>0?"?"+l.join("&"):"",p=t.hash?`#${t.hash}`:"";return`${n}://${o}${i}${r}${u}${p}`}function Er(t,e={}){const{includeCurlPrefix:s=!1,multiline:n=!1}=e;if(!t)return"";const o=[],i=n?` \\
  `:" ";s&&o.push("curl");const r=ab(t.url,t.auth);r&&o.push(`'${ze(r)}'`);const l=t.method||"GET";l!=="GET"&&o.push(`-X ${l}`);const u=t.auth;if(u&&u.type&&u.type!=="none")switch(u.type){case"basic":const c=u.basic||{};if(c.username){const h=ze(c.username),v=ze(c.password||"");o.push(`-u '${h}:${v}'`)}break;case"bearer":const d=u.bearer||{};d.token&&o.push(`-H 'Authorization: Bearer ${ze(d.token)}'`);break;case"apikey":const f=u.apikey||{};f.key&&f.value&&(f.in==="query"||o.push(`-H '${ze(f.key)}: ${ze(f.value)}'`));break}const p=t.header||t.headers||[];for(const c of p){if(c.enabled===!1||!c.key||c.key.toLowerCase()==="authorization"&&u&&u.type&&u.type!=="none")continue;const d=`${c.key}: ${c.value||""}`;o.push(`-H '${ze(d)}'`)}if(t.body&&t.body.mode!=="none"){const c=t.body;switch(c.mode){case"raw":c.raw&&o.push(`-d '${ze(c.raw)}'`);break;case"formdata":case"form-data":const d=c.formdata||c.formData||[];for(const h of d)h.enabled!==!1&&h.key&&(h.type==="file"?o.push(`-F '${ze(h.key)}=@${ze(h.value)}'`):o.push(`-F '${ze(h.key)}=${ze(h.value)}'`));break;case"urlencoded":case"x-www-form-urlencoded":const f=c.urlencoded||c.urlEncoded||[];for(const h of f)h.enabled!==!1&&h.key&&o.push(`--data-urlencode '${ze(h.key)}=${ze(h.value)}'`);break;case"binary":if(c.binary||c.file){const h=c.binary||c.file;typeof h=="string"&&o.push(`--data-binary '@${ze(h)}'`)}break;case"graphql":if(c.graphql){const h=JSON.stringify({query:c.graphql.query||"",variables:c.graphql.variables?JSON.parse(c.graphql.variables):{}});o.push(`-d '${ze(h)}'`)}break}}return o.join(i)}class Yn extends Error{constructor(e,s,n){super(e),this.name="AssertionError",this.expected=s,this.actual=n}}class Qn{constructor(e,s=!1){this._value=e,this._negate=s,this._deep=!1}_assert(e,s,n,o){if(!(this._negate?!e:e)){const r=this._negate?"not ":"";throw new Yn(s.replace("{not}",r),n,o)}return this}get to(){return this}get be(){return this}get been(){return this}get is(){return this}get that(){return this}get which(){return this}get and(){return this}get has(){return this}get have(){return this}get with(){return this}get at(){return this}get of(){return this}get same(){return this}get but(){return this}get does(){return this}get still(){return this}get not(){return new Qn(this._value,!this._negate)}get deep(){return this._deep=!0,this}equal(e){const s=this._deep?this._deepEqual(this._value,e):this._value===e;return this._assert(s,`Expected ${this._format(this._value)} to {not}equal ${this._format(e)}`,e,this._value)}equals(e){return this.equal(e)}eql(e){return this.deep.equal(e)}eq(e){return this._assert(this._value===e,`Expected ${this._format(this._value)} to {not}strictly equal ${this._format(e)}`,e,this._value)}a(e){const s=this._getType(this._value);return this._assert(s===e.toLowerCase(),`Expected ${this._format(this._value)} to {not}be a ${e} (got ${s})`,e,s)}an(e){return this.a(e)}get true(){return this._assert(this._value===!0,`Expected ${this._format(this._value)} to {not}be true`,!0,this._value)}get false(){return this._assert(this._value===!1,`Expected ${this._format(this._value)} to {not}be false`,!1,this._value)}get null(){return this._assert(this._value===null,`Expected ${this._format(this._value)} to {not}be null`,null,this._value)}get undefined(){return this._assert(this._value===void 0,`Expected ${this._format(this._value)} to {not}be undefined`,void 0,this._value)}get NaN(){return this._assert(Number.isNaN(this._value),`Expected ${this._format(this._value)} to {not}be NaN`,NaN,this._value)}get exist(){return this._assert(this._value!==null&&this._value!==void 0,"Expected value to {not}exist","value",this._value)}get ok(){return this._assert(!!this._value,`Expected ${this._format(this._value)} to {not}be truthy`,"truthy",this._value)}get empty(){let e=!1;return typeof this._value=="string"||Array.isArray(this._value)?e=this._value.length===0:typeof this._value=="object"&&this._value!==null&&(e=Object.keys(this._value).length===0),this._assert(e,`Expected ${this._format(this._value)} to {not}be empty`,"empty",this._value)}above(e){return this._assert(this._value>e,`Expected ${this._value} to {not}be above ${e}`,`> ${e}`,this._value)}gt(e){return this.above(e)}greaterThan(e){return this.above(e)}least(e){return this._assert(this._value>=e,`Expected ${this._value} to {not}be at least ${e}`,`>= ${e}`,this._value)}gte(e){return this.least(e)}below(e){return this._assert(this._value<e,`Expected ${this._value} to {not}be below ${e}`,`< ${e}`,this._value)}lt(e){return this.below(e)}lessThan(e){return this.below(e)}most(e){return this._assert(this._value<=e,`Expected ${this._value} to {not}be at most ${e}`,`<= ${e}`,this._value)}lte(e){return this.most(e)}within(e,s){return this._assert(this._value>=e&&this._value<=s,`Expected ${this._value} to {not}be within ${e}..${s}`,`${e}-${s}`,this._value)}closeTo(e,s){return this._assert(Math.abs(this._value-e)<=s,`Expected ${this._value} to {not}be close to ${e} (delta: ${s})`,e,this._value)}include(e){let s=!1;return typeof this._value=="string"?s=this._value.includes(e):Array.isArray(this._value)?s=this._value.includes(e):typeof this._value=="object"&&this._value!==null&&(s=Object.keys(e).every(n=>this._deep?this._deepEqual(this._value[n],e[n]):this._value[n]===e[n])),this._assert(s,`Expected ${this._format(this._value)} to {not}include ${this._format(e)}`,e,this._value)}contain(e){return this.include(e)}contains(e){return this.include(e)}includes(e){return this.include(e)}match(e){return this._assert(e.test(this._value),`Expected ${this._format(this._value)} to {not}match ${e}`,e.toString(),this._value)}startWith(e){return this._assert(typeof this._value=="string"&&this._value.startsWith(e),`Expected ${this._format(this._value)} to {not}start with ${this._format(e)}`,e,this._value)}startsWith(e){return this.startWith(e)}endWith(e){return this._assert(typeof this._value=="string"&&this._value.endsWith(e),`Expected ${this._format(this._value)} to {not}end with ${this._format(e)}`,e,this._value)}endsWith(e){return this.endWith(e)}lengthOf(e){const s=this._value?.length;return this._assert(s===e,`Expected ${this._format(this._value)} to {not}have length ${e} (got ${s})`,e,s)}get length(){return new Qn(this._value?.length,this._negate)}property(e,s){const n=Object.prototype.hasOwnProperty.call(this._value||{},e);if(arguments.length===1)return this._assert(n,`Expected object to {not}have property '${e}'`,e,Object.keys(this._value||{}));const o=this._value?.[e],i=this._deep?this._deepEqual(o,s):o===s;return this._assert(n&&i,`Expected property '${e}' to {not}equal ${this._format(s)} (got ${this._format(o)})`,s,o)}keys(...e){const s=Object.keys(this._value||{}),n=e.flat(),o=n.every(i=>s.includes(i));return this._assert(o,`Expected object to {not}have keys [${n.join(", ")}]`,n,s)}key(...e){return this.keys(...e)}instanceof(e){return this._assert(this._value instanceof e,`Expected value to {not}be instance of ${e.name}`,e.name,this._getType(this._value))}instanceOf(e){return this.instanceof(e)}oneOf(e){const s=e.includes(this._value);return this._assert(s,`Expected ${this._format(this._value)} to {not}be one of [${e.map(n=>this._format(n)).join(", ")}]`,e,this._value)}members(e){const s=e.every(n=>this._deep?this._value.some(o=>this._deepEqual(o,n)):this._value.includes(n));return this._assert(s,`Expected array to {not}include members [${e.map(n=>this._format(n)).join(", ")}]`,e,this._value)}throw(e){let s=!1,n=null;try{this._value()}catch(o){s=!0,n=o}if(e){const o=n instanceof e;return this._assert(s&&o,`Expected function to {not}throw ${e.name}`,e.name,n?.constructor?.name)}return this._assert(s,"Expected function to {not}throw","error",n)}throws(e){return this.throw(e)}_deepEqual(e,s){if(e===s)return!0;if(e===null||s===null||typeof e!=typeof s)return!1;if(typeof e=="object"){if(Array.isArray(e)!==Array.isArray(s))return!1;const n=Object.keys(e),o=Object.keys(s);return n.length!==o.length?!1:n.every(i=>this._deepEqual(e[i],s[i]))}return!1}_getType(e){return e===null?"null":Array.isArray(e)?"array":typeof e}_format(e){if(typeof e=="string")return`"${e}"`;if(typeof e=="object")try{return JSON.stringify(e)}catch{return String(e)}return String(e)}}function $r(){return function(e){return new Qn(e)}}class Ci{constructor(e){this._response=e,this._negate=!1}_assert(e,s,n,o){if(!(this._negate?!e:e)){const r=this._negate?"not ":"";throw new Yn(s.replace("{not}",r),n,o)}return this}get to(){return this}get be(){return this}get have(){return this}get and(){return this}get a(){return this}get an(){return this}get not(){const e=new Ci(this._response);return e._negate=!this._negate,e}status(e){return typeof e=="number"?this._assert(this._response.code===e,`Expected status code to {not}be ${e}, got ${this._response.code}`,e,this._response.code):this._assert(this._response.status.toLowerCase().includes(e.toLowerCase()),`Expected status to {not}contain "${e}", got "${this._response.status}"`,e,this._response.status)}header(e,s){const n=this._response.headers.get(e),o=n!==void 0;if(arguments.length===1)return this._assert(o,`Expected response to {not}have header "${e}"`,e,o?n:"not present");const i=o&&n.toLowerCase().includes(s.toLowerCase());return this._assert(i,`Expected header "${e}" to {not}contain "${s}", got "${n||"not present"}"`,s,n)}get json(){let e=!1;try{this._response.json(),e=!0}catch{e=!1}return this._assert(e,"Expected response body to {not}be valid JSON","valid JSON","invalid JSON")}body(e){const s=this._response.text();return arguments.length===0?this._assert(s&&s.length>0,"Expected response to {not}have a body","body present",s?"body present":"empty body"):e instanceof RegExp?this._assert(e.test(s),`Expected body to {not}match ${e}`,e.toString(),s):this._assert(s.includes(e),`Expected body to {not}contain "${e}"`,e,s)}jsonBody(e,s){let n;try{n=this._response.json()}catch{throw new Yn("Cannot check jsonBody: Response is not valid JSON","valid JSON","invalid JSON")}const o=e.split(".");let i=n;for(const r of o){if(i==null){i=void 0;break}i=i[r]}return arguments.length===1?this._assert(i!==void 0,`Expected JSON body to {not}have path "${e}"`,e,i===void 0?"undefined":i):this._assert(i===s,`Expected JSON body path "${e}" to {not}equal ${JSON.stringify(s)}, got ${JSON.stringify(i)}`,s,i)}get responseTime(){const e=this._response.responseTime,s=this;return{below(n){return s._assert(e<n,`Expected response time to {not}be below ${n}ms, got ${e}ms`,`< ${n}ms`,`${e}ms`)},above(n){return s._assert(e>n,`Expected response time to {not}be above ${n}ms, got ${e}ms`,`> ${n}ms`,`${e}ms`)}}}}class lb{constructor(e){this._headers=e||{},this._normalized={},Object.entries(this._headers).forEach(([s,n])=>{this._normalized[s.toLowerCase()]={key:s,value:n}})}get(e){const s=this._normalized[e.toLowerCase()];return s?s.value:void 0}has(e){return e.toLowerCase()in this._normalized}all(){return Object.values(this._normalized).map(({key:e,value:s})=>({key:e,value:s}))}toObject(){return{...this._headers}}}class cb{constructor(){this.tests=[],this.consoleLogs=[],this.environmentChanges=[],this.error=null,this.duration=0}addTest(e,s,n=null,o=0){this.tests.push({name:e,passed:s,error:n,duration:o})}addConsoleLog(e,s){this.consoleLogs.push({type:e,args:s.map(n=>this._formatArg(n)),timestamp:Date.now()})}addEnvChange(e,s,n,o=void 0){this.environmentChanges.push({action:e,key:s,value:n,oldValue:o})}_formatArg(e){if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e=="object")try{return JSON.stringify(e,null,2)}catch{return String(e)}return String(e)}get passed(){return this.tests.filter(e=>e.passed).length}get failed(){return this.tests.filter(e=>!e.passed).length}get totalTests(){return this.tests.length}}class ub{constructor(e={}){this.environmentStore=e.environmentStore,this.logger=e.logger||console}execute({script:e,response:s,request:n,requestName:o}){const i=new cb,r=performance.now();if(!e||typeof e!="string"||e.trim()==="")return i;const l=this._createPmObject(s,n,o,i),u=this._createConsole(i),p=$r();try{this._executeInSandbox(e,l,u,p)}catch(c){i.error={message:c.message,stack:c.stack,name:c.name},this.logger.error("Script execution error:",c)}return this._applyEnvironmentChanges(i.environmentChanges),i.duration=performance.now()-r,i}_createPmObject(e,s,n,o){const i=this;let r=null,l=null;const u={code:e?.status||0,status:e?.statusText||"",responseTime:e?.time||0,headers:new lb(e?.headers||{}),json(){if(l)throw l;if(r!==null)return r;try{const c=e?.body;return typeof c=="string"?r=JSON.parse(c):typeof c=="object"?r=c:r=null,r}catch(c){throw l=new Error(`Failed to parse response as JSON: ${c.message}`),l}},text(){const c=e?.body;return typeof c=="string"?c:typeof c=="object"?JSON.stringify(c):String(c||"")}};Object.defineProperty(u,"to",{get(){return new Ci(u)}});const p={response:u,environment:{get(c){if(i.environmentStore)return i.environmentStore.resolveVariable(c)},set(c,d){const f=i.environmentStore?.resolveVariable(c);o.addEnvChange("set",c,d,f)},unset(c){const d=i.environmentStore?.resolveVariable(c);o.addEnvChange("unset",c,void 0,d)},has(c){return i.environmentStore?i.environmentStore.resolveVariable(c)!==null:!1},toObject(){if(!i.environmentStore)return{};const c=i.environmentStore.getAvailableVariables()||[],d={};return c.forEach(f=>{d[f.key]=f.value}),d}},test(c,d){const f=performance.now();let h=!0,v=null;try{d()}catch(x){h=!1,x instanceof Yn?v={message:x.message,expected:x.expected,actual:x.actual}:v={message:x.message,stack:x.stack}}const y=performance.now()-f;o.addTest(c,h,v,y)},expect:$r(),info:{requestName:n||"Unnamed Request",iteration:1,iterationCount:1,requestId:s?.id||null},variables:{get(c){return p.environment.get(c)},set(c,d){p.environment.set(c,d)},has(c){return p.environment.has(c)}}};return p}_createConsole(e){return{log:(...s)=>e.addConsoleLog("log",s),info:(...s)=>e.addConsoleLog("info",s),warn:(...s)=>e.addConsoleLog("warn",s),error:(...s)=>e.addConsoleLog("error",s),debug:(...s)=>e.addConsoleLog("debug",s)}}_executeInSandbox(e,s,n,o){new Function("pm","console","expect",`
        "use strict";
        ${e}
      `)(s,n,o)}_applyEnvironmentChanges(e){if(!this.environmentStore){e.length>0&&this.logger.warn("No environment store available - environment changes will not persist");return}const s=this.environmentStore.activeEnvironment?.value;if(!s){e.length>0&&this.logger.warn("No active environment - environment changes will not persist");return}e.forEach(n=>{if(n.action==="set"){const o=s.values?.find(i=>i.key===n.key);o?this.environmentStore.updateVariable(s.id,o.id,{value:String(n.value)}):this.environmentStore.addVariable(s.id,n.key,String(n.value))}else if(n.action==="unset"){const o=s.values?.find(i=>i.key===n.key);o&&this.environmentStore.deleteVariable(s.id,o.id)}})}static extractScriptFromEvent(e){if(!e?.script?.exec)return"";const s=e.script.exec;return Array.isArray(s)?s.join(`
`):typeof s=="string"?s:""}static createEventFromScript(e,s="test"){return!e||e.trim()===""?null:{listen:s,script:{type:"text/javascript",exec:e.split(`
`)}}}}class db extends Ge{constructor(){super("ChatController"),this.collectionsStore=Ds(),this.environmentsStore=gs(),this.conversationsStore=xi(),this.variableInterpolation=yo(),this.httpClient=new dl,this.init()}init(){super.init(),this.createState({composerMode:"curl",curlInput:"",method:"GET",url:"",headers:[],params:[],body:{mode:"none",raw:"",formData:[],urlEncoded:[]},auth:{type:"none",bearer:{token:""},basic:{username:"",password:""},apikey:{key:"X-API-Key",value:"",in:"header"}},script:{preRequest:"",postRequest:""},activeVisualTab:"params",isLoading:!1,requestError:null,currentRequestId:null,currentCollectionId:null,currentFolderId:null}),this.createComputed("httpMethods",()=>["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS"]),this.createWatcher(()=>this.state.composerMode,(e,s)=>{s==="curl"&&e==="visual"?this.syncCurlToVisual():s==="visual"&&e==="curl"?this.syncVisualToCurl():s==="script"&&e==="curl"&&this.syncVisualToCurl()})}getMethodColor(e){return{GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)"}[e]||"var(--color-text-secondary)"}setComposerMode(e){(e==="curl"||e==="visual"||e==="script")&&(this.state.composerMode=e)}setActiveVisualTab(e){this.state.activeVisualTab=e}syncCurlToVisual(){if(this.state.curlInput.trim())try{const e=ob(this.state.curlInput);this.state.method=e.method||"GET",this.state.url=e.url?.raw||"",this.state.headers=(e.header||[]).map(s=>({...s,id:s.id||Date.now()+Math.random()})),e.url?.query&&(this.state.params=e.url.query.map(s=>({...s,id:s.id||Date.now()+Math.random()}))),e.body&&(this.state.body={mode:e.body.mode||"none",raw:e.body.raw||"",formData:e.body.formdata||e.body.formData||[],urlEncoded:e.body.urlencoded||e.body.urlEncoded||[]}),e.auth&&e.auth.type?this.state.auth={type:e.auth.type,bearer:e.auth.bearer||{token:""},basic:e.auth.basic||{username:"",password:""},apikey:e.auth.apikey||{key:"X-API-Key",value:"",in:"header"}}:this.state.auth={type:"none",bearer:{token:""},basic:{username:"",password:""},apikey:{key:"X-API-Key",value:"",in:"header"}},this.logger.debug("Synced cURL to visual")}catch(e){this.logger.error("Failed to sync cURL to visual:",e)}}syncVisualToCurl(){const e=this.buildRequestFromVisual();this.state.curlInput=Er(e),this.logger.debug("Synced visual to cURL")}buildRequestFromVisual(){const e=ho(this.state.url);e.query=this.state.params.filter(n=>n.enabled!==!1&&n.key).map(n=>fs(n.key,n.value,n.enabled));const s=mo(this.state.body.mode);return this.state.body.mode==="raw"?(s.raw=this.state.body.raw,s.options={raw:{language:"json"}}):this.state.body.mode==="formdata"?s.formdata=this.state.body.formData:this.state.body.mode==="urlencoded"&&(s.urlencoded=this.state.body.urlEncoded),{method:this.state.method,url:e,header:this.state.headers.filter(n=>n.enabled!==!1&&n.key),body:s,auth:this.state.auth}}loadRequest(e,s,n=null){const o=this.collectionsStore.getRequest(e,s);if(!o){this.logger.warn("Request not found:",s);return}this.state.currentRequestId=s,this.state.currentCollectionId=e,this.state.currentFolderId=n;const i=o.request;if(i){if(this.state.method=i.method||"GET",this.state.url=i.url?.raw||"",this.state.headers=(i.header||[]).map(r=>({key:r.key||"",value:r.value||"",enabled:r.enabled!==!1,id:r.id||Date.now()+Math.random()})),i.url?.query?this.state.params=i.url.query.map(r=>({key:r.key||"",value:r.value||"",enabled:r.enabled!==!1,id:r.id||Date.now()+Math.random()})):this.state.params=[],i.body?this.state.body={mode:i.body.mode||"none",raw:i.body.raw||"",formData:i.body.formdata||i.body.formData||[],urlEncoded:i.body.urlencoded||i.body.urlEncoded||[]}:this.state.body={mode:"none",raw:"",formData:[],urlEncoded:[]},i.auth&&i.auth.type?this.state.auth={type:i.auth.type,bearer:i.auth.bearer||{token:""},basic:i.auth.basic||{username:"",password:""},apikey:i.auth.apikey||{key:"X-API-Key",value:"",in:"header"}}:this.state.auth={type:"none",bearer:{token:""},basic:{username:"",password:""},apikey:{key:"X-API-Key",value:"",in:"header"}},this.state.script={preRequest:"",postRequest:""},o.event&&Array.isArray(o.event)){for(const r of o.event)if(r.listen==="test"&&r.script?.exec){const l=Array.isArray(r.script.exec)?r.script.exec:[r.script.exec];this.state.script.postRequest=l.join(`
`)}else if(r.listen==="prerequest"&&r.script?.exec){const l=Array.isArray(r.script.exec)?r.script.exec:[r.script.exec];this.state.script.preRequest=l.join(`
`)}}this.syncVisualToCurl(),this.conversationsStore.createNewConversation({name:o.name||"Request",requestId:s,collectionId:e,folderId:n}),this.logger.info("Loaded request:",o.name)}}setCurlInput(e){this.state.curlInput=e}updateField(e,s){e in this.state&&(this.state[e]=s)}addHeader(){this.state.headers.push({key:"",value:"",enabled:!0,id:Date.now()})}removeHeader(e){this.state.headers.splice(e,1)}addParam(){this.state.params.push({key:"",value:"",enabled:!0,id:Date.now()})}removeParam(e){this.state.params.splice(e,1)}async sendRequest(){if(this.state.isLoading){this.logger.warn("Request already in progress");return}if(this.state.composerMode==="curl"&&this.state.curlInput.trim()){const e=il(this.state.curlInput),s=e.filter(n=>n.type==="error");if(s.length>0){this.logger.warn("cURL validation failed:",s);const n={method:"GET",url:{raw:this.state.curlInput},header:[],body:null};this.conversationsStore.addRequest(n,this.state.curlInput),this.conversationsStore.addValidationError(e,this.state.curlInput);return}}this.state.isLoading=!0,this.state.requestError=null;try{let e;this.state.composerMode==="curl"?(this.syncCurlToVisual(),e=this.buildRequestFromVisual()):e=this.buildRequestFromVisual();const s=Er(e);this.conversationsStore.addRequest(e,s);const n=this.variableInterpolation.interpolateText(e.url?.raw||""),o=(e.header||[]).map(u=>({...u,key:this.variableInterpolation.interpolateText(u.key||""),value:this.variableInterpolation.interpolateText(u.value||"")}));if(e.auth?.type&&e.auth.type!=="none"){const u=e.auth.type;if(u==="bearer"&&e.auth.bearer?.token){const p=this.variableInterpolation.interpolateText(e.auth.bearer.token);p&&o.push({key:"Authorization",value:`Bearer ${p}`,enabled:!0})}else if(u==="basic"&&e.auth.basic){const p=this.variableInterpolation.interpolateText(e.auth.basic.username||""),c=this.variableInterpolation.interpolateText(e.auth.basic.password||"");if(p||c){const d=btoa(`${p}:${c}`);o.push({key:"Authorization",value:`Basic ${d}`,enabled:!0})}}else if(u==="apikey"&&e.auth.apikey){const p=e.auth.apikey,c=this.variableInterpolation.interpolateText(p.key||"X-API-Key"),d=this.variableInterpolation.interpolateText(p.value||"");d&&p.in==="header"&&o.push({key:c,value:d,enabled:!0})}}const i=(e.url?.query||[]).map(u=>({...u,key:this.variableInterpolation.interpolateText(u.key||""),value:this.variableInterpolation.interpolateText(u.value||"")}));let r=null;e.body?.mode==="raw"?r=this.variableInterpolation.interpolateText(e.body.raw):e.body?.mode==="formdata"?r=(e.body.formdata||[]).map(u=>({...u,key:this.variableInterpolation.interpolateText(u.key||""),value:this.variableInterpolation.interpolateText(u.value||"")})):e.body?.mode==="urlencoded"&&(r=(e.body.urlencoded||[]).map(u=>({...u,key:this.variableInterpolation.interpolateText(u.key||""),value:this.variableInterpolation.interpolateText(u.value||"")}))),this.logger.debug("Sending request:",{method:e.method,url:n,params:i});const l=await this.httpClient.send({method:e.method,url:n,params:i,headers:o,body:r,bodyType:e.body?.mode});this.conversationsStore.addResponse(l),this.state.script.postRequest?.trim()&&await this.executePostRequestScript(l),this.state.currentRequestId&&this.state.currentCollectionId&&this.saveToCollection(),this.logger.info("Request completed:",l.status)}catch(e){this.logger.error("Request failed:",e),this.state.requestError=e.message,this.conversationsStore.addResponse({status:0,statusText:"Error",error:e.message,success:!1,time:0,size:0})}finally{this.state.isLoading=!1}}async executePostRequestScript(e){const s=this.state.script.postRequest;if(s?.trim()){this.logger.debug("Executing post-request script");try{const n={get:d=>this.environmentsStore.getVariable(d),set:(d,f)=>{this.environmentsStore.setVariable(d,String(f))},unset:d=>{this.environmentsStore.unsetVariable(d)},has:d=>this.environmentsStore.getVariable(d)!==void 0};let o="Request";if(this.state.currentRequestId&&this.state.currentCollectionId){const d=this.collectionsStore.getRequest(this.state.currentCollectionId,this.state.currentRequestId);d&&(o=d.name)}const r=new ub({environmentStore:this.environmentsStore,logger:this.logger}).execute({script:s,response:{status:e.status,statusText:e.statusText,headers:e.headers||{},body:e.body,time:e.time},requestName:o});if(r.consoleLogs&&r.consoleLogs.length>0&&this.conversationsStore.addConsoleLogs(r.consoleLogs),r.environmentChanges&&r.environmentChanges.length>0){const d=this.environmentsStore.activeEnvironment;this.conversationsStore.addEnvChanges(r.environmentChanges,d?.name||"",!!d)}(r.tests&&r.tests.length>0||r.error)&&this.conversationsStore.addScriptResults({tests:r.tests||[],duration:r.duration||0,error:r.error});const l=r.tests||[],u=r.environmentChanges||[],p=l.filter(d=>d.passed).length,c=l.filter(d=>!d.passed).length;this.logger.info(`Script executed: ${p} passed, ${c} failed, ${u.length} env changes`)}catch(n){this.logger.error("Script execution error:",n),this.conversationsStore.addScriptResults({tests:[],duration:0,error:n.message||"Script execution failed"})}}}saveToCollection(){if(!this.state.currentRequestId||!this.state.currentCollectionId){this.logger.warn("No collection context to save to");return}const e=this.buildRequestFromVisual(),s=[];this.state.script.preRequest?.trim()&&s.push({listen:"prerequest",script:{type:"text/javascript",exec:this.state.script.preRequest.split(`
`)}}),this.state.script.postRequest?.trim()&&s.push({listen:"test",script:{type:"text/javascript",exec:this.state.script.postRequest.split(`
`)}}),this.collectionsStore.updateRequest(this.state.currentCollectionId,this.state.currentRequestId,{request:e,event:s.length>0?s:void 0}),this.logger.debug("Request saved to collection")}clearComposer(){this.state.curlInput="",this.state.method="GET",this.state.url="",this.state.headers=[],this.state.params=[],this.state.body={mode:"none",raw:"",formData:[],urlEncoded:[]},this.state.auth={type:"none",bearer:{token:""},basic:{username:"",password:""},apikey:{key:"X-API-Key",value:"",in:"header"}},this.state.script={preRequest:"",postRequest:""},this.state.requestError=null}newRequest(){this.clearComposer(),this.state.currentRequestId=null,this.state.currentCollectionId=null,this.state.currentFolderId=null,this.conversationsStore.createNewConversation({name:"New Request"})}loadSession(e){const s=this.conversationsStore.conversations.value.find(i=>i.id===e);if(!s){this.logger.warn("Session not found:",e);return}this.conversationsStore.setActiveConversation(e),this.state.currentRequestId=s.requestId,this.state.currentCollectionId=s.collectionId,this.state.currentFolderId=s.folderId;const n=s.messages.filter(i=>i.type==="request"),o=n[n.length-1];if(o?.data?.request){const i=o.data.request;this.state.method=i.method||"GET",this.state.url=i.url?.raw||"",this.state.headers=(i.header||[]).map(r=>({key:r.key||"",value:r.value||"",enabled:r.enabled!==!1,id:r.id||Date.now()+Math.random()})),i.url?.query?this.state.params=i.url.query.map(r=>({key:r.key||"",value:r.value||"",enabled:r.enabled!==!1,id:r.id||Date.now()+Math.random()})):this.state.params=[],i.body?this.state.body={mode:i.body.mode||"none",raw:i.body.raw||"",formData:i.body.formdata||i.body.formData||[],urlEncoded:i.body.urlencoded||i.body.urlEncoded||[]}:this.state.body={mode:"none",raw:"",formData:[],urlEncoded:[]},i.auth&&i.auth.type?this.state.auth={type:i.auth.type,bearer:i.auth.bearer||{token:""},basic:i.auth.basic||{username:"",password:""},apikey:i.auth.apikey||{key:"X-API-Key",value:"",in:"header"}}:this.state.auth={type:"none",bearer:{token:""},basic:{username:"",password:""},apikey:{key:"X-API-Key",value:"",in:"header"}},o.data.curl?this.state.curlInput=o.data.curl:this.syncVisualToCurl(),this.logger.info("Loaded session:",s.name,"with",n.length,"requests")}else this.clearComposer(),this.logger.info("Loaded empty session:",s.name)}formatTime(e){return!e&&e!==0?"N/A":e<1e3?`${Math.round(e)}ms`:`${(e/1e3).toFixed(2)}s`}formatSize(e){return!e&&e!==0?"N/A":e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(2)} KB`:`${(e/(1024*1024)).toFixed(2)} MB`}}const pb={class:"chat-view"},fb={class:"response-overlay-content"},hb={__name:"ChatView",props:{requestId:{type:String,default:null},collectionId:{type:String,default:null},folderId:{type:String,default:null},conversationId:{type:String,default:null},requestName:{type:String,default:"New Request"}},emits:["request-loaded"],setup(t,{expose:e,emit:s}){const n=t,o=s,i=new db,r=xi(),l=te("curl"),u=F(()=>l.value==="visual"?50:30),p=F(()=>100-u.value),c=te(null),d=F(()=>r.activeConversation.value),f=F(()=>r.activeMessages.value);ve(()=>[n.requestId,n.collectionId],([A,V])=>{A&&V&&(i.loadRequest(V,A,n.folderId),o("request-loaded"))},{immediate:!0}),De(()=>{n.conversationId?i.loadSession(n.conversationId):!n.requestId&&!n.collectionId&&i.newRequest()});function h(){i.sendRequest(),l.value="curl",i.setComposerMode("curl")}function v(){i.saveToCollection()}function y(A){A.data?.request&&(i.state.method=A.data.request.method||"GET",i.state.url=A.data.request.url?.raw||"",i.state.headers=[...A.data.request.header||[]],i.syncVisualToCurl())}function x(){r.clearActiveConversation()}function j(A){l.value=A}function N(A){c.value=A}function _(){c.value=null}return e({controller:i,loadRequest:(A,V,z)=>{i.loadRequest(A,V,z)},newRequest:()=>{i.newRequest()}}),(A,V)=>(g(),w("div",pb,[fe(M(Za),{class:"default-theme",horizontal:""},{default:Fe(()=>[fe(M(Xn),{size:p.value,"min-size":"20"},{default:Fe(()=>[fe(Tv,{conversation:d.value,messages:f.value,"is-loading":M(i).state.isLoading,onEditRequest:y,onClear:x,onMaximizeResponse:N},null,8,["conversation","messages","is-loading"])]),_:1},8,["size"]),fe(M(Xn),{size:u.value,"min-size":"15","max-size":"70"},{default:Fe(()=>[fe(Xy,{controller:M(i),onSend:h,onSave:v,onModeChange:j},null,8,["controller"])]),_:1},8,["size"])]),_:1}),(g(),de(Os,{to:"body"},[c.value?(g(),w("div",{key:0,class:"response-overlay",onClick:Cn(_,["self"])},[a("div",fb,[fe(cl,{message:c.value,maximized:!0,onMinimize:_},null,8,["message"])])])):G("",!0)]))]))}},mb=ye(hb,[["__scopeId","data-v-0bef8940"]]),gb={class:"chat-tabs"},vb={class:"tab-bar"},yb={class:"tabs-container"},bb=["onClick"],wb={class:"tab-name"},xb=["onClick"],_b={class:"chat-content"},Cb={key:1,class:"empty-state"},Sb={__name:"ChatTabs",setup(t,{expose:e}){const s=bn(),n=te(null),o=F(()=>s.tabs.value||[]),i=F(()=>s.activeTab.value?.id),r=F(()=>s.activeTab.value);function l(d){return{GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)"}[d]||"var(--color-text-secondary)"}function u(d){s.setActiveTab(d)}function p(d){s.closeTab(d)}function c(){s.createTab({name:"New Request",method:"GET"})}return e({chatViewRef:n,addNewTab:c}),(d,f)=>(g(),w("div",gb,[a("div",vb,[a("div",yb,[(g(!0),w(me,null,ke(o.value,h=>(g(),w("div",{key:h.id,class:ue(["tab",{active:h.id===i.value}]),onClick:v=>u(h.id)},[a("span",{class:"tab-method",style:Ue({color:l(h.method)})},D(h.method),5),a("span",wb,D(h.name),1),a("button",{class:"tab-close",onClick:Cn(v=>p(h.id),["stop"]),title:"Close"},"  ",8,xb)],10,bb))),128))]),a("button",{class:"add-tab-btn",onClick:c,title:"New Request"}," + ")]),a("div",_b,[r.value?(g(),de(mb,{ref_key:"chatViewRef",ref:n,key:r.value.id,"request-id":r.value.itemId,"collection-id":r.value.collectionId,"folder-id":r.value.folderId,"conversation-id":r.value.conversationId,"request-name":r.value.name},null,8,["request-id","collection-id","folder-id","conversation-id","request-name"])):(g(),w("div",Cb,[f[0]||(f[0]=a("div",{class:"empty-icon"},"",-1)),f[1]||(f[1]=a("h3",null,"No request open",-1)),f[2]||(f[2]=a("p",null,"Select a request from the sidebar or create a new one",-1)),a("button",{class:"new-request-btn",onClick:c}," + New Request ")]))])]))}},Ar=ye(Sb,[["__scopeId","data-v-bf13b293"]]),Tb=["http","https","socks4","socks5"],kb=["none","basic","ntlm"];let Ss=class pl extends oe{static schema={id:{type:"string",default:()=>oe.generateId()},name:{type:"string",default:"Default Proxy"},enabled:{type:"boolean",default:!1},protocol:{type:"string",enum:Tb,default:"http"},host:{type:"string",default:""},port:{type:"number",default:8080,validator:e=>e>0&&e<=65535},auth:{type:"object",default:null},excludeList:{type:"array",default:[]},includeList:{type:"array",default:[]},useSystemProxy:{type:"boolean",default:!1},tunneling:{type:"boolean",default:!1},createdAt:{type:"string",default:()=>oe.getTimestamp()},updatedAt:{type:"string",default:()=>oe.getTimestamp()}};constructor(e={}){e.id&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.auth&&!(e.auth instanceof Ws)&&(e.auth=new Ws(e.auth).toJSON()),super(e),this.validateProxy()}validateProxy(){if(this.enabled&&!this.useSystemProxy){if(!this.host)throw new Error("Proxy host is required when proxy is enabled");if(!this.isValidHost(this.host))throw new Error(`Invalid proxy host: ${this.host}`)}if(this.protocol.startsWith("socks")&&this.auth&&this.auth.type==="ntlm")throw new Error("NTLM authentication is not supported for SOCKS proxies")}isValidHost(e){if(!e)return!1;const s=/^([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)*[a-zA-Z]{2,}$/,n=/^(\d{1,3}\.){3}\d{1,3}$/,o=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4})$/,i=/^localhost$/;return s.test(e)||n.test(e)||o.test(e)||i.test(e)}setAuthentication(e,s,n="basic"){return this.auth=new Ws({type:n,username:e,password:s}).toJSON(),this.updatedAt=oe.getTimestamp(),this}removeAuthentication(){return this.auth=null,this.updatedAt=oe.getTimestamp(),this}addExcludedHost(e){return this.excludeList.includes(e)||(this.excludeList.push(e),this.updatedAt=oe.getTimestamp()),this}removeExcludedHost(e){const s=this.excludeList.indexOf(e);return s>-1&&(this.excludeList.splice(s,1),this.updatedAt=oe.getTimestamp()),this}addIncludedHost(e){return this.includeList.includes(e)||(this.includeList.push(e),this.updatedAt=oe.getTimestamp()),this}removeIncludedHost(e){const s=this.includeList.indexOf(e);return s>-1&&(this.includeList.splice(s,1),this.updatedAt=oe.getTimestamp()),this}shouldUseProxy(e){if(!this.enabled||!e)return!1;const s=e.toLowerCase().replace(/^https?:\/\//,"").split("/")[0].split(":")[0];return this.includeList.length>0?this.matchesHostList(s,this.includeList):this.excludeList.length>0?!this.matchesHostList(s,this.excludeList):!0}matchesHostList(e,s){return s.some(n=>{const o=n.toLowerCase();if(o===e)return!0;if(o.startsWith("*.")){const i=o.substring(2);return e.endsWith(i)}return o.includes("*")?new RegExp("^"+o.replace(/\*/g,".*")+"$").test(e):!1})}getProxyUrl(){if(!this.enabled||!this.host)return null;let e=`${this.protocol}://`;if(this.auth){const s=new Ws(this.auth);s.username&&s.password&&(e+=`${encodeURIComponent(s.username)}:${encodeURIComponent(s.password)}@`)}return e+=`${this.host}:${this.port}`,e}getClientConfig(){if(!this.enabled)return null;const e={protocol:this.protocol,host:this.host,port:this.port};if(this.auth){const s=new Ws(this.auth);e.auth=s.getAuthHeader()}return this.tunneling&&(e.tunnel=!0),e}static fromUrl(e){try{const s=new URL(e),n=new pl({protocol:s.protocol.replace(":",""),host:s.hostname,port:parseInt(s.port)||8080,enabled:!0});return s.username&&s.password&&n.setAuthentication(decodeURIComponent(s.username),decodeURIComponent(s.password)),n}catch(s){throw new Error(`Invalid proxy URL: ${s.message}`)}}};class Ws extends oe{static schema={type:{type:"string",enum:kb,default:"basic"},username:{type:"string",default:""},password:{type:"string",default:""},domain:{type:"string",default:""},workstation:{type:"string",default:""}};getAuthHeader(){if(this.type==="none"||!this.username||!this.password)return null;switch(this.type){case"basic":const e=`${this.username}:${this.password}`;return`Basic ${Buffer.from(e).toString("base64")}`;case"ntlm":return{username:this.username,password:this.password,domain:this.domain||"",workstation:this.workstation||""};default:return null}}exportSafe(){return{type:this.type,username:this.username,password:"[REDACTED]",domain:this.domain,workstation:this.workstation}}}const Eb=["client","ca","server"];class ut extends oe{static schema={id:{type:"string",default:()=>oe.generateId()},name:{type:"string",required:!0},type:{type:"string",enum:Eb,default:"client"},host:{type:"string",default:""},port:{type:"number",default:443,validator:e=>e>0&&e<=65535},cert:{type:"object",default:null},key:{type:"object",default:null},ca:{type:"object",default:null},passphrase:{type:"string",default:""},pfx:{type:"object",default:null},enabled:{type:"boolean",default:!0},verifyHost:{type:"boolean",default:!0},verifyExpiry:{type:"boolean",default:!0},rejectUnauthorized:{type:"boolean",default:!0},createdAt:{type:"string",default:()=>oe.getTimestamp()},updatedAt:{type:"string",default:()=>oe.getTimestamp()},expiresAt:{type:"string",default:""}};constructor(e={}){e.id&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.expiresAt===null||e.expiresAt===void 0?e.expiresAt="":e.expiresAt&&typeof e.expiresAt!="string"&&(e.expiresAt=e.expiresAt instanceof Date?e.expiresAt.toISOString():String(e.expiresAt)),super(e),this.validateCertificate()}validateCertificate(){if(this.enabled&&this.host){if(this.type==="client"&&!this.pfx&&(!this.cert||!this.key))throw new Error("Client certificate requires either PFX/P12 or both cert and key files");if(this.type==="ca"&&!this.ca)throw new Error("CA certificate requires a CA file")}if(this.host&&!this.isValidHostPattern(this.host))throw new Error(`Invalid host pattern: ${this.host}`)}validateForUse(){if(!this.host)throw new Error("Host is required");if(!this.name)throw new Error("Certificate name is required");if(this.type==="client"&&!this.pfx&&(!this.cert||!this.key))throw new Error("Client certificate requires either PFX/P12 or both cert and key files");if(this.type==="ca"&&!this.ca)throw new Error("CA certificate requires a CA file");if(!this.isValidHostPattern(this.host))throw new Error(`Invalid host pattern: ${this.host}`)}isValidHostPattern(e){if(!e)return!1;const s=/^(\*\.)?([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)*[a-zA-Z]{2,}$/,n=/^(\d{1,3}\.){3}\d{1,3}$/,o=/^localhost(:\d+)?$/;return s.test(e)||n.test(e)||o.test(e)}matchesHost(e){if(!this.host||this.host===e)return!0;if(this.host.startsWith("*.")){const o=this.host.substring(2);return e.endsWith(o)||e===o.substring(1)}const s=e.split(":")[0],n=this.host.split(":")[0];return s===n}setCertificate(e,s="pem"){return this.cert={content:e,format:s,encoding:s==="pem"?"utf8":"base64"},this.updatedAt=oe.getTimestamp(),this}setPrivateKey(e,s="pem",n=""){return this.key={content:e,format:s,encoding:s==="pem"?"utf8":"base64"},n&&(this.passphrase=n),this.updatedAt=oe.getTimestamp(),this}setCACertificate(e,s="pem"){return this.ca={content:e,format:s,encoding:s==="pem"?"utf8":"base64"},this.updatedAt=oe.getTimestamp(),this}setPFX(e,s=""){return this.pfx={content:e,encoding:"base64"},s&&(this.passphrase=s),this.updatedAt=oe.getTimestamp(),this}isExpired(){return this.expiresAt?new Date(this.expiresAt)<new Date:!1}getClientOptions(){const e={rejectUnauthorized:this.rejectUnauthorized};return this.pfx?(e.pfx=Buffer.from(this.pfx.content,this.pfx.encoding||"base64"),this.passphrase&&(e.passphrase=this.passphrase)):(this.cert&&(e.cert=this.cert.encoding==="base64"?Buffer.from(this.cert.content,"base64"):this.cert.content),this.key&&(e.key=this.key.encoding==="base64"?Buffer.from(this.key.content,"base64"):this.key.content,this.passphrase&&(e.passphrase=this.passphrase))),this.ca&&(e.ca=this.ca.encoding==="base64"?Buffer.from(this.ca.content,"base64"):this.ca.content),e}exportSafe(){const e=this.toJSON();return e.cert&&(e.cert={...e.cert,content:"[REDACTED]"}),e.key&&(e.key={...e.key,content:"[REDACTED]"}),e.ca&&(e.ca={...e.ca,content:"[REDACTED]"}),e.pfx&&(e.pfx={...e.pfx,content:"[REDACTED]"}),e.passphrase&&(e.passphrase="[REDACTED]"),e}static createSelfSigned(e="localhost"){return new ut({name:`Self-signed for ${e}`,type:"server",host:e,rejectUnauthorized:!1,verifyHost:!1,verifyExpiry:!1})}}let Ks=class extends oe{static schema={timeout:{type:"number",default:3e4,validator:e=>e>0&&e<=3e5},followRedirects:{type:"boolean",default:!0},maxRedirects:{type:"number",default:10,validator:e=>e>=0&&e<=50},validateSSL:{type:"boolean",default:!0},encoding:{type:"string",enum:["auto","utf8","ascii","base64"],default:"auto"},keepAlive:{type:"boolean",default:!0},cookieJar:{type:"boolean",default:!0}}},Xs=class extends oe{static schema={theme:{type:"string",enum:["light","dark","auto"],default:"dark"},editorThemeDark:{type:"string",default:"gob"},editorThemeLight:{type:"string",default:"textmate"},fontSize:{type:"number",default:14,validator:e=>e>=10&&e<=24},fontFamily:{type:"string",default:"monospace"},sidebarWidth:{type:"number",default:25,validator:e=>e>=15&&e<=50},responseViewMode:{type:"string",enum:["pretty","raw","preview"],default:"pretty"},requestViewMode:{type:"string",enum:["params","headers","body","auth"],default:"params"},showLineNumbers:{type:"boolean",default:!0},wordWrap:{type:"boolean",default:!1},minimap:{type:"boolean",default:!1},autoComplete:{type:"boolean",default:!0}}},Ys=class extends oe{static schema={autoSave:{type:"boolean",default:!0},autoSaveInterval:{type:"number",default:3e4,validator:e=>e>=1e4},confirmOnDelete:{type:"boolean",default:!0},confirmOnClose:{type:"boolean",default:!0},language:{type:"string",enum:["en","es","fr","de","zh","ja"],default:"en"},maxHistoryItems:{type:"number",default:100,validator:e=>e>=0&&e<=1e3},enableTelemetry:{type:"boolean",default:!1},checkForUpdates:{type:"boolean",default:!0},enableNotifications:{type:"boolean",default:!0},logLevel:{type:"string",enum:["error","warn","info","debug"],default:"info"}}};class ht extends oe{static schema={action:{type:"string",required:!0},keys:{type:"array",required:!0},description:{type:"string",default:""},enabled:{type:"boolean",default:!0}}}class lt extends oe{static schema={id:{type:"string",default:"app-settings"},general:{type:Ys,default:()=>new Ys},request:{type:Ks,default:()=>new Ks},ui:{type:Xs,default:()=>new Xs},proxy:{type:Ss,default:()=>new Ss},certificates:{type:"array",default:[]},keyBindings:{type:"array",default:()=>lt.getDefaultKeyBindings()},workspacePath:{type:"string",default:""},recentFiles:{type:"array",default:[]},ignoredHosts:{type:"array",default:[]},customHeaders:{type:"array",default:[]},createdAt:{type:"string",default:()=>oe.getTimestamp()},updatedAt:{type:"string",default:()=>oe.getTimestamp()},version:{type:"string",default:"1.0.0"}};constructor(e={}){e.id&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.general&&!(e.general instanceof Ys)&&(e.general=new Ys(e.general)),e.request&&!(e.request instanceof Ks)&&(e.request=new Ks(e.request)),e.ui&&!(e.ui instanceof Xs)&&(e.ui=new Xs(e.ui)),e.proxy&&!(e.proxy instanceof Ss)&&(e.proxy=new Ss(e.proxy)),e.certificates&&(e.certificates=e.certificates.map(s=>s instanceof ut?s.toJSON():new ut(s).toJSON())),super(e)}static getDefaultKeyBindings(){return[new ht({action:"send_request",keys:["ctrl","enter"],description:"Send request"}).toJSON(),new ht({action:"save_request",keys:["ctrl","s"],description:"Save request"}).toJSON(),new ht({action:"new_request",keys:["ctrl","n"],description:"New request"}).toJSON(),new ht({action:"new_collection",keys:["ctrl","shift","n"],description:"New collection"}).toJSON(),new ht({action:"duplicate_tab",keys:["ctrl","d"],description:"Duplicate tab"}).toJSON(),new ht({action:"close_tab",keys:["ctrl","w"],description:"Close tab"}).toJSON(),new ht({action:"next_tab",keys:["ctrl","tab"],description:"Next tab"}).toJSON(),new ht({action:"prev_tab",keys:["ctrl","shift","tab"],description:"Previous tab"}).toJSON(),new ht({action:"toggle_sidebar",keys:["ctrl","b"],description:"Toggle sidebar"}).toJSON(),new ht({action:"search",keys:["ctrl","f"],description:"Search"}).toJSON(),new ht({action:"settings",keys:["ctrl",","],description:"Open settings"}).toJSON()]}addCertificate(e){const s=e instanceof ut?e.toJSON():new ut(e).toJSON();return this.certificates.push(s),this.updatedAt=oe.getTimestamp(),this}removeCertificate(e){return this.certificates=this.certificates.filter(s=>s.id!==e),this.updatedAt=oe.getTimestamp(),this}getCertificateForHost(e){return this.certificates.find(s=>{const n=new ut(s);return n.matchesHost(e)&&n.enabled})}updateKeyBinding(e,s){const n=this.keyBindings.find(o=>o.action===e);return n&&(n.keys=s,this.updatedAt=oe.getTimestamp()),this}getKeyBinding(e){const s=this.keyBindings.find(n=>n.action===e&&n.enabled);return s?s.keys:null}addRecentFile(e){return this.recentFiles=this.recentFiles.filter(s=>s!==e),this.recentFiles.unshift(e),this.recentFiles.length>10&&(this.recentFiles=this.recentFiles.slice(0,10)),this.updatedAt=oe.getTimestamp(),this}addIgnoredHost(e){return this.ignoredHosts.includes(e)||(this.ignoredHosts.push(e),this.updatedAt=oe.getTimestamp()),this}removeIgnoredHost(e){return this.ignoredHosts=this.ignoredHosts.filter(s=>s!==e),this.updatedAt=oe.getTimestamp(),this}addCustomHeader(e){return this.customHeaders.push(e),this.updatedAt=oe.getTimestamp(),this}removeCustomHeader(e){return this.customHeaders=this.customHeaders.filter(s=>s.key!==e),this.updatedAt=oe.getTimestamp(),this}reset(){const e=new lt;return Object.assign(this,e),this.updatedAt=oe.getTimestamp(),this}export(){const e=this.toJSON();return e.exportedAt=new Date().toISOString(),e.appVersion=this.version,e}static import(e){const s=new lt(e);return s.updatedAt=oe.getTimestamp(),s}}class $b extends sl{constructor(){super("settings"),this.createState({...this.state,activeTab:"general",settings:null,originalSettings:null})}init(){super.init(),this.loadSettings(),this.resetFormData()}loadSettings(){try{const e=localStorage.getItem("toastman_settings");e?(this.state.settings=new lt(JSON.parse(e)),this.logger.debug("Loaded settings from localStorage")):(this.state.settings=new lt,this.logger.debug("Created default settings"))}catch(e){this.logger.error("Failed to load settings:",e),this.state.settings=new lt}}saveSettings(){try{const e=this.state.settings.toJSON();return localStorage.setItem("toastman_settings",JSON.stringify(e)),this.logger.info("Settings saved successfully"),window.dispatchEvent(new StorageEvent("storage",{key:"toastman_settings",newValue:JSON.stringify(e),storageArea:localStorage})),!0}catch(e){return this.logger.error("Failed to save settings:",e),!1}}open(e="general"){super.open(),this.state.activeTab=e,this.state.settings||this.loadSettings(),this.state.originalSettings=this.state.settings.clone(),this.state.formData=this.state.settings.toJSON()}resetFormData(){this.state.formData=this.state.settings?this.state.settings.toJSON():new lt().toJSON()}validateForm(){return this.clearErrors(),this.state.formData.request&&((this.state.formData.request.timeout<1e3||this.state.formData.request.timeout>3e5)&&this.setFieldError("request.timeout","Timeout must be between 1 and 300 seconds"),(this.state.formData.request.maxRedirects<0||this.state.formData.request.maxRedirects>50)&&this.setFieldError("request.maxRedirects","Max redirects must be between 0 and 50")),this.state.formData.ui&&((this.state.formData.ui.fontSize<10||this.state.formData.ui.fontSize>24)&&this.setFieldError("ui.fontSize","Font size must be between 10 and 24"),(this.state.formData.ui.sidebarWidth<15||this.state.formData.ui.sidebarWidth>50)&&this.setFieldError("ui.sidebarWidth","Sidebar width must be between 15% and 50%")),this.state.formData.proxy&&this.state.formData.proxy.enabled&&(this.state.formData.proxy.host||this.setFieldError("proxy.host","Proxy host is required"),(this.state.formData.proxy.port<1||this.state.formData.proxy.port>65535)&&this.setFieldError("proxy.port","Proxy port must be between 1 and 65535")),!this.hasErrors()}async processSubmit(e){const s=new lt(e);if(this.state.settings=s,!this.saveSettings())throw new Error("Failed to save settings");return this.applySettings(s),s}applySettings(e){e.ui.theme&&document.documentElement.setAttribute("data-theme",e.ui.theme),e.ui.fontSize&&document.documentElement.style.setProperty("--font-size-base",`${e.ui.fontSize}px`),this.logger.info("Settings applied to UI"),this.emit("settingsApplied",e)}async resetToDefaults(){await this.confirmReset()&&(this.state.settings=new lt,this.state.formData=this.state.settings.toJSON(),this.saveSettings()&&(this.applySettings(this.state.settings),this.logger.info("Settings reset to defaults"),this.emit("settingsReset")))}async confirmReset(){return new Promise(e=>{this.emit("confirmReset",{resolve:e})})}switchTab(e){if(!["general","request","ui","proxy","certificates","shortcuts"].includes(e)){this.logger.warn(`Invalid settings tab: ${e}`);return}this.state.activeTab=e,this.logger.debug(`Switched to settings tab: ${e}`)}updateGeneralSettings(e){Object.assign(this.state.formData.general,e),this.clearFieldError("general")}updateRequestSettings(e){Object.assign(this.state.formData.request,e),this.clearFieldError("request")}updateUISettings(e){if(Object.assign(this.state.formData.ui,e),this.clearFieldError("ui"),e.theme&&document.documentElement.setAttribute("data-theme",e.theme),e.fontSize&&document.documentElement.style.setProperty("--font-size-base",`${e.fontSize}px`),e.editorThemeDark||e.editorThemeLight){const s={ui:this.state.formData.ui};window.dispatchEvent(new StorageEvent("storage",{key:"toastman_settings",newValue:JSON.stringify(s),storageArea:localStorage}))}}updateProxySettings(e){e.auth&&!this.state.formData.proxy.auth&&(this.state.formData.proxy.auth={type:"basic",username:"",password:"",domain:"",workstation:""}),Object.assign(this.state.formData.proxy,e),this.clearFieldError("proxy")}addCertificate(e){try{const s=new ut(e);this.state.formData.certificates.push(s.toJSON()),this.logger.info("Added certificate:",s.name),this.emit("certificateAdded",s)}catch(s){this.logger.error("Failed to add certificate:",s),this.setFieldError("certificate",s.message)}}removeCertificate(e){const s=this.state.formData.certificates.findIndex(n=>n.id===e);if(s>-1){const n=this.state.formData.certificates[s];this.state.formData.certificates.splice(s,1),this.logger.info("Removed certificate:",n.name),this.emit("certificateRemoved",e)}}updateCertificate(e,s){const n=this.state.formData.certificates.find(o=>o.id===e);n&&(Object.assign(n,s),this.logger.info("Updated certificate:",n.name),this.emit("certificateUpdated",n))}async importCertificate(e){return await this.executeAsync(async()=>{const n=await this.readFile(e),o=new ut({name:e.name,type:"client",enabled:!0});return e.name.endsWith(".pfx")||e.name.endsWith(".p12")?o.setPFX(n):o.setCertificate(n),this.addCertificate(o.toJSON()),o},"Failed to import certificate")}async readFile(e){return new Promise((s,n)=>{const o=new FileReader;o.onload=i=>s(i.target.result),o.onerror=i=>n(i),e.type==="application/x-pkcs12"||e.name.endsWith(".pfx")||e.name.endsWith(".p12")?o.readAsArrayBuffer(e):o.readAsText(e)})}updateKeyBinding(e,s){const n=this.state.formData.keyBindings.find(o=>o.action===e);n&&(n.keys=s,this.logger.info(`Updated key binding for ${e}:`,s.join("+")),this.emit("keyBindingUpdated",{action:e,keys:s}))}resetKeyBindings(){this.state.formData.keyBindings=lt.getDefaultKeyBindings(),this.logger.info("Reset key bindings to defaults"),this.emit("keyBindingsReset")}async testProxyConnection(){const e=await this.executeAsync(async()=>{const s=new Ss(this.state.formData.proxy);if(!s.enabled||!s.host)throw new Error("Proxy is not configured");if(await new Promise(o=>setTimeout(o,1e3)),!(Math.random()>.3))throw new Error(`Failed to connect to proxy at ${s.host}:${s.port}`);return{message:`Successfully connected to proxy at ${s.host}:${s.port}`}},"Proxy connection test failed");return e.success?this.emit("proxyTestSuccess",e.data):this.emit("proxyTestFailed",e.error),e}exportSettings(){const e=this.state.settings.export(),s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(s),o=document.createElement("a");o.href=n,o.download=`toastman-settings-${Date.now()}.json`,o.click(),URL.revokeObjectURL(n),this.logger.info("Settings exported"),this.emit("settingsExported")}async importSettings(e){const s=await this.executeAsync(async()=>{const n=await this.readFile(e),o=JSON.parse(n),i=lt.import(o);return this.state.settings=i,this.state.formData=i.toJSON(),this.saveSettings()&&this.applySettings(i),i},"Failed to import settings");return s.success&&this.emit("settingsImported",s.data),s}updateCertificatesSettings(e){this.state.formData.certificates=e,this.clearFieldError("certificates"),this.logger.debug("Updated certificates settings")}hasUnsavedChanges(){return this.state.originalSettings?JSON.stringify(this.state.formData)!==JSON.stringify(this.state.originalSettings.toJSON()):!1}}class Ab extends Ge{constructor(){super("general-settings"),this.createState({settings:null,errors:{}})}init(e){super.init(),this.state.settings=e||new Ys}updateSettings(e){Object.assign(this.state.settings,e),this.clearErrors(),this.logger.debug("Updated general settings:",e),this.emit("settingsChanged",this.state.settings)}validate(){return this.clearErrors(),(this.state.settings.autoSaveInterval<1e4||this.state.settings.autoSaveInterval>3e5)&&this.setError("autoSaveInterval","Auto-save interval must be between 10 and 300 seconds"),(this.state.settings.maxHistoryItems<0||this.state.settings.maxHistoryItems>1e3)&&this.setError("maxHistoryItems","Max history items must be between 0 and 1000"),Object.keys(this.state.errors).length===0}setError(e,s){this.state.errors[e]=s}clearErrors(){this.state.errors={}}getSettings(){return this.state.settings}}const Rb={class:"general-settings"},Ob={class:"setting-group"},Ib={class:"setting-label"},qb={class:"setting-group"},Db={key:0,class:"error-text"},Pb={class:"setting-group"},Fb={class:"setting-label"},Nb={class:"setting-group"},Mb={key:0,class:"error-text"},Lb={__name:"GeneralSettings",props:{settings:{type:Object,required:!0}},emits:["update:settings"],setup(t,{emit:e}){const s=t,n=e,o=new Ab;o.init(s.settings),o.on("settingsChanged",c=>{n("update:settings",c)});const{errors:i}=o.state,r=F({get:()=>s.settings.autoSave,set:c=>o.updateSettings({autoSave:c})}),l=F({get:()=>Math.floor(s.settings.autoSaveInterval/1e3),set:c=>o.updateSettings({autoSaveInterval:parseInt(c)*1e3})}),u=F({get:()=>s.settings.confirmOnDelete,set:c=>o.updateSettings({confirmOnDelete:c})}),p=F({get:()=>s.settings.maxHistoryItems,set:c=>o.updateSettings({maxHistoryItems:parseInt(c)})});return(c,d)=>(g(),w("div",Rb,[a("div",Ob,[a("label",Ib,[ce(a("input",{type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=f=>r.value=f),class:"setting-checkbox"},null,512),[[Qe,r.value]]),d[4]||(d[4]=_e(" Auto-save changes ",-1))]),d[5]||(d[5]=a("div",{class:"setting-description"}," Automatically save your work as you make changes ",-1))]),a("div",qb,[d[6]||(d[6]=a("label",{class:"setting-label"},"Auto-save interval (seconds)",-1)),ce(a("input",{type:"number","onUpdate:modelValue":d[1]||(d[1]=f=>l.value=f),min:"10",max:"300",class:"setting-input"},null,512),[[Se,l.value]]),M(i).autoSaveInterval?(g(),w("div",Db,D(M(i).autoSaveInterval),1)):G("",!0),d[7]||(d[7]=a("div",{class:"setting-description"}," How often to automatically save your changes (10-300 seconds) ",-1))]),a("div",Pb,[a("label",Fb,[ce(a("input",{type:"checkbox","onUpdate:modelValue":d[2]||(d[2]=f=>u.value=f),class:"setting-checkbox"},null,512),[[Qe,u.value]]),d[8]||(d[8]=_e(" Confirm before deleting items ",-1))]),d[9]||(d[9]=a("div",{class:"setting-description"}," Show confirmation dialog when deleting collections, requests, or environments ",-1))]),a("div",Nb,[d[10]||(d[10]=a("label",{class:"setting-label"},"Maximum history items",-1)),ce(a("input",{type:"number","onUpdate:modelValue":d[3]||(d[3]=f=>p.value=f),min:"0",max:"1000",class:"setting-input"},null,512),[[Se,p.value]]),M(i).maxHistoryItems?(g(),w("div",Mb,D(M(i).maxHistoryItems),1)):G("",!0),d[11]||(d[11]=a("div",{class:"setting-description"}," Maximum number of requests to keep in history (0-1000) ",-1))])]))}},Vb=ye(Lb,[["__scopeId","data-v-fcda1da3"]]);class Ub extends Ge{constructor(){super("request-settings"),this.createState({settings:null,errors:{}})}init(e){super.init(),this.state.settings=e||new Ks}updateSettings(e){Object.assign(this.state.settings,e),this.clearErrors(),this.logger.debug("Updated request settings:",e),this.emit("settingsChanged",this.state.settings)}validate(){return this.clearErrors(),(this.state.settings.timeout<1e3||this.state.settings.timeout>3e5)&&this.setError("timeout","Timeout must be between 1 and 300 seconds"),(this.state.settings.maxRedirects<0||this.state.settings.maxRedirects>50)&&this.setError("maxRedirects","Max redirects must be between 0 and 50"),Object.keys(this.state.errors).length===0}setError(e,s){this.state.errors[e]=s}clearErrors(){this.state.errors={}}getSettings(){return this.state.settings}}const jb={class:"request-settings"},zb={class:"setting-group"},Hb={key:0,class:"error-text"},Bb={class:"setting-group"},Jb={class:"setting-label"},Wb={class:"setting-group"},Gb={key:0,class:"error-text"},Kb={class:"setting-group"},Xb={class:"setting-label"},Yb={__name:"RequestSettings",props:{settings:{type:Object,required:!0}},emits:["update:settings"],setup(t,{emit:e}){const s=t,n=e,o=new Ub;o.init(s.settings),o.on("settingsChanged",c=>{n("update:settings",c)});const{errors:i}=o.state,r=F({get:()=>s.settings.timeout,set:c=>o.updateSettings({timeout:parseInt(c)})}),l=F({get:()=>s.settings.followRedirects,set:c=>o.updateSettings({followRedirects:c})}),u=F({get:()=>s.settings.maxRedirects,set:c=>o.updateSettings({maxRedirects:parseInt(c)})}),p=F({get:()=>s.settings.validateSSL,set:c=>o.updateSettings({validateSSL:c})});return(c,d)=>(g(),w("div",jb,[a("div",zb,[d[4]||(d[4]=a("label",{class:"setting-label"},"Request timeout (milliseconds)",-1)),ce(a("input",{type:"number","onUpdate:modelValue":d[0]||(d[0]=f=>r.value=f),min:"1000",max:"300000",class:"setting-input"},null,512),[[Se,r.value]]),M(i).timeout?(g(),w("div",Hb,D(M(i).timeout),1)):G("",!0),d[5]||(d[5]=a("div",{class:"setting-description"}," Maximum time to wait for a response (1000-300000 ms) ",-1))]),a("div",Bb,[a("label",Jb,[ce(a("input",{type:"checkbox","onUpdate:modelValue":d[1]||(d[1]=f=>l.value=f),class:"setting-checkbox"},null,512),[[Qe,l.value]]),d[6]||(d[6]=_e(" Follow redirects automatically ",-1))]),d[7]||(d[7]=a("div",{class:"setting-description"}," Automatically follow HTTP redirects (3xx status codes) ",-1))]),a("div",Wb,[d[8]||(d[8]=a("label",{class:"setting-label"},"Maximum redirects",-1)),ce(a("input",{type:"number","onUpdate:modelValue":d[2]||(d[2]=f=>u.value=f),min:"0",max:"50",class:"setting-input"},null,512),[[Se,u.value]]),M(i).maxRedirects?(g(),w("div",Gb,D(M(i).maxRedirects),1)):G("",!0),d[9]||(d[9]=a("div",{class:"setting-description"}," Maximum number of redirects to follow (0-50) ",-1))]),a("div",Kb,[a("label",Xb,[ce(a("input",{type:"checkbox","onUpdate:modelValue":d[3]||(d[3]=f=>p.value=f),class:"setting-checkbox"},null,512),[[Qe,p.value]]),d[10]||(d[10]=_e(" Validate SSL certificates ",-1))]),d[11]||(d[11]=a("div",{class:"setting-description"}," Verify SSL/TLS certificates when making HTTPS requests ",-1))])]))}},Qb=ye(Yb,[["__scopeId","data-v-b35ecd6d"]]);class Zb extends Ge{constructor(){super("ui-settings"),this.createState({settings:null,errors:{}})}init(e){super.init(),this.state.settings=e||new Xs}updateSettings(e){Object.assign(this.state.settings,e),this.clearErrors(),this.applyUIChanges(e),this.logger.debug("Updated UI settings:",e),this.emit("settingsChanged",this.state.settings)}applyUIChanges(e){if(typeof document<"u"){const s=document.documentElement;if(e.theme)if(e.theme==="auto"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches;s.setAttribute("data-theme",n?"dark":"light")}else s.setAttribute("data-theme",e.theme);e.fontSize&&s.style.setProperty("--font-size-base",`${e.fontSize}px`),e.fontFamily&&s.style.setProperty("--font-family-mono",e.fontFamily)}}validate(){return this.clearErrors(),(this.state.settings.fontSize<10||this.state.settings.fontSize>24)&&this.setError("fontSize","Font size must be between 10 and 24 pixels"),(this.state.settings.sidebarWidth<15||this.state.settings.sidebarWidth>50)&&this.setError("sidebarWidth","Sidebar width must be between 15% and 50%"),Object.keys(this.state.errors).length===0}setError(e,s){this.state.errors[e]=s}clearErrors(){this.state.errors={}}getSettings(){return this.state.settings}}const ew={class:"ui-settings"},tw={class:"setting-group"},sw={class:"setting-group"},nw=["value"],ow={class:"setting-description"},iw={class:"setting-group"},rw=["value"],aw={class:"setting-description"},lw={class:"setting-group"},cw={key:0,class:"error-text"},uw={class:"setting-group"},dw={key:0,class:"error-text"},pw={class:"setting-group"},fw={class:"setting-label"},hw={class:"setting-group"},mw={class:"setting-label"},gw={class:"setting-group"},vw={class:"setting-label"},yw={__name:"UISettings",props:{settings:{type:Object,required:!0}},emits:["update:settings"],setup(t,{emit:e}){const s=t,n=e,o=new Zb;o.init(s.settings),o.on("settingsChanged",v=>{n("update:settings",v)});const{errors:i}=o.state,r=F({get:()=>s.settings.theme,set:v=>o.updateSettings({theme:v})}),l=F({get:()=>s.settings.editorThemeDark||"gob",set:v=>o.updateSettings({editorThemeDark:v})}),u=F({get:()=>s.settings.editorThemeLight||"textmate",set:v=>o.updateSettings({editorThemeLight:v})}),p=F({get:()=>s.settings.fontSize,set:v=>o.updateSettings({fontSize:parseInt(v)})}),c=F({get:()=>s.settings.sidebarWidth,set:v=>o.updateSettings({sidebarWidth:parseInt(v)})}),d=F({get:()=>s.settings.showLineNumbers,set:v=>o.updateSettings({showLineNumbers:v})}),f=F({get:()=>s.settings.wordWrap,set:v=>o.updateSettings({wordWrap:v})}),h=F({get:()=>s.settings.autoComplete,set:v=>o.updateSettings({autoComplete:v})});return(v,y)=>(g(),w("div",ew,[a("div",tw,[y[9]||(y[9]=a("label",{class:"setting-label"},"Theme",-1)),ce(a("select",{"onUpdate:modelValue":y[0]||(y[0]=x=>r.value=x),class:"setting-select"},[...y[8]||(y[8]=[a("option",{value:"light"},"Light",-1),a("option",{value:"dark"},"Dark",-1),a("option",{value:"auto"},"Auto (System)",-1)])],512),[[ln,r.value]]),y[10]||(y[10]=a("div",{class:"setting-description"}," Choose the application color theme ",-1))]),a("div",sw,[y[11]||(y[11]=a("label",{class:"setting-label"},"Editor Theme (Dark Mode)",-1)),ce(a("select",{"onUpdate:modelValue":y[1]||(y[1]=x=>l.value=x),class:"setting-select"},[(g(!0),w(me,null,ke(M(Cr),x=>(g(),w("option",{key:x.id,value:x.id},D(x.name),9,nw))),128))],512),[[ln,l.value]]),a("div",ow,D(M(Cr).find(x=>x.id===l.value)?.description||"Code editor theme when in dark mode"),1)]),a("div",iw,[y[12]||(y[12]=a("label",{class:"setting-label"},"Editor Theme (Light Mode)",-1)),ce(a("select",{"onUpdate:modelValue":y[2]||(y[2]=x=>u.value=x),class:"setting-select"},[(g(!0),w(me,null,ke(M(Sr),x=>(g(),w("option",{key:x.id,value:x.id},D(x.name),9,rw))),128))],512),[[ln,u.value]]),a("div",aw,D(M(Sr).find(x=>x.id===u.value)?.description||"Code editor theme when in light mode"),1)]),a("div",lw,[y[13]||(y[13]=a("label",{class:"setting-label"},"Font size (px)",-1)),ce(a("input",{type:"number","onUpdate:modelValue":y[3]||(y[3]=x=>p.value=x),min:"10",max:"24",class:"setting-input"},null,512),[[Se,p.value]]),M(i).fontSize?(g(),w("div",cw,D(M(i).fontSize),1)):G("",!0),y[14]||(y[14]=a("div",{class:"setting-description"}," Base font size for the application (10-24px) ",-1))]),a("div",uw,[y[15]||(y[15]=a("label",{class:"setting-label"},"Sidebar width (%)",-1)),ce(a("input",{type:"number","onUpdate:modelValue":y[4]||(y[4]=x=>c.value=x),min:"15",max:"50",class:"setting-input"},null,512),[[Se,c.value]]),M(i).sidebarWidth?(g(),w("div",dw,D(M(i).sidebarWidth),1)):G("",!0),y[16]||(y[16]=a("div",{class:"setting-description"}," Default width of the sidebar panel (15-50%) ",-1))]),a("div",pw,[a("label",fw,[ce(a("input",{type:"checkbox","onUpdate:modelValue":y[5]||(y[5]=x=>d.value=x),class:"setting-checkbox"},null,512),[[Qe,d.value]]),y[17]||(y[17]=_e(" Show line numbers in code editor ",-1))]),y[18]||(y[18]=a("div",{class:"setting-description"}," Display line numbers in JSON/code views ",-1))]),a("div",hw,[a("label",mw,[ce(a("input",{type:"checkbox","onUpdate:modelValue":y[6]||(y[6]=x=>f.value=x),class:"setting-checkbox"},null,512),[[Qe,f.value]]),y[19]||(y[19]=_e(" Enable word wrap ",-1))]),y[20]||(y[20]=a("div",{class:"setting-description"}," Wrap long lines in code editor and response viewer ",-1))]),a("div",gw,[a("label",vw,[ce(a("input",{type:"checkbox","onUpdate:modelValue":y[7]||(y[7]=x=>h.value=x),class:"setting-checkbox"},null,512),[[Qe,h.value]]),y[21]||(y[21]=_e(" Enable auto-complete ",-1))]),y[22]||(y[22]=a("div",{class:"setting-description"}," Show suggestions and auto-completion in editors ",-1))])]))}},bw=ye(yw,[["__scopeId","data-v-bd4ad1c0"]]);class ww extends Ge{constructor(){super("proxy-settings"),this.createState({settings:null,errors:{},testing:!1})}init(e){super.init(),this.state.settings=e||new Ss,this.state.settings.auth||(this.state.settings.auth={type:"basic",username:"",password:"",domain:"",workstation:""})}updateSettings(e){e.auth?(this.state.settings.auth||(this.state.settings.auth={type:"basic",username:"",password:"",domain:"",workstation:""}),Object.assign(this.state.settings.auth,e.auth)):Object.assign(this.state.settings,e),this.clearErrors(),this.logger.debug("Updated proxy settings:",e),this.emit("settingsChanged",this.state.settings)}async testConnection(){try{if(this.state.testing=!0,this.clearErrors(),!this.state.settings.enabled)throw new Error("Proxy is not enabled");if(!this.state.settings.host)throw new Error("Proxy host is required");await new Promise(e=>setTimeout(e,1500)),this.logger.info("Proxy connection test successful"),this.emit("testResult",{success:!0,message:"Proxy connection successful"})}catch(e){this.logger.error("Proxy connection test failed:",e),this.setError("connection",e.message),this.emit("testResult",{success:!1,message:e.message})}finally{this.state.testing=!1}}validate(){return this.clearErrors(),this.state.settings.enabled&&!this.state.settings.useSystemProxy&&(this.state.settings.host||this.setError("host","Proxy host is required when proxy is enabled"),(this.state.settings.port<1||this.state.settings.port>65535)&&this.setError("port","Port must be between 1 and 65535")),Object.keys(this.state.errors).length===0}setError(e,s){this.state.errors[e]=s}clearErrors(){this.state.errors={}}getSettings(){return this.state.settings}}const xw={class:"proxy-settings"},_w={class:"setting-group"},Cw={class:"setting-label"},Sw={class:"setting-group"},Tw={class:"setting-group"},kw={class:"setting-row"},Ew={class:"setting-field"},$w={key:0,class:"error-text"},Aw={class:"setting-field"},Rw={key:0,class:"error-text"},Ow={class:"setting-group"},Iw={class:"setting-row"},qw={class:"setting-group"},Dw=["disabled"],Pw={key:0,class:"error-text"},Fw={__name:"ProxySettings",props:{settings:{type:Object,required:!0}},emits:["update:settings"],setup(t,{emit:e}){const s=t,n=e,o=new ww;o.init(s.settings),o.on("settingsChanged",v=>{n("update:settings",v)}),o.on("testResult",v=>{});const{errors:i,testing:r}=o.state,l=F({get:()=>s.settings.enabled,set:v=>o.updateSettings({enabled:v})}),u=F({get:()=>s.settings.protocol,set:v=>o.updateSettings({protocol:v})}),p=F({get:()=>s.settings.host,set:v=>o.updateSettings({host:v})}),c=F({get:()=>s.settings.port,set:v=>o.updateSettings({port:parseInt(v)})}),d=F({get:()=>s.settings.auth?.username||"",set:v=>o.updateSettings({auth:{username:v}})}),f=F({get:()=>s.settings.auth?.password||"",set:v=>o.updateSettings({auth:{password:v}})}),h=()=>{o.testConnection()};return(v,y)=>(g(),w("div",xw,[a("div",_w,[a("label",Cw,[ce(a("input",{type:"checkbox","onUpdate:modelValue":y[0]||(y[0]=x=>l.value=x),class:"setting-checkbox"},null,512),[[Qe,l.value]]),y[6]||(y[6]=_e(" Enable proxy ",-1))]),y[7]||(y[7]=a("div",{class:"setting-description"}," Route requests through a proxy server ",-1))]),l.value?(g(),w(me,{key:0},[a("div",Sw,[y[9]||(y[9]=a("label",{class:"setting-label"},"Protocol",-1)),ce(a("select",{"onUpdate:modelValue":y[1]||(y[1]=x=>u.value=x),class:"setting-select"},[...y[8]||(y[8]=[a("option",{value:"http"},"HTTP",-1),a("option",{value:"https"},"HTTPS",-1),a("option",{value:"socks4"},"SOCKS4",-1),a("option",{value:"socks5"},"SOCKS5",-1)])],512),[[ln,u.value]]),y[10]||(y[10]=a("div",{class:"setting-description"}," Proxy protocol type ",-1))]),a("div",Tw,[a("div",kw,[a("div",Ew,[y[11]||(y[11]=a("label",{class:"setting-label"},"Host",-1)),ce(a("input",{type:"text","onUpdate:modelValue":y[2]||(y[2]=x=>p.value=x),placeholder:"proxy.company.com",class:"setting-input"},null,512),[[Se,p.value]]),M(i).host?(g(),w("div",$w,D(M(i).host),1)):G("",!0)]),a("div",Aw,[y[12]||(y[12]=a("label",{class:"setting-label"},"Port",-1)),ce(a("input",{type:"number","onUpdate:modelValue":y[3]||(y[3]=x=>c.value=x),placeholder:"8080",class:"setting-input port-input",min:"1",max:"65535"},null,512),[[Se,c.value]]),M(i).port?(g(),w("div",Rw,D(M(i).port),1)):G("",!0)])])]),a("div",Ow,[y[13]||(y[13]=a("label",{class:"setting-label"},"Authentication (Optional)",-1)),a("div",Iw,[ce(a("input",{type:"text","onUpdate:modelValue":y[4]||(y[4]=x=>d.value=x),placeholder:"Username",class:"setting-input flex-1"},null,512),[[Se,d.value]]),ce(a("input",{type:"password","onUpdate:modelValue":y[5]||(y[5]=x=>f.value=x),placeholder:"Password",class:"setting-input flex-1"},null,512),[[Se,f.value]])]),y[14]||(y[14]=a("div",{class:"setting-description"}," Credentials for proxy authentication (if required) ",-1))]),a("div",qw,[a("button",{onClick:h,class:"test-btn",disabled:M(r)||!p.value},D(M(r)?"Testing...":"Test Connection"),9,Dw),M(i).connection?(g(),w("div",Pw,D(M(i).connection),1)):G("",!0)])],64)):G("",!0)]))}},Nw=ye(Fw,[["__scopeId","data-v-2f25d129"]]);class Mw extends Ge{constructor(){super("certificates-settings"),this.createState({certificates:[],errors:{}})}init(e=[]){super.init(),this.state.certificates=e.map(s=>s instanceof ut?s.toJSON():new ut(s).toJSON()),this.state.certificates.length===0&&this.addCertificate()}addCertificate(e={}){try{const s={name:"New Certificate",type:"client",host:"",enabled:!1,...e},n=new ut(s);return this.state.certificates.push(n.toJSON()),this.logger.info("Added certificate:",n.name),this.emit("certificatesChanged",this.state.certificates),n.toJSON()}catch(s){return this.logger.error("Failed to add certificate:",s),this.setError("add",s.message),null}}removeCertificate(e){const s=this.state.certificates.findIndex(n=>n.id===e);if(s>-1){const n=this.state.certificates.splice(s,1)[0];return this.logger.info("Removed certificate:",n.name),this.emit("certificatesChanged",this.state.certificates),!0}return!1}updateCertificate(e,s){const n=this.state.certificates.find(o=>o.id===e);return n?(Object.assign(n,s),this.clearError(e),this.logger.debug("Updated certificate:",e,s),this.emit("certificatesChanged",this.state.certificates),!0):!1}async importCertificate(e,s){try{const n=this.state.certificates.find(i=>i.id===s);if(!n)throw new Error("Certificate not found");const o=await this.readCertificateFile(e);return n.cert=o,n.fileName=e.name,this.logger.info("Imported certificate file:",e.name),this.emit("certificatesChanged",this.state.certificates),{success:!0,message:"Certificate imported successfully"}}catch(n){return this.logger.error("Failed to import certificate:",n),this.setError(s,n.message),{success:!1,message:n.message}}}async readCertificateFile(e){return new Promise((s,n)=>{const o=new FileReader;o.onload=i=>{s(i.target.result)},o.onerror=()=>{n(new Error("Failed to read certificate file"))},e.name.endsWith(".pem")?o.readAsText(e):o.readAsDataURL(e)})}validate(){this.clearErrors();let e=!0;return this.state.certificates.forEach(s=>{s.enabled&&(s.host||(this.setError(s.id,"Host is required for enabled certificates"),e=!1),s.name||(this.setError(s.id,"Certificate name is required"),e=!1))}),e}setError(e,s){this.state.errors[e]=s}clearError(e){delete this.state.errors[e]}clearErrors(){this.state.errors={}}getCertificates(){return this.state.certificates}}const Lw={class:"certificates-settings"},Vw={class:"certificates-list"},Uw={class:"certificate-header"},jw=["onUpdate:modelValue","onChange"],zw=["onUpdate:modelValue","onInput"],Hw=["onClick"],Bw={key:0,class:"certificate-details"},Jw={class:"setting-row"},Ww={class:"setting-group flex-1"},Gw=["onUpdate:modelValue","onInput"],Kw={class:"setting-row"},Xw={class:"setting-group flex-1"},Yw={class:"file-input-group"},Qw=["value"],Zw=["onClick"],ex={class:"setting-group"},tx=["onUpdate:modelValue","onInput"],sx={key:0,class:"error-text"},nx={key:0,class:"error-text"},ox={__name:"CertificatesSettings",props:{certificates:{type:Array,default:()=>[]}},emits:["update:certificates"],setup(t,{emit:e}){const s=t,n=e,o=new Mw;o.init(s.certificates),o.on("certificatesChanged",c=>{n("update:certificates",c)});const{errors:i}=o.state,r=()=>{o.addCertificate()},l=c=>{o.removeCertificate(c)},u=(c,d)=>{o.updateCertificate(c,d)},p=async c=>{const d=document.createElement("input");d.type="file",d.accept=".p12,.pfx,.pem,.crt,.cer",d.onchange=async f=>{const h=f.target.files[0];h&&(await o.importCertificate(h,c.id)).success},d.click()};return(c,d)=>(g(),w("div",Lw,[a("div",{class:"setting-group"},[a("div",{class:"section-header"},[d[0]||(d[0]=a("span",{class:"section-title"},"Client Certificates",-1)),a("button",{onClick:r,class:"btn-add"},"+ Add Certificate")]),d[1]||(d[1]=a("div",{class:"setting-description"}," Configure client certificates for domain-specific authentication ",-1))]),a("div",Vw,[(g(!0),w(me,null,ke(M(o).state.certificates,f=>(g(),w("div",{key:f.id,class:"certificate-item"},[a("div",Uw,[ce(a("input",{type:"checkbox","onUpdate:modelValue":h=>f.enabled=h,onChange:h=>u(f.id,{enabled:h.target.checked}),class:"setting-checkbox"},null,40,jw),[[Qe,f.enabled]]),ce(a("input",{type:"text","onUpdate:modelValue":h=>f.host=h,onInput:h=>u(f.id,{host:h.target.value}),placeholder:"*.example.com or example.com",class:"domain-input"},null,40,zw),[[Se,f.host]]),M(o).state.certificates.length>1?(g(),w("button",{key:0,onClick:h=>l(f.id),class:"btn-remove",title:"Remove certificate"},"  ",8,Hw)):G("",!0)]),f.enabled?(g(),w("div",Bw,[a("div",Jw,[a("div",Ww,[d[2]||(d[2]=a("label",{class:"setting-label"},"Certificate Name",-1)),ce(a("input",{type:"text","onUpdate:modelValue":h=>f.name=h,onInput:h=>u(f.id,{name:h.target.value}),placeholder:"Certificate name",class:"setting-input"},null,40,Gw),[[Se,f.name]])])]),a("div",Kw,[a("div",Xw,[d[3]||(d[3]=a("label",{class:"setting-label"},"Certificate File",-1)),a("div",Yw,[a("input",{type:"text",value:f.cert?`${f.fileName||"Certificate"} loaded`:"No certificate",placeholder:"Select certificate file (.p12, .pfx, .pem)",class:"setting-input",readonly:""},null,8,Qw),a("button",{onClick:h=>p(f),class:"file-select-btn"}," Browse ",8,Zw)])])]),a("div",ex,[d[4]||(d[4]=a("label",{class:"setting-label"},"Certificate Password",-1)),ce(a("input",{type:"password","onUpdate:modelValue":h=>f.passphrase=h,onInput:h=>u(f.id,{passphrase:h.target.value}),placeholder:"Enter certificate password",class:"setting-input"},null,40,tx),[[Se,f.passphrase]])]),M(i)[f.id]?(g(),w("div",sx,D(M(i)[f.id]),1)):G("",!0)])):G("",!0)]))),128))]),M(i).add?(g(),w("div",nx,D(M(i).add),1)):G("",!0)]))}},ix=ye(ox,[["__scopeId","data-v-cda68d16"]]),rx={class:"settings-container"},ax={class:"settings-tabs"},lx={class:"settings-content"},cx={class:"settings-actions"},ux={class:"actions-right"},dx=["disabled"],px={__name:"SettingsDialog",emits:["close"],setup(t,{emit:e}){const s=e,n=new $b;n.init();const{loading:o,errors:i,formData:r}=n.state,l=F(()=>n.state.activeTab),u=async()=>{n.hasUnsavedChanges()&&!window.confirm("You have unsaved changes. Are you sure you want to close?")||s("close")},p=()=>n.submit(),c=_=>n.switchTab(_),d=()=>n.resetToDefaults(),f=()=>n.exportSettings(),h=_=>{n.updateGeneralSettings(_)},v=_=>{n.updateRequestSettings(_)},y=_=>{n.updateUISettings(_)},x=_=>{n.updateProxySettings(_)},j=_=>{n.updateCertificatesSettings(_)},N=_=>{_.key==="Escape"?u():_.key==="s"&&(_.ctrlKey||_.metaKey)&&(_.preventDefault(),p())};return De(()=>{document.addEventListener("keydown",N)}),Ze(()=>{document.removeEventListener("keydown",N)}),(_,A)=>(g(),de(Us,{title:"Settings",width:"700px",height:"750px",onClose:u},{default:Fe(()=>[a("div",rx,[a("div",ax,[a("button",{class:ue(["settings-tab",{active:l.value==="general"}]),onClick:A[0]||(A[0]=V=>c("general")),"data-icon":"",title:"General"},[...A[5]||(A[5]=[a("span",{class:"tab-icon"},"",-1),a("span",{class:"tab-text"},"General",-1)])],2),a("button",{class:ue(["settings-tab",{active:l.value==="request"}]),onClick:A[1]||(A[1]=V=>c("request")),"data-icon":"",title:"Request"},[...A[6]||(A[6]=[a("span",{class:"tab-icon"},"",-1),a("span",{class:"tab-text"},"Request",-1)])],2),a("button",{class:ue(["settings-tab",{active:l.value==="ui"}]),onClick:A[2]||(A[2]=V=>c("ui")),"data-icon":"",title:"UI"},[...A[7]||(A[7]=[a("span",{class:"tab-icon"},"",-1),a("span",{class:"tab-text"},"UI",-1)])],2),a("button",{class:ue(["settings-tab",{active:l.value==="proxy"}]),onClick:A[3]||(A[3]=V=>c("proxy")),"data-icon":"",title:"Proxy"},[...A[8]||(A[8]=[a("span",{class:"tab-icon"},"",-1),a("span",{class:"tab-text"},"Proxy",-1)])],2),a("button",{class:ue(["settings-tab",{active:l.value==="certificates"}]),onClick:A[4]||(A[4]=V=>c("certificates")),"data-icon":"",title:"Certificates"},[...A[9]||(A[9]=[a("span",{class:"tab-icon"},"",-1),a("span",{class:"tab-text"},"Certificates",-1)])],2)]),a("div",lx,[l.value==="general"&&M(r)?.general?(g(),de(Vb,{key:0,settings:M(r).general,"onUpdate:settings":h},null,8,["settings"])):G("",!0),l.value==="request"&&M(r)?.request?(g(),de(Qb,{key:1,settings:M(r).request,"onUpdate:settings":v},null,8,["settings"])):G("",!0),l.value==="ui"&&M(r)?.ui?(g(),de(bw,{key:2,settings:M(r).ui,"onUpdate:settings":y},null,8,["settings"])):G("",!0),l.value==="proxy"&&M(r)?.proxy?(g(),de(Nw,{key:3,settings:M(r).proxy,"onUpdate:settings":x},null,8,["settings"])):G("",!0),l.value==="certificates"&&M(r)?.certificates?(g(),de(ix,{key:4,certificates:M(r).certificates,"onUpdate:certificates":j},null,8,["certificates"])):G("",!0)]),a("div",cx,[a("div",{class:"actions-left"},[a("button",{onClick:d,class:"btn-secondary"}," Reset to Defaults "),a("button",{onClick:f,class:"btn-secondary"}," Export Settings ")]),a("div",ux,[a("button",{onClick:u,class:"btn-secondary"}," Cancel "),a("button",{onClick:p,class:"btn-primary",disabled:M(o)},D(M(o)?"Saving...":"Save Settings"),9,dx)])])])]),_:1}))}},fx=ye(px,[["__scopeId","data-v-608a69ff"]]),hx={class:"alert-content"},mx={class:"alert-header"},gx={class:"alert-message"},vx={key:0,class:"alert-input"},yx=["placeholder"],bx={__name:"AlertDialog",props:{title:{type:String,default:"Alert"},message:{type:String,required:!0},type:{type:String,default:"info",validator:t=>["info","warning","error","success"].includes(t)},confirmText:{type:String,default:"OK"},cancelText:{type:String,default:null},showInput:{type:Boolean,default:!1},inputPlaceholder:{type:String,default:""},inputValue:{type:String,default:""}},emits:["confirm","cancel","close"],setup(t,{emit:e}){const s=t,n=e,o=te(null),i=te(s.inputValue),r={info:"",warning:"",error:"",success:""},l={info:"var(--color-primary)",warning:"var(--color-warning)",error:"var(--color-error)",success:"var(--color-success)"},u=()=>{s.showInput?n("confirm",i.value.trim()):n("confirm",!0)},p=()=>{n("cancel",!1)},c=()=>{n("close")},d=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),u())};return De(()=>{s.showInput&&o.value&&o.value.focus()}),(f,h)=>(g(),de(Us,{title:t.title,width:"400px",onClose:c},{footer:Fe(()=>[t.cancelText?(g(),w("button",{key:0,class:"btn-cancel",onClick:p},D(t.cancelText),1)):G("",!0),a("button",{class:ue(["btn-confirm",[`btn-${t.type}`]]),onClick:u},D(t.confirmText),3)]),default:Fe(()=>[a("div",hx,[a("div",mx,[a("div",{class:"alert-icon",style:Ue({color:l[t.type]})},D(r[t.type]),5),a("div",gx,D(t.message),1)]),t.showInput?(g(),w("div",vx,[ce(a("input",{ref_key:"inputRef",ref:o,"onUpdate:modelValue":h[0]||(h[0]=v=>i.value=v),type:"text",placeholder:t.inputPlaceholder,class:"input-field",onKeydown:d},null,40,yx),[[Se,i.value]])])):G("",!0)])]),_:1},8,["title"]))}},wx=ye(bx,[["__scopeId","data-v-b4164d13"]]),xx={class:"tutorial-modal"},_x={class:"tutorial-modal-header"},Cx={class:"tutorial-modal-footer"},Sx={__name:"CurlTutorialDialog",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const s=e;return(n,o)=>(g(),de(Os,{to:"body"},[t.show?(g(),w("div",{key:0,class:"tutorial-modal-overlay",onClick:o[2]||(o[2]=Cn(i=>s("close"),["self"]))},[a("div",xx,[a("div",_x,[o[3]||(o[3]=a("h2",null," cURL Tutorial",-1)),a("button",{class:"tutorial-close-btn",onClick:o[0]||(o[0]=i=>s("close"))},"")]),o[4]||(o[4]=a("div",{class:"tutorial-modal-content"},[a("div",{class:"tutorial-section"},[a("h3",null,"Basic Syntax"),a("code",{class:"syntax-block"},"curl [options] <URL>"),a("p",null,"cURL is a command-line tool for transferring data with URLs. ToastMan parses cURL commands to build HTTP requests.")]),a("div",{class:"tutorial-section"},[a("h3",null,"Common Options"),a("div",{class:"options-grid"},[a("div",{class:"option-item"},[a("code",null,"-X, --request"),a("span",null,"HTTP method (GET, POST, PUT, DELETE, etc.)"),a("code",{class:"example"},"curl -X POST https://api.example.com")]),a("div",{class:"option-item"},[a("code",null,"-H, --header"),a("span",null,"Add a header to the request"),a("code",{class:"example"},'curl -H "Content-Type: application/json" URL')]),a("div",{class:"option-item"},[a("code",null,"-d, --data"),a("span",null,"Send data in the request body"),a("code",{class:"example"},`curl -d '{"key":"value"}' URL`)]),a("div",{class:"option-item"},[a("code",null,"-u, --user"),a("span",null,"Basic authentication (user:password)"),a("code",{class:"example"},"curl -u admin:secret URL")]),a("div",{class:"option-item"},[a("code",null,"-A, --user-agent"),a("span",null,"Set the User-Agent header"),a("code",{class:"example"},'curl -A "MyApp/1.0" URL')]),a("div",{class:"option-item"},[a("code",null,"-b, --cookie"),a("span",null,"Send cookies with the request"),a("code",{class:"example"},'curl -b "session=abc123" URL')])])]),a("div",{class:"tutorial-section"},[a("h3",null,"Quick Examples"),a("div",{class:"examples-list"},[a("div",{class:"example-block"},[a("span",{class:"example-label"},"GET Request"),a("code",null,"curl https://api.example.com/users")]),a("div",{class:"example-block"},[a("span",{class:"example-label"},"POST with JSON"),a("code",null,`curl -X POST -H "Content-Type: application/json" -d '{"name":"John"}' https://api.example.com/users`)]),a("div",{class:"example-block"},[a("span",{class:"example-label"},"With Auth Header"),a("code",null,'curl -H "Authorization: Bearer token123" https://api.example.com/me')]),a("div",{class:"example-block"},[a("span",{class:"example-label"},"Form Data"),a("code",null,'curl -X POST -F "file=@photo.jpg" -F "name=upload" https://api.example.com/upload')])])]),a("div",{class:"tutorial-section tip"},[a("h3",null," Pro Tip"),a("p",null,"Most browsers let you copy requests as cURL from DevTools (Network tab  Right-click  Copy as cURL). Paste it directly into ToastMan!")])],-1)),a("div",Cx,[a("button",{class:"tutorial-got-it-btn",onClick:o[1]||(o[1]=i=>s("close"))},"Got it!")])])])):G("",!0)]))}},Tx=ye(Sx,[["__scopeId","data-v-b6dac76f"]]),kx={id:"app"},Ex={class:"app-header"},$x={key:0,class:"environment-indicator"},Ax={class:"env-name"},Rx={class:"header-actions"},Ox=["title"],Ix={class:"app-main"},qx={class:"mobile-layout"},Dx={class:"cors-modal"},Px={class:"cors-modal-header"},Fx={class:"cors-modal-footer"},Nx={__name:"App",setup(t){const e=wt("app"),s=gs(),n=bn(),{alertState:o,handleConfirm:i,handleCancel:r,closeAlert:l}=Vs(),{trackUI:u}=el(),{mobileView:p,toggleMobileView:c,showComposer:d,isMobile:f}=wi(),h=te(null),v=te(!1),y=te(!1),x=F(()=>{const R=s.activeEnvironment,E=R?.value||R;return E&&E.name?E:null}),j=te(25),N=te(!1),_=()=>{e.debug("Opening settings dialog"),N.value=!0,u(Rn.SETTINGS_OPEN)},A=()=>{e.debug("Closing settings dialog"),N.value=!1},V=()=>{v.value=!0,u(Rn.CORS_MODAL_OPEN)},z=()=>{y.value=!0,u(Rn.CURL_TUTORIAL_OPEN)},S=async()=>{try{const R="/Toastman-Chrome.zip";e.debug("Downloading Chrome shortcut from:",R);const E=await fetch(R);if(!E.ok)throw new Error(`Failed to download shortcut: ${E.status} ${E.statusText}`);const T=await E.blob(),$=window.URL.createObjectURL(T),I=document.createElement("a");I.href=$,I.download="Toastman-Chrome.zip",I.style.display="none",document.body.appendChild(I),I.click(),setTimeout(()=>{document.body.removeChild(I),window.URL.revokeObjectURL($)},100),e.info("Chrome shortcut downloaded successfully")}catch(R){e.error("Error downloading Chrome shortcut:",R),alert(`Failed to download Chrome shortcut: ${R.message}`)}},O=()=>{e.debug("Creating new request"),h.value?h.value.addNewTab():n.createTab({name:"New Request",method:"GET"}),e.info("Created new request"),u(Rn.NEW_REQUEST),f()&&d()},L=R=>{try{Array.isArray(R)&&R.length>0&&R[0]&&typeof R[0].size=="number"?j.value=R[0].size:R&&typeof R.size=="number"?j.value=R.size:Array.isArray(R)&&R.length>0&&typeof R[0]=="number"?j.value=R[0]:e.warn("Unexpected resize event format:",R)}catch(E){e.error("Error handling resize:",E)}};return De(()=>{e.info("ToastMan application mounted"),e.info("Global logging API available at window.toastmanLog"),e.debug("Initial sidebar width:",j.value),typeof window<"u"&&(window.toastmanDebug={logger:wt("debug"),logAllComponents:()=>{e.info(" Enabling logging for all ToastMan components..."),window.toastmanLog.enableAll()},enableCollections:()=>window.toastmanLog.enable("collections"),enableStorage:()=>window.toastmanLog.enable("storage"),enableSidebar:()=>window.toastmanLog.enable("sidebar"),enableTabs:()=>window.toastmanLog.enable("tabs"),status:()=>window.toastmanLog.status(),list:()=>window.toastmanLog.list()},e.info("Debug helpers available at window.toastmanDebug"))}),(R,E)=>(g(),w("div",kx,[a("header",Ex,[E[9]||(E[9]=a("div",{class:"logo-section"},[a("h1",{class:"app-title"}," ToastMan"),a("span",{class:"app-subtitle"},"API Testing Tool")],-1)),x.value&&x.value.name?(g(),w("div",$x,[E[5]||(E[5]=a("span",{class:"env-label"},"Environment:",-1)),a("span",Ax,D(x.value.name),1)])):G("",!0),a("div",Rx,[a("button",{class:"mobile-toggle-button",onClick:E[0]||(E[0]=(...T)=>M(c)&&M(c)(...T)),title:M(p)==="sidebar"?"Show Composer":"Show Sidebar"},D(M(p)==="composer"?"":""),9,Ox),a("button",{class:"create-request-button",onClick:O,title:"Create New Request"},[...E[6]||(E[6]=[a("span",{class:"btn-icon"},"",-1),a("span",{class:"btn-text"},"New Request",-1)])]),a("button",{class:"curl-tutorial-button",onClick:z,title:"cURL Tutorial"},[...E[7]||(E[7]=[a("span",{class:"btn-icon"},"",-1),a("span",{class:"btn-text"},"cURL Tutorial",-1)])]),a("button",{class:"cors-button",onClick:V,title:"CORS Information"},[...E[8]||(E[8]=[a("span",{class:"btn-icon"},"",-1),a("span",{class:"btn-text"},"CORS",-1)])]),a("button",{class:"settings-button",onClick:_,title:"Settings"},"  ")])]),a("div",Ix,[fe(M(Za),{class:"default-theme desktop-layout",onResize:L},{default:Fe(()=>[fe(M(Xn),{size:j.value,"min-size":"20","max-size":"40"},{default:Fe(()=>[fe(br)]),_:1},8,["size"]),fe(M(Xn),null,{default:Fe(()=>[fe(Ar,{ref_key:"chatTabsRef",ref:h},null,512)]),_:1})]),_:1}),a("div",qx,[a("div",{class:ue(["mobile-view",{active:M(p)==="sidebar"}])},[fe(br)],2),a("div",{class:ue(["mobile-view",{active:M(p)==="composer"}])},[fe(Ar,{ref_key:"chatTabsRef",ref:h},null,512)],2)])]),N.value?(g(),de(fx,{key:0,onClose:A})):G("",!0),M(o).show?(g(),de(wx,{key:1,title:M(o).title,message:M(o).message,type:M(o).type,"confirm-text":M(o).confirmText,"cancel-text":M(o).cancelText,"show-input":M(o).showInput,"input-placeholder":M(o).inputPlaceholder,"input-value":M(o).inputValue,onConfirm:M(i),onCancel:M(r),onClose:M(l)},null,8,["title","message","type","confirm-text","cancel-text","show-input","input-placeholder","input-value","onConfirm","onCancel","onClose"])):G("",!0),(g(),de(Os,{to:"body"},[v.value?(g(),w("div",{key:0,class:"cors-modal-overlay",onClick:E[3]||(E[3]=Cn(T=>v.value=!1,["self"]))},[a("div",Dx,[a("div",Px,[E[10]||(E[10]=a("h2",null," CORS Limitations",-1)),a("button",{class:"cors-close-btn",onClick:E[1]||(E[1]=T=>v.value=!1)},"")]),a("div",{class:"cors-modal-content"},[E[18]||(E[18]=a("div",{class:"cors-section"},[a("h3",null," Web Version Limitations"),a("p",null,[_e(" ToastMan runs in your browser, which means it's subject to "),a("strong",null,"Cross-Origin Resource Sharing (CORS)"),_e(" restrictions. Most APIs won't respond to requests from a browser unless they explicitly allow it. ")])],-1)),E[19]||(E[19]=a("div",{class:"cors-section coming-soon"},[a("h3",null," VS Code Extension (Coming Soon)"),a("p",null,[_e(" We're building a "),a("strong",null,"VS Code extension"),_e(" that runs without CORS limitations. Stay tuned for the best ToastMan experience! ")])],-1)),a("div",{class:"cors-section workaround"},[E[16]||(E[16]=a("h3",null," Workaround: Disable Web Security",-1)),E[17]||(E[17]=a("p",{class:"warning-text"},[_e("  "),a("strong",null,"Security Warning:"),_e(" This disables browser security features. Only use this for development/testing and "),a("strong",null,"never browse untrusted sites"),_e(" with this flag enabled. Close the browser completely when done. ")],-1)),a("div",{class:"os-instructions"},[a("div",{class:"os-block"},[E[11]||(E[11]=a("h4",null," Windows",-1)),a("button",{onClick:S,class:"download-shortcut-btn"},"  Download Chrome Shortcut "),E[12]||(E[12]=a("p",{class:"hint"},"Just double-click the downloaded shortcut to launch Chrome with CORS disabled",-1)),E[13]||(E[13]=a("details",{class:"manual-option"},[a("summary",null,"Or run manually:"),a("code",null,'chrome.exe --disable-web-security --user-data-dir="C:\\tmp\\chrome_dev"')],-1))]),E[14]||(E[14]=a("div",{class:"os-block"},[a("h4",null," Linux"),a("p",null,"Close all Chrome windows, then run:"),a("code",null,'google-chrome --disable-web-security --user-data-dir="/tmp/chrome_dev"'),a("p",{class:"hint"},"For Chromium: replace google-chrome with chromium-browser")],-1)),E[15]||(E[15]=a("div",{class:"os-block"},[a("h4",null," macOS"),a("p",null,"Close all Chrome windows, then run:"),a("code",null,'open -na "Google Chrome" --args --disable-web-security --user-data-dir="/tmp/chrome_dev"')],-1))])]),E[20]||(E[20]=a("div",{class:"cors-section"},[a("h3",null," After launching with the flag"),a("p",null," Navigate to ToastMan and you'll be able to make requests to any API. You'll see a warning banner in Chrome indicating security is disabled. ")],-1))]),a("div",Fx,[a("button",{class:"cors-got-it-btn",onClick:E[2]||(E[2]=T=>v.value=!1)},"Got it!")])])])):G("",!0)])),fe(Tx,{show:y.value,onClose:E[4]||(E[4]=T=>y.value=!1)},null,8,["show"])]))}},Mx=ye(Nx,[["__scopeId","data-v-9efb863a"]]);Zy.register("fetch",dl);Gu();Uu(Mx).mount("#app");
