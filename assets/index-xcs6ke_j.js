(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Oo(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const $e={},ms=[],$t=()=>{},er=()=>!1,Pn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Io=t=>t.startsWith("onUpdate:"),Le=Object.assign,Do=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Ta=Object.prototype.hasOwnProperty,Ee=(t,e)=>Ta.call(t,e),ce=Array.isArray,gs=t=>on(t)==="[object Map]",ks=t=>on(t)==="[object Set]",ii=t=>on(t)==="[object Date]",ye=t=>typeof t=="function",Fe=t=>typeof t=="string",vt=t=>typeof t=="symbol",ke=t=>t!==null&&typeof t=="object",tr=t=>(ke(t)||ye(t))&&ye(t.then)&&ye(t.catch),sr=Object.prototype.toString,on=t=>sr.call(t),Ea=t=>on(t).slice(8,-1),nr=t=>on(t)==="[object Object]",Fo=t=>Fe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ls=Oo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mn=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},Aa=/-\w/g,dt=Mn(t=>t.replace(Aa,e=>e.slice(1).toUpperCase())),ka=/\B([A-Z])/g,Qt=Mn(t=>t.replace(ka,"-$1").toLowerCase()),Nn=Mn(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zn=Mn(t=>t?`on${Nn(t)}`:""),Gt=(t,e)=>!Object.is(t,e),yn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},or=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},_n=t=>{const e=parseFloat(t);return isNaN(e)?t:e},$a=t=>{const e=Fe(t)?Number(t):NaN;return isNaN(e)?t:e};let ri;const Un=()=>ri||(ri=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Me(t){if(ce(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],o=Fe(n)?Ia(n):Me(n);if(o)for(const i in o)e[i]=o[i]}return e}else if(Fe(t)||ke(t))return t}const Ra=/;(?![^(]*\))/g,qa=/:([^]+)/,Oa=/\/\*[^]*?\*\//g;function Ia(t){const e={};return t.replace(Oa,"").split(Ra).forEach(s=>{if(s){const n=s.split(qa);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ce(t){let e="";if(Fe(t))e=t;else if(ce(t))for(let s=0;s<t.length;s++){const n=Ce(t[s]);n&&(e+=n+" ")}else if(ke(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Da="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fa=Oo(Da);function ir(t){return!!t||t===""}function Pa(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=as(t[n],e[n]);return s}function as(t,e){if(t===e)return!0;let s=ii(t),n=ii(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=vt(t),n=vt(e),s||n)return t===e;if(s=ce(t),n=ce(e),s||n)return s&&n?Pa(t,e):!1;if(s=ke(t),n=ke(e),s||n){if(!s||!n)return!1;const o=Object.keys(t).length,i=Object.keys(e).length;if(o!==i)return!1;for(const r in t){const a=t.hasOwnProperty(r),c=e.hasOwnProperty(r);if(a&&!c||!a&&c||!as(t[r],e[r]))return!1}}return String(t)===String(e)}function Po(t,e){return t.findIndex(s=>as(s,e))}const rr=t=>!!(t&&t.__v_isRef===!0),D=t=>Fe(t)?t:t==null?"":ce(t)||ke(t)&&(t.toString===sr||!ye(t.toString))?rr(t)?D(t.value):JSON.stringify(t,ar,2):String(t),ar=(t,e)=>rr(e)?ar(t,e.value):gs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,o],i)=>(s[eo(n,i)+" =>"]=o,s),{})}:ks(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>eo(s))}:vt(e)?eo(e):ke(e)&&!ce(e)&&!nr(e)?String(e):e,eo=(t,e="")=>{var s;return vt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tt;class Ma{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tt,!e&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=tt;try{return tt=this,e()}finally{tt=s}}}on(){++this._on===1&&(this.prevScope=tt,tt=this)}off(){this._on>0&&--this._on===0&&(tt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Na(){return tt}let Oe;const to=new WeakSet;class lr{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tt&&tt.active&&tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,to.has(this)&&(to.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ur(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ai(this),dr(this);const e=Oe,s=gt;Oe=this,gt=!0;try{return this.fn()}finally{fr(this),Oe=e,gt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Uo(e);this.deps=this.depsTail=void 0,ai(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?to.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vo(this)&&this.run()}get dirty(){return vo(this)}}let cr=0,Vs,js;function ur(t,e=!1){if(t.flags|=8,e){t.next=js,js=t;return}t.next=Vs,Vs=t}function Mo(){cr++}function No(){if(--cr>0)return;if(js){let e=js;for(js=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Vs;){let e=Vs;for(Vs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function dr(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function fr(t){let e,s=t.depsTail,n=s;for(;n;){const o=n.prevDep;n.version===-1?(n===s&&(s=o),Uo(n),Ua(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}t.deps=e,t.depsTail=s}function vo(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(pr(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function pr(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Gs)||(t.globalVersion=Gs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!vo(t))))return;t.flags|=2;const e=t.dep,s=Oe,n=gt;Oe=t,gt=!0;try{dr(t);const o=t.fn(t._value);(e.version===0||Gt(o,t._value))&&(t.flags|=128,t._value=o,e.version++)}catch(o){throw e.version++,o}finally{Oe=s,gt=n,fr(t),t.flags&=-3}}function Uo(t,e=!1){const{dep:s,prevSub:n,nextSub:o}=t;if(n&&(n.nextSub=o,t.prevSub=void 0),o&&(o.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Uo(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Ua(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let gt=!0;const hr=[];function Nt(){hr.push(gt),gt=!1}function Ut(){const t=hr.pop();gt=t===void 0?!0:t}function ai(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Oe;Oe=void 0;try{e()}finally{Oe=s}}}let Gs=0;class La{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Lo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Oe||!gt||Oe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Oe)s=this.activeLink=new La(Oe,this),Oe.deps?(s.prevDep=Oe.depsTail,Oe.depsTail.nextDep=s,Oe.depsTail=s):Oe.deps=Oe.depsTail=s,mr(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Oe.depsTail,s.nextDep=void 0,Oe.depsTail.nextDep=s,Oe.depsTail=s,Oe.deps===s&&(Oe.deps=n)}return s}trigger(e){this.version++,Gs++,this.notify(e)}notify(e){Mo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{No()}}}function mr(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)mr(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const yo=new WeakMap,rs=Symbol(""),bo=Symbol(""),Ks=Symbol("");function He(t,e,s){if(gt&&Oe){let n=yo.get(t);n||yo.set(t,n=new Map);let o=n.get(s);o||(n.set(s,o=new Lo),o.map=n,o.key=s),o.track()}}function Dt(t,e,s,n,o,i){const r=yo.get(t);if(!r){Gs++;return}const a=c=>{c&&c.trigger()};if(Mo(),e==="clear")r.forEach(a);else{const c=ce(t),d=c&&Fo(s);if(c&&s==="length"){const u=Number(n);r.forEach((f,h)=>{(h==="length"||h===Ks||!vt(h)&&h>=u)&&a(f)})}else switch((s!==void 0||r.has(void 0))&&a(r.get(s)),d&&a(r.get(Ks)),e){case"add":c?d&&a(r.get("length")):(a(r.get(rs)),gs(t)&&a(r.get(bo)));break;case"delete":c||(a(r.get(rs)),gs(t)&&a(r.get(bo)));break;case"set":gs(t)&&a(r.get(rs));break}}No()}function us(t){const e=Se(t);return e===t?e:(He(e,"iterate",Ks),ct(t)?e:e.map(je))}function Ln(t){return He(t=Se(t),"iterate",Ks),t}const Va={__proto__:null,[Symbol.iterator](){return so(this,Symbol.iterator,je)},concat(...t){return us(this).concat(...t.map(e=>ce(e)?us(e):e))},entries(){return so(this,"entries",t=>(t[1]=je(t[1]),t))},every(t,e){return Ot(this,"every",t,e,void 0,arguments)},filter(t,e){return Ot(this,"filter",t,e,s=>s.map(je),arguments)},find(t,e){return Ot(this,"find",t,e,je,arguments)},findIndex(t,e){return Ot(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ot(this,"findLast",t,e,je,arguments)},findLastIndex(t,e){return Ot(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ot(this,"forEach",t,e,void 0,arguments)},includes(...t){return no(this,"includes",t)},indexOf(...t){return no(this,"indexOf",t)},join(t){return us(this).join(t)},lastIndexOf(...t){return no(this,"lastIndexOf",t)},map(t,e){return Ot(this,"map",t,e,void 0,arguments)},pop(){return Os(this,"pop")},push(...t){return Os(this,"push",t)},reduce(t,...e){return li(this,"reduce",t,e)},reduceRight(t,...e){return li(this,"reduceRight",t,e)},shift(){return Os(this,"shift")},some(t,e){return Ot(this,"some",t,e,void 0,arguments)},splice(...t){return Os(this,"splice",t)},toReversed(){return us(this).toReversed()},toSorted(t){return us(this).toSorted(t)},toSpliced(...t){return us(this).toSpliced(...t)},unshift(...t){return Os(this,"unshift",t)},values(){return so(this,"values",je)}};function so(t,e,s){const n=Ln(t),o=n[e]();return n!==t&&!ct(t)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.done||(i.value=s(i.value)),i}),o}const ja=Array.prototype;function Ot(t,e,s,n,o,i){const r=Ln(t),a=r!==t&&!ct(t),c=r[e];if(c!==ja[e]){const f=c.apply(t,i);return a?je(f):f}let d=s;r!==t&&(a?d=function(f,h){return s.call(this,je(f),h,t)}:s.length>2&&(d=function(f,h){return s.call(this,f,h,t)}));const u=c.call(r,d,n);return a&&o?o(u):u}function li(t,e,s,n){const o=Ln(t);let i=s;return o!==t&&(ct(t)?s.length>3&&(i=function(r,a,c){return s.call(this,r,a,c,t)}):i=function(r,a,c){return s.call(this,r,je(a),c,t)}),o[e](i,...n)}function no(t,e,s){const n=Se(t);He(n,"iterate",Ks);const o=n[e](...s);return(o===-1||o===!1)&&zo(s[0])?(s[0]=Se(s[0]),n[e](...s)):o}function Os(t,e,s=[]){Nt(),Mo();const n=Se(t)[e].apply(t,s);return No(),Ut(),n}const za=Oo("__proto__,__v_isRef,__isVue"),gr=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(vt));function Ha(t){vt(t)||(t=String(t));const e=Se(this);return He(e,"has",t),e.hasOwnProperty(t)}class vr{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const o=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(o?i?el:xr:i?wr:br).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const r=ce(e);if(!o){let c;if(r&&(c=Va[s]))return c;if(s==="hasOwnProperty")return Ha}const a=Reflect.get(e,s,Je(e)?e:n);if((vt(s)?gr.has(s):za(s))||(o||He(e,"get",s),i))return a;if(Je(a)){const c=r&&Fo(s)?a:a.value;return o&&ke(c)?xo(c):c}return ke(a)?o?xo(a):Vn(a):a}}class yr extends vr{constructor(e=!1){super(!1,e)}set(e,s,n,o){let i=e[s];if(!this._isShallow){const c=Xt(i);if(!ct(n)&&!Xt(n)&&(i=Se(i),n=Se(n)),!ce(e)&&Je(i)&&!Je(n))return c||(i.value=n),!0}const r=ce(e)&&Fo(s)?Number(s)<e.length:Ee(e,s),a=Reflect.set(e,s,n,Je(e)?e:o);return e===Se(o)&&(r?Gt(n,i)&&Dt(e,"set",s,n):Dt(e,"add",s,n)),a}deleteProperty(e,s){const n=Ee(e,s);e[s];const o=Reflect.deleteProperty(e,s);return o&&n&&Dt(e,"delete",s,void 0),o}has(e,s){const n=Reflect.has(e,s);return(!vt(s)||!gr.has(s))&&He(e,"has",s),n}ownKeys(e){return He(e,"iterate",ce(e)?"length":rs),Reflect.ownKeys(e)}}class Ba extends vr{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Ja=new yr,Wa=new Ba,Ga=new yr(!0);const wo=t=>t,dn=t=>Reflect.getPrototypeOf(t);function Ka(t,e,s){return function(...n){const o=this.__v_raw,i=Se(o),r=gs(i),a=t==="entries"||t===Symbol.iterator&&r,c=t==="keys"&&r,d=o[t](...n),u=s?wo:e?Tn:je;return!e&&He(i,"iterate",c?bo:rs),{next(){const{value:f,done:h}=d.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function fn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Xa(t,e){const s={get(o){const i=this.__v_raw,r=Se(i),a=Se(o);t||(Gt(o,a)&&He(r,"get",o),He(r,"get",a));const{has:c}=dn(r),d=e?wo:t?Tn:je;if(c.call(r,o))return d(i.get(o));if(c.call(r,a))return d(i.get(a));i!==r&&i.get(o)},get size(){const o=this.__v_raw;return!t&&He(Se(o),"iterate",rs),o.size},has(o){const i=this.__v_raw,r=Se(i),a=Se(o);return t||(Gt(o,a)&&He(r,"has",o),He(r,"has",a)),o===a?i.has(o):i.has(o)||i.has(a)},forEach(o,i){const r=this,a=r.__v_raw,c=Se(a),d=e?wo:t?Tn:je;return!t&&He(c,"iterate",rs),a.forEach((u,f)=>o.call(i,d(u),d(f),r))}};return Le(s,t?{add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear")}:{add(o){!e&&!ct(o)&&!Xt(o)&&(o=Se(o));const i=Se(this);return dn(i).has.call(i,o)||(i.add(o),Dt(i,"add",o,o)),this},set(o,i){!e&&!ct(i)&&!Xt(i)&&(i=Se(i));const r=Se(this),{has:a,get:c}=dn(r);let d=a.call(r,o);d||(o=Se(o),d=a.call(r,o));const u=c.call(r,o);return r.set(o,i),d?Gt(i,u)&&Dt(r,"set",o,i):Dt(r,"add",o,i),this},delete(o){const i=Se(this),{has:r,get:a}=dn(i);let c=r.call(i,o);c||(o=Se(o),c=r.call(i,o)),a&&a.call(i,o);const d=i.delete(o);return c&&Dt(i,"delete",o,void 0),d},clear(){const o=Se(this),i=o.size!==0,r=o.clear();return i&&Dt(o,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=Ka(o,t,e)}),s}function Vo(t,e){const s=Xa(t,e);return(n,o,i)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?n:Reflect.get(Ee(s,o)&&o in n?s:n,o,i)}const Ya={get:Vo(!1,!1)},Qa={get:Vo(!1,!0)},Za={get:Vo(!0,!1)};const br=new WeakMap,wr=new WeakMap,xr=new WeakMap,el=new WeakMap;function tl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sl(t){return t.__v_skip||!Object.isExtensible(t)?0:tl(Ea(t))}function Vn(t){return Xt(t)?t:jo(t,!1,Ja,Ya,br)}function nl(t){return jo(t,!1,Ga,Qa,wr)}function xo(t){return jo(t,!0,Wa,Za,xr)}function jo(t,e,s,n,o){if(!ke(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=sl(t);if(i===0)return t;const r=o.get(t);if(r)return r;const a=new Proxy(t,i===2?n:s);return o.set(t,a),a}function vs(t){return Xt(t)?vs(t.__v_raw):!!(t&&t.__v_isReactive)}function Xt(t){return!!(t&&t.__v_isReadonly)}function ct(t){return!!(t&&t.__v_isShallow)}function zo(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function ns(t){return!Ee(t,"__v_skip")&&Object.isExtensible(t)&&or(t,"__v_skip",!0),t}const je=t=>ke(t)?Vn(t):t,Tn=t=>ke(t)?xo(t):t;function Je(t){return t?t.__v_isRef===!0:!1}function oe(t){return ol(t,!1)}function ol(t,e){return Je(t)?t:new il(t,e)}class il{constructor(e,s){this.dep=new Lo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Se(e),this._value=s?e:je(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||ct(e)||Xt(e);e=n?e:Se(e),Gt(e,s)&&(this._rawValue=e,this._value=n?e:je(e),this.dep.trigger())}}function I(t){return Je(t)?t.value:t}const rl={get:(t,e,s)=>e==="__v_raw"?t:I(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const o=t[e];return Je(o)&&!Je(s)?(o.value=s,!0):Reflect.set(t,e,s,n)}};function Cr(t){return vs(t)?t:new Proxy(t,rl)}class al{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Lo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Gs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Oe!==this)return ur(this,!0),!0}get value(){const e=this.dep.track();return pr(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ll(t,e,s=!1){let n,o;return ye(t)?n=t:(n=t.get,o=t.set),new al(n,o,s)}const pn={},En=new WeakMap;let os;function cl(t,e=!1,s=os){if(s){let n=En.get(s);n||En.set(s,n=[]),n.push(t)}}function ul(t,e,s=$e){const{immediate:n,deep:o,once:i,scheduler:r,augmentJob:a,call:c}=s,d=v=>o?v:ct(v)||o===!1||o===0?Ft(v,1):Ft(v);let u,f,h,p,b=!1,S=!1;if(Je(t)?(f=()=>t.value,b=ct(t)):vs(t)?(f=()=>d(t),b=!0):ce(t)?(S=!0,b=t.some(v=>vs(v)||ct(v)),f=()=>t.map(v=>{if(Je(v))return v.value;if(vs(v))return d(v);if(ye(v))return c?c(v,2):v()})):ye(t)?e?f=c?()=>c(t,2):t:f=()=>{if(h){Nt();try{h()}finally{Ut()}}const v=os;os=u;try{return c?c(t,3,[p]):t(p)}finally{os=v}}:f=$t,e&&o){const v=f,T=o===!0?1/0:o;f=()=>Ft(v(),T)}const A=Na(),R=()=>{u.stop(),A&&A.active&&Do(A.effects,u)};if(i&&e){const v=e;e=(...T)=>{v(...T),R()}}let E=S?new Array(t.length).fill(pn):pn;const w=v=>{if(!(!(u.flags&1)||!u.dirty&&!v))if(e){const T=u.run();if(o||b||(S?T.some((O,P)=>Gt(O,E[P])):Gt(T,E))){h&&h();const O=os;os=u;try{const P=[T,E===pn?void 0:S&&E[0]===pn?[]:E,p];E=T,c?c(e,3,P):e(...P)}finally{os=O}}}else u.run()};return a&&a(w),u=new lr(f),u.scheduler=r?()=>r(w,!1):w,p=v=>cl(v,!1,u),h=u.onStop=()=>{const v=En.get(u);if(v){if(c)c(v,4);else for(const T of v)T();En.delete(u)}},e?n?w(!0):E=u.run():r?r(w.bind(null,!0),!0):u.run(),R.pause=u.pause.bind(u),R.resume=u.resume.bind(u),R.stop=R,R}function Ft(t,e=1/0,s){if(e<=0||!ke(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,Je(t))Ft(t.value,e,s);else if(ce(t))for(let n=0;n<t.length;n++)Ft(t[n],e,s);else if(ks(t)||gs(t))t.forEach(n=>{Ft(n,e,s)});else if(nr(t)){for(const n in t)Ft(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Ft(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rn(t,e,s,n){try{return n?t(...n):t()}catch(o){jn(o,e,s)}}function yt(t,e,s,n){if(ye(t)){const o=rn(t,e,s,n);return o&&tr(o)&&o.catch(i=>{jn(i,e,s)}),o}if(ce(t)){const o=[];for(let i=0;i<t.length;i++)o.push(yt(t[i],e,s,n));return o}}function jn(t,e,s,n=!0){const o=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:r}=e&&e.appContext.config||$e;if(e){let a=e.parent;const c=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,c,d)===!1)return}a=a.parent}if(i){Nt(),rn(i,null,10,[t,c,d]),Ut();return}}dl(t,s,o,n,r)}function dl(t,e,s,n=!0,o=!1){if(o)throw t;console.error(t)}const Ye=[];let Tt=-1;const ys=[];let Ht=null,fs=0;const Sr=Promise.resolve();let An=null;function We(t){const e=An||Sr;return t?e.then(this?t.bind(this):t):e}function fl(t){let e=Tt+1,s=Ye.length;for(;e<s;){const n=e+s>>>1,o=Ye[n],i=Xs(o);i<t||i===t&&o.flags&2?e=n+1:s=n}return e}function Ho(t){if(!(t.flags&1)){const e=Xs(t),s=Ye[Ye.length-1];!s||!(t.flags&2)&&e>=Xs(s)?Ye.push(t):Ye.splice(fl(e),0,t),t.flags|=1,_r()}}function _r(){An||(An=Sr.then(Er))}function pl(t){ce(t)?ys.push(...t):Ht&&t.id===-1?Ht.splice(fs+1,0,t):t.flags&1||(ys.push(t),t.flags|=1),_r()}function ci(t,e,s=Tt+1){for(;s<Ye.length;s++){const n=Ye[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Ye.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Tr(t){if(ys.length){const e=[...new Set(ys)].sort((s,n)=>Xs(s)-Xs(n));if(ys.length=0,Ht){Ht.push(...e);return}for(Ht=e,fs=0;fs<Ht.length;fs++){const s=Ht[fs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ht=null,fs=0}}const Xs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Er(t){try{for(Tt=0;Tt<Ye.length;Tt++){const e=Ye[Tt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),rn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Tt<Ye.length;Tt++){const e=Ye[Tt];e&&(e.flags&=-2)}Tt=-1,Ye.length=0,Tr(),An=null,(Ye.length||ys.length)&&Er()}}let ze=null,Ar=null;function kn(t){const e=ze;return ze=t,Ar=t&&t.type.__scopeId||null,e}function Ne(t,e=ze,s){if(!e||t._n)return t;const n=(...o)=>{n._d&&On(-1);const i=kn(e);let r;try{r=t(...o)}finally{kn(i),n._d&&On(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function fe(t,e){if(ze===null)return t;const s=Gn(ze),n=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[i,r,a,c=$e]=e[o];i&&(ye(i)&&(i={mounted:i,updated:i}),i.deep&&Ft(r),n.push({dir:i,instance:s,value:r,oldValue:void 0,arg:a,modifiers:c}))}return t}function es(t,e,s,n){const o=t.dirs,i=e&&e.dirs;for(let r=0;r<o.length;r++){const a=o[r];i&&(a.oldValue=i[r].value);let c=a.dir[n];c&&(Nt(),yt(c,s,8,[t.el,a,t,e]),Ut())}}const kr=Symbol("_vte"),hl=t=>t.__isTeleport,zs=t=>t&&(t.disabled||t.disabled===""),ui=t=>t&&(t.defer||t.defer===""),di=t=>typeof SVGElement<"u"&&t instanceof SVGElement,fi=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Co=(t,e)=>{const s=t&&t.to;return Fe(s)?e?e(s):null:s},$r={name:"Teleport",__isTeleport:!0,process(t,e,s,n,o,i,r,a,c,d){const{mc:u,pc:f,pbc:h,o:{insert:p,querySelector:b,createText:S,createComment:A}}=d,R=zs(e.props);let{shapeFlag:E,children:w,dynamicChildren:v}=e;if(t==null){const T=e.el=S(""),O=e.anchor=S("");p(T,s,n),p(O,s,n);const P=(L,x)=>{E&16&&u(w,L,x,o,i,r,a,c)},J=()=>{const L=e.target=Co(e.props,b),x=Rr(L,e,S,p);L&&(r!=="svg"&&di(L)?r="svg":r!=="mathml"&&fi(L)&&(r="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(L),R||(P(L,x),bn(e,!1)))};R&&(P(s,O),bn(e,!0)),ui(e.props)?(e.el.__isMounted=!1,Xe(()=>{J(),delete e.el.__isMounted},i)):J()}else{if(ui(e.props)&&t.el.__isMounted===!1){Xe(()=>{$r.process(t,e,s,n,o,i,r,a,c,d)},i);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,O=e.target=t.target,P=e.targetAnchor=t.targetAnchor,J=zs(t.props),L=J?s:O,x=J?T:P;if(r==="svg"||di(O)?r="svg":(r==="mathml"||fi(O))&&(r="mathml"),v?(h(t.dynamicChildren,v,L,o,i,r,a),Wo(t,e,!0)):c||f(t,e,L,x,o,i,r,a,!1),R)J?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):hn(e,s,T,d,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const C=e.target=Co(e.props,b);C&&hn(e,C,null,d,0)}else J&&hn(e,O,P,d,1);bn(e,R)}},remove(t,e,s,{um:n,o:{remove:o}},i){const{shapeFlag:r,children:a,anchor:c,targetStart:d,targetAnchor:u,target:f,props:h}=t;if(f&&(o(d),o(u)),i&&o(c),r&16){const p=i||!zs(h);for(let b=0;b<a.length;b++){const S=a[b];n(S,e,s,p,!!S.dynamicChildren)}}},move:hn,hydrate:ml};function hn(t,e,s,{o:{insert:n},m:o},i=2){i===0&&n(t.targetAnchor,e,s);const{el:r,anchor:a,shapeFlag:c,children:d,props:u}=t,f=i===2;if(f&&n(r,e,s),(!f||zs(u))&&c&16)for(let h=0;h<d.length;h++)o(d[h],e,s,2);f&&n(a,e,s)}function ml(t,e,s,n,o,i,{o:{nextSibling:r,parentNode:a,querySelector:c,insert:d,createText:u}},f){function h(S,A,R,E){A.anchor=f(r(S),A,a(S),s,n,o,i),A.targetStart=R,A.targetAnchor=E}const p=e.target=Co(e.props,c),b=zs(e.props);if(p){const S=p._lpa||p.firstChild;if(e.shapeFlag&16)if(b)h(t,e,S,S&&r(S));else{e.anchor=r(t);let A=S;for(;A;){if(A&&A.nodeType===8){if(A.data==="teleport start anchor")e.targetStart=A;else if(A.data==="teleport anchor"){e.targetAnchor=A,p._lpa=e.targetAnchor&&r(e.targetAnchor);break}}A=r(A)}e.targetAnchor||Rr(p,e,u,d),f(S&&r(S),e,p,s,n,o,i)}bn(e,b)}else b&&e.shapeFlag&16&&h(t,e,t,r(t));return e.anchor&&r(e.anchor)}const Cs=$r;function bn(t,e){const s=t.ctx;if(s&&s.ut){let n,o;for(e?(n=t.el,o=t.anchor):(n=t.targetStart,o=t.targetAnchor);n&&n!==o;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function Rr(t,e,s,n){const o=e.targetStart=s(""),i=e.targetAnchor=s("");return o[kr]=i,t&&(n(o,t),n(i,t)),i}const is=Symbol("_leaveCb"),mn=Symbol("_enterCb");function gl(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ue(()=>{t.isMounted=!0}),Hn(()=>{t.isUnmounting=!0}),t}const ot=[Function,Array],vl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ot,onEnter:ot,onAfterEnter:ot,onEnterCancelled:ot,onBeforeLeave:ot,onLeave:ot,onAfterLeave:ot,onLeaveCancelled:ot,onBeforeAppear:ot,onAppear:ot,onAfterAppear:ot,onAppearCancelled:ot};function yl(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function So(t,e,s,n,o){const{appear:i,mode:r,persisted:a=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:p,onAfterLeave:b,onLeaveCancelled:S,onBeforeAppear:A,onAppear:R,onAfterAppear:E,onAppearCancelled:w}=e,v=String(t.key),T=yl(s,t),O=(L,x)=>{L&&yt(L,n,9,x)},P=(L,x)=>{const C=x[1];O(L,x),ce(L)?L.every($=>$.length<=1)&&C():L.length<=1&&C()},J={mode:r,persisted:a,beforeEnter(L){let x=c;if(!s.isMounted)if(i)x=A||c;else return;L[is]&&L[is](!0);const C=T[v];C&&ps(t,C)&&C.el[is]&&C.el[is](),O(x,[L])},enter(L){let x=d,C=u,$=f;if(!s.isMounted)if(i)x=R||d,C=E||u,$=w||f;else return;let re=!1;const W=L[mn]=X=>{re||(re=!0,X?O($,[L]):O(C,[L]),J.delayedLeave&&J.delayedLeave(),L[mn]=void 0)};x?P(x,[L,W]):W()},leave(L,x){const C=String(t.key);if(L[mn]&&L[mn](!0),s.isUnmounting)return x();O(h,[L]);let $=!1;const re=L[is]=W=>{$||($=!0,x(),W?O(S,[L]):O(b,[L]),L[is]=void 0,T[C]===t&&delete T[C])};T[C]=t,p?P(p,[L,re]):re()},clone(L){return So(L,e,s,n)}};return J}function Ys(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ys(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function qr(t,e=!1,s){let n=[],o=0;for(let i=0;i<t.length;i++){let r=t[i];const a=s==null?r.key:String(s)+String(r.key!=null?r.key:i);r.type===ve?(r.patchFlag&128&&o++,n=n.concat(qr(r.children,e,a))):(e||r.type!==Rt)&&n.push(a!=null?ls(r,{key:a}):r)}if(o>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function Or(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const $n=new WeakMap;function Hs(t,e,s,n,o=!1){if(ce(t)){t.forEach((b,S)=>Hs(b,e&&(ce(e)?e[S]:e),s,n,o));return}if(bs(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Hs(t,e,s,n.component.subTree);return}const i=n.shapeFlag&4?Gn(n.component):n.el,r=o?null:i,{i:a,r:c}=t,d=e&&e.r,u=a.refs===$e?a.refs={}:a.refs,f=a.setupState,h=Se(f),p=f===$e?er:b=>Ee(h,b);if(d!=null&&d!==c){if(pi(e),Fe(d))u[d]=null,p(d)&&(f[d]=null);else if(Je(d)){d.value=null;const b=e;b.k&&(u[b.k]=null)}}if(ye(c))rn(c,a,12,[r,u]);else{const b=Fe(c),S=Je(c);if(b||S){const A=()=>{if(t.f){const R=b?p(c)?f[c]:u[c]:c.value;if(o)ce(R)&&Do(R,i);else if(ce(R))R.includes(i)||R.push(i);else if(b)u[c]=[i],p(c)&&(f[c]=u[c]);else{const E=[i];c.value=E,t.k&&(u[t.k]=E)}}else b?(u[c]=r,p(c)&&(f[c]=r)):S&&(c.value=r,t.k&&(u[t.k]=r))};if(r){const R=()=>{A(),$n.delete(t)};R.id=-1,$n.set(t,R),Xe(R,s)}else pi(t),A()}}}function pi(t){const e=$n.get(t);e&&(e.flags|=8,$n.delete(t))}Un().requestIdleCallback;Un().cancelIdleCallback;const bs=t=>!!t.type.__asyncLoader,Ir=t=>t.type.__isKeepAlive;function bl(t,e){Dr(t,"a",e)}function wl(t,e){Dr(t,"da",e)}function Dr(t,e,s=Be){const n=t.__wdc||(t.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(zn(e,n,s),s){let o=s.parent;for(;o&&o.parent;)Ir(o.parent.vnode)&&xl(n,e,s,o),o=o.parent}}function xl(t,e,s,n){const o=zn(e,t,n,!0);ft(()=>{Do(n[e],o)},s)}function zn(t,e,s=Be,n=!1){if(s){const o=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...r)=>{Nt();const a=an(s),c=yt(e,s,t,r);return a(),Ut(),c});return n?o.unshift(i):o.push(i),i}}const Lt=t=>(e,s=Be)=>{(!tn||t==="sp")&&zn(t,(...n)=>e(...n),s)},Cl=Lt("bm"),Ue=Lt("m"),Sl=Lt("bu"),Fr=Lt("u"),Hn=Lt("bum"),ft=Lt("um"),_l=Lt("sp"),Tl=Lt("rtg"),El=Lt("rtc");function Al(t,e=Be){zn("ec",t,e)}const Pr="components";function kl(t,e){return Nr(Pr,t,!0,e)||t}const Mr=Symbol.for("v-ndc");function Rn(t){return Fe(t)?Nr(Pr,t,!1)||t:t||Mr}function Nr(t,e,s=!0,n=!1){const o=ze||Be;if(o){const i=o.type;{const a=gc(i,!1);if(a&&(a===e||a===dt(e)||a===Nn(dt(e))))return i}const r=hi(o[t]||i[t],e)||hi(o.appContext[t],e);return!r&&n?i:r}}function hi(t,e){return t&&(t[e]||t[dt(e)]||t[Nn(dt(e))])}function De(t,e,s,n){let o;const i=s,r=ce(t);if(r||Fe(t)){const a=r&&vs(t);let c=!1,d=!1;a&&(c=!ct(t),d=Xt(t),t=Ln(t)),o=new Array(t.length);for(let u=0,f=t.length;u<f;u++)o[u]=e(c?d?Tn(je(t[u])):je(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,i)}else if(ke(t))if(t[Symbol.iterator])o=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);o=new Array(a.length);for(let c=0,d=a.length;c<d;c++){const u=a[c];o[c]=e(t[u],u,c,i)}}else o=[];return o}function Qs(t,e,s={},n,o){if(ze.ce||ze.parent&&bs(ze.parent)&&ze.parent.ce){const d=Object.keys(s).length>0;return e!=="default"&&(s.name=e),y(),ge(ve,null,[be("slot",s,n&&n())],d?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),y();const r=i&&Ur(i(s)),a=s.key||r&&r.key,c=ge(ve,{key:(a&&!vt(a)?a:`_${e}`)+(!r&&n?"_fb":"")},r||(n?n():[]),r&&t._===1?64:-2);return!o&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function Ur(t){return t.some(e=>en(e)?!(e.type===Rt||e.type===ve&&!Ur(e.children)):!0)?t:null}const _o=t=>t?oa(t)?Gn(t):_o(t.parent):null,Bs=Le(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>_o(t.parent),$root:t=>_o(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Vr(t),$forceUpdate:t=>t.f||(t.f=()=>{Ho(t.update)}),$nextTick:t=>t.n||(t.n=We.bind(t.proxy)),$watch:t=>Yl.bind(t)}),oo=(t,e)=>t!==$e&&!t.__isScriptSetup&&Ee(t,e),$l={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:o,props:i,accessCache:r,type:a,appContext:c}=t;let d;if(e[0]!=="$"){const p=r[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return o[e];case 4:return s[e];case 3:return i[e]}else{if(oo(n,e))return r[e]=1,n[e];if(o!==$e&&Ee(o,e))return r[e]=2,o[e];if((d=t.propsOptions[0])&&Ee(d,e))return r[e]=3,i[e];if(s!==$e&&Ee(s,e))return r[e]=4,s[e];To&&(r[e]=0)}}const u=Bs[e];let f,h;if(u)return e==="$attrs"&&He(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(s!==$e&&Ee(s,e))return r[e]=4,s[e];if(h=c.config.globalProperties,Ee(h,e))return h[e]},set({_:t},e,s){const{data:n,setupState:o,ctx:i}=t;return oo(o,e)?(o[e]=s,!0):n!==$e&&Ee(n,e)?(n[e]=s,!0):Ee(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:o,propsOptions:i,type:r}},a){let c,d;return!!(s[a]||t!==$e&&a[0]!=="$"&&Ee(t,a)||oo(e,a)||(c=i[0])&&Ee(c,a)||Ee(n,a)||Ee(Bs,a)||Ee(o.config.globalProperties,a)||(d=r.__cssModules)&&d[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Ee(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Rl(){return ql().slots}function ql(t){const e=Wn();return e.setupContext||(e.setupContext=ra(e))}function mi(t){return ce(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let To=!0;function Ol(t){const e=Vr(t),s=t.proxy,n=t.ctx;To=!1,e.beforeCreate&&gi(e.beforeCreate,t,"bc");const{data:o,computed:i,methods:r,watch:a,provide:c,inject:d,created:u,beforeMount:f,mounted:h,beforeUpdate:p,updated:b,activated:S,deactivated:A,beforeDestroy:R,beforeUnmount:E,destroyed:w,unmounted:v,render:T,renderTracked:O,renderTriggered:P,errorCaptured:J,serverPrefetch:L,expose:x,inheritAttrs:C,components:$,directives:re,filters:W}=e;if(d&&Il(d,n,null),r)for(const H in r){const se=r[H];ye(se)&&(n[H]=se.bind(s))}if(o){const H=o.call(s,s);ke(H)&&(t.data=Vn(H))}if(To=!0,i)for(const H in i){const se=i[H],de=ye(se)?se.bind(s,s):ye(se.get)?se.get.bind(s,s):$t,Te=!ye(se)&&ye(se.set)?se.set.bind(s):$t,ae=M({get:de,set:Te});Object.defineProperty(n,H,{enumerable:!0,configurable:!0,get:()=>ae.value,set:pe=>ae.value=pe})}if(a)for(const H in a)Lr(a[H],n,s,H);if(c){const H=ye(c)?c.call(s):c;Reflect.ownKeys(H).forEach(se=>{jt(se,H[se])})}u&&gi(u,t,"c");function z(H,se){ce(se)?se.forEach(de=>H(de.bind(s))):se&&H(se.bind(s))}if(z(Cl,f),z(Ue,h),z(Sl,p),z(Fr,b),z(bl,S),z(wl,A),z(Al,J),z(El,O),z(Tl,P),z(Hn,E),z(ft,v),z(_l,L),ce(x))if(x.length){const H=t.exposed||(t.exposed={});x.forEach(se=>{Object.defineProperty(H,se,{get:()=>s[se],set:de=>s[se]=de,enumerable:!0})})}else t.exposed||(t.exposed={});T&&t.render===$t&&(t.render=T),C!=null&&(t.inheritAttrs=C),$&&(t.components=$),re&&(t.directives=re),L&&Or(t)}function Il(t,e,s=$t){ce(t)&&(t=Eo(t));for(const n in t){const o=t[n];let i;ke(o)?"default"in o?i=Et(o.from||n,o.default,!0):i=Et(o.from||n):i=Et(o),Je(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):e[n]=i}}function gi(t,e,s){yt(ce(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Lr(t,e,s,n){let o=n.includes(".")?Zr(s,n):()=>s[n];if(Fe(t)){const i=e[t];ye(i)&&we(o,i)}else if(ye(t))we(o,t.bind(s));else if(ke(t))if(ce(t))t.forEach(i=>Lr(i,e,s,n));else{const i=ye(t.handler)?t.handler.bind(s):e[t.handler];ye(i)&&we(o,i,t)}}function Vr(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:r}}=t.appContext,a=i.get(e);let c;return a?c=a:!o.length&&!s&&!n?c=e:(c={},o.length&&o.forEach(d=>qn(c,d,r,!0)),qn(c,e,r)),ke(e)&&i.set(e,c),c}function qn(t,e,s,n=!1){const{mixins:o,extends:i}=e;i&&qn(t,i,s,!0),o&&o.forEach(r=>qn(t,r,s,!0));for(const r in e)if(!(n&&r==="expose")){const a=Dl[r]||s&&s[r];t[r]=a?a(t[r],e[r]):e[r]}return t}const Dl={data:vi,props:yi,emits:yi,methods:Ps,computed:Ps,beforeCreate:Ke,created:Ke,beforeMount:Ke,mounted:Ke,beforeUpdate:Ke,updated:Ke,beforeDestroy:Ke,beforeUnmount:Ke,destroyed:Ke,unmounted:Ke,activated:Ke,deactivated:Ke,errorCaptured:Ke,serverPrefetch:Ke,components:Ps,directives:Ps,watch:Pl,provide:vi,inject:Fl};function vi(t,e){return e?t?function(){return Le(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function Fl(t,e){return Ps(Eo(t),Eo(e))}function Eo(t){if(ce(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Ke(t,e){return t?[...new Set([].concat(t,e))]:e}function Ps(t,e){return t?Le(Object.create(null),t,e):e}function yi(t,e){return t?ce(t)&&ce(e)?[...new Set([...t,...e])]:Le(Object.create(null),mi(t),mi(e??{})):e}function Pl(t,e){if(!t)return e;if(!e)return t;const s=Le(Object.create(null),t);for(const n in e)s[n]=Ke(t[n],e[n]);return s}function jr(){return{app:null,config:{isNativeTag:er,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ml=0;function Nl(t,e){return function(n,o=null){ye(n)||(n=Le({},n)),o!=null&&!ke(o)&&(o=null);const i=jr(),r=new WeakSet,a=[];let c=!1;const d=i.app={_uid:Ml++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:bc,get config(){return i.config},set config(u){},use(u,...f){return r.has(u)||(u&&ye(u.install)?(r.add(u),u.install(d,...f)):ye(u)&&(r.add(u),u(d,...f))),d},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),d},component(u,f){return f?(i.components[u]=f,d):i.components[u]},directive(u,f){return f?(i.directives[u]=f,d):i.directives[u]},mount(u,f,h){if(!c){const p=d._ceVNode||be(n,o);return p.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(p,u,h),c=!0,d._container=u,u.__vue_app__=d,Gn(p.component)}},onUnmount(u){a.push(u)},unmount(){c&&(yt(a,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(u,f){return i.provides[u]=f,d},runWithContext(u){const f=ws;ws=d;try{return u()}finally{ws=f}}};return d}}let ws=null;function jt(t,e){if(Be){let s=Be.provides;const n=Be.parent&&Be.parent.provides;n===s&&(s=Be.provides=Object.create(n)),s[t]=e}}function Et(t,e,s=!1){const n=Wn();if(n||ws){let o=ws?ws._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&t in o)return o[t];if(arguments.length>1)return s&&ye(e)?e.call(n&&n.proxy):e}}const zr={},Hr=()=>Object.create(zr),Br=t=>Object.getPrototypeOf(t)===zr;function Ul(t,e,s,n=!1){const o={},i=Hr();t.propsDefaults=Object.create(null),Jr(t,e,o,i);for(const r in t.propsOptions[0])r in o||(o[r]=void 0);s?t.props=n?o:nl(o):t.type.props?t.props=o:t.props=i,t.attrs=i}function Ll(t,e,s,n){const{props:o,attrs:i,vnode:{patchFlag:r}}=t,a=Se(o),[c]=t.propsOptions;let d=!1;if((n||r>0)&&!(r&16)){if(r&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(Bn(t.emitsOptions,h))continue;const p=e[h];if(c)if(Ee(i,h))p!==i[h]&&(i[h]=p,d=!0);else{const b=dt(h);o[b]=Ao(c,a,b,p,t,!1)}else p!==i[h]&&(i[h]=p,d=!0)}}}else{Jr(t,e,o,i)&&(d=!0);let u;for(const f in a)(!e||!Ee(e,f)&&((u=Qt(f))===f||!Ee(e,u)))&&(c?s&&(s[f]!==void 0||s[u]!==void 0)&&(o[f]=Ao(c,a,f,void 0,t,!0)):delete o[f]);if(i!==a)for(const f in i)(!e||!Ee(e,f))&&(delete i[f],d=!0)}d&&Dt(t.attrs,"set","")}function Jr(t,e,s,n){const[o,i]=t.propsOptions;let r=!1,a;if(e)for(let c in e){if(Ls(c))continue;const d=e[c];let u;o&&Ee(o,u=dt(c))?!i||!i.includes(u)?s[u]=d:(a||(a={}))[u]=d:Bn(t.emitsOptions,c)||(!(c in n)||d!==n[c])&&(n[c]=d,r=!0)}if(i){const c=Se(s),d=a||$e;for(let u=0;u<i.length;u++){const f=i[u];s[f]=Ao(o,c,f,d[f],t,!Ee(d,f))}}return r}function Ao(t,e,s,n,o,i){const r=t[s];if(r!=null){const a=Ee(r,"default");if(a&&n===void 0){const c=r.default;if(r.type!==Function&&!r.skipFactory&&ye(c)){const{propsDefaults:d}=o;if(s in d)n=d[s];else{const u=an(o);n=d[s]=c.call(null,e),u()}}else n=c;o.ce&&o.ce._setProp(s,n)}r[0]&&(i&&!a?n=!1:r[1]&&(n===""||n===Qt(s))&&(n=!0))}return n}const Vl=new WeakMap;function Wr(t,e,s=!1){const n=s?Vl:e.propsCache,o=n.get(t);if(o)return o;const i=t.props,r={},a=[];let c=!1;if(!ye(t)){const u=f=>{c=!0;const[h,p]=Wr(f,e,!0);Le(r,h),p&&a.push(...p)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return ke(t)&&n.set(t,ms),ms;if(ce(i))for(let u=0;u<i.length;u++){const f=dt(i[u]);bi(f)&&(r[f]=$e)}else if(i)for(const u in i){const f=dt(u);if(bi(f)){const h=i[u],p=r[f]=ce(h)||ye(h)?{type:h}:Le({},h),b=p.type;let S=!1,A=!0;if(ce(b))for(let R=0;R<b.length;++R){const E=b[R],w=ye(E)&&E.name;if(w==="Boolean"){S=!0;break}else w==="String"&&(A=!1)}else S=ye(b)&&b.name==="Boolean";p[0]=S,p[1]=A,(S||Ee(p,"default"))&&a.push(f)}}const d=[r,a];return ke(t)&&n.set(t,d),d}function bi(t){return t[0]!=="$"&&!Ls(t)}const Bo=t=>t==="_"||t==="_ctx"||t==="$stable",Jo=t=>ce(t)?t.map(At):[At(t)],jl=(t,e,s)=>{if(e._n)return e;const n=Ne((...o)=>Jo(e(...o)),s);return n._c=!1,n},Gr=(t,e,s)=>{const n=t._ctx;for(const o in t){if(Bo(o))continue;const i=t[o];if(ye(i))e[o]=jl(o,i,n);else if(i!=null){const r=Jo(i);e[o]=()=>r}}},Kr=(t,e)=>{const s=Jo(e);t.slots.default=()=>s},Xr=(t,e,s)=>{for(const n in e)(s||!Bo(n))&&(t[n]=e[n])},zl=(t,e,s)=>{const n=t.slots=Hr();if(t.vnode.shapeFlag&32){const o=e._;o?(Xr(n,e,s),s&&or(n,"_",o,!0)):Gr(e,n)}else e&&Kr(t,e)},Hl=(t,e,s)=>{const{vnode:n,slots:o}=t;let i=!0,r=$e;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Xr(o,e,s):(i=!e.$stable,Gr(e,o)),r=e}else e&&(Kr(t,e),r={default:1});if(i)for(const a in o)!Bo(a)&&r[a]==null&&delete o[a]},Xe=ic;function Bl(t){return Jl(t)}function Jl(t,e){const s=Un();s.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:r,createText:a,createComment:c,setText:d,setElementText:u,parentNode:f,nextSibling:h,setScopeId:p=$t,insertStaticContent:b}=t,S=(m,g,k,U=null,V=null,B=null,ee=void 0,Z=null,Q=!!g.dynamicChildren)=>{if(m===g)return;m&&!ps(m,g)&&(U=F(m),pe(m,V,B,!0),m=null),g.patchFlag===-2&&(Q=!1,g.dynamicChildren=null);const{type:G,ref:le,shapeFlag:ne}=g;switch(G){case Jn:A(m,g,k,U);break;case Rt:R(m,g,k,U);break;case ro:m==null&&E(g,k,U,ee);break;case ve:$(m,g,k,U,V,B,ee,Z,Q);break;default:ne&1?T(m,g,k,U,V,B,ee,Z,Q):ne&6?re(m,g,k,U,V,B,ee,Z,Q):(ne&64||ne&128)&&G.process(m,g,k,U,V,B,ee,Z,Q,N)}le!=null&&V?Hs(le,m&&m.ref,B,g||m,!g):le==null&&m&&m.ref!=null&&Hs(m.ref,null,B,m,!0)},A=(m,g,k,U)=>{if(m==null)n(g.el=a(g.children),k,U);else{const V=g.el=m.el;g.children!==m.children&&d(V,g.children)}},R=(m,g,k,U)=>{m==null?n(g.el=c(g.children||""),k,U):g.el=m.el},E=(m,g,k,U)=>{[m.el,m.anchor]=b(m.children,g,k,U,m.el,m.anchor)},w=({el:m,anchor:g},k,U)=>{let V;for(;m&&m!==g;)V=h(m),n(m,k,U),m=V;n(g,k,U)},v=({el:m,anchor:g})=>{let k;for(;m&&m!==g;)k=h(m),o(m),m=k;o(g)},T=(m,g,k,U,V,B,ee,Z,Q)=>{g.type==="svg"?ee="svg":g.type==="math"&&(ee="mathml"),m==null?O(g,k,U,V,B,ee,Z,Q):L(m,g,V,B,ee,Z,Q)},O=(m,g,k,U,V,B,ee,Z)=>{let Q,G;const{props:le,shapeFlag:ne,transition:ue,dirs:me}=m;if(Q=m.el=r(m.type,B,le&&le.is,le),ne&8?u(Q,m.children):ne&16&&J(m.children,Q,null,U,V,io(m,B),ee,Z),me&&es(m,null,U,"created"),P(Q,m,m.scopeId,ee,U),le){for(const qe in le)qe!=="value"&&!Ls(qe)&&i(Q,qe,null,le[qe],B,U);"value"in le&&i(Q,"value",null,le.value,B),(G=le.onVnodeBeforeMount)&&St(G,U,m)}me&&es(m,null,U,"beforeMount");const xe=Wl(V,ue);xe&&ue.beforeEnter(Q),n(Q,g,k),((G=le&&le.onVnodeMounted)||xe||me)&&Xe(()=>{G&&St(G,U,m),xe&&ue.enter(Q),me&&es(m,null,U,"mounted")},V)},P=(m,g,k,U,V)=>{if(k&&p(m,k),U)for(let B=0;B<U.length;B++)p(m,U[B]);if(V){let B=V.subTree;if(g===B||ta(B.type)&&(B.ssContent===g||B.ssFallback===g)){const ee=V.vnode;P(m,ee,ee.scopeId,ee.slotScopeIds,V.parent)}}},J=(m,g,k,U,V,B,ee,Z,Q=0)=>{for(let G=Q;G<m.length;G++){const le=m[G]=Z?Bt(m[G]):At(m[G]);S(null,le,g,k,U,V,B,ee,Z)}},L=(m,g,k,U,V,B,ee)=>{const Z=g.el=m.el;let{patchFlag:Q,dynamicChildren:G,dirs:le}=g;Q|=m.patchFlag&16;const ne=m.props||$e,ue=g.props||$e;let me;if(k&&ts(k,!1),(me=ue.onVnodeBeforeUpdate)&&St(me,k,g,m),le&&es(g,m,k,"beforeUpdate"),k&&ts(k,!0),(ne.innerHTML&&ue.innerHTML==null||ne.textContent&&ue.textContent==null)&&u(Z,""),G?x(m.dynamicChildren,G,Z,k,U,io(g,V),B):ee||se(m,g,Z,null,k,U,io(g,V),B,!1),Q>0){if(Q&16)C(Z,ne,ue,k,V);else if(Q&2&&ne.class!==ue.class&&i(Z,"class",null,ue.class,V),Q&4&&i(Z,"style",ne.style,ue.style,V),Q&8){const xe=g.dynamicProps;for(let qe=0;qe<xe.length;qe++){const Ae=xe[qe],Ze=ne[Ae],et=ue[Ae];(et!==Ze||Ae==="value")&&i(Z,Ae,Ze,et,V,k)}}Q&1&&m.children!==g.children&&u(Z,g.children)}else!ee&&G==null&&C(Z,ne,ue,k,V);((me=ue.onVnodeUpdated)||le)&&Xe(()=>{me&&St(me,k,g,m),le&&es(g,m,k,"updated")},U)},x=(m,g,k,U,V,B,ee)=>{for(let Z=0;Z<g.length;Z++){const Q=m[Z],G=g[Z],le=Q.el&&(Q.type===ve||!ps(Q,G)||Q.shapeFlag&198)?f(Q.el):k;S(Q,G,le,null,U,V,B,ee,!0)}},C=(m,g,k,U,V)=>{if(g!==k){if(g!==$e)for(const B in g)!Ls(B)&&!(B in k)&&i(m,B,g[B],null,V,U);for(const B in k){if(Ls(B))continue;const ee=k[B],Z=g[B];ee!==Z&&B!=="value"&&i(m,B,Z,ee,V,U)}"value"in k&&i(m,"value",g.value,k.value,V)}},$=(m,g,k,U,V,B,ee,Z,Q)=>{const G=g.el=m?m.el:a(""),le=g.anchor=m?m.anchor:a("");let{patchFlag:ne,dynamicChildren:ue,slotScopeIds:me}=g;me&&(Z=Z?Z.concat(me):me),m==null?(n(G,k,U),n(le,k,U),J(g.children||[],k,le,V,B,ee,Z,Q)):ne>0&&ne&64&&ue&&m.dynamicChildren?(x(m.dynamicChildren,ue,k,V,B,ee,Z),(g.key!=null||V&&g===V.subTree)&&Wo(m,g,!0)):se(m,g,k,le,V,B,ee,Z,Q)},re=(m,g,k,U,V,B,ee,Z,Q)=>{g.slotScopeIds=Z,m==null?g.shapeFlag&512?V.ctx.activate(g,k,U,ee,Q):W(g,k,U,V,B,ee,Q):X(m,g,Q)},W=(m,g,k,U,V,B,ee)=>{const Z=m.component=fc(m,U,V);if(Ir(m)&&(Z.ctx.renderer=N),pc(Z,!1,ee),Z.asyncDep){if(V&&V.registerDep(Z,z,ee),!m.el){const Q=Z.subTree=be(Rt);R(null,Q,g,k),m.placeholder=Q.el}}else z(Z,m,g,k,V,B,ee)},X=(m,g,k)=>{const U=g.component=m.component;if(nc(m,g,k))if(U.asyncDep&&!U.asyncResolved){H(U,g,k);return}else U.next=g,U.update();else g.el=m.el,U.vnode=g},z=(m,g,k,U,V,B,ee)=>{const Z=()=>{if(m.isMounted){let{next:ne,bu:ue,u:me,parent:xe,vnode:qe}=m;{const xt=Yr(m);if(xt){ne&&(ne.el=qe.el,H(m,ne,ee)),xt.asyncDep.then(()=>{m.isUnmounted||Z()});return}}let Ae=ne,Ze;ts(m,!1),ne?(ne.el=qe.el,H(m,ne,ee)):ne=qe,ue&&yn(ue),(Ze=ne.props&&ne.props.onVnodeBeforeUpdate)&&St(Ze,xe,ne,qe),ts(m,!0);const et=xi(m),wt=m.subTree;m.subTree=et,S(wt,et,f(wt.el),F(wt),m,V,B),ne.el=et.el,Ae===null&&oc(m,et.el),me&&Xe(me,V),(Ze=ne.props&&ne.props.onVnodeUpdated)&&Xe(()=>St(Ze,xe,ne,qe),V)}else{let ne;const{el:ue,props:me}=g,{bm:xe,m:qe,parent:Ae,root:Ze,type:et}=m,wt=bs(g);ts(m,!1),xe&&yn(xe),!wt&&(ne=me&&me.onVnodeBeforeMount)&&St(ne,Ae,g),ts(m,!0);{Ze.ce&&Ze.ce._def.shadowRoot!==!1&&Ze.ce._injectChildStyle(et);const xt=m.subTree=xi(m);S(null,xt,k,U,m,V,B),g.el=xt.el}if(qe&&Xe(qe,V),!wt&&(ne=me&&me.onVnodeMounted)){const xt=g;Xe(()=>St(ne,Ae,xt),V)}(g.shapeFlag&256||Ae&&bs(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&m.a&&Xe(m.a,V),m.isMounted=!0,g=k=U=null}};m.scope.on();const Q=m.effect=new lr(Z);m.scope.off();const G=m.update=Q.run.bind(Q),le=m.job=Q.runIfDirty.bind(Q);le.i=m,le.id=m.uid,Q.scheduler=()=>Ho(le),ts(m,!0),G()},H=(m,g,k)=>{g.component=m;const U=m.vnode.props;m.vnode=g,m.next=null,Ll(m,g.props,U,k),Hl(m,g.children,k),Nt(),ci(m),Ut()},se=(m,g,k,U,V,B,ee,Z,Q=!1)=>{const G=m&&m.children,le=m?m.shapeFlag:0,ne=g.children,{patchFlag:ue,shapeFlag:me}=g;if(ue>0){if(ue&128){Te(G,ne,k,U,V,B,ee,Z,Q);return}else if(ue&256){de(G,ne,k,U,V,B,ee,Z,Q);return}}me&8?(le&16&&bt(G,V,B),ne!==G&&u(k,ne)):le&16?me&16?Te(G,ne,k,U,V,B,ee,Z,Q):bt(G,V,B,!0):(le&8&&u(k,""),me&16&&J(ne,k,U,V,B,ee,Z,Q))},de=(m,g,k,U,V,B,ee,Z,Q)=>{m=m||ms,g=g||ms;const G=m.length,le=g.length,ne=Math.min(G,le);let ue;for(ue=0;ue<ne;ue++){const me=g[ue]=Q?Bt(g[ue]):At(g[ue]);S(m[ue],me,k,null,V,B,ee,Z,Q)}G>le?bt(m,V,B,!0,!1,ne):J(g,k,U,V,B,ee,Z,Q,ne)},Te=(m,g,k,U,V,B,ee,Z,Q)=>{let G=0;const le=g.length;let ne=m.length-1,ue=le-1;for(;G<=ne&&G<=ue;){const me=m[G],xe=g[G]=Q?Bt(g[G]):At(g[G]);if(ps(me,xe))S(me,xe,k,null,V,B,ee,Z,Q);else break;G++}for(;G<=ne&&G<=ue;){const me=m[ne],xe=g[ue]=Q?Bt(g[ue]):At(g[ue]);if(ps(me,xe))S(me,xe,k,null,V,B,ee,Z,Q);else break;ne--,ue--}if(G>ne){if(G<=ue){const me=ue+1,xe=me<le?g[me].el:U;for(;G<=ue;)S(null,g[G]=Q?Bt(g[G]):At(g[G]),k,xe,V,B,ee,Z,Q),G++}}else if(G>ue)for(;G<=ne;)pe(m[G],V,B,!0),G++;else{const me=G,xe=G,qe=new Map;for(G=xe;G<=ue;G++){const st=g[G]=Q?Bt(g[G]):At(g[G]);st.key!=null&&qe.set(st.key,G)}let Ae,Ze=0;const et=ue-xe+1;let wt=!1,xt=0;const qs=new Array(et);for(G=0;G<et;G++)qs[G]=0;for(G=me;G<=ne;G++){const st=m[G];if(Ze>=et){pe(st,V,B,!0);continue}let Ct;if(st.key!=null)Ct=qe.get(st.key);else for(Ae=xe;Ae<=ue;Ae++)if(qs[Ae-xe]===0&&ps(st,g[Ae])){Ct=Ae;break}Ct===void 0?pe(st,V,B,!0):(qs[Ct-xe]=G+1,Ct>=xt?xt=Ct:wt=!0,S(st,g[Ct],k,null,V,B,ee,Z,Q),Ze++)}const si=wt?Gl(qs):ms;for(Ae=si.length-1,G=et-1;G>=0;G--){const st=xe+G,Ct=g[st],ni=g[st+1],oi=st+1<le?ni.el||ni.placeholder:U;qs[G]===0?S(null,Ct,k,oi,V,B,ee,Z,Q):wt&&(Ae<0||G!==si[Ae]?ae(Ct,k,oi,2):Ae--)}}},ae=(m,g,k,U,V=null)=>{const{el:B,type:ee,transition:Z,children:Q,shapeFlag:G}=m;if(G&6){ae(m.component.subTree,g,k,U);return}if(G&128){m.suspense.move(g,k,U);return}if(G&64){ee.move(m,g,k,N);return}if(ee===ve){n(B,g,k);for(let ne=0;ne<Q.length;ne++)ae(Q[ne],g,k,U);n(m.anchor,g,k);return}if(ee===ro){w(m,g,k);return}if(U!==2&&G&1&&Z)if(U===0)Z.beforeEnter(B),n(B,g,k),Xe(()=>Z.enter(B),V);else{const{leave:ne,delayLeave:ue,afterLeave:me}=Z,xe=()=>{m.ctx.isUnmounted?o(B):n(B,g,k)},qe=()=>{B._isLeaving&&B[is](!0),ne(B,()=>{xe(),me&&me()})};ue?ue(B,xe,qe):qe()}else n(B,g,k)},pe=(m,g,k,U=!1,V=!1)=>{const{type:B,props:ee,ref:Z,children:Q,dynamicChildren:G,shapeFlag:le,patchFlag:ne,dirs:ue,cacheIndex:me}=m;if(ne===-2&&(V=!1),Z!=null&&(Nt(),Hs(Z,null,k,m,!0),Ut()),me!=null&&(g.renderCache[me]=void 0),le&256){g.ctx.deactivate(m);return}const xe=le&1&&ue,qe=!bs(m);let Ae;if(qe&&(Ae=ee&&ee.onVnodeBeforeUnmount)&&St(Ae,g,m),le&6)he(m.component,k,U);else{if(le&128){m.suspense.unmount(k,U);return}xe&&es(m,null,g,"beforeUnmount"),le&64?m.type.remove(m,g,k,N,U):G&&!G.hasOnce&&(B!==ve||ne>0&&ne&64)?bt(G,g,k,!1,!0):(B===ve&&ne&384||!V&&le&16)&&bt(Q,g,k),U&&ie(m)}(qe&&(Ae=ee&&ee.onVnodeUnmounted)||xe)&&Xe(()=>{Ae&&St(Ae,g,m),xe&&es(m,null,g,"unmounted")},k)},ie=m=>{const{type:g,el:k,anchor:U,transition:V}=m;if(g===ve){Ve(k,U);return}if(g===ro){v(m);return}const B=()=>{o(k),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(m.shapeFlag&1&&V&&!V.persisted){const{leave:ee,delayLeave:Z}=V,Q=()=>ee(k,B);Z?Z(m.el,B,Q):Q()}else B()},Ve=(m,g)=>{let k;for(;m!==g;)k=h(m),o(m),m=k;o(g)},he=(m,g,k)=>{const{bum:U,scope:V,job:B,subTree:ee,um:Z,m:Q,a:G}=m;wi(Q),wi(G),U&&yn(U),V.stop(),B&&(B.flags|=8,pe(ee,m,g,k)),Z&&Xe(Z,g),Xe(()=>{m.isUnmounted=!0},g)},bt=(m,g,k,U=!1,V=!1,B=0)=>{for(let ee=B;ee<m.length;ee++)pe(m[ee],g,k,U,V)},F=m=>{if(m.shapeFlag&6)return F(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const g=h(m.anchor||m.el),k=g&&g[kr];return k?h(k):g};let q=!1;const j=(m,g,k)=>{m==null?g._vnode&&pe(g._vnode,null,null,!0):S(g._vnode||null,m,g,null,null,null,k),g._vnode=m,q||(q=!0,ci(),Tr(),q=!1)},N={p:S,um:pe,m:ae,r:ie,mt:W,mc:J,pc:se,pbc:x,n:F,o:t};return{render:j,hydrate:void 0,createApp:Nl(j)}}function io({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function ts({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Wl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Wo(t,e,s=!1){const n=t.children,o=e.children;if(ce(n)&&ce(o))for(let i=0;i<n.length;i++){const r=n[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=Bt(o[i]),a.el=r.el),!s&&a.patchFlag!==-2&&Wo(r,a)),a.type===Jn&&a.patchFlag!==-1&&(a.el=r.el),a.type===Rt&&!a.el&&(a.el=r.el)}}function Gl(t){const e=t.slice(),s=[0];let n,o,i,r,a;const c=t.length;for(n=0;n<c;n++){const d=t[n];if(d!==0){if(o=s[s.length-1],t[o]<d){e[n]=o,s.push(n);continue}for(i=0,r=s.length-1;i<r;)a=i+r>>1,t[s[a]]<d?i=a+1:r=a;d<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,r=s[i-1];i-- >0;)s[i]=r,r=e[r];return s}function Yr(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Yr(e)}function wi(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Kl=Symbol.for("v-scx"),Xl=()=>Et(Kl);function we(t,e,s){return Qr(t,e,s)}function Qr(t,e,s=$e){const{immediate:n,deep:o,flush:i,once:r}=s,a=Le({},s),c=e&&n||!e&&i!=="post";let d;if(tn){if(i==="sync"){const p=Xl();d=p.__watcherHandles||(p.__watcherHandles=[])}else if(!c){const p=()=>{};return p.stop=$t,p.resume=$t,p.pause=$t,p}}const u=Be;a.call=(p,b,S)=>yt(p,u,b,S);let f=!1;i==="post"?a.scheduler=p=>{Xe(p,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(p,b)=>{b?p():Ho(p)}),a.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=ul(t,e,a);return tn&&(d?d.push(h):c&&h()),h}function Yl(t,e,s){const n=this.proxy,o=Fe(t)?t.includes(".")?Zr(n,t):()=>n[t]:t.bind(n,n);let i;ye(e)?i=e:(i=e.handler,s=e);const r=an(this),a=Qr(o,i.bind(n),s);return r(),a}function Zr(t,e){const s=e.split(".");return()=>{let n=t;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}const Ql=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${dt(e)}Modifiers`]||t[`${Qt(e)}Modifiers`];function Zl(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||$e;let o=s;const i=e.startsWith("update:"),r=i&&Ql(n,e.slice(7));r&&(r.trim&&(o=s.map(u=>Fe(u)?u.trim():u)),r.number&&(o=s.map(_n)));let a,c=n[a=Zn(e)]||n[a=Zn(dt(e))];!c&&i&&(c=n[a=Zn(Qt(e))]),c&&yt(c,t,6,o);const d=n[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,yt(d,t,6,o)}}const ec=new WeakMap;function ea(t,e,s=!1){const n=s?ec:e.emitsCache,o=n.get(t);if(o!==void 0)return o;const i=t.emits;let r={},a=!1;if(!ye(t)){const c=d=>{const u=ea(d,e,!0);u&&(a=!0,Le(r,u))};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(ke(t)&&n.set(t,null),null):(ce(i)?i.forEach(c=>r[c]=null):Le(r,i),ke(t)&&n.set(t,r),r)}function Bn(t,e){return!t||!Pn(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ee(t,e[0].toLowerCase()+e.slice(1))||Ee(t,Qt(e))||Ee(t,e))}function xi(t){const{type:e,vnode:s,proxy:n,withProxy:o,propsOptions:[i],slots:r,attrs:a,emit:c,render:d,renderCache:u,props:f,data:h,setupState:p,ctx:b,inheritAttrs:S}=t,A=kn(t);let R,E;try{if(s.shapeFlag&4){const v=o||n,T=v;R=At(d.call(T,v,u,f,p,h,b)),E=a}else{const v=e;R=At(v.length>1?v(f,{attrs:a,slots:r,emit:c}):v(f,null)),E=e.props?a:tc(a)}}catch(v){Js.length=0,jn(v,t,1),R=be(Rt)}let w=R;if(E&&S!==!1){const v=Object.keys(E),{shapeFlag:T}=w;v.length&&T&7&&(i&&v.some(Io)&&(E=sc(E,i)),w=ls(w,E,!1,!0))}return s.dirs&&(w=ls(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(s.dirs):s.dirs),s.transition&&Ys(w,s.transition),R=w,kn(A),R}const tc=t=>{let e;for(const s in t)(s==="class"||s==="style"||Pn(s))&&((e||(e={}))[s]=t[s]);return e},sc=(t,e)=>{const s={};for(const n in t)(!Io(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function nc(t,e,s){const{props:n,children:o,component:i}=t,{props:r,children:a,patchFlag:c}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?Ci(n,r,d):!!r;if(c&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(r[h]!==n[h]&&!Bn(d,h))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:n===r?!1:n?r?Ci(n,r,d):!0:!!r;return!1}function Ci(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(e[i]!==t[i]&&!Bn(s,i))return!0}return!1}function oc({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const ta=t=>t.__isSuspense;function ic(t,e){e&&e.pendingBranch?ce(t)?e.effects.push(...t):e.effects.push(t):pl(t)}const ve=Symbol.for("v-fgt"),Jn=Symbol.for("v-txt"),Rt=Symbol.for("v-cmt"),ro=Symbol.for("v-stc"),Js=[];let nt=null;function y(t=!1){Js.push(nt=t?null:[])}function rc(){Js.pop(),nt=Js[Js.length-1]||null}let Zs=1;function On(t,e=!1){Zs+=t,t<0&&nt&&e&&(nt.hasOnce=!0)}function sa(t){return t.dynamicChildren=Zs>0?nt||ms:null,rc(),Zs>0&&nt&&nt.push(t),t}function _(t,e,s,n,o,i){return sa(l(t,e,s,n,o,i,!0))}function ge(t,e,s,n,o){return sa(be(t,e,s,n,o,!0))}function en(t){return t?t.__v_isVNode===!0:!1}function ps(t,e){return t.type===e.type&&t.key===e.key}const na=({key:t})=>t??null,wn=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Fe(t)||Je(t)||ye(t)?{i:ze,r:t,k:e,f:!!s}:t:null);function l(t,e=null,s=null,n=0,o=null,i=t===ve?0:1,r=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&na(e),ref:e&&wn(e),scopeId:Ar,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ze};return a?(Go(c,s),i&128&&t.normalize(c)):s&&(c.shapeFlag|=Fe(s)?8:16),Zs>0&&!r&&nt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&nt.push(c),c}const be=ac;function ac(t,e=null,s=null,n=0,o=null,i=!1){if((!t||t===Mr)&&(t=Rt),en(t)){const a=ls(t,e,!0);return s&&Go(a,s),Zs>0&&!i&&nt&&(a.shapeFlag&6?nt[nt.indexOf(t)]=a:nt.push(a)),a.patchFlag=-2,a}if(vc(t)&&(t=t.__vccOpts),e){e=lc(e);let{class:a,style:c}=e;a&&!Fe(a)&&(e.class=Ce(a)),ke(c)&&(zo(c)&&!ce(c)&&(c=Le({},c)),e.style=Me(c))}const r=Fe(t)?1:ta(t)?128:hl(t)?64:ke(t)?4:ye(t)?2:0;return l(t,e,s,n,o,r,i,!0)}function lc(t){return t?zo(t)||Br(t)?Le({},t):t:null}function ls(t,e,s=!1,n=!1){const{props:o,ref:i,patchFlag:r,children:a,transition:c}=t,d=e?cc(o||{},e):o,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&na(d),ref:e&&e.ref?s&&i?ce(i)?i.concat(wn(e)):[i,wn(e)]:wn(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ve?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ls(t.ssContent),ssFallback:t.ssFallback&&ls(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&Ys(u,c.clone(u)),u}function Ie(t=" ",e=0){return be(Jn,null,t,e)}function K(t="",e=!1){return e?(y(),ge(Rt,null,t)):be(Rt,null,t)}function At(t){return t==null||typeof t=="boolean"?be(Rt):ce(t)?be(ve,null,t.slice()):en(t)?Bt(t):be(Jn,null,String(t))}function Bt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ls(t)}function Go(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ce(e))s=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),Go(t,o()),o._c&&(o._d=!0));return}else{s=32;const o=e._;!o&&!Br(e)?e._ctx=ze:o===3&&ze&&(ze.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:ze},s=32):(e=String(e),n&64?(s=16,e=[Ie(e)]):s=8);t.children=e,t.shapeFlag|=s}function cc(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=Ce([e.class,n.class]));else if(o==="style")e.style=Me([e.style,n.style]);else if(Pn(o)){const i=e[o],r=n[o];r&&i!==r&&!(ce(i)&&i.includes(r))&&(e[o]=i?[].concat(i,r):r)}else o!==""&&(e[o]=n[o])}return e}function St(t,e,s,n=null){yt(t,e,7,[s,n])}const uc=jr();let dc=0;function fc(t,e,s){const n=t.type,o=(e?e.appContext:t.appContext)||uc,i={uid:dc++,vnode:t,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ma(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wr(n,o),emitsOptions:ea(n,o),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:n.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Zl.bind(null,i),t.ce&&t.ce(i),i}let Be=null;const Wn=()=>Be||ze;let In,ko;{const t=Un(),e=(s,n)=>{let o;return(o=t[s])||(o=t[s]=[]),o.push(n),i=>{o.length>1?o.forEach(r=>r(i)):o[0](i)}};In=e("__VUE_INSTANCE_SETTERS__",s=>Be=s),ko=e("__VUE_SSR_SETTERS__",s=>tn=s)}const an=t=>{const e=Be;return In(t),t.scope.on(),()=>{t.scope.off(),In(e)}},Si=()=>{Be&&Be.scope.off(),In(null)};function oa(t){return t.vnode.shapeFlag&4}let tn=!1;function pc(t,e=!1,s=!1){e&&ko(e);const{props:n,children:o}=t.vnode,i=oa(t);Ul(t,n,i,e),zl(t,o,s||e);const r=i?hc(t,e):void 0;return e&&ko(!1),r}function hc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,$l);const{setup:n}=s;if(n){Nt();const o=t.setupContext=n.length>1?ra(t):null,i=an(t),r=rn(n,t,0,[t.props,o]),a=tr(r);if(Ut(),i(),(a||t.sp)&&!bs(t)&&Or(t),a){if(r.then(Si,Si),e)return r.then(c=>{_i(t,c)}).catch(c=>{jn(c,t,0)});t.asyncDep=r}else _i(t,r)}else ia(t)}function _i(t,e,s){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ke(e)&&(t.setupState=Cr(e)),ia(t)}function ia(t,e,s){const n=t.type;t.render||(t.render=n.render||$t);{const o=an(t);Nt();try{Ol(t)}finally{Ut(),o()}}}const mc={get(t,e){return He(t,"get",""),t[e]}};function ra(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,mc),slots:t.slots,emit:t.emit,expose:e}}function Gn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Cr(ns(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Bs)return Bs[s](t)},has(e,s){return s in e||s in Bs}})):t.proxy}function gc(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function vc(t){return ye(t)&&"__vccOpts"in t}const M=(t,e)=>ll(t,e,tn);function yc(t,e,s){try{On(-1);const n=arguments.length;return n===2?ke(e)&&!ce(e)?en(e)?be(t,null,[e]):be(t,e):be(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&en(s)&&(s=[s]),be(t,e,s))}finally{On(1)}}const bc="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $o;const Ti=typeof window<"u"&&window.trustedTypes;if(Ti)try{$o=Ti.createPolicy("vue",{createHTML:t=>t})}catch{}const aa=$o?t=>$o.createHTML(t):t=>t,wc="http://www.w3.org/2000/svg",xc="http://www.w3.org/1998/Math/MathML",It=typeof document<"u"?document:null,Ei=It&&It.createElement("template"),Cc={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const o=e==="svg"?It.createElementNS(wc,t):e==="mathml"?It.createElementNS(xc,t):s?It.createElement(t,{is:s}):It.createElement(t);return t==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:t=>It.createTextNode(t),createComment:t=>It.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>It.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,o,i){const r=s?s.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),s),!(o===i||!(o=o.nextSibling)););else{Ei.innerHTML=aa(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=Ei.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,s)}return[r?r.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Vt="transition",Is="animation",Ss=Symbol("_vtc"),la={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Sc=Le({},vl,la),ss=(t,e=[])=>{ce(t)?t.forEach(s=>s(...e)):t&&t(...e)},Ai=t=>t?ce(t)?t.some(e=>e.length>1):t.length>1:!1;function _c(t){const e={};for(const $ in t)$ in la||(e[$]=t[$]);if(t.css===!1)return e;const{name:s="v",type:n,duration:o,enterFromClass:i=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:c=i,appearActiveClass:d=r,appearToClass:u=a,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=t,b=Tc(o),S=b&&b[0],A=b&&b[1],{onBeforeEnter:R,onEnter:E,onEnterCancelled:w,onLeave:v,onLeaveCancelled:T,onBeforeAppear:O=R,onAppear:P=E,onAppearCancelled:J=w}=e,L=($,re,W,X)=>{$._enterCancelled=X,zt($,re?u:a),zt($,re?d:r),W&&W()},x=($,re)=>{$._isLeaving=!1,zt($,f),zt($,p),zt($,h),re&&re()},C=$=>(re,W)=>{const X=$?P:E,z=()=>L(re,$,W);ss(X,[re,z]),ki(()=>{zt(re,$?c:i),_t(re,$?u:a),Ai(X)||$i(re,n,S,z)})};return Le(e,{onBeforeEnter($){ss(R,[$]),_t($,i),_t($,r)},onBeforeAppear($){ss(O,[$]),_t($,c),_t($,d)},onEnter:C(!1),onAppear:C(!0),onLeave($,re){$._isLeaving=!0;const W=()=>x($,re);_t($,f),$._enterCancelled?(_t($,h),Ro($)):(Ro($),_t($,h)),ki(()=>{$._isLeaving&&(zt($,f),_t($,p),Ai(v)||$i($,n,A,W))}),ss(v,[$,W])},onEnterCancelled($){L($,!1,void 0,!0),ss(w,[$])},onAppearCancelled($){L($,!0,void 0,!0),ss(J,[$])},onLeaveCancelled($){x($),ss(T,[$])}})}function Tc(t){if(t==null)return null;if(ke(t))return[ao(t.enter),ao(t.leave)];{const e=ao(t);return[e,e]}}function ao(t){return $a(t)}function _t(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Ss]||(t[Ss]=new Set)).add(e)}function zt(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[Ss];s&&(s.delete(e),s.size||(t[Ss]=void 0))}function ki(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Ec=0;function $i(t,e,s,n){const o=t._endId=++Ec,i=()=>{o===t._endId&&n()};if(s!=null)return setTimeout(i,s);const{type:r,timeout:a,propCount:c}=ca(t,e);if(!r)return n();const d=r+"end";let u=0;const f=()=>{t.removeEventListener(d,h),i()},h=p=>{p.target===t&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},a+1),t.addEventListener(d,h)}function ca(t,e){const s=window.getComputedStyle(t),n=b=>(s[b]||"").split(", "),o=n(`${Vt}Delay`),i=n(`${Vt}Duration`),r=Ri(o,i),a=n(`${Is}Delay`),c=n(`${Is}Duration`),d=Ri(a,c);let u=null,f=0,h=0;e===Vt?r>0&&(u=Vt,f=r,h=i.length):e===Is?d>0&&(u=Is,f=d,h=c.length):(f=Math.max(r,d),u=f>0?r>d?Vt:Is:null,h=u?u===Vt?i.length:c.length:0);const p=u===Vt&&/\b(?:transform|all)(?:,|$)/.test(n(`${Vt}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:p}}function Ri(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>qi(s)+qi(t[n])))}function qi(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Ro(t){return(t?t.ownerDocument:document).body.offsetHeight}function Ac(t,e,s){const n=t[Ss];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Oi=Symbol("_vod"),kc=Symbol("_vsh"),$c=Symbol(""),Rc=/(?:^|;)\s*display\s*:/;function qc(t,e,s){const n=t.style,o=Fe(s);let i=!1;if(s&&!o){if(e)if(Fe(e))for(const r of e.split(";")){const a=r.slice(0,r.indexOf(":")).trim();s[a]==null&&xn(n,a,"")}else for(const r in e)s[r]==null&&xn(n,r,"");for(const r in s)r==="display"&&(i=!0),xn(n,r,s[r])}else if(o){if(e!==s){const r=n[$c];r&&(s+=";"+r),n.cssText=s,i=Rc.test(s)}}else e&&t.removeAttribute("style");Oi in t&&(t[Oi]=i?n.display:"",t[kc]&&(n.display="none"))}const Ii=/\s*!important$/;function xn(t,e,s){if(ce(s))s.forEach(n=>xn(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Oc(t,e);Ii.test(s)?t.setProperty(Qt(n),s.replace(Ii,""),"important"):t[n]=s}}const Di=["Webkit","Moz","ms"],lo={};function Oc(t,e){const s=lo[e];if(s)return s;let n=dt(e);if(n!=="filter"&&n in t)return lo[e]=n;n=Nn(n);for(let o=0;o<Di.length;o++){const i=Di[o]+n;if(i in t)return lo[e]=i}return e}const Fi="http://www.w3.org/1999/xlink";function Pi(t,e,s,n,o,i=Fa(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Fi,e.slice(6,e.length)):t.setAttributeNS(Fi,e,s):s==null||i&&!ir(s)?t.removeAttribute(e):t.setAttribute(e,i?"":vt(s)?String(s):s)}function Mi(t,e,s,n,o){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?aa(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=s==null?t.type==="checkbox"?"on":"":String(s);(a!==c||!("_value"in t))&&(t.value=c),s==null&&t.removeAttribute(e),t._value=s;return}let r=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=ir(s):s==null&&a==="string"?(s="",r=!0):a==="number"&&(s=0,r=!0)}try{t[e]=s}catch{}r&&t.removeAttribute(o||e)}function Pt(t,e,s,n){t.addEventListener(e,s,n)}function Ic(t,e,s,n){t.removeEventListener(e,s,n)}const Ni=Symbol("_vei");function Dc(t,e,s,n,o=null){const i=t[Ni]||(t[Ni]={}),r=i[e];if(n&&r)r.value=n;else{const[a,c]=Fc(e);if(n){const d=i[e]=Nc(n,o);Pt(t,a,d,c)}else r&&(Ic(t,a,r,c),i[e]=void 0)}}const Ui=/(?:Once|Passive|Capture)$/;function Fc(t){let e;if(Ui.test(t)){e={};let n;for(;n=t.match(Ui);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qt(t.slice(2)),e]}let co=0;const Pc=Promise.resolve(),Mc=()=>co||(Pc.then(()=>co=0),co=Date.now());function Nc(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;yt(Uc(n,s.value),e,5,[n])};return s.value=t,s.attached=Mc(),s}function Uc(t,e){if(ce(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const Li=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Lc=(t,e,s,n,o,i)=>{const r=o==="svg";e==="class"?Ac(t,n,r):e==="style"?qc(t,s,n):Pn(e)?Io(e)||Dc(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Vc(t,e,n,r))?(Mi(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Pi(t,e,n,r,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Fe(n))?Mi(t,dt(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Pi(t,e,n,r))};function Vc(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Li(e)&&ye(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Li(e)&&Fe(s)?!1:e in t}const ua=new WeakMap,da=new WeakMap,Dn=Symbol("_moveCb"),Vi=Symbol("_enterCb"),jc=t=>(delete t.props.mode,t),zc=jc({name:"TransitionGroup",props:Le({},Sc,{tag:String,moveClass:String}),setup(t,{slots:e}){const s=Wn(),n=gl();let o,i;return Fr(()=>{if(!o.length)return;const r=t.moveClass||`${t.name||"v"}-move`;if(!Gc(o[0].el,s.vnode.el,r)){o=[];return}o.forEach(Bc),o.forEach(Jc);const a=o.filter(Wc);Ro(s.vnode.el),a.forEach(c=>{const d=c.el,u=d.style;_t(d,r),u.transform=u.webkitTransform=u.transitionDuration="";const f=d[Dn]=h=>{h&&h.target!==d||(!h||h.propertyName.endsWith("transform"))&&(d.removeEventListener("transitionend",f),d[Dn]=null,zt(d,r))};d.addEventListener("transitionend",f)}),o=[]}),()=>{const r=Se(t),a=_c(r);let c=r.tag||ve;if(o=[],i)for(let d=0;d<i.length;d++){const u=i[d];u.el&&u.el instanceof Element&&(o.push(u),Ys(u,So(u,a,n,s)),ua.set(u,u.el.getBoundingClientRect()))}i=e.default?qr(e.default()):[];for(let d=0;d<i.length;d++){const u=i[d];u.key!=null&&Ys(u,So(u,a,n,s))}return be(c,null,i)}}}),Hc=zc;function Bc(t){const e=t.el;e[Dn]&&e[Dn](),e[Vi]&&e[Vi]()}function Jc(t){da.set(t,t.el.getBoundingClientRect())}function Wc(t){const e=ua.get(t),s=da.get(t),n=e.left-s.left,o=e.top-s.top;if(n||o){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${o}px)`,i.transitionDuration="0s",t}}function Gc(t,e,s){const n=t.cloneNode(),o=t[Ss];o&&o.forEach(a=>{a.split(/\s+/).forEach(c=>c&&n.classList.remove(c))}),s.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(n);const{hasTransform:r}=ca(n);return i.removeChild(n),r}const Yt=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ce(e)?s=>yn(e,s):e};function Kc(t){t.target.composing=!0}function ji(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ut=Symbol("_assign"),Re={created(t,{modifiers:{lazy:e,trim:s,number:n}},o){t[ut]=Yt(o);const i=n||o.props&&o.props.type==="number";Pt(t,e?"change":"input",r=>{if(r.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=_n(a)),t[ut](a)}),s&&Pt(t,"change",()=>{t.value=t.value.trim()}),e||(Pt(t,"compositionstart",Kc),Pt(t,"compositionend",ji),Pt(t,"change",ji))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:o,number:i}},r){if(t[ut]=Yt(r),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?_n(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||o&&t.value.trim()===c)||(t.value=c))}},Qe={deep:!0,created(t,e,s){t[ut]=Yt(s),Pt(t,"change",()=>{const n=t._modelValue,o=Ts(t),i=t.checked,r=t[ut];if(ce(n)){const a=Po(n,o),c=a!==-1;if(i&&!c)r(n.concat(o));else if(!i&&c){const d=[...n];d.splice(a,1),r(d)}}else if(ks(n)){const a=new Set(n);i?a.add(o):a.delete(o),r(a)}else r(pa(t,i))})},mounted:zi,beforeUpdate(t,e,s){t[ut]=Yt(s),zi(t,e,s)}};function zi(t,{value:e,oldValue:s},n){t._modelValue=e;let o;if(ce(e))o=Po(e,n.props.value)>-1;else if(ks(e))o=e.has(n.props.value);else{if(e===s)return;o=as(e,pa(t,!0))}t.checked!==o&&(t.checked=o)}const fa={created(t,{value:e},s){t.checked=as(e,s.props.value),t[ut]=Yt(s),Pt(t,"change",()=>{t[ut](Ts(t))})},beforeUpdate(t,{value:e,oldValue:s},n){t[ut]=Yt(n),e!==s&&(t.checked=as(e,n.props.value))}},_s={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const o=ks(e);Pt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,r=>r.selected).map(r=>s?_n(Ts(r)):Ts(r));t[ut](t.multiple?o?new Set(i):i:i[0]),t._assigning=!0,We(()=>{t._assigning=!1})}),t[ut]=Yt(n)},mounted(t,{value:e}){Hi(t,e)},beforeUpdate(t,e,s){t[ut]=Yt(s)},updated(t,{value:e}){t._assigning||Hi(t,e)}};function Hi(t,e){const s=t.multiple,n=ce(e);if(!(s&&!n&&!ks(e))){for(let o=0,i=t.options.length;o<i;o++){const r=t.options[o],a=Ts(r);if(s)if(n){const c=typeof a;c==="string"||c==="number"?r.selected=e.some(d=>String(d)===String(a)):r.selected=Po(e,a)>-1}else r.selected=e.has(a);else if(as(Ts(r),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ts(t){return"_value"in t?t._value:t.value}function pa(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Xc={created(t,e,s){gn(t,e,s,null,"created")},mounted(t,e,s){gn(t,e,s,null,"mounted")},beforeUpdate(t,e,s,n){gn(t,e,s,n,"beforeUpdate")},updated(t,e,s,n){gn(t,e,s,n,"updated")}};function Yc(t,e){switch(t){case"SELECT":return _s;case"TEXTAREA":return Re;default:switch(e){case"checkbox":return Qe;case"radio":return fa;default:return Re}}}function gn(t,e,s,n,o){const r=Yc(t.tagName,s.props&&s.props.type)[o];r&&r(t,e,s,n)}const Qc=["ctrl","shift","alt","meta"],Zc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Qc.some(s=>t[`${s}Key`]&&!e.includes(s))},ln=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=((o,...i)=>{for(let r=0;r<e.length;r++){const a=Zc[e[r]];if(a&&a(o,e))return}return t(o,...i)}))},eu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ko=(t,e)=>{const s=t._withKeys||(t._withKeys={}),n=e.join(".");return s[n]||(s[n]=(o=>{if(!("key"in o))return;const i=Qt(o.key);if(e.some(r=>r===i||eu[r]===i))return t(o)}))},tu=Le({patchProp:Lc},Cc);let Bi;function su(){return Bi||(Bi=Bl(tu))}const nu=((...t)=>{const e=su().createApp(...t),{mount:s}=e;return e.mount=n=>{const o=iu(n);if(!o)return;const i=e._component;!ye(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const r=s(o,!1,ou(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},e});function ou(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function iu(t){return Fe(t)?document.querySelector(t):t}const ha={__name:"splitpanes",props:{horizontal:{type:Boolean,default:!1},pushOtherPanes:{type:Boolean,default:!0},maximizePanes:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean,default:!1}},emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click","splitter-dblclick"],setup(t,{emit:e}){const s=e,n=t,o=Rl(),i=oe([]),r=M(()=>i.value.reduce((F,q)=>(F[~~q.id]=q)&&F,{})),a=M(()=>i.value.length),c=oe(null),d=oe(!1),u=oe({mouseDown:!1,dragging:!1,activeSplitter:null,cursorOffset:0}),f=oe({splitter:null,timeoutId:null}),h=M(()=>({[`splitpanes splitpanes--${n.horizontal?"horizontal":"vertical"}`]:!0,"splitpanes--dragging":u.value.dragging})),p=()=>{document.addEventListener("mousemove",A,{passive:!1}),document.addEventListener("mouseup",R),"ontouchstart"in window&&(document.addEventListener("touchmove",A,{passive:!1}),document.addEventListener("touchend",R))},b=()=>{document.removeEventListener("mousemove",A,{passive:!1}),document.removeEventListener("mouseup",R),"ontouchstart"in window&&(document.removeEventListener("touchmove",A,{passive:!1}),document.removeEventListener("touchend",R))},S=(F,q)=>{const j=F.target.closest(".splitpanes__splitter");if(j){const{left:N,top:Y}=j.getBoundingClientRect(),{clientX:m,clientY:g}="ontouchstart"in window&&F.touches?F.touches[0]:F;u.value.cursorOffset=n.horizontal?g-Y:m-N}p(),u.value.mouseDown=!0,u.value.activeSplitter=q},A=F=>{u.value.mouseDown&&(F.preventDefault(),u.value.dragging=!0,requestAnimationFrame(()=>{P(T(F)),he("resize",{event:F},!0)}))},R=F=>{u.value.dragging&&(window.getSelection().removeAllRanges(),he("resized",{event:F},!0)),u.value.mouseDown=!1,u.value.activeSplitter=null,setTimeout(()=>{u.value.dragging=!1,b()},100)},E=(F,q)=>{"ontouchstart"in window&&(F.preventDefault(),f.value.splitter===q?(clearTimeout(f.value.timeoutId),f.value.timeoutId=null,w(F,q),f.value.splitter=null):(f.value.splitter=q,f.value.timeoutId=setTimeout(()=>f.value.splitter=null,500))),u.value.dragging||he("splitter-click",{event:F,index:q},!0)},w=(F,q)=>{if(he("splitter-dblclick",{event:F,index:q},!0),n.maximizePanes){let j=0;i.value=i.value.map((N,Y)=>(N.size=Y===q?N.max:N.min,Y!==q&&(j+=N.min),N)),i.value[q].size-=j,he("pane-maximize",{event:F,index:q,pane:i.value[q]}),he("resized",{event:F,index:q},!0)}},v=(F,q)=>{he("pane-click",{event:F,index:r.value[q].index,pane:r.value[q]})},T=F=>{const q=c.value.getBoundingClientRect(),{clientX:j,clientY:N}="ontouchstart"in window&&F.touches?F.touches[0]:F;return{x:j-(n.horizontal?0:u.value.cursorOffset)-q.left,y:N-(n.horizontal?u.value.cursorOffset:0)-q.top}},O=F=>{F=F[n.horizontal?"y":"x"];const q=c.value[n.horizontal?"clientHeight":"clientWidth"];return n.rtl&&!n.horizontal&&(F=q-F),F*100/q},P=F=>{const q=u.value.activeSplitter;let j={prevPanesSize:L(q),nextPanesSize:x(q),prevReachedMinPanes:0,nextReachedMinPanes:0};const N=0+(n.pushOtherPanes?0:j.prevPanesSize),Y=100-(n.pushOtherPanes?0:j.nextPanesSize),m=Math.max(Math.min(O(F),Y),N);let g=[q,q+1],k=i.value[g[0]]||null,U=i.value[g[1]]||null;const V=k.max<100&&m>=k.max+j.prevPanesSize,B=U.max<100&&m<=100-(U.max+x(q+1));if(V||B){V?(k.size=k.max,U.size=Math.max(100-k.max-j.prevPanesSize-j.nextPanesSize,0)):(k.size=Math.max(100-U.max-j.prevPanesSize-x(q+1),0),U.size=U.max);return}if(n.pushOtherPanes){const ee=J(j,m);if(!ee)return;({sums:j,panesToResize:g}=ee),k=i.value[g[0]]||null,U=i.value[g[1]]||null}k!==null&&(k.size=Math.min(Math.max(m-j.prevPanesSize-j.prevReachedMinPanes,k.min),k.max)),U!==null&&(U.size=Math.min(Math.max(100-m-j.nextPanesSize-j.nextReachedMinPanes,U.min),U.max))},J=(F,q)=>{const j=u.value.activeSplitter,N=[j,j+1];return q<F.prevPanesSize+i.value[N[0]].min&&(N[0]=C(j).index,F.prevReachedMinPanes=0,N[0]<j&&i.value.forEach((Y,m)=>{m>N[0]&&m<=j&&(Y.size=Y.min,F.prevReachedMinPanes+=Y.min)}),F.prevPanesSize=L(N[0]),N[0]===void 0)?(F.prevReachedMinPanes=0,i.value[0].size=i.value[0].min,i.value.forEach((Y,m)=>{m>0&&m<=j&&(Y.size=Y.min,F.prevReachedMinPanes+=Y.min)}),i.value[N[1]].size=100-F.prevReachedMinPanes-i.value[0].min-F.prevPanesSize-F.nextPanesSize,null):q>100-F.nextPanesSize-i.value[N[1]].min&&(N[1]=$(j).index,F.nextReachedMinPanes=0,N[1]>j+1&&i.value.forEach((Y,m)=>{m>j&&m<N[1]&&(Y.size=Y.min,F.nextReachedMinPanes+=Y.min)}),F.nextPanesSize=x(N[1]-1),N[1]===void 0)?(F.nextReachedMinPanes=0,i.value.forEach((Y,m)=>{m<a.value-1&&m>=j+1&&(Y.size=Y.min,F.nextReachedMinPanes+=Y.min)}),i.value[N[0]].size=100-F.prevPanesSize-x(N[0]-1),null):{sums:F,panesToResize:N}},L=F=>i.value.reduce((q,j,N)=>q+(N<F?j.size:0),0),x=F=>i.value.reduce((q,j,N)=>q+(N>F+1?j.size:0),0),C=F=>[...i.value].reverse().find(q=>q.index<F&&q.size>q.min)||{},$=F=>i.value.find(q=>q.index>F+1&&q.size>q.min)||{},re=()=>{var F;const q=Array.from(((F=c.value)==null?void 0:F.children)||[]);for(const j of q){const N=j.classList.contains("splitpanes__pane"),Y=j.classList.contains("splitpanes__splitter");!N&&!Y&&(j.remove(),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))}},W=(F,q,j=!1)=>{const N=F-1,Y=document.createElement("div");Y.classList.add("splitpanes__splitter"),j||(Y.onmousedown=m=>S(m,N),typeof window<"u"&&"ontouchstart"in window&&(Y.ontouchstart=m=>S(m,N)),Y.onclick=m=>E(m,N+1)),Y.ondblclick=m=>w(m,N+1),q.parentNode.insertBefore(Y,q)},X=F=>{F.onmousedown=void 0,F.onclick=void 0,F.ondblclick=void 0,F.remove()},z=()=>{var F;const q=Array.from(((F=c.value)==null?void 0:F.children)||[]);for(const N of q)N.className.includes("splitpanes__splitter")&&X(N);let j=0;for(const N of q)N.className.includes("splitpanes__pane")&&(!j&&n.firstSplitter?W(j,N,!0):j&&W(j,N),j++)},H=({uid:F,...q})=>{const j=r.value[F];for(const[N,Y]of Object.entries(q))j[N]=Y},se=F=>{var q;let j=-1;Array.from(((q=c.value)==null?void 0:q.children)||[]).some(N=>(N.className.includes("splitpanes__pane")&&j++,N.isSameNode(F.el))),i.value.splice(j,0,{...F,index:j}),i.value.forEach((N,Y)=>N.index=Y),d.value&&We(()=>{z(),Te({addedPane:i.value[j]}),he("pane-add",{pane:i.value[j]})})},de=F=>{const q=i.value.findIndex(N=>N.id===F);i.value[q].el=null;const j=i.value.splice(q,1)[0];i.value.forEach((N,Y)=>N.index=Y),We(()=>{z(),he("pane-remove",{pane:j}),Te({removedPane:{...j}})})},Te=(F={})=>{!F.addedPane&&!F.removedPane?pe():i.value.some(q=>q.givenSize!==null||q.min||q.max<100)?ie(F):ae(),d.value&&he("resized")},ae=()=>{const F=100/a.value;let q=0;const j=[],N=[];for(const Y of i.value)Y.size=Math.max(Math.min(F,Y.max),Y.min),q-=Y.size,Y.size>=Y.max&&j.push(Y.id),Y.size<=Y.min&&N.push(Y.id);q>.1&&Ve(q,j,N)},pe=()=>{let F=100;const q=[],j=[];let N=0;for(const m of i.value)F-=m.size,m.givenSize!==null&&N++,m.size>=m.max&&q.push(m.id),m.size<=m.min&&j.push(m.id);let Y=100;if(F>.1){for(const m of i.value)m.givenSize===null&&(m.size=Math.max(Math.min(F/(a.value-N),m.max),m.min)),Y-=m.size;Y>.1&&Ve(Y,q,j)}},ie=({addedPane:F,removedPane:q}={})=>{let j=100/a.value,N=0;const Y=[],m=[];(F?.givenSize??null)!==null&&(j=(100-F.givenSize)/(a.value-1));for(const g of i.value)N-=g.size,g.size>=g.max&&Y.push(g.id),g.size<=g.min&&m.push(g.id);if(!(Math.abs(N)<.1)){for(const g of i.value)F?.givenSize!==null&&F?.id===g.id||(g.size=Math.max(Math.min(j,g.max),g.min)),N-=g.size,g.size>=g.max&&Y.push(g.id),g.size<=g.min&&m.push(g.id);N>.1&&Ve(N,Y,m)}},Ve=(F,q,j)=>{let N;F>0?N=F/(a.value-q.length):N=F/(a.value-j.length),i.value.forEach((Y,m)=>{if(F>0&&!q.includes(Y.id)){const g=Math.max(Math.min(Y.size+N,Y.max),Y.min),k=g-Y.size;F-=k,Y.size=g}else if(!j.includes(Y.id)){const g=Math.max(Math.min(Y.size+N,Y.max),Y.min),k=g-Y.size;F-=k,Y.size=g}}),Math.abs(F)>.1&&We(()=>{d.value&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})},he=(F,q=void 0,j=!1)=>{const N=q?.index??u.value.activeSplitter??null;s(F,{...q,...N!==null&&{index:N},...j&&N!==null&&{prevPane:i.value[N-(n.firstSplitter?1:0)],nextPane:i.value[N+(n.firstSplitter?0:1)]},panes:i.value.map(Y=>({min:Y.min,max:Y.max,size:Y.size}))})};we(()=>n.firstSplitter,()=>z()),Ue(()=>{re(),z(),Te(),he("ready"),d.value=!0}),Hn(()=>d.value=!1);const bt=()=>{var F;return yc("div",{ref:c,class:h.value},(F=o.default)==null?void 0:F.call(o))};return jt("panes",i),jt("indexedPanes",r),jt("horizontal",M(()=>n.horizontal)),jt("requestUpdate",H),jt("onPaneAdd",se),jt("onPaneRemove",de),jt("onPaneClick",v),(F,q)=>(y(),ge(Rn(bt)))}},Fn={__name:"pane",props:{size:{type:[Number,String]},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},setup(t){var e;const s=t,n=Et("requestUpdate"),o=Et("onPaneAdd"),i=Et("horizontal"),r=Et("onPaneRemove"),a=Et("onPaneClick"),c=(e=Wn())==null?void 0:e.uid,d=Et("indexedPanes"),u=M(()=>d.value[c]),f=oe(null),h=M(()=>{const A=isNaN(s.size)||s.size===void 0?0:parseFloat(s.size);return Math.max(Math.min(A,b.value),p.value)}),p=M(()=>{const A=parseFloat(s.minSize);return isNaN(A)?0:A}),b=M(()=>{const A=parseFloat(s.maxSize);return isNaN(A)?100:A}),S=M(()=>{var A;return`${i.value?"height":"width"}: ${(A=u.value)==null?void 0:A.size}%`});return we(()=>h.value,A=>n({uid:c,size:A})),we(()=>p.value,A=>n({uid:c,min:A})),we(()=>b.value,A=>n({uid:c,max:A})),Ue(()=>{o({id:c,el:f.value,min:p.value,max:b.value,givenSize:s.size===void 0?null:h.value,size:h.value})}),Hn(()=>r(c)),(A,R)=>(y(),_("div",{ref_key:"paneEl",ref:f,class:"splitpanes__pane",onClick:R[0]||(R[0]=E=>I(a)(E,A._.uid)),style:Me(S.value)},[Qs(A.$slots,"default")],4))}},ds={ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},ru="info";class au{constructor(){this.allowedComponents=new Set,this.globalEnabled=!0,this.allowAll=!1,this.loadFromStorage()}enable(...e){e.forEach(s=>this.allowedComponents.add(s.toLowerCase())),this.saveToStorage(),console.log(" Logging enabled for:",e.join(", "))}disable(...e){e.forEach(s=>this.allowedComponents.delete(s.toLowerCase())),this.saveToStorage(),console.log(" Logging disabled for:",e.join(", "))}enableAll(){this.allowAll=!0,this.saveToStorage(),console.log(" Logging enabled for ALL components")}disableAll(){this.allowAll=!1,this.allowedComponents.clear(),this.saveToStorage(),console.log(" Logging disabled for ALL components (errors still show)")}status(){console.log(" Logging Status:"),console.log("  Global enabled:",this.globalEnabled),console.log("  Allow all:",this.allowAll),console.log("  Enabled components:",Array.from(this.allowedComponents).join(", ")||"none")}listComponents(){console.log(" Available components to filter:"),Array.from(this.registeredComponents||[]).sort().forEach(s=>{const n=this.isComponentEnabled(s);console.log(`  ${n?"":""} ${s}`)})}isComponentEnabled(e){return this.globalEnabled?this.allowAll?!0:this.allowedComponents.has(e.toLowerCase()):!1}registerComponent(e){this.registeredComponents||(this.registeredComponents=new Set),this.registeredComponents.add(e)}saveToStorage(){try{const e={allowedComponents:Array.from(this.allowedComponents),allowAll:this.allowAll,globalEnabled:this.globalEnabled};localStorage.setItem("sandbox_logging_filters",JSON.stringify(e))}catch{}}loadFromStorage(){try{const e=JSON.parse(localStorage.getItem("sandbox_logging_filters")||"{}");this.allowedComponents=new Set(e.allowedComponents||[]),this.allowAll=e.allowAll||!1,this.globalEnabled=e.globalEnabled!==!1,localStorage.getItem("sandbox_logging_filters")||(this.allowedComponents=new Set(["themeswitcher","codemirroreditor","editoradapter"]))}catch{this.allowedComponents=new Set(["themeswitcher","codemirroreditor","editoradapter"])}}}const Jt=new au;typeof window<"u"&&(window.logFilter={enable:(...t)=>Jt.enable(...t),disable:(...t)=>Jt.disable(...t),enableAll:()=>Jt.enableAll(),disableAll:()=>Jt.disableAll(),status:()=>Jt.status(),list:()=>Jt.listComponents()});class Zt{constructor(e={}){this.enabled=e.enabled!==!1,this.level=e.level||ru,this.prefix=e.prefix||"",this.component=this.prefix,this.redactSecrets=e.redactSecrets||!1,this.currentLevel=ds[this.level.toUpperCase()]??ds.INFO,this.component&&Jt.registerComponent(this.component)}shouldLog(e){if(e.toUpperCase()==="ERROR")return this.enabled&&ds[e.toUpperCase()]<=this.currentLevel;const s=!this.component||Jt.isComponentEnabled(this.component);return this.enabled&&s&&ds[e.toUpperCase()]<=this.currentLevel}redactArgs(e){return this.redactSecrets?e.map(s=>typeof s=="string"?s.replace(/\b[a-zA-Z0-9]{20,}\b/g,"[REDACTED]"):s):e}formatMessage(e,...s){const n=this.prefix?`[${this.prefix}] `:"",o=this.redactArgs(s);return[n+e,...o]}error(e,...s){this.shouldLog("error")&&console.error(...this.formatMessage(e,...s))}warn(e,...s){this.shouldLog("warn")&&console.warn(...this.formatMessage(e,...s))}info(e,...s){this.shouldLog("info")&&console.info(...this.formatMessage(e,...s))}log(e,...s){this.shouldLog("info")&&console.log(...this.formatMessage(e,...s))}debug(e,...s){this.shouldLog("debug")&&console.debug(...this.formatMessage(e,...s))}trace(e,...s){if(this.shouldLog("trace")){const n=this.redactSecrets;this.redactSecrets=!0,console.trace(...this.formatMessage(e,...s)),this.redactSecrets=n}}table(e,s){if(this.shouldLog("info")){const n=this.prefix?`[${this.prefix}]`:"";n&&console.log(n),console.table(e,s)}}group(e){this.shouldLog("info")&&console.group(...this.formatMessage(e))}groupCollapsed(e){this.shouldLog("info")&&console.groupCollapsed(...this.formatMessage(e))}groupEnd(){this.shouldLog("info")&&console.groupEnd()}time(e){this.shouldLog("debug")&&console.time(this.prefix?`[${this.prefix}] ${e}`:e)}timeEnd(e){this.shouldLog("debug")&&console.timeEnd(this.prefix?`[${this.prefix}] ${e}`:e)}setLevel(e){this.level=e,this.currentLevel=ds[e.toUpperCase()]??ds.INFO}enable(){this.enabled=!0}disable(){this.enabled=!1}isEnabled(){return this.enabled}}function qt(t={}){return new Zt(t)}class Ge{constructor(e){this.name=e,this.logger=qt(e),this.state=Vn({}),this.disposed=!1,this.watchers=[],this.computedRefs=new Map}init(){this.logger.debug(`Initializing ${this.name} controller`)}createState(e){return Object.assign(this.state,e),this.state}createComputed(e,s){const n=M(s.bind(this));return this.computedRefs.set(e,n),n}createWatcher(e,s,n={}){const o=we(e,s.bind(this),n);return this.watchers.push(o),o}getComputed(e){const s=this.computedRefs.get(e);return s?s.value:void 0}emit(e,s){if(this.disposed){this.logger.warn(`Cannot emit event '${e}' on disposed controller`);return}this.logger.debug(`Emitting event: ${e}`,s),this.eventHandlers&&this.eventHandlers[e]&&this.eventHandlers[e].forEach(n=>n(s))}on(e,s){return this.eventHandlers||(this.eventHandlers={}),this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(s),()=>{const n=this.eventHandlers[e].indexOf(s);n>-1&&this.eventHandlers[e].splice(n,1)}}async executeAsync(e,s="Operation failed"){try{return this.logger.debug("Executing async operation"),{success:!0,data:await e()}}catch(n){return this.logger.error(s,n),this.emit("error",{message:s,error:n}),{success:!1,error:n}}}validate(e,s){try{return{valid:!0,data:new e(s)}}catch(n){return this.logger.error(`Validation failed for ${e.name}:`,n.message),{valid:!1,error:n.message}}}async nextTick(){await We()}dispose(){this.logger.debug(`Disposing ${this.name} controller`),this.watchers.forEach(e=>e()),this.watchers=[],this.computedRefs.clear(),this.eventHandlers=null,this.disposed=!0}isDisposed(){return this.disposed}static generateId(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const s=Math.random()*16|0;return(e==="x"?s:s&3|8).toString(16)})}generateId(){return Ge.generateId()}}class lu extends Ge{constructor(){super("sidebar"),this.createState({activeTab:"collections"})}init(){this.logger.debug(`${this.name} controller initialized`)}switchTab(e){if(!["collections","environments","history"].includes(e)){this.logger.warn(`Invalid tab name: ${e}`);return}this.state.activeTab=e,this.logger.debug(`Switched to tab: ${e}`)}}const cu=new Zt({prefix:"BaseModel",level:"debug"});class te{constructor(e={}){this.validateAndAssign(e)}static generateId(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const s=Math.random()*16|0;return(e==="x"?s:s&3|8).toString(16)})}static getTimestamp(){return new Date().toISOString()}validateAndAssign(e){const s=this.constructor.schema||{};Object.entries(s).forEach(([n,o])=>{const i=e[n];if(o.required&&i===void 0&&o.default===void 0)throw new Error(`Required field '${n}' is missing in ${this.constructor.name}`);const r=i!==void 0?i:typeof o.default=="function"?o.default():o.default;if(r!==void 0){if(o.type&&!this.validateType(r,o.type))throw new Error(`Invalid type for '${n}' in ${this.constructor.name}. Expected ${o.type}`);if(o.enum&&!o.enum.includes(r))throw new Error(`Invalid value for '${n}' in ${this.constructor.name}. Must be one of: ${o.enum.join(", ")}`);if(o.validator&&!o.validator(r))throw new Error(`Validation failed for '${n}' in ${this.constructor.name}`);this[n]=r}})}validateType(e,s){return typeof s=="string"?s==="array"?Array.isArray(e):s==="object"?e===null||typeof e=="object"&&!Array.isArray(e):typeof e===s:typeof s=="function"?e instanceof s:!1}toJSON(){const e=this.constructor.schema||{},s={};return Object.keys(e).forEach(n=>{this[n]!==void 0&&(this[n]&&typeof this[n].toJSON=="function"?s[n]=this[n].toJSON():Array.isArray(this[n])?s[n]=this[n].map(o=>o&&typeof o.toJSON=="function"?o.toJSON():o):s[n]=this[n])}),s}clone(){return new this.constructor(JSON.parse(JSON.stringify(this.toJSON())))}update(e){const s=this.constructor.schema||{};return Object.entries(e).forEach(([n,o])=>{if(s[n]){if(s[n].type&&!this.validateType(o,s[n].type))throw new Error(`Invalid type for '${n}' in ${this.constructor.name}`);this[n]=o}}),this}static fromJSON(e){try{const s=JSON.parse(e);return new this(s)}catch(s){throw new Error(`Failed to parse JSON for ${this.name}: ${s.message}`)}}validate(){try{return this.validateAndAssign(this.toJSON()),!0}catch(e){return cu.error(`Validation error in ${this.constructor.name}:`,e.message),!1}}}const uu=["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS","CONNECT","TRACE"],du=["none","raw","form-data","x-www-form-urlencoded","binary"],fu=["none","basic","bearer","apikey","oauth2","hawk","awsv4","ntlm","digest"];class sn extends te{static schema={id:{type:"string",default:()=>te.generateId()},key:{type:"string",default:""},value:{type:"string",default:""},description:{type:"string",default:""},enabled:{type:"boolean",default:!0},type:{type:"string",default:"text"}}}class mt extends te{static schema={raw:{type:"string",default:""},protocol:{type:"string",default:"https"},host:{type:"array",default:[]},port:{type:"string",default:""},path:{type:"array",default:[]},query:{type:"array",default:[]},hash:{type:"string",default:""},variable:{type:"array",default:[]}};static fromString(e){if(!e)return new mt;try{const s=new URL(e.startsWith("http")?e:`https://${e}`);return new mt({raw:e,protocol:s.protocol.replace(":",""),host:s.hostname.split("."),port:s.port||"",path:s.pathname==="/"?[]:s.pathname.split("/").filter(Boolean),query:Array.from(s.searchParams.entries()).map(([n,o])=>new sn({key:n,value:o,enabled:!0}).toJSON()),hash:s.hash?s.hash.substring(1):""})}catch{return new mt({raw:e})}}toString(){if(this.raw)return this.raw;const e=this.protocol||"https",s=Array.isArray(this.host)?this.host.join("."):"",n=this.port?`:${this.port}`:"",o=Array.isArray(this.path)?`/${this.path.join("/")}`:"",i=Array.isArray(this.query)&&this.query.length>0?"?"+this.query.filter(a=>a.enabled).map(a=>`${a.key}=${a.value}`).join("&"):"",r=this.hash?`#${this.hash}`:"";return`${e}://${s}${n}${o}${i}${r}`}}class Mt extends te{static schema={type:{type:"string",enum:fu,default:"none"},basic:{type:"object",default:null},bearer:{type:"object",default:null},apikey:{type:"object",default:null},oauth2:{type:"object",default:null},hawk:{type:"object",default:null},awsv4:{type:"object",default:null},ntlm:{type:"object",default:null},digest:{type:"object",default:null}};static createBasic(e="",s=""){return new Mt({type:"basic",basic:{username:e,password:s}})}static createBearer(e=""){return new Mt({type:"bearer",bearer:{token:e}})}static createApiKey(e="",s="",n="header"){return new Mt({type:"apikey",apikey:{key:e,value:s,in:n}})}}class at extends te{static schema={mode:{type:"string",enum:du,default:"none"},raw:{type:"string",default:""},formData:{type:"array",default:[]},urlEncoded:{type:"array",default:[]},binary:{type:"object",default:null},options:{type:"object",default:null},disabled:{type:"boolean",default:!1}};static createRaw(e="",s="json"){return new at({mode:"raw",raw:e,options:{raw:{language:s}}})}static createFormData(e=[]){return new at({mode:"form-data",formData:e.map(s=>new sn(s).toJSON())})}static createUrlEncoded(e=[]){return new at({mode:"x-www-form-urlencoded",urlEncoded:e.map(s=>new sn(s).toJSON())})}static createBinary(e=null){return new at({mode:"binary",binary:e})}static createGraphQL(e="",s="{}"){return new at({mode:"graphql",graphql:{query:e,variables:s}})}}class Xo extends te{static schema={id:{type:"string",default:()=>te.generateId()},name:{type:"string",default:"New Request"},method:{type:"string",enum:uu,default:"GET"},url:{type:mt,default:()=>new mt},header:{type:"array",default:[]},body:{type:at,default:()=>new at},auth:{type:Mt,default:null},event:{type:"array",default:[]},description:{type:"string",default:""},protocolProfileBehavior:{type:"object",default:{}},createdAt:{type:"string",default:()=>te.getTimestamp()},updatedAt:{type:"string",default:()=>te.getTimestamp()}};constructor(e={}){e.id&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.url&&typeof e.url=="string"?e.url=mt.fromString(e.url):e.url&&!(e.url instanceof mt)&&(e.url=new mt(e.url)),e.body&&!(e.body instanceof at)&&(e.body=new at(e.body)),e.auth&&!(e.auth instanceof Mt)&&(e.auth=new Mt(e.auth)),e.header&&(e.header=e.header.map(s=>new sn(s).toJSON())),super(e)}addHeader(e,s,n=!0){return this.header.push(new sn({key:e,value:s,enabled:n}).toJSON()),this.updatedAt=te.getTimestamp(),this}removeHeader(e){return this.header=this.header.filter(s=>s.key!==e),this.updatedAt=te.getTimestamp(),this}setUrl(e){return this.url=mt.fromString(e),this.updatedAt=te.getTimestamp(),this}setBody(e){return e instanceof at?this.body=e:this.body=new at(e),this.updatedAt=te.getTimestamp(),this}setAuth(e){return e instanceof Mt?this.auth=e:this.auth=new Mt(e),this.updatedAt=te.getTimestamp(),this}getEnabledHeaders(){return this.header.filter(e=>e.enabled)}getUrlString(){return this.url instanceof mt?this.url.toString():this.url.raw||""}}class kt extends te{static schema={id:{type:"string",default:()=>te.generateId()},name:{type:"string",default:"New Folder"},description:{type:"string",default:""},item:{type:"array",default:[]},auth:{type:"object",default:null},event:{type:"array",default:[]},variable:{type:"array",default:[]},protocolProfileBehavior:{type:"object",default:{}}};addItem(e){return e instanceof Xo||e instanceof kt?this.item.push(e.toJSON()):this.item.push(e),this}removeItem(e){return this.item=this.item.filter(s=>s.id!==e),this}findItem(e){for(const s of this.item){if(s.id===e)return s;if(s.item&&Array.isArray(s.item)){const n=new kt(s).findItem(e);if(n)return n}}return null}getAllRequests(){const e=[];for(const s of this.item)if(s.request)e.push(s);else if(s.item&&Array.isArray(s.item)){const n=new kt(s).getAllRequests();e.push(...n)}return e}}class vn extends te{static schema={id:{type:"string",default:()=>te.generateId()},name:{type:"string",required:!0},description:{type:"string",default:""},schema:{type:"string",default:"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},version:{type:"object",default:()=>({major:1,minor:0,patch:0})},_postman_id:{type:"string",default:()=>te.generateId()}}}class pu extends te{static schema={id:{type:"string",default:()=>te.generateId()},key:{type:"string",required:!0},value:{type:"string",default:""},type:{type:"string",enum:["string","number","boolean","any"],default:"string"},disabled:{type:"boolean",default:!1}}}class Ws extends te{static schema={info:{type:vn,required:!0},item:{type:"array",default:[]},auth:{type:"object",default:null},event:{type:"array",default:[]},variable:{type:"array",default:[]},protocolProfileBehavior:{type:"object",default:{}},createdAt:{type:"string",default:()=>te.getTimestamp()},updatedAt:{type:"string",default:()=>te.getTimestamp()}};constructor(e={}){typeof e=="string"&&(e={info:{name:e}}),e.info&&e.info.id&&typeof e.info.id!="string"&&(e.info.id=String(e.info.id)),e.info&&e.info._postman_id&&typeof e.info._postman_id!="string"&&(e.info._postman_id=String(e.info._postman_id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.info?e.info instanceof vn||(e.info=new vn(e.info)):e.info=new vn({name:e.name||"New Collection"}),super(e)}addRequest(e){const s=e instanceof Xo?e.toJSON():e;return this.item.push(s),this.updatedAt=te.getTimestamp(),this}addFolder(e){const s=e instanceof kt?e.toJSON():e;return this.item.push(s),this.updatedAt=te.getTimestamp(),this}removeItem(e){const s=this.item.length;if(this.item=this.item.filter(n=>n.id!==e),this.item.length<s)this.updatedAt=te.getTimestamp();else for(let n of this.item)if(n.item&&Array.isArray(n.item)){const o=new kt(n);o.removeItem(e),n=o.toJSON(),this.updatedAt=te.getTimestamp()}return this}findItem(e,s=[]){for(let n=0;n<this.item.length;n++){const o=this.item[n],i=[...s,n];if(o.id===e)return{item:o,path:i};if(o.item&&Array.isArray(o.item)){const r=new kt(o),a=this.findItemInFolder(r,e,i);if(a)return a}}return null}findItemInFolder(e,s,n){for(let o=0;o<e.item.length;o++){const i=e.item[o],r=[...n,"item",o];if(i.id===s)return{item:i,path:r};if(i.item&&Array.isArray(i.item)){const a=new kt(i),c=this.findItemInFolder(a,s,r);if(c)return c}}return null}updateItem(e,s){const n=this.findItem(e);return n&&(Object.assign(n.item,s),this.updatedAt=te.getTimestamp()),this}getAllRequests(){const e=[];for(const s of this.item)if(s.request)e.push(s);else if(s.item&&Array.isArray(s.item)){const n=new kt(s).getAllRequests();e.push(...n)}return e}getAllFolders(){const e=[],s=n=>{for(const o of n)o.item&&Array.isArray(o.item)&&(e.push(o),s(o.item))};return s(this.item),e}addVariable(e,s,n="string"){const o=new pu({key:e,value:s,type:n});return this.variable.push(o.toJSON()),this.updatedAt=te.getTimestamp(),this}removeVariable(e){return this.variable=this.variable.filter(s=>s.key!==e),this.updatedAt=te.getTimestamp(),this}getVariable(e){const s=this.variable.find(n=>n.key===e&&!n.disabled);return s?s.value:void 0}export(){const e={info:this.info.toJSON(),item:this.item,auth:this.auth,event:this.event,variable:this.variable};return Object.keys(this.protocolProfileBehavior).length>0&&(e.protocolProfileBehavior=this.protocolProfileBehavior),e}static import(e){return new Ws(e)}}const cn={COLLECTIONS:"toastman_collections",ENVIRONMENTS:"toastman_environments",ACTIVE_ENVIRONMENT:"toastman_active_environment",TABS:"toastman_tabs",CONVERSATIONS:"toastman_conversations"},uo=new EventTarget;function Ji(t,e=null){try{return t?JSON.parse(t):e}catch(s){return qt("storage").warn("Failed to parse JSON from localStorage:",s),e}}function hu(t){try{return JSON.stringify(Se(t))}catch(e){return qt("storage").error("Failed to stringify JSON for localStorage:",e),null}}function un(t,e=null,s={}){const n=qt("storage"),{immediate:o=!0,deep:i=!0,debounce:r=100}=s,a=Ji(localStorage.getItem(t),e),c=oe(a);let d=!1,u=null;const f=()=>{d||(clearTimeout(u),u=setTimeout(()=>{const S=hu(c.value);S!==null?(n.debug(`Saving to ${t}`,c.value),localStorage.setItem(t,S),n.info(`Saved to localStorage - key=${t}, size=${S.length}`),uo.dispatchEvent(new CustomEvent("storage-change",{detail:{key:t,value:c.value}}))):n.error(`Failed to stringify data for ${t}`)},r))};o&&we(c,f,{deep:i});const h=S=>{if(S.key===t&&S.newValue!==null){const A=Ji(S.newValue,e);d=!0,c.value=A,We(()=>{d=!1})}};window.addEventListener("storage",h);const p=S=>{};return uo.addEventListener("storage-change",p),{data:c,save:()=>f(),cleanup:()=>{clearTimeout(u),window.removeEventListener("storage",h),uo.removeEventListener("storage-change",p)},key:t}}function mu(){const t=un(cn.COLLECTIONS,[]);return Array.isArray(t.data.value)||(t.data.value=[]),t}function gu(){const t=un(cn.ENVIRONMENTS,[]);return Array.isArray(t.data.value)||(t.data.value=[]),t}function vu(){return un(cn.ACTIVE_ENVIRONMENT,null)}function yu(){const t=un(cn.TABS,[]);return Array.isArray(t.data.value)||(t.data.value=[]),t}function bu(){const t=un(cn.CONVERSATIONS,[]);return Array.isArray(t.data.value)||(t.data.value=[]),t}function Pe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}function xs(t="",e="",s=!0){return{key:t,value:e,enabled:s,id:Pe()}}function Kn(t=""){try{const e=/\{\{[^}]+\}\}/.test(t),s=new Map;let n=t;if(e){let c=0;n=t.replace(/\{\{([^}]+)\}\}/g,d=>{const u=`__VAR_PLACEHOLDER_${c++}__`;return s.set(u,d),u})}const o=new URL(n.startsWith("http")?n:`https://${n||"example.com"}`),i=[];o.searchParams.forEach((c,d)=>{let u=d,f=c;s.forEach((h,p)=>{u=u.replace(p,h),f=f.replace(p,h)}),i.push(xs(u,f,!0))});let r=o.origin+o.pathname;s.forEach((c,d)=>{r=r.replace(d,c)});let a=o.pathname;return s.forEach((c,d)=>{a=a.replace(d,c)}),{raw:r,protocol:o.protocol.replace(":",""),host:o.hostname.split("."),port:o.port||void 0,path:a==="/"?[]:a.split("/").filter(Boolean),query:i,hash:o.hash?o.hash.substring(1):void 0}}catch{return{raw:t,protocol:"https",host:["example","com"],port:void 0,path:[],query:[],hash:void 0}}}function Xn(t="none"){const e={mode:t,disabled:!1};switch(t){case"raw":e.raw="",e.options={raw:{language:"json"}};break;case"urlencoded":e.urlencoded=[];break;case"formdata":e.formdata=[];break;case"binary":e.file=null;break;case"graphql":e.graphql={query:"",variables:""};break}return e}function Cn({method:t="GET",url:e="",headers:s=[],body:n=null,auth:o=null}={}){return{method:t,header:s.length?s:[xs("Content-Type","application/json")],url:typeof e=="string"?Kn(e):e,body:n||Xn(),auth:o||null,description:""}}function Wi({name:t="New Request",request:e=null,response:s=[]}={}){return{id:Pe(),name:t,request:e||Cn(),response:s,event:[],protocolProfileBehavior:{}}}function wu(t="New Collection"){return{id:Pe(),name:t,description:"",schema:"https://schema.getpostman.com/json/collection/v2.1.0/collection.json",version:{major:1,minor:0,patch:0}}}function xu(t="New Collection"){return{info:wu(t),item:[],auth:null,event:[],variable:[],protocolProfileBehavior:{}}}function Cu({itemId:t=null,collectionId:e=null,conversationId:s=null,name:n="New Request",method:o="GET",saved:i=!1}={}){return{id:Pe(),itemId:t,collectionId:e,conversationId:s,name:n,method:o,saved:i,active:!1,modified:!1}}const qo={urlencoded:"x-www-form-urlencoded",formdata:"form-data",file:"binary",raw:"raw",graphql:"graphql"},Su=Object.fromEntries(Object.entries(qo).map(([t,e])=>[e,t])),_u=["oauth1","oauth2"],Tu=["edgegrid"];class Sn{static import(e){const s=[],n=[];if(!e||typeof e!="object")return n.push({type:"structure",message:"Invalid collection data: expected object"}),{collection:null,warnings:s,errors:n};if(!e.info||!e.info.name)return n.push({type:"structure",message:"Invalid collection format: missing info.name"}),{collection:null,warnings:s,errors:n};const o=JSON.parse(JSON.stringify(e));if(o.info.id=Pe(),o.info._postman_id=o.info._postman_id||Pe(),o.event&&o.event.length>0&&s.push({type:"scripts",message:"Collection-level scripts detected. Scripts are stored but not executed."}),o.auth){const i=this._checkAuthSupport(o.auth,"collection");i&&s.push(i),o.auth=this._normalizeAuth(o.auth)}if(o.variable&&o.variable.length>0&&(o.variable=o.variable.map(i=>this._normalizeVariable(i))),o.item){const{items:i,itemWarnings:r}=this._processItems(o.item);o.item=i,s.push(...r)}return{collection:o,warnings:s,errors:n}}static export(e){const s=JSON.parse(JSON.stringify(e));return s.info&&(s.info.schema=s.info.schema||"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"),s.item&&(s.item=this._exportItems(s.item)),s.auth&&(s.auth=this._denormalizeAuth(s.auth)),s.variable&&(s.variable=s.variable.map(n=>this._denormalizeVariable(n))),s._postman_exported_at=new Date().toISOString(),s._postman_exported_using="ToastMan",delete s.createdAt,delete s.updatedAt,s}static _processItems(e){const s=[],n=[];for(const o of e)if(o.item&&Array.isArray(o.item)){const i={id:Pe(),name:o.name||"Unnamed Folder",type:"folder",description:this._normalizeDescription(o.description),item:[]};if(o.auth){const c=this._checkAuthSupport(o.auth,`folder "${o.name}"`);c&&n.push(c),i.auth=this._normalizeAuth(o.auth)}o.event&&o.event.length>0&&(n.push({type:"scripts",message:`Folder "${o.name}" has scripts. Scripts are stored but not executed.`,item:o.name}),i.event=o.event);const{items:r,itemWarnings:a}=this._processItems(o.item);i.item=r,n.push(...a),s.push(i)}else{const{request:i,requestWarnings:r}=this._processRequest(o);s.push(i),n.push(...r)}return{items:s,itemWarnings:n}}static _processRequest(e){const s=[],n={id:Pe(),name:e.name||"Unnamed Request",type:"request",description:this._normalizeDescription(e.description)};if(e.request?typeof e.request=="string"?n.request={method:"GET",url:this._normalizeUrl(e.request),header:[],body:null}:n.request=this._normalizeRequestObject(e.request,e.name,s):(n.request=this._createDefaultRequest(),s.push({type:"missing",message:`Request "${e.name}" has no request data. Created default GET request.`,item:e.name})),e.event&&e.event.length>0){const o=e.event.some(r=>r.listen==="prerequest"),i=e.event.some(r=>r.listen==="test");if(o||i){const r=[];o&&r.push("pre-request"),i&&r.push("test"),s.push({type:"scripts",message:`Request "${e.name}" has ${r.join(" and ")} scripts. Scripts are stored but not executed.`,item:e.name})}n.event=e.event}return e.response&&e.response.length>0&&(n.response=e.response,s.push({type:"responses",message:`Request "${e.name}" has ${e.response.length} saved response(s). Responses are stored for reference.`,item:e.name})),e.protocolProfileBehavior&&(n.protocolProfileBehavior=e.protocolProfileBehavior),{request:n,requestWarnings:s}}static _normalizeRequestObject(e,s,n){const o={method:e.method||"GET",url:this._normalizeUrl(e.url),header:this._normalizeHeaders(e.header),body:this._normalizeBody(e.body,s,n)};if(e.auth){const i=this._checkAuthSupport(e.auth,`request "${s}"`);i&&n.push(i),o.auth=this._normalizeAuth(e.auth)}return e.description&&(o.description=this._normalizeDescription(e.description)),e.proxy&&n.push({type:"proxy",message:`Request "${s}" has proxy configuration. Proxy settings are not supported.`,item:s}),e.certificate&&n.push({type:"certificate",message:`Request "${s}" has SSL certificate configuration. Certificates are not supported.`,item:s}),o}static _normalizeUrl(e){if(!e)return{raw:"",query:[]};if(typeof e=="string")return{raw:e,query:[]};const s={raw:e.raw||"",query:[]};if(!s.raw&&e.protocol&&e.host){const n=Array.isArray(e.host)?e.host.join("."):e.host,o=e.path?Array.isArray(e.path)?e.path.join("/"):e.path:"",i=e.port?`:${e.port}`:"";s.raw=`${e.protocol}://${n}${i}/${o}`}return e.query&&Array.isArray(e.query)&&(s.query=e.query.map(n=>({key:n.key||"",value:n.value||"",enabled:n.disabled!==!0,description:this._normalizeDescription(n.description)}))),e.protocol&&(s.protocol=e.protocol),e.host&&(s.host=e.host),e.path&&(s.path=e.path),e.port&&(s.port=e.port),e.hash&&(s.hash=e.hash),e.variable&&(s.variable=e.variable),s}static _normalizeHeaders(e){return e?typeof e=="string"?[]:e.map(s=>({key:s.key||"",value:s.value||"",enabled:s.disabled!==!0,description:this._normalizeDescription(s.description)})):[]}static _normalizeBody(e,s,n){if(!e||e.disabled)return null;const o={mode:qo[e.mode]||e.mode||"none"};switch(e.mode){case"raw":o.raw=e.raw||"",e.options?.raw?.language&&(o.options={raw:{language:e.options.raw.language}});break;case"urlencoded":o.urlEncoded=(e.urlencoded||[]).map(i=>({key:i.key||"",value:i.value||"",enabled:i.disabled!==!0,description:this._normalizeDescription(i.description)}));break;case"formdata":o.formData=(e.formdata||[]).map(i=>{const r={key:i.key||"",enabled:i.disabled!==!0,type:i.type||"text",description:this._normalizeDescription(i.description)};return i.type==="file"?r.src=i.src:r.value=i.value||"",r});break;case"file":o.binary=e.file||null;break;case"graphql":o.graphql={query:e.graphql?.query||"",variables:e.graphql?.variables||""};break;default:e.mode&&!qo[e.mode]&&n.push({type:"body",message:`Request "${s}" has unknown body mode "${e.mode}".`,item:s})}return o}static _checkAuthSupport(e,s){return!e||!e.type||e.type==="noauth"||e.type==="none"?null:Tu.includes(e.type)?{type:"auth",message:`${s} uses ${e.type} authentication which is not supported.`,item:s}:_u.includes(e.type)?{type:"auth",message:`${s} uses ${e.type} authentication. Token must be obtained manually.`,item:s}:null}static _normalizeAuth(e){if(!e||!e.type)return null;const s={type:e.type==="noauth"?"none":e.type},n=e[e.type];if(Array.isArray(n)){s[e.type]={};for(const o of n)o.key&&(s[e.type][o.key]=o.value)}else n&&typeof n=="object"&&(s[e.type]=n);return s}static _denormalizeAuth(e){if(!e||!e.type||e.type==="none")return{type:"noauth"};const s={type:e.type},n=e[e.type];return n&&typeof n=="object"&&!Array.isArray(n)?s[e.type]=Object.entries(n).map(([o,i])=>({key:o,value:i,type:"string"})):s[e.type]=n,s}static _normalizeVariable(e){return{id:e.id||Pe(),key:e.key||"",value:e.value||"",type:e.type||"string",enabled:e.disabled!==!0,description:this._normalizeDescription(e.description)}}static _denormalizeVariable(e){const s={id:e.id,key:e.key,value:e.value,type:e.type||"string"};return e.enabled===!1&&(s.disabled=!0),s}static _normalizeDescription(e){return e?typeof e=="string"?e:typeof e=="object"&&e.content?e.content:"":""}static _createDefaultRequest(){return{method:"GET",url:{raw:"",query:[]},header:[],body:null}}static _exportItems(e){return e.map(s=>{if(s.type==="folder"||s.item&&Array.isArray(s.item)){const n={name:s.name,item:this._exportItems(s.item||[])};return s.description&&(n.description=s.description),s.auth&&(n.auth=this._denormalizeAuth(s.auth)),s.event&&(n.event=s.event),n}else return this._exportRequestItem(s)})}static _exportRequestItem(e){const s={name:e.name,request:this._exportRequest(e.request)};return e.description&&(s.description=e.description),e.event&&(s.event=e.event),e.response&&(s.response=e.response),e.protocolProfileBehavior&&(s.protocolProfileBehavior=e.protocolProfileBehavior),s}static _exportRequest(e){if(!e)return{method:"GET",url:""};const s={method:e.method||"GET",url:this._exportUrl(e.url),header:this._exportHeaders(e.header)};return e.body&&(s.body=this._exportBody(e.body)),e.auth&&(s.auth=this._denormalizeAuth(e.auth)),e.description&&(s.description=e.description),s}static _exportUrl(e){if(!e)return"";if(typeof e=="string")return e;const s={raw:e.raw||""};return e.protocol&&(s.protocol=e.protocol),e.host&&(s.host=e.host),e.path&&(s.path=e.path),e.port&&(s.port=e.port),e.hash&&(s.hash=e.hash),e.query&&e.query.length>0&&(s.query=e.query.map(n=>{const o={key:n.key,value:n.value};return n.enabled===!1&&(o.disabled=!0),o})),e.variable&&(s.variable=e.variable),s}static _exportHeaders(e){return e?e.map(s=>{const n={key:s.key,value:s.value};return s.enabled===!1&&(n.disabled=!0),n}):[]}static _exportBody(e){if(!e||e.mode==="none")return null;const n={mode:Su[e.mode]||e.mode};switch(e.mode){case"raw":n.raw=e.raw||"",e.options&&(n.options=e.options);break;case"x-www-form-urlencoded":n.urlencoded=(e.urlEncoded||[]).map(o=>({key:o.key,value:o.value,disabled:o.enabled===!1}));break;case"form-data":n.formdata=(e.formData||[]).map(o=>({key:o.key,value:o.value,type:o.type||"text",src:o.src,disabled:o.enabled===!1}));break;case"binary":n.file=e.binary;break;case"graphql":n.graphql=e.graphql;break}return n}static summarizeWarnings(e){const s={total:e.length,byType:{},messages:[]};for(const n of e)s.byType[n.type]=(s.byType[n.type]||0)+1,s.messages.push(n.message);return s}}let fo=null;function Es(){return fo||(fo=Eu()),fo}function Eu(){const t=qt("collections"),{data:e}=mu(),s=M(()=>{const W=e.value||[];t.debug("allCollections computed - raw collections.value:",W),t.debug("allCollections computed - is array:",Array.isArray(W));const X=W.filter(z=>z&&z.info&&z.info.id);return t.debug("allCollections computed - filtered result:",X.length,"items"),X}),n=M(()=>s.value.reduce((W,X)=>W+(X.item?.length||0),0)),o=(W="New Collection")=>{t.info("Creating collection with name:",W);const X=xu(W);return t.debug("Created collection object:",X),e.value||(e.value=[]),e.value.push(X),t.info("Collections array after push - length:",e.value.length),t.debug("Full collections array:",e.value),X},i=W=>e.value.find(X=>X.info.id===W),r=(W,X)=>{const z=i(W);return z&&Object.assign(z.info,X),z},a=W=>{const X=e.value.findIndex(z=>z.info.id===W);return X>-1?(e.value.splice(X,1),!0):!1},c=W=>{const X=i(W);if(X){const z=JSON.parse(JSON.stringify(X));return z.info.id=Pe(),z.info.name=`${X.info.name} Copy`,z.item=z.item.map(H=>({...H,id:Pe()})),e.value.push(z),z}return null},d=(W,X=null)=>{const z=i(W);if(z){const H=Wi({name:"New Request",request:X||Cn()});return z.item.push(H),H}return null},u=(W,X)=>{const z=i(W);if(z){const H=se=>{for(const de of se){if(de.id===X&&(de.type==="request"||!de.type&&de.request))return de;if((de.type==="folder"||!de.type&&de.item)&&de.item){const Te=H(de.item);if(Te)return Te}}return null};return H(z.item||[])}return null},f=(W,X,z)=>{const H=u(W,X);return H&&(z.name!==void 0&&(H.name=z.name),z.request&&h(H.request,z.request)),H},h=(W,X)=>{for(const z in X)if(Object.prototype.hasOwnProperty.call(X,z)){const H=X[z],se=W[z];p(H)&&p(se)?h(se,H):W[z]=H}},p=W=>W!==null&&typeof W=="object"&&!Array.isArray(W)&&Object.prototype.toString.call(W)==="[object Object]",b=(W,X)=>{const z=i(W);if(z){const H=z.item.findIndex(se=>se.id===X);if(H>-1)return z.item.splice(H,1),!0}return!1},S=(W,X)=>{const z=u(W,X);if(z){const H=JSON.parse(JSON.stringify(z));H.id=Pe(),H.name=`${z.name} Copy`;const se=i(W);if(se)return se.item.push(H),H}return null},A=(W,X,z)=>{const H=i(W),se=i(X);if(H&&se){const de=H.item.findIndex(Te=>Te.id===z);if(de>-1){const[Te]=H.item.splice(de,1);return se.item.push(Te),Te}}return null},R=W=>{const X=[],z=W.toLowerCase();return e.value.forEach(H=>{H.item.forEach(se=>{const de=se.name.toLowerCase().includes(z),Te=se.request?.url?.raw?.toLowerCase().includes(z)||!1,ae=(se.request?.method||se.method||"").toLowerCase().includes(z);(de||Te||ae)&&X.push({collection:H.info,item:se})})}),X},E=W=>{const X=[];return e.value.forEach(z=>{z.item.forEach(H=>{(H.request?.method||H.method)===W&&X.push({collection:z.info,item:H})})}),X},w=(W,X)=>{const z=i(W);if(!z)return null;const H=se=>{for(const de of se){if(de.id===X)return{item:de,parent:se};if(de.item&&Array.isArray(de.item)){const Te=H(de.item);if(Te)return Te}}return null};return H(z.item||[])},v=(W,X,z=null)=>{const H=w(W,X);if(H&&H.item.item){const se=Wi({name:"New Request",request:z||Cn()});return H.item.item.push(se),se}return null},T=(W,X="New Folder")=>{const z=i(W);if(z){const H={id:Pe(),name:X,type:"folder",item:[]};return z.item.push(H),H}return null},O=(W,X,z="New Folder")=>{const H=w(W,X);if(H&&H.item.item){const se={id:Pe(),name:z,type:"folder",item:[]};return H.item.item.push(se),se}return null},P=(W,X,z)=>{const H=w(W,X);return H?(H.item.name=z,H.item):null},J=(W,X)=>{const z=w(W,X);if(z){const H=JSON.parse(JSON.stringify(z.item)),se=de=>{de.id=Pe(),de.item&&Array.isArray(de.item)&&de.item.forEach(se)};return se(H),H.name=`${H.name} Copy`,z.parent.push(H),H}return null},L=(W,X)=>{const z=w(W,X);if(z){const H=z.parent.indexOf(z.item);if(H>-1)return z.parent.splice(H,1),!0}return!1},x=W=>{const X=i(W);return X?{...X,_postman_exported_at:new Date().toISOString(),_postman_exported_using:"ToastMan"}:null},C=(W,X={})=>{const{appendImportedSuffix:z=!0}=X;try{t.info("Importing collection using PostmanAdapter");const H=Sn.import(W);if(H.errors.length>0&&!H.collection){const de=H.errors.map(Te=>Te.message).join("; ");throw new Error(de)}const se=H.collection;if(z&&(se.info.name=`${se.info.name} (Imported)`),H.warnings.length>0){const de=Sn.summarizeWarnings(H.warnings);t.info(`Collection imported with ${de.total} warning(s):`,de.byType),H.warnings.forEach(Te=>{t.debug(`[${Te.type}] ${Te.message}`)})}return e.value.push(se),t.info("Successfully imported collection:",se.info.name),{collection:se,warnings:H.warnings,errors:H.errors}}catch(H){throw t.error("Failed to import collection:",H),H}},$=W=>{const X=i(W);return X?Sn.export(X):null},re=async()=>{if(await We(),!e.value||e.value.length===0){const W=o("My Collection");d(W.info.id,Cn({method:"GET",url:"https://api.example.com/users"}))}};return t.info("Collections store initialized, current data length:",e.value?.length||0),{collections:s,totalRequests:n,createCollection:o,getCollection:i,updateCollection:r,deleteCollection:a,duplicateCollection:c,addRequest:d,getRequest:u,updateRequest:f,deleteRequest:b,duplicateRequest:S,moveRequest:A,addFolderToCollection:T,addRequestToFolder:v,addFolderToFolder:O,renameFolder:P,duplicateFolder:J,deleteFolder:L,searchRequests:R,getRequestsByMethod:E,exportCollection:x,exportCollectionToPostman:$,importCollection:C,initializeDefaultData:re}}let po=null;function nn(){return po||(po=Au()),po}function Au(){const t=qt("tabs"),{data:e}=yu(),s=Es(),n=M(()=>e.value||[]),o=M(()=>n.value.find(x=>x.active)),i=M(()=>n.value.filter(x=>!x.closed)),r=M(()=>n.value.filter(x=>!x.saved&&x.modified)),a=({itemId:x=null,collectionId:C=null,conversationId:$=null,name:re="New Request",method:W="GET"}={})=>{n.value.forEach(z=>{z.active=!1});const X=Cu({itemId:x,collectionId:C,conversationId:$,name:re,method:W});return X.active=!0,e.value.push(X),X},c=(x,C)=>{const $=s.getCollection(x),re=s.getRequest(x,C);if(!$||!re)return t.warn("Collection or request not found - collection:",!!$,"request:",!!re),null;t.debug("Opening request with structure:",{requestId:C,requestName:re.name,hasNestedRequest:!!re.request,requestMethod:re.request?.method||re.method,requestStructure:Object.keys(re)});const W=n.value.find(z=>z.itemId===C&&z.collectionId===x);return W?(u(W.id),W):a({itemId:C,collectionId:x,name:re.name||"Unnamed Request",method:re.request?.method||re.method||"GET"})},d=x=>n.value.find(C=>C.id===x),u=x=>{n.value.forEach(C=>{C.active=C.id===x})},f=(x,C)=>{const $=d(x);return $&&(Object.assign($,C),$.itemId&&C.name!==void 0&&($.modified=!0)),$},h=x=>{const C=e.value.findIndex(W=>W.id===x);if(C===-1)return!1;const re=e.value[C].active;if(e.value.splice(C,1),re&&e.value.length>0){const W=e.value[Math.max(0,C-1)];u(W.id)}return!0},p=()=>{e.value.length=0},b=x=>{const C=d(x);C&&(e.value.length=0,e.value.push(C),u(x))},S=x=>{const C=d(x);if(C){const $=a({itemId:C.itemId,collectionId:C.collectionId,name:`${C.name} Copy`,method:C.method});return $.saved=!1,$.modified=!0,$}return null},A=x=>{const C=d(x);C&&(C.saved=!0,C.modified=!1)},R=x=>{const C=d(x);C&&(C.modified=!0)},E=x=>{const C=d(x);if(C&&C.itemId&&C.collectionId){const $=s.getRequest(C.collectionId,C.itemId);$&&(C.name=$.name,C.method=$.request?.method||$.method||"GET",C.saved=!0,C.modified=!1)}},w=x=>{const C=n.value.findIndex($=>$.id===x);return C>=0&&C<n.value.length-1?n.value[C+1]:null},v=x=>{const C=n.value.findIndex($=>$.id===x);return C>0?n.value[C-1]:null},T=(x,C)=>{const $=n.value.findIndex(re=>re.id===x);if($>=0&&C>=0&&C<n.value.length){const[re]=n.value.splice($,1);n.value.splice(C,0,re)}},O=x=>{const C=d(x);if(!C)return null;if(C.itemId&&C.collectionId)return s.updateRequest(C.collectionId,C.itemId,{name:C.name}),A(x),{action:"updated",tab:C};{let $=C.collectionId;$||(s.collections.value.length===0?$=s.createCollection("My Collection").info.id:$=s.collections.value[0].info.id);const re=s.addRequest($);if(re)return s.updateRequest($,re.id,{name:C.name}),C.itemId=re.id,C.collectionId=$,A(x),{action:"created",tab:C,request:re}}return null},P=()=>{const x=[];return r.value.forEach(C=>{const $=O(C.id);$&&x.push($)}),x},J=()=>{const x=[];return n.value.forEach(C=>{if(C.itemId&&C.collectionId){if(!s.getCollection(C.collectionId)){x.push(C.id);return}s.getRequest(C.collectionId,C.itemId)||x.push(C.id)}}),x.forEach(C=>{h(C)}),x.length};we(()=>s.collections.value,()=>{We(()=>{n.value.forEach(x=>{x.itemId&&x.collectionId&&E(x.id)}),J()})},{deep:!0});const L=async()=>{if(await We(),n.value.length===0){t.info("Creating initial tab...");const x=a({name:"New Request",method:"GET"});t.info("Created initial tab with ID:",x.id)}else!o.value&&n.value.length>0&&u(n.value[0].id)};return t.info("Tabs store initialized, current tab count:",n.value.length),{tabs:n,activeTab:o,activeTabs:i,unsavedTabs:r,createTab:a,openRequest:c,getTab:d,setActiveTab:u,updateTab:f,closeTab:h,closeAllTabs:p,closeOtherTabs:b,duplicateTab:S,markTabAsSaved:A,markTabAsModified:R,syncTabWithRequest:E,getNextTab:w,getPreviousTab:v,moveTab:T,saveTab:O,saveAllTabs:P,cleanupOrphanedTabs:J,initializeDefaultData:L}}class ku extends Ge{constructor(){super("collections"),this.createState({expandedCollections:new Set,showNewCollectionDialog:!1,searchQuery:"",filterMethod:null}),this.collectionsStore=Es(),this.tabsStore=nn()}init(){super.init(),this.collectionsStore||(this.collectionsStore=Es()),this.tabsStore||(this.tabsStore=nn()),this.logger.debug("Initializing computed properties"),this.logger.debug("Collections store available:",!!this.collectionsStore),this.logger.debug("Store collections value:",this.collectionsStore?.collections?.value),this.collections=this.createComputed("collections",()=>{if(!this.collectionsStore)return this.logger.warn("Collections store not available"),[];const e=this.collectionsStore.collections.value||[];if(this.logger.debug("Raw collections from store:",e.length,"items"),this.logger.debug("Collections data:",JSON.stringify(e)),!Array.isArray(e))return this.logger.warn("Collections is not an array:",e),[];const s=e.map(n=>{try{return new Ws(n)}catch(o){return this.logger.error("Failed to parse collection:",o),n}});return this.logger.debug("Processed collections:",s.length,"items"),s}),this.logger.debug("Collections computed created, test value:",this.getComputed("collections")),this.filteredCollections=this.createComputed("filteredCollections",()=>{const e=this.getComputed("collections");if(!e||!Array.isArray(e))return[];const s=this.state.searchQuery.toLowerCase();return!s&&!this.state.filterMethod?e:e.map(n=>{try{const o=new Ws(n.toJSON());return o.item=this.filterItems(n.item,s,this.state.filterMethod),o}catch(o){return this.logger.error("Failed to filter collection:",o),n}}).filter(n=>n.item&&n.item.length>0)}),this.createWatcher(()=>this.getComputed("collections"),(e,s)=>{if(e&&e.length>0&&(!s||s.length===0)&&this.state&&this.state.expandedCollections&&this.state.expandedCollections.size===0){const n=e[0];n?.info?.id&&(this.logger.info("Auto-expanding first collection:",n.info.name),this.state.expandedCollections.add(n.info.id))}},{immediate:!1})}filterItems(e,s,n){return e?e.filter(o=>{if(o.item&&Array.isArray(o.item)){const r=new kt(o);return this.filterItems(r.item,s,n).length>0}if(!o.request)return!1;const i=new Xo(o.request);if(n&&i.method!==n)return!1;if(s){const r=(o.name||"").toLowerCase(),a=i.getUrlString().toLowerCase(),c=(i.description||"").toLowerCase();return r.includes(s)||a.includes(s)||c.includes(s)}return!0}):[]}toggleCollection(e){this.state.expandedCollections.has(e)?(this.state.expandedCollections.delete(e),this.logger.debug(`Collapsed collection: ${e}`)):(this.state.expandedCollections.add(e),this.logger.debug(`Expanded collection: ${e}`))}isCollectionExpanded(e){return this.state.expandedCollections.has(e)}openRequest(e,s){this.logger.info(`Opening request: ${s} from collection: ${e}`),this.tabsStore.openRequest(e,s),this.emit("requestOpened",{collectionId:e,requestId:s})}async createCollection(e){const s=await this.executeAsync(async()=>{const n=this.validate(Ws,{info:{name:e}});if(!n.valid)throw new Error(n.error);const o=this.collectionsStore.createCollection(e);return this.logger.info("Created collection:",o?.info?.name,"with ID:",o?.info?.id),o?.info?.id&&this.state.expandedCollections.add(o.info.id),o},"Failed to create collection");return s.success&&(this.state.showNewCollectionDialog=!1,this.emit("collectionCreated",s.data)),s}async deleteCollection(e){const s=await this.executeAsync(async()=>{this.collectionsStore.deleteCollection(e),this.state.expandedCollections.delete(e),this.logger.info(`Deleted collection: ${e}`)},"Failed to delete collection");return s.success&&this.emit("collectionDeleted",e),s}searchCollections(e){this.state.searchQuery=e,this.logger.debug("Searching collections with query:",e)}filterByMethod(e){this.state.filterMethod=e,this.logger.debug("Filtering by method:",e)}clearFilters(){this.state.searchQuery="",this.state.filterMethod=null,this.logger.debug("Cleared filters")}toggleNewCollectionDialog(e){this.state.showNewCollectionDialog=e}getMethodColor(e){return{GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)",HEAD:"var(--color-head)",OPTIONS:"var(--color-options)"}[e]||"var(--color-text-secondary)"}addFolderToCollection(e,s){this.logger.info(`Adding folder to collection ${e}: ${s}`);const n=this.collectionsStore.addFolderToCollection(e,s);return n&&this.emit("folderAddedToCollection",{collectionId:e,folder:n}),n}addRequestToFolder(e,s){this.logger.info(`Adding request to folder ${s} in collection ${e}`);const n=this.collectionsStore.addRequestToFolder(e,s);return n&&this.emit("requestAddedToFolder",{collectionId:e,folderId:s,request:n}),n}addFolderToFolder(e,s,n="New Folder"){this.logger.info(`Adding folder to folder ${s} in collection ${e}`);const o=this.collectionsStore.addFolderToFolder(e,s,n);return o&&this.emit("folderAddedToFolder",{collectionId:e,parentFolderId:s,folder:o}),o}async renameFolder(e,s,n){if(n&&n.trim()){this.logger.info(`Renaming folder ${s} to ${n}`);const o=this.collectionsStore.renameFolder(e,s,n.trim());return o&&this.emit("folderRenamed",{collectionId:e,folderId:s,folder:o}),o}return null}duplicateFolder(e,s){this.logger.info(`Duplicating folder ${s} in collection ${e}`);const n=this.collectionsStore.duplicateFolder(e,s);return n&&this.emit("folderDuplicated",{collectionId:e,originalFolderId:s,duplicatedFolder:n}),n}async deleteFolder(e,s){this.logger.info(`Deleting folder ${s} from collection ${e}`);const n=this.collectionsStore.deleteFolder(e,s);return n&&this.emit("folderDeleted",{collectionId:e,folderId:s}),n}}class $u extends Ge{constructor(){super("CollectionsTabController"),this.collectionsController=new ku,this.init()}init(){super.init(),this.collectionsController.init(),this.createState({contextMenuRefs:{collection:null,request:null,folder:null},showNewFolderDialog:!1,newFolderDialogData:null}),this.collectionsController.on("collectionCreated",e=>{this.emit("collectionCreated",e)}),this.collectionsController.on("collectionDeleted",e=>{this.emit("collectionDeleted",e)})}setContextMenuRefs(e,s,n){this.state.contextMenuRefs.collection=e,this.state.contextMenuRefs.request=s,this.state.contextMenuRefs.folder=n,e?.controller&&e.controller.on("showFolderDialog",o=>{this.showNewFolderDialog(o)}),n?.controller&&n.controller.on("showFolderDialog",o=>{this.showNewFolderDialog(o)})}getComputed(e){return this.collectionsController.getComputed(e)}toggleCollection(e){return this.collectionsController.toggleCollection(e)}openRequest(e,s){return this.collectionsController.openRequest(e,s)}toggleNewCollectionDialog(e){return this.collectionsController.toggleNewCollectionDialog(e)}isCollectionExpanded(e){return this.collectionsController.isCollectionExpanded(e)}getMethodColor(e){return this.collectionsController.getMethodColor(e)}async createCollection(e){return this.collectionsController.createCollection(e)}async deleteCollection(e){return this.collectionsController.deleteCollection(e)}showContextMenu(e,s){const n=this.state.contextMenuRefs.collection;n&&n.show(e,s)}showRequestContextMenu(e,s,n){e.stopPropagation();const o=this.state.contextMenuRefs.request;o&&o.show(e,s,n)}showFolderContextMenu(e,s,n){e.stopPropagation();const o=this.state.contextMenuRefs.folder;o&&o.show(e,s,n)}handleContextAction(e,s){this.logger.info("Context action:",e,s)}handleRequestContextAction(e,s){this.logger.info("Request context action:",e,s)}handleFolderContextAction(e,s){this.logger.info("Folder context action:",e,s)}getCollectionsState(){return this.collectionsController.state}getCollections(){return this.getComputed("collections")||[]}getFilteredCollections(){return this.getComputed("filteredCollections")||[]}showNewFolderDialog(e){this.state.newFolderDialogData=e,this.state.showNewFolderDialog=!0,this.logger.info("Showing folder dialog for:",e.type,"collection:",e.collectionId)}hideNewFolderDialog(){this.state.showNewFolderDialog=!1,this.state.newFolderDialogData=null}validateState(){const e=[];return this.collectionsController||e.push("Collections controller not initialized"),this.state.contextMenuRefs||e.push("Context menu references not set"),{isValid:e.length===0,errors:e}}getDebugInfo(){return{controller:"CollectionsTabController",collectionsControllerState:this.collectionsController?.state,contextMenuRefs:{collection:!!this.state.contextMenuRefs?.collection,request:!!this.state.contextMenuRefs?.request,folder:!!this.state.contextMenuRefs?.folder},validation:this.validateState()}}dispose(){this.collectionsController&&this.collectionsController.dispose(),super.dispose()}}class ma extends Ge{constructor(e){super(e),this.createState({visible:!1,loading:!1,errors:{},formData:{}}),this.resetFormData()}open(e={}){this.state.visible=!0,this.state.errors={},this.state.loading=!1,e&&Object.keys(e).length>0?this.state.formData={...e}:this.resetFormData(),this.logger.debug(`${this.name} dialog opened`),this.emit("opened",e)}close(){this.state.visible=!1,this.state.errors={},this.state.loading=!1,this.resetFormData(),this.logger.debug(`${this.name} dialog closed`),this.emit("closed")}resetFormData(){this.state.formData={}}validateForm(){return this.state.errors={},!0}async submit(){if(!this.validateForm())return this.logger.warn("Form validation failed"),{success:!1,errors:this.state.errors};this.state.loading=!0;const e=await this.executeAsync(async()=>{const s=await this.processSubmit(this.state.formData);return this.logger.info(`${this.name} dialog submitted successfully`),s},`Failed to submit ${this.name} dialog`);return this.state.loading=!1,e.success?(this.emit("submitted",e.data),this.close()):this.handleSubmitError(e.error),e}async processSubmit(e){return e}handleSubmitError(e){e.validationErrors?this.state.errors=e.validationErrors:this.state.errors={general:e.message||"An error occurred"},this.logger.error("Submit error:",e),this.emit("submitError",e)}cancel(){if(this.state.loading){this.logger.warn("Cannot cancel while loading");return}this.logger.debug(`${this.name} dialog cancelled`),this.emit("cancelled"),this.close()}setFieldError(e,s){this.state.errors[e]=s}clearFieldError(e){delete this.state.errors[e]}clearErrors(){this.state.errors={}}updateFormField(e,s){this.state.formData[e]=s,this.clearFieldError(e)}hasErrors(){return Object.keys(this.state.errors).length>0}isVisible(){return this.state.visible}isLoading(){return this.state.loading}async confirmClose(){return this.hasUnsavedChanges()?new Promise(e=>{this.emit("confirmClose",{resolve:e})}):!0}hasUnsavedChanges(){return!1}}const it=oe({show:!1,title:"",message:"",type:"info",confirmText:"OK",cancelText:null,showInput:!1,inputPlaceholder:"",inputValue:"",resolve:null,reject:null});function $s(){const t=p=>new Promise((b,S)=>{it.value={show:!0,title:p.title||"Alert",message:p.message||"",type:p.type||"info",confirmText:p.confirmText||"OK",cancelText:p.cancelText||null,showInput:!1,inputPlaceholder:"",inputValue:"",resolve:ns(b),reject:ns(S)}}),e=p=>new Promise((b,S)=>{it.value={show:!0,title:p.title||"Confirm",message:p.message||"",type:p.type||"warning",confirmText:p.confirmText||"Confirm",cancelText:p.cancelText||"Cancel",showInput:!1,inputPlaceholder:"",inputValue:"",resolve:ns(b),reject:ns(S)}}),s=p=>new Promise((b,S)=>{it.value={show:!0,title:p.title||"Input Required",message:p.message||"",type:"info",confirmText:p.confirmText||"OK",cancelText:p.cancelText||"Cancel",showInput:!0,inputPlaceholder:p.placeholder||"",inputValue:p.defaultValue||"",resolve:ns(b),reject:ns(S)}}),n=p=>{it.value.resolve&&it.value.resolve(p),i()},o=()=>{it.value.resolve&&it.value.resolve(it.value.showInput?null:!1),i()},i=()=>{it.value.show=!1,it.value.resolve=null,it.value.reject=null};return{alertState:it,showAlert:t,showConfirm:e,showPrompt:s,handleConfirm:n,handleCancel:o,closeAlert:i,alert:(p,b="Alert")=>t({message:p,title:b,type:"info"}),alertError:(p,b="Error")=>t({message:p,title:b,type:"error"}),alertWarning:(p,b="Warning")=>t({message:p,title:b,type:"warning"}),alertSuccess:(p,b="Success")=>t({message:p,title:b,type:"success"}),confirm:(p,b="Confirm")=>e({message:p,title:b,type:"warning"}),confirmDelete:(p,b="Delete Confirmation")=>e({message:p,title:b,type:"error",confirmText:"Delete",cancelText:"Cancel"}),prompt:(p,b="",S="Input Required")=>s({message:p,defaultValue:b,title:S})}}class Ru extends ma{constructor(){super("new-collection"),this.collectionsStore=Es(),this.alertService=$s()}resetFormData(){this.state.formData={name:"",description:"",template:"blank",importData:null}}validateForm(){return this.clearErrors(),!this.state.formData.name||this.state.formData.name.trim().length===0?(this.setFieldError("name","Collection name is required"),!1):this.state.formData.name.trim().length<2?(this.setFieldError("name","Collection name must be at least 2 characters"),!1):this.state.formData.name.trim().length>100?(this.setFieldError("name","Collection name must be less than 100 characters"),!1):this.isNameTaken(this.state.formData.name.trim())?(this.setFieldError("name","A collection with this name already exists"),!1):this.state.formData.description&&this.state.formData.description.length>500?(this.setFieldError("description","Description must be less than 500 characters"),!1):this.state.formData.template==="import"&&!this.state.formData.importData?(this.setFieldError("import","Please select a file to import"),!1):!0}isNameTaken(e){return(this.collectionsStore.collections?.value||this.collectionsStore.collections||[]).some(n=>n.info?.name.toLowerCase()===e.toLowerCase())}async processSubmit(e){const{name:s,description:n,template:o,importData:i}=e;let r;switch(o){case"blank":r=await this.createBlankCollection(s.trim(),n.trim());break;case"rest-api":r=await this.createRestApiTemplate(s.trim(),n.trim());break;case"graphql":r=await this.createGraphQLTemplate(s.trim(),n.trim());break;case"import":r=await this.importCollection(i,s.trim(),n.trim());break;default:throw new Error(`Unknown template: ${o}`)}return this.logger.info(`Created collection: ${r.info.name}`),r}async createBlankCollection(e,s){const n=this.collectionsStore.createCollection(e);return s&&this.collectionsStore.updateCollection(n.info.id,{description:s}),n}async createRestApiTemplate(e,s){const n=this.collectionsStore.createCollection(e);return s&&this.collectionsStore.updateCollection(n.info.id,{description:s}),[{name:"Get Users",request:{method:"GET",url:{raw:"https://jsonplaceholder.typicode.com/users",protocol:"https",host:["jsonplaceholder","typicode","com"],path:["users"]},header:[{key:"Accept",value:"application/json",enabled:!0}]}},{name:"Create User",request:{method:"POST",url:{raw:"https://jsonplaceholder.typicode.com/users",protocol:"https",host:["jsonplaceholder","typicode","com"],path:["users"]},header:[{key:"Content-Type",value:"application/json",enabled:!0},{key:"Accept",value:"application/json",enabled:!0}],body:{mode:"raw",raw:JSON.stringify({name:"John Doe",email:"john@example.com",username:"johndoe"},null,2),options:{raw:{language:"json"}}}}},{name:"Update User",request:{method:"PUT",url:{raw:"https://jsonplaceholder.typicode.com/users/1",protocol:"https",host:["jsonplaceholder","typicode","com"],path:["users","1"]},header:[{key:"Content-Type",value:"application/json",enabled:!0},{key:"Accept",value:"application/json",enabled:!0}],body:{mode:"raw",raw:JSON.stringify({name:"Jane Doe",email:"jane@example.com"},null,2),options:{raw:{language:"json"}}}}},{name:"Delete User",request:{method:"DELETE",url:{raw:"https://jsonplaceholder.typicode.com/users/1",protocol:"https",host:["jsonplaceholder","typicode","com"],path:["users","1"]},header:[{key:"Accept",value:"application/json",enabled:!0}]}}].forEach(i=>{this.collectionsStore.addRequest(n.info.id,i.request);const r=this.collectionsStore.getCollection(n.info.id),a=r.item[r.item.length-1];a&&(a.name=i.name)}),n}async createGraphQLTemplate(e,s){const n=this.collectionsStore.createCollection(e);return s&&this.collectionsStore.updateCollection(n.info.id,{description:s}),[{name:"Get Users Query",request:{method:"POST",url:{raw:"https://api.graphql.example.com/graphql",protocol:"https",host:["api","graphql","example","com"],path:["graphql"]},header:[{key:"Content-Type",value:"application/json",enabled:!0},{key:"Accept",value:"application/json",enabled:!0}],body:{mode:"graphql",graphql:{query:`query GetUsers {
  users {
    id
    name
    email
  }
}`,variables:"{}"}}}},{name:"Create User Mutation",request:{method:"POST",url:{raw:"https://api.graphql.example.com/graphql",protocol:"https",host:["api","graphql","example","com"],path:["graphql"]},header:[{key:"Content-Type",value:"application/json",enabled:!0},{key:"Accept",value:"application/json",enabled:!0}],body:{mode:"graphql",graphql:{query:`mutation CreateUser($input: CreateUserInput!) {
  createUser(input: $input) {
    id
    name
    email
  }
}`,variables:JSON.stringify({input:{name:"John Doe",email:"john@example.com"}},null,2)}}}}].forEach(i=>{this.collectionsStore.addRequest(n.info.id,i.request);const r=this.collectionsStore.getCollection(n.info.id),a=r.item[r.item.length-1];a&&(a.name=i.name)}),n}async importCollection(e,s,n){let o;try{o=JSON.parse(e)}catch{throw new Error("Invalid JSON file")}if(!o.info)throw new Error("Not a valid Postman collection");s&&s!==o.info.name&&(o.info.name=s),n&&(o.info.description=n);const i=this.collectionsStore.importCollection(o,{appendImportedSuffix:!1});if(i.warnings&&i.warnings.length>0){const r=Sn.summarizeWarnings(i.warnings);this._showImportWarnings(r)}return i.collection}_showImportWarnings(e){const s=[];e.byType.scripts&&s.push(`${e.byType.scripts} script(s) detected (scripts are stored but not executed)`),e.byType.auth&&s.push(`${e.byType.auth} authentication warning(s) (some auth types require manual configuration)`),e.byType.proxy&&s.push("Proxy configuration not supported"),e.byType.certificate&&s.push("SSL certificate configuration not supported"),e.byType.responses&&s.push("Saved responses imported for reference");const n=s.length>0?`Collection imported with ${e.total} notice(s):

 ${s.join(`
 `)}`:`Collection imported with ${e.total} notice(s). Check console for details.`;this.alertService.alertWarning(n,"Import Notices")}async handleFileSelect(e){if(!e)return;if(!e.name.endsWith(".json")){this.setFieldError("import","Please select a JSON file");return}if(e.size>10*1024*1024){this.setFieldError("import","File size must be less than 10MB");return}const s=await this.executeAsync(async()=>{const n=await this.readFile(e);try{if(!JSON.parse(n).info)throw new Error("Not a valid Postman collection");return n}catch{throw new Error("Invalid JSON or not a Postman collection")}},"Failed to read file");if(s.success){this.state.formData.importData=s.data;const n=JSON.parse(s.data);n.info?.name&&!this.state.formData.name&&(this.state.formData.name=n.info.name),n.info?.description&&!this.state.formData.description&&(this.state.formData.description=n.info.description),this.clearFieldError("import"),this.logger.info("File loaded successfully:",e.name)}else this.setFieldError("import",s.error.message)}async readFile(e){return new Promise((s,n)=>{const o=new FileReader;o.onload=i=>s(i.target.result),o.onerror=i=>n(new Error("Failed to read file")),o.readAsText(e)})}updateField(e,s){this.updateFormField(e,s),e==="template"&&(this.clearFieldError("import"),s!=="import"&&(this.state.formData.importData=null))}getTemplates(){return[{id:"blank",name:"Blank Collection",description:"Start with an empty collection",icon:""},{id:"rest-api",name:"REST API",description:"Collection with sample REST API requests",icon:""},{id:"graphql",name:"GraphQL",description:"Collection with sample GraphQL queries",icon:""},{id:"import",name:"Import from File",description:"Import an existing Postman collection",icon:""}]}getImportPreview(){if(!this.state.formData.importData)return null;try{const e=JSON.parse(this.state.formData.importData);return{name:e.info?.name||"Unknown",description:e.info?.description||"",requestCount:this.countRequests(e.item||[]),folderCount:this.countFolders(e.item||[])}}catch{return null}}countRequests(e){let s=0;for(const n of e)n.request?s++:n.item&&(s+=this.countRequests(n.item));return s}countFolders(e){let s=0;for(const n of e)n.item&&(s++,s+=this.countFolders(n.item));return s}}const _e=(t,e)=>{const s=t.__vccOpts||t;for(const[n,o]of e)s[n]=o;return s},qu={class:"dialog-header"},Ou={class:"dialog-title"},Iu={class:"dialog-content"},Du={key:0,class:"dialog-footer"},Fu={__name:"BaseDialog",props:{title:{type:String,required:!0},width:{type:String,default:"600px"},height:{type:String,default:"auto"}},emits:["close"],setup(t,{emit:e}){const s=t,n=e,o=()=>{n("close")},i=a=>{a.key==="Escape"&&o()},r=a=>{a.target===a.currentTarget&&o()};return Ue(()=>{document.addEventListener("keydown",i),document.body.style.overflow="hidden"}),ft(()=>{document.removeEventListener("keydown",i),document.body.style.overflow=""}),(a,c)=>(y(),_("div",{class:"dialog-backdrop",onClick:r},[l("div",{class:"dialog-container",style:Me({width:s.width,height:s.height==="auto"?"auto":s.height,maxHeight:s.height==="auto"?"90vh":s.height})},[l("div",qu,[l("h2",Ou,D(s.title),1),l("button",{class:"close-button",onClick:o},"  ")]),l("div",Iu,[Qs(a.$slots,"default",{},void 0,!0)]),a.$slots.footer?(y(),_("div",Du,[Qs(a.$slots,"footer",{},void 0,!0)])):K("",!0)],4)]))}},Rs=_e(Fu,[["__scopeId","data-v-d36c741a"]]),Pu={class:"dialog-content"},Mu={class:"form-group"},Nu={key:0,class:"error-text"},Uu={class:"form-group"},Lu={key:0,class:"error-text"},Vu={class:"form-group"},ju={class:"template-grid"},zu=["onClick"],Hu={class:"template-icon"},Bu={class:"template-name"},Ju={class:"template-description"},Wu={key:0,class:"form-group"},Gu={class:"file-input-group"},Ku={for:"import-file",class:"file-input-label"},Xu={key:0},Yu={key:1},Qu={key:0,class:"error-text"},Zu={key:1,class:"import-preview"},ed={class:"preview-item"},td={key:0,class:"preview-item"},sd={class:"preview-item"},nd={class:"preview-item"},od=["disabled"],id=["disabled"],rd={__name:"NewCollectionDialog",emits:["close","create"],setup(t,{emit:e}){const s=e,n=new Ru,o=n.state,i=async()=>{(await n.submit()).success&&s("close")},r=async()=>{await n.confirmClose()&&(n.close(),s("close"))},a=(h,p)=>n.updateField(h,p),c=h=>{const p=h.target.files[0];p&&n.handleFileSelect(p)},d=n.getTemplates(),u=n.getImportPreview(),f=oe(null);return Ue(()=>{n.open(),setTimeout(()=>{f.value?.focus()},100)}),ft(()=>{n.dispose()}),(h,p)=>(y(),ge(Rs,{title:"New Collection",width:"600px",onClose:r},{footer:Ne(()=>[l("button",{onClick:r,class:"cancel-btn",disabled:I(o).loading}," Cancel ",8,od),l("button",{onClick:i,class:"primary create-btn",disabled:I(o).loading||!I(o).formData.name?.trim()||I(n).hasErrors()},D(I(o).loading?"Creating...":"Create Collection"),9,id)]),default:Ne(()=>[l("div",Pu,[l("div",Mu,[p[4]||(p[4]=l("label",{for:"collection-name",class:"form-label"},"Collection Name",-1)),fe(l("input",{ref_key:"nameInput",ref:f,id:"collection-name","onUpdate:modelValue":p[0]||(p[0]=b=>I(o).formData.name=b),onInput:p[1]||(p[1]=b=>a("name",b.target.value)),type:"text",placeholder:"Enter collection name",class:Ce(["form-input",{error:I(o).errors.name}]),onKeyup:Ko(i,["enter"])},null,34),[[Re,I(o).formData.name]]),I(o).errors.name?(y(),_("div",Nu,D(I(o).errors.name),1)):K("",!0)]),l("div",Uu,[p[5]||(p[5]=l("label",{for:"collection-description",class:"form-label"},"Description (Optional)",-1)),fe(l("textarea",{id:"collection-description","onUpdate:modelValue":p[2]||(p[2]=b=>I(o).formData.description=b),onInput:p[3]||(p[3]=b=>a("description",b.target.value)),placeholder:"Describe your collection",class:"form-textarea",rows:"3"},null,544),[[Re,I(o).formData.description]]),I(o).errors.description?(y(),_("div",Lu,D(I(o).errors.description),1)):K("",!0)]),l("div",Vu,[p[6]||(p[6]=l("label",{class:"form-label"},"Template",-1)),l("div",ju,[(y(!0),_(ve,null,De(I(d),b=>(y(),_("div",{key:b.id,class:Ce(["template-card",{selected:I(o).formData.template===b.id}]),onClick:S=>a("template",b.id)},[l("div",Hu,D(b.icon),1),l("div",Bu,D(b.name),1),l("div",Ju,D(b.description),1)],10,zu))),128))])]),I(o).formData.template==="import"?(y(),_("div",Wu,[p[12]||(p[12]=l("label",{class:"form-label"},"Import File",-1)),l("div",Gu,[l("input",{type:"file",accept:".json",onChange:c,class:"file-input",id:"import-file"},null,32),l("label",Ku,[I(o).formData.importData?(y(),_("span",Yu," File loaded")):(y(),_("span",Xu,"Choose Postman Collection (.json)"))])]),I(o).errors.import?(y(),_("div",Qu,D(I(o).errors.import),1)):K("",!0),I(u)?(y(),_("div",Zu,[p[11]||(p[11]=l("h4",null,"Import Preview",-1)),l("div",ed,[p[7]||(p[7]=l("strong",null,"Name:",-1)),Ie(" "+D(I(u).name),1)]),I(u).description?(y(),_("div",td,[p[8]||(p[8]=l("strong",null,"Description:",-1)),Ie(" "+D(I(u).description),1)])):K("",!0),l("div",sd,[p[9]||(p[9]=l("strong",null,"Requests:",-1)),Ie(" "+D(I(u).requestCount),1)]),l("div",nd,[p[10]||(p[10]=l("strong",null,"Folders:",-1)),Ie(" "+D(I(u).folderCount),1)])])):K("",!0)])):K("",!0)])]),_:1}))}},ad=_e(rd,[["__scopeId","data-v-c6aedbc0"]]);class ld extends Ge{constructor(e,s=null){super("NewFolderDialogController"),this.collectionId=e,this.parentFolderId=s,this.collectionsStore=Es(),this.init()}init(){super.init(),this.createState({name:"",description:"",isSubmitting:!1,hasChanges:!1,validation:{isValid:!1,errors:{}}}),this.watchFormChanges()}watchFormChanges(){}updateField(e,s){this.state[e]=s,this.state.hasChanges=!0,this.validateForm()}validateForm(){const e={};return this.state.name.trim()?this.state.name.trim().length<2?e.name="Folder name must be at least 2 characters":this.state.name.trim().length>100&&(e.name="Folder name must be less than 100 characters"):e.name="Folder name is required",this.state.name.trim()&&this.isDuplicateName(this.state.name.trim())&&(e.name="A folder with this name already exists"),this.state.validation={isValid:Object.keys(e).length===0,errors:e},this.state.validation}isDuplicateName(e){try{const s=this.collectionsStore.getCollection(this.collectionId);if(!s)return!1;let n=s;if(this.parentFolderId){const i=(r,a)=>{for(const c of r){if(c.id===a)return c;if(c.item&&Array.isArray(c.item)){const d=i(c.item,a);if(d)return d}}return null};if(n=i(s.item||[],this.parentFolderId),!n)return!1}return(n.item||[]).some(i=>i.name&&i.name.toLowerCase()===e.toLowerCase()&&(i.type==="folder"||!i.type&&i.item))}catch(s){return this.logger.error("Error checking duplicate name:",s),!1}}async submit(){return this.executeAsync(async()=>{if(!this.validateForm().isValid)throw new Error("Please fix the form errors before submitting");this.state.isSubmitting=!0;const s={name:this.state.name.trim(),description:this.state.description.trim()};let n;if(this.parentFolderId?n=this.collectionsStore.addFolderToFolder(this.collectionId,this.parentFolderId,s.name):n=this.collectionsStore.addFolderToCollection(this.collectionId,s.name),!n)throw new Error("Failed to create folder");return this.logger.info("Created new folder:",n.name),this.resetForm(),n},"Failed to create folder")}resetForm(){this.state.name="",this.state.description="",this.state.hasChanges=!1,this.state.isSubmitting=!1,this.state.validation={isValid:!1,errors:{}}}async confirmClose(){return this.state.hasChanges,!0}close(){this.resetForm()}getCollectionInfo(){try{return{name:this.collectionsStore.getCollection(this.collectionId)?.info?.name||"Unknown Collection",id:this.collectionId}}catch(e){return this.logger.error("Error getting collection info:",e),{name:"Unknown Collection",id:this.collectionId}}}getParentFolderInfo(){if(!this.parentFolderId)return null;try{const e=this.collectionsStore.getCollection(this.collectionId);if(!e)return null;const s=(o,i)=>{for(const r of o){if(r.id===i)return r;if(r.item&&Array.isArray(r.item)){const a=s(r.item,i);if(a)return a}}return null},n=s(e.item||[],this.parentFolderId);return n?{name:n.name||"Unnamed Folder",id:this.parentFolderId}:null}catch(e){return this.logger.error("Error getting parent folder info:",e),null}}getDebugInfo(){return{collectionId:this.collectionId,parentFolderId:this.parentFolderId,state:this.state,collectionInfo:this.getCollectionInfo(),parentFolderInfo:this.getParentFolderInfo()}}}const cd={class:"form-group"},ud={key:0,class:"error-message"},dd={class:"form-group"},fd=["disabled"],pd={key:0},hd={key:1},md={__name:"NewFolderDialog",props:{collectionId:{type:String,required:!0},parentFolderId:{type:String,default:null}},emits:["close","create"],setup(t,{emit:e}){const s=t,n=e,o=new ld(s.collectionId,s.parentFolderId),i=o.state,r=async()=>{const d=await o.submit();d.success&&(n("create",d.data),n("close"))},a=async()=>{await o.confirmClose()&&(o.close(),n("close"))},c=(d,u)=>o.updateField(d,u);return Ue(()=>{o.init()}),ft(()=>{o.dispose()}),(d,u)=>(y(),ge(Rs,{title:"Create New Folder",onClose:a,width:400},{footer:Ne(()=>[l("button",{type:"button",class:"btn-cancel",onClick:a}," Cancel "),l("button",{type:"button",class:"btn-primary",onClick:r,disabled:!I(i).validation.isValid||I(i).isSubmitting},[I(i).isSubmitting?(y(),_("span",pd,"Creating...")):(y(),_("span",hd,"Create Folder"))],8,fd)]),default:Ne(()=>[l("div",cd,[u[4]||(u[4]=l("label",{for:"folder-name"},"Folder Name",-1)),fe(l("input",{id:"folder-name","onUpdate:modelValue":u[0]||(u[0]=f=>I(i).name=f),onInput:u[1]||(u[1]=f=>c("name",f.target.value)),type:"text",placeholder:"Enter folder name",class:Ce(["form-input",{"has-error":I(i).validation.errors.name}]),onKeyup:Ko(r,["enter"]),autofocus:""},null,34),[[Re,I(i).name]]),I(i).validation.errors.name?(y(),_("div",ud,D(I(i).validation.errors.name),1)):K("",!0)]),l("div",dd,[u[5]||(u[5]=l("label",{for:"folder-description"},"Description (Optional)",-1)),fe(l("textarea",{id:"folder-description","onUpdate:modelValue":u[2]||(u[2]=f=>I(i).description=f),onInput:u[3]||(u[3]=f=>c("description",f.target.value)),placeholder:"Enter folder description",class:"form-input",rows:"3"},null,544),[[Re,I(i).description]])])]),_:1}))}},gd=_e(md,[["__scopeId","data-v-f9215fc7"]]),vd={key:0,class:"menu-header"},yd={class:"menu-title"},bd={class:"menu-items"},wd={key:0,class:"menu-separator"},xd=["onClick","disabled"],Cd={key:0,class:"menu-icon"},Sd={class:"menu-text"},_d={key:1,class:"menu-shortcut"},Td={__name:"BaseContextMenu",props:{controller:{type:Object,required:!0},title:{type:String,default:null},menuItems:{type:Array,default:()=>[]}},emits:["action"],setup(t,{emit:e}){const s=new Zt({prefix:"BaseContextMenu",level:"debug"}),n=t,o=e,i=oe(null),r=async a=>{try{o("action",{action:a,item:n.controller.state?.item}),await n.controller?.executeAction(a,n.controller.state?.item)}catch(c){s.error("Menu action failed:",c)}};return Ue(()=>{i.value&&n.controller&&(n.controller.setMenuRef(i.value),n.controller.positionMenu(i.value))}),ft(()=>{n.controller&&n.controller.setMenuRef(null)}),(a,c)=>(y(),_("div",{ref_key:"menuRef",ref:i,class:"context-menu",style:Me({left:`${t.controller.state?.x||0}px`,top:`${t.controller.state?.y||0}px`})},[t.title||a.$slots.header?(y(),_("div",vd,[Qs(a.$slots,"header",{},()=>[l("span",yd,D(t.title||t.controller?.getMenuTitle(t.controller.state?.item)),1)],!0)])):K("",!0),l("div",bd,[(y(!0),_(ve,null,De(t.menuItems,(d,u)=>(y(),_(ve,{key:u},[d.type==="separator"?(y(),_("div",wd)):(y(),_("button",{key:1,class:Ce(["menu-item",{danger:d.danger,disabled:d.disabled}]),onClick:f=>r(d.action),disabled:d.disabled},[d.icon?(y(),_("span",Cd,D(d.icon),1)):K("",!0),l("span",Sd,D(d.label),1),d.shortcut?(y(),_("span",_d,D(d.shortcut),1)):K("",!0)],10,xd))],64))),128)),Qs(a.$slots,"items",{item:t.controller.state?.item,handleAction:r},void 0,!0)])],4))}},Yn=_e(Td,[["__scopeId","data-v-c95484dd"]]);class Qn extends Ge{constructor(e){super(e),this.createState({show:!1,item:null,x:0,y:0,menuRef:null})}init(){super.init(),this.handleClickOutside=this.handleClickOutside.bind(this),this.handleEscape=this.handleEscape.bind(this)}show(e,s){this.logger.debug("Showing context menu for:",s),e.preventDefault(),e.stopPropagation(),this.state.show=!0,this.state.item=s,this.state.x=e.clientX,this.state.y=e.clientY,document.addEventListener("click",this.handleClickOutside),document.addEventListener("keydown",this.handleEscape),this.emit("shown",{item:s,x:e.clientX,y:e.clientY})}hide(){this.logger.debug("Hiding context menu"),this.state.show=!1,this.state.item=null,document.removeEventListener("click",this.handleClickOutside),document.removeEventListener("keydown",this.handleEscape),this.emit("hidden")}handleClickOutside(e){this.state.menuRef&&!this.state.menuRef.contains(e.target)&&this.hide()}handleEscape(e){e.key==="Escape"&&this.hide()}setMenuRef(e){this.state.menuRef=e}async executeAction(e,s){this.logger.debug(`Executing action: ${e} for:`,s);try{const n=await this.handleAction(e,s);return this.hide(),this.emit("actionCompleted",{action:e,item:s,result:n}),n}catch(n){throw this.logger.error(`Failed to execute action ${e}:`,n),this.emit("actionFailed",{action:e,item:s,error:n}),n}}async handleAction(e,s){throw new Error(`Action '${e}' not implemented in ${this.constructor.name}`)}getMenuItems(){return[]}getMenuTitle(e){return e?.name||"Item"}positionMenu(e){if(!e)return;const s=e.getBoundingClientRect(),n=window.innerWidth,o=window.innerHeight;let i=this.state.x,r=this.state.y;this.state.x+s.width>n&&(i=n-s.width-10),this.state.y+s.height>o&&(r=o-s.height-10),i=Math.max(10,i),r=Math.max(10,r),e.style.left=`${i}px`,e.style.top=`${r}px`,this.logger.debug(`Positioned menu at: (${i}, ${r})`)}dispose(){this.hide(),super.dispose()}}class Ed extends Qn{constructor(e){super("collection-context-menu"),this.collectionsController=e,this.alert=$s()}getMenuTitle(e){return e?.info?.name||"Collection"}getMenuItems(){return[{action:"create-request",label:"Create Request",icon:""},{action:"create-folder",label:"Create Folder",icon:""},{type:"separator"},{action:"rename",label:"Rename",icon:""},{action:"duplicate",label:"Duplicate",icon:""},{type:"separator"},{action:"delete",label:"Delete",icon:"",danger:!0}]}async handleAction(e,s){switch(this.logger.info(`Executing collection action: ${e} for collection: ${s?.info?.name}`),e){case"create-request":return await this.createRequest(s);case"create-folder":return await this.createFolder(s);case"rename":return await this.renameCollection(s);case"duplicate":return await this.duplicateCollection(s);case"delete":return await this.deleteCollection(s);default:throw new Error(`Unknown action: ${e}`)}}async createRequest(e){const s=this.collectionsController.collectionsStore.addRequest(e.info.id);if(s)return this.collectionsController.openRequest(e.info.id,s.id),this.logger.info("Created new request in collection:",e.info.name),{action:"create-request",requestId:s.id};throw new Error("Failed to create request")}async createFolder(e){return this.emit("showFolderDialog",{type:"create-folder",collectionId:e.info.id,parentFolderId:null,collection:e}),this.logger.info("Requested folder creation dialog for collection:",e.info.name),{action:"create-folder",dialogRequested:!0}}async renameCollection(e){const s=await this.alert.prompt("Enter new collection name:",e.info.name,"Rename Collection");return s&&s.trim()&&s.trim()!==e.info.name?(this.collectionsController.collectionsStore.updateCollection(e.info.id,{name:s.trim()}),this.logger.info("Renamed collection from",e.info.name,"to",s.trim()),await this.alert.alertSuccess(`Collection renamed to "${s.trim()}"`),{action:"rename",oldName:e.info.name,newName:s.trim()}):{action:"rename",cancelled:!0}}async duplicateCollection(e){const s=this.collectionsController.collectionsStore.duplicateCollection(e.info.id);if(s?.info?.id)return this.collectionsController.state.expandedCollections.add(s.info.id),this.logger.info("Duplicated collection:",e.info.name,"",s.info.name),await this.alert.alertSuccess(`Collection duplicated as "${s.info.name}"`),{action:"duplicate",originalId:e.info.id,duplicateId:s.info.id};throw await this.alert.alertError("Failed to duplicate collection"),new Error("Failed to duplicate collection")}async deleteCollection(e){return await this.alert.confirmDelete(`Are you sure you want to delete the collection "${e.info.name}"?

This action cannot be undone.`,"Delete Collection")?(await this.collectionsController.deleteCollection(e.info.id),this.logger.info("Deleted collection:",e.info.name),await this.alert.alertSuccess(`Collection "${e.info.name}" has been deleted`),{action:"delete",collectionId:e.info.id,collectionName:e.info.name}):{action:"delete",cancelled:!0}}}const Ad={__name:"CollectionContextMenu",props:{collectionsController:{type:Object,required:!0}},emits:["close","action"],setup(t,{expose:e,emit:s}){const n=t,o=s,i=new Ed(n.collectionsController);i.init();const r=M(()=>i.getMenuItems()),a=c=>{o("action",c)};return e({show:(c,d)=>i.show(c,d),hide:()=>i.hide(),controller:i}),(c,d)=>I(i).state.show?(y(),ge(Yn,{key:0,controller:I(i),"menu-items":r.value,onAction:a},null,8,["controller","menu-items"])):K("",!0)}};class kd extends Qn{constructor(e){super("request-context-menu"),this.collectionsController=e,this.alert=$s()}getMenuTitle(e){return e?.request?.name||"Request"}getMenuItems(){return[{action:"open",label:"Open in Tab",icon:""},{type:"separator"},{action:"rename",label:"Rename",icon:""},{action:"duplicate",label:"Duplicate",icon:""},{type:"separator"},{action:"move",label:"Move to Collection",icon:""},{type:"separator"},{action:"delete",label:"Delete",icon:"",danger:!0}]}async handleAction(e,s){if(this.logger.info(`Executing request action: ${e} for request: ${s?.request?.name}`),!s||!s.collectionId||!s.request){this.logger.error("Invalid request data for action:",e,s);return}const{collectionId:n,request:o}=s;switch(e){case"open":await this.openRequest(n,o.id);break;case"rename":await this.renameRequest(n,o.id);break;case"duplicate":await this.duplicateRequest(n,o.id);break;case"move":await this.moveRequest(n,o.id);break;case"delete":await this.deleteRequest(n,o.id);break;default:this.logger.warn(`Unknown action: ${e}`)}this.hide()}async openRequest(e,s){this.logger.info(`Opening request ${s} from collection ${e}`),this.collectionsController.openRequest(e,s)}async renameRequest(e,s){const n=this.collectionsController.collectionsStore.getRequest(e,s);if(!n){this.logger.error("Request not found for rename"),await this.alert.alertError("Request not found");return}const o=await this.alert.prompt("Enter new name:",n.name,"Rename Request");o&&o.trim()&&o.trim()!==n.name&&(this.collectionsController.collectionsStore.updateRequest(e,s,{name:o.trim()}),this.logger.info(`Renamed request to: ${o.trim()}`),await this.alert.alertSuccess(`Request renamed to "${o.trim()}"`))}async duplicateRequest(e,s){const n=this.collectionsController.collectionsStore.duplicateRequest(e,s);n?(this.logger.info(`Duplicated request: ${n.name}`),await this.alert.alertSuccess(`Request duplicated as "${n.name}"`)):await this.alert.alertError("Failed to duplicate request")}async moveRequest(e,s){const o=(this.collectionsController.collectionsStore.collections.value||[]).filter(c=>c.info.id!==e);if(o.length===0){await this.alert.alertWarning("No other collections available to move to.");return}const r=`Select collection to move to:

${o.map((c,d)=>`${d+1}. ${c.info.name} (${c.item?.length||0} requests)`).join(`
`)}

Enter collection number (1-${o.length}):`,a=await this.alert.prompt(r,"","Move Request");if(a){const c=parseInt(a)-1;if(c>=0&&c<o.length){const d=o[c].info.id;this.collectionsController.collectionsStore.moveRequest(e,d,s)?(this.logger.info(`Moved request to collection: ${o[c].info.name}`),await this.alert.alertSuccess(`Request moved to "${o[c].info.name}"`)):await this.alert.alertError("Failed to move request")}else await this.alert.alertError("Invalid selection. Please enter a valid collection number.")}}async deleteRequest(e,s){const n=this.collectionsController.collectionsStore.getRequest(e,s);if(!n){this.logger.error("Request not found for deletion"),await this.alert.alertError("Request not found");return}await this.alert.confirmDelete(`Are you sure you want to delete "${n.name}"? This action cannot be undone.`,"Delete Request")&&(this.collectionsController.collectionsStore.deleteRequest(e,s)?(this.logger.info(`Deleted request: ${n.name}`),await this.alert.alertSuccess(`Request "${n.name}" has been deleted`)):await this.alert.alertError("Failed to delete request"))}show(e,s,n){const o={collectionId:s.info.id,request:n};super.show(e,o)}}const $d={__name:"RequestContextMenu",props:{collectionsController:{type:Object,required:!0}},emits:["close","action"],setup(t,{expose:e,emit:s}){const n=t,o=s,i=new kd(n.collectionsController);i.init();const r=M(()=>i.getMenuItems()),a=c=>{o("action",c)};return e({show:(c,d,u)=>i.show(c,d,u),hide:()=>i.hide(),controller:i}),(c,d)=>I(i).state.show?(y(),ge(Yn,{key:0,controller:I(i),"menu-items":r.value,onAction:a},null,8,["controller","menu-items"])):K("",!0)}};class Rd extends Qn{constructor(e){super("folder-context-menu"),this.collectionsController=e,this.currentCollection=null,this.alert=$s()}show(e,s,n){this.currentCollection=s,super.show(e,n)}getMenuTitle(e){return e?.name||"Folder"}getMenuItems(){return[{action:"new-request",label:"New Request",icon:""},{action:"new-folder",label:"New Folder",icon:""},{type:"separator"},{action:"rename",label:"Rename",icon:""},{action:"duplicate",label:"Duplicate",icon:""},{type:"separator"},{action:"delete",label:"Delete",icon:"",danger:!0}]}async handleAction(e,s){if(!this.currentCollection)throw new Error("No collection context available");switch(this.logger.info(`Executing folder action: ${e} for folder: ${s?.name}`),e){case"new-request":return await this.addRequestToFolder(s);case"new-folder":return await this.addFolderToFolder(s);case"rename":return await this.renameFolder(s);case"duplicate":return await this.duplicateFolder(s);case"delete":return await this.deleteFolder(s);default:throw new Error(`Unknown action: ${e}`)}}async addRequestToFolder(e){const s=this.collectionsController.addRequestToFolder(this.currentCollection.info.id,e.id);if(s)return this.logger.info("Added new request to folder:",e.name),{action:"new-request",requestId:s.id};throw new Error("Failed to add request to folder")}async addFolderToFolder(e){return this.emit("showFolderDialog",{type:"new-folder",collectionId:this.currentCollection.info.id,parentFolderId:e.id,collection:this.currentCollection,parentFolder:e}),this.logger.info("Requested folder creation dialog for folder:",e.name),{action:"new-folder",dialogRequested:!0}}async renameFolder(e){const s=await this.alert.prompt("Enter new folder name:",e.name,"Rename Folder");if(s&&s.trim()&&s.trim()!==e.name){if(this.collectionsController.collectionsStore.renameFolder(this.currentCollection.info.id,e.id,s.trim()))return this.logger.info("Renamed folder from",e.name,"to",s.trim()),await this.alert.alertSuccess(`Folder renamed to "${s.trim()}"`),{action:"rename",oldName:e.name,newName:s.trim()};throw await this.alert.alertError("Failed to rename folder"),new Error("Failed to rename folder")}return{action:"rename",cancelled:!0}}async duplicateFolder(e){const s=this.collectionsController.duplicateFolder(this.currentCollection.info.id,e.id);if(s)return this.logger.info("Duplicated folder:",e.name,"",s.name),{action:"duplicate",originalId:e.id,duplicateId:s.id};throw new Error("Failed to duplicate folder")}async deleteFolder(e){if(await this.alert.confirmDelete(`Are you sure you want to delete the folder "${e.name}"?

This action cannot be undone and will delete all contents inside the folder.`,"Delete Folder")){if(this.collectionsController.collectionsStore.deleteFolder(this.currentCollection.info.id,e.id))return this.logger.info("Deleted folder:",e.name),await this.alert.alertSuccess(`Folder "${e.name}" has been deleted`),{action:"delete",folderId:e.id,folderName:e.name};throw await this.alert.alertError("Failed to delete folder"),new Error("Failed to delete folder")}return{action:"delete",cancelled:!0}}}const qd={__name:"FolderContextMenu",props:{collectionsController:{type:Object,required:!0}},emits:["close","action"],setup(t,{expose:e,emit:s}){const n=t,o=s,i=new Rd(n.collectionsController);i.init();const r=M(()=>i.getMenuItems()),a=c=>{o("action",c)};return e({show:(c,d,u)=>i.show(c,d,u),hide:()=>i.hide(),controller:i}),(c,d)=>I(i).state.show?(y(),ge(Yn,{key:0,controller:I(i),"menu-items":r.value,onAction:a},null,8,["controller","menu-items"])):K("",!0)}},Od={class:"collection-item-wrapper"},Id={key:0,class:"folder-container"},Dd={class:"expand-icon"},Fd={class:"folder-name"},Pd={class:"item-count"},Md={key:0,class:"folder-children"},Nd={class:"request-name"},Ud={__name:"CollectionItem",props:{item:{type:Object,required:!0},collectionId:{type:String,required:!0},depth:{type:Number,default:0},controller:{type:Object,required:!0}},emits:["open-request","show-context-menu","show-folder-context-menu"],setup(t,{emit:e}){const s=t,n=e,o=oe(!1),i=M(()=>s.item.type==="folder"||!s.item.type&&s.item.item&&Array.isArray(s.item.item)),r=M(()=>s.item.type==="request"||!s.item.type&&s.item.request),a=M(()=>{if(!i.value)return 0;const h=p=>{let b=0;for(const S of p||[])S.type==="request"||!S.type&&S.request?b++:(S.type==="folder"||!S.type&&S.item)&&(b+=h(S.item));return b};return h(s.item.item)}),c=()=>{i.value&&(o.value=!o.value)},d=()=>{r.value?n("open-request",s.collectionId,s.item.id):i.value&&c()},u=h=>{h.preventDefault(),h.stopPropagation(),r.value?n("show-context-menu",h,s.item):i.value&&n("show-folder-context-menu",h,s.item)},f=h=>({GET:"#22c55e",POST:"#ef4444",PUT:"#f59e0b",PATCH:"#a855f7",DELETE:"#ef4444",HEAD:"#6b7280",OPTIONS:"#06b6d4"})[h]||"#6b7280";return(h,p)=>{const b=kl("CollectionItem",!0);return y(),_("div",Od,[i.value?(y(),_("div",Id,[l("div",{class:"folder-item",style:Me({paddingLeft:`${t.depth*20}px`}),onClick:d,onContextmenu:u},[l("span",Dd,D(o.value?"":""),1),l("span",Fd,D(t.item.name||"Unnamed Folder"),1),l("span",Pd,D(a.value),1)],36),o.value&&t.item.item?(y(),_("div",Md,[(y(!0),_(ve,null,De(t.item.item,S=>(y(),ge(b,{key:S.id,item:S,"collection-id":t.collectionId,depth:t.depth+1,controller:t.controller,onOpenRequest:p[0]||(p[0]=(A,R)=>h.$emit("open-request",A,R)),onShowContextMenu:p[1]||(p[1]=(A,R)=>h.$emit("show-context-menu",A,R)),onShowFolderContextMenu:p[2]||(p[2]=(A,R)=>h.$emit("show-folder-context-menu",A,R))},null,8,["item","collection-id","depth","controller"]))),128))])):K("",!0)])):r.value?(y(),_("div",{key:1,class:"request-item",style:Me({paddingLeft:`${(t.depth+1)*20}px`}),onClick:d,onContextmenu:u},[l("span",{class:"method-badge",style:Me({color:f(t.item.request?.method||"GET")})},D(t.item.request?.method||"GET"),5),l("span",Nd,D(t.item.name||"Unnamed Request"),1)],36)):K("",!0)])}}},Ld=_e(Ud,[["__scopeId","data-v-9d286551"]]),Vd={class:"collections-tab"},jd={class:"collections-list"},zd={key:0,class:"empty-state"},Hd={key:1,class:"empty-state welcome-state"},Bd=["onClick","onContextmenu"],Jd={class:"expand-icon"},Wd={class:"collection-name"},Gd={class:"request-count"},Kd={key:1,class:"requests-list"},Xd={__name:"CollectionsTab",setup(t){let e=null;const s=oe({}),n=oe(null),o=oe(null),i=oe(null);Ue(()=>{e=new $u,s.value=e.getCollectionsState(),e.setContextMenuRefs(n.value,o.value,i.value),e.on("collectionCreated",w=>{}),e.on("collectionDeleted",w=>{});const E=setInterval(()=>{},100);e._intervalId=E}),ft(()=>{e&&(e._intervalId&&clearInterval(e._intervalId),e.dispose(),e=null)}),we([n,o,i],()=>{e&&e.setContextMenuRefs(n.value,o.value,i.value)});const r=R=>e?.toggleCollection(R),a=(R,E)=>e?.openRequest(R,E),c=()=>e?.toggleNewCollectionDialog(!0),d=(R,E)=>e?.showContextMenu(R,E),u=(R,E,w)=>e?.showRequestContextMenu(R,E,w),f=(R,E,w)=>e?.showFolderContextMenu(R,E,w),h=R=>e?.handleContextAction(R),p=R=>e?.handleRequestContextAction(R),b=()=>e?.getCollections()||[],S=()=>e?.getFilteredCollections()||[],A=R=>e?.isCollectionExpanded(R)||!1;return(R,E)=>(y(),_("div",Vd,[l("div",{class:"section-header"},[E[4]||(E[4]=l("span",{class:"section-title"},"Collections",-1)),l("button",{class:"btn-icon",title:"New Collection",onClick:c},"+")]),l("div",jd,[b()?b().length===0?(y(),_("div",Hd,[E[6]||(E[6]=l("div",{class:"welcome-icon"},"",-1)),E[7]||(E[7]=l("h3",null,"Welcome to ToastMan!",-1)),E[8]||(E[8]=l("p",null,"Get started by creating your first collection to organize your API requests.",-1)),l("button",{class:"btn-primary",onClick:c}," Create Your First Collection "),E[9]||(E[9]=l("div",{class:"quick-tips"},[l("h4",null,"Quick Tips:"),l("ul",null,[l("li",null,"Collections help organize related requests"),l("li",null,"Use environments to manage variables"),l("li",null,"Import from Postman collections")])],-1))])):(y(!0),_(ve,{key:2},De(S(),w=>(y(),_("div",{key:w?.info?.id||Date.now(),class:"collection-item"},[w&&w.info?(y(),_("div",{key:0,class:"collection-header",onClick:v=>r(w.info.id),onContextmenu:v=>d(v,w)},[l("span",Jd,D(A(w.info.id)?"":""),1),l("span",Wd,D(w.info.name),1),l("span",Gd,D((w.item||[]).length),1)],40,Bd)):K("",!0),w&&w.info&&A(w.info.id)&&w.item?(y(),_("div",Kd,[(y(!0),_(ve,null,De(w.item,v=>(y(),ge(Ld,{key:v.id,item:v,"collection-id":w.info.id,controller:I(e)?.collectionsController,onOpenRequest:E[0]||(E[0]=(T,O)=>a(T,O)),onShowContextMenu:(T,O)=>u(T,w,O),onShowFolderContextMenu:(T,O)=>f(T,w,O)},null,8,["item","collection-id","controller","onShowContextMenu","onShowFolderContextMenu"]))),128))])):K("",!0)]))),128)):(y(),_("div",zd,[...E[5]||(E[5]=[l("div",{class:"loading-spinner"},"",-1),l("p",null,"Loading collections...",-1)])]))]),s.value.showNewCollectionDialog?(y(),ge(ad,{key:0,onClose:E[1]||(E[1]=()=>I(e)?.toggleNewCollectionDialog(!1))})):K("",!0),I(e)?.state?.showNewFolderDialog&&I(e)?.state?.newFolderDialogData?(y(),ge(gd,{key:1,"collection-id":I(e).state.newFolderDialogData.collectionId,"parent-folder-id":I(e).state.newFolderDialogData.parentFolderId,onClose:E[2]||(E[2]=()=>I(e)?.hideNewFolderDialog()),onCreate:E[3]||(E[3]=()=>I(e)?.hideNewFolderDialog())},null,8,["collection-id","parent-folder-id"])):K("",!0),I(e)?(y(),_(ve,{key:2},[be(Ad,{ref_key:"contextMenuRef",ref:n,"collections-controller":I(e).collectionsController,onAction:h},null,8,["collections-controller"]),be($d,{ref_key:"requestContextMenuRef",ref:o,"collections-controller":I(e).collectionsController,onAction:p},null,8,["collections-controller"]),be(qd,{ref_key:"folderContextMenuRef",ref:i,"collections-controller":I(e).collectionsController,onAction:h},null,8,["collections-controller"])],64)):K("",!0)]))}},Yd=_e(Xd,[["__scopeId","data-v-53ac9d7b"]]);class Wt extends te{static schema={id:{type:"string",default:()=>te.generateId()},key:{type:"string",required:!0},value:{type:"string",default:""},type:{type:"string",enum:["default","secret","boolean","number","json"],default:"default"},enabled:{type:"boolean",default:!0},description:{type:"string",default:""}};constructor(e={}){super(e),this.validateValue()}validateValue(){if(this.type==="boolean"&&this.value!==""&&this.value!=="true"&&this.value!=="false")throw new Error(`Boolean variable '${this.key}' must have value 'true' or 'false'`);if(this.type==="number"&&this.value!==""&&isNaN(Number(this.value)))throw new Error(`Number variable '${this.key}' must have a numeric value`);if(this.type==="json"&&this.value!=="")try{JSON.parse(this.value)}catch{throw new Error(`JSON variable '${this.key}' must have valid JSON as value`)}}getParsedValue(){if(!(!this.enabled||this.value===""))switch(this.type){case"boolean":return this.value==="true";case"number":return Number(this.value);case"json":try{return JSON.parse(this.value)}catch{return this.value}case"secret":case"default":default:return this.value}}isSecret(){return this.type==="secret"}}class Kt extends te{static schema={id:{type:"string",default:()=>te.generateId()},name:{type:"string",required:!0},values:{type:"array",default:[]},isActive:{type:"boolean",default:!1},isGlobal:{type:"boolean",default:!1},color:{type:"string",default:""},_postman_variable_scope:{type:"string",default:"environment"},_postman_exported_at:{type:"string",default:()=>te.getTimestamp()},_postman_exported_using:{type:"string",default:"ToastMan"},createdAt:{type:"string",default:()=>te.getTimestamp()},updatedAt:{type:"string",default:()=>te.getTimestamp()}};constructor(e={}){typeof e=="string"&&(e={name:e}),e.id!==void 0&&e.id!==null&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt!==void 0&&e.createdAt!==null&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt!==void 0&&e.updatedAt!==null&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e._postman_exported_at!==void 0&&e._postman_exported_at!==null&&typeof e._postman_exported_at!="string"&&(e._postman_exported_at=e._postman_exported_at instanceof Date?e._postman_exported_at.toISOString():String(e._postman_exported_at)),e.values&&(e.values=e.values.map(s=>s instanceof Wt?s.toJSON():new Wt(s).toJSON())),super(e)}addVariable(e,s,n="default",o=!0){const i=this.values.findIndex(r=>r.key===e);return i!==-1?this.values[i]=new Wt({key:e,value:s,type:n,enabled:o}).toJSON():this.values.push(new Wt({key:e,value:s,type:n,enabled:o}).toJSON()),this.updatedAt=te.getTimestamp(),this}removeVariable(e){return this.values=this.values.filter(s=>s.key!==e),this.updatedAt=te.getTimestamp(),this}getVariable(e){const s=this.values.find(n=>n.key===e&&n.enabled);if(s)return new Wt(s).getParsedValue()}getAllVariables(){const e={};for(const s of this.values)if(s.enabled){const n=new Wt(s);e[s.key]=n.getParsedValue()}return e}getEnabledVariables(){return this.values.filter(e=>e.enabled)}toggleVariable(e){const s=this.values.find(n=>n.key===e);return s&&(s.enabled=!s.enabled,this.updatedAt=te.getTimestamp()),this}updateVariable(e,s){const n=this.values.find(o=>o.key===e);return n&&(Object.assign(n,s),this.updatedAt=te.getTimestamp()),this}replaceVariables(e){return!e||typeof e!="string"?e:e.replace(/\{\{(\w+)\}\}/g,(s,n)=>{const o=this.getVariable(n);return o!==void 0?String(o):s})}merge(e){const s=new Kt(this.toJSON());for(const n of e.values)s.values.find(o=>o.key===n.key)||s.values.push(n);return s}export(){return{id:this.id,name:this.name,values:this.values.map(e=>({key:e.key,value:e.type==="secret"?"":e.value,type:e.type,enabled:e.enabled})),_postman_variable_scope:this._postman_variable_scope,_postman_exported_at:new Date().toISOString(),_postman_exported_using:this._postman_exported_using}}static import(e){return new Kt(e)}static createGlobal(){return new Kt({name:"Global",isGlobal:!0,_postman_variable_scope:"globals"})}}const Qd=new Zt({prefix:"useEnvironments",level:"debug"});let ho=null;function cs(){return ho||(ho=Zd()),ho}function Zd(){const{data:t}=gu(),{data:e}=vu(),s=M(()=>t.value||[]),n=M(()=>e.value?s.value.find(P=>P.id===e.value):null),o=M(()=>s.value.reduce((P,J)=>P+(J.values?.length||0),0)),i=(P="New Environment")=>{const L=new Kt({name:P}).toJSON();return t.value.push(L),L},r=P=>s.value.find(J=>J.id===P),a=(P,J)=>{const L=r(P);return L&&(Object.assign(L,J),L._postman_exported_at=new Date().toISOString()),L},c=P=>{const J=t.value.findIndex(L=>L.id===P);return J>-1?(t.value.splice(J,1),e.value===P&&(e.value=null),!0):!1},d=P=>{const J=r(P);if(J){const x=new Kt(J).clone();x.id=Pe(),x.name=`${J.name} Copy`,x._postman_exported_at=new Date().toISOString(),x.values=x.values.map($=>({...$,id:Pe()}));const C=x.toJSON();return t.value.push(C),C}return null},u=P=>{const J=r(P);return J?(e.value=P,J):(P===null&&(e.value=null),null)},f=(P,J="",L="",x=!0)=>{const C=r(P);if(C){const $=new Wt({key:J,value:L,enabled:x});return C.values.push($.toJSON()),C._postman_exported_at=new Date().toISOString(),$.toJSON()}return null},h=(P,J)=>{const L=r(P);return L?L.values.find(x=>x.id===J):null},p=(P,J,L)=>{const x=h(P,J);if(x){Object.assign(x,L);const C=r(P);C&&(C._postman_exported_at=new Date().toISOString())}return x},b=(P,J)=>{const L=r(P);if(L){const x=L.values.findIndex(C=>C.id===J);if(x>-1)return L.values.splice(x,1),L._postman_exported_at=new Date().toISOString(),!0}return!1},S=(P,J)=>{const L=h(P,J);if(L){const x=JSON.parse(JSON.stringify(L));x.id=Pe(),x.key=`${L.key}_copy`;const C=r(P);if(C)return C.values.push(x),C._postman_exported_at=new Date().toISOString(),x}return null},A=(P,J=null)=>{const L=J?r(J):n.value;return L&&L.values.find(C=>C.key===P&&C.enabled)?.value||null},R=(P,J=null)=>!P||typeof P!="string"?P:P.replace(/\{\{([^}]+)\}\}/g,(L,x)=>{const C=A(x.trim(),J);return C!==null?C:L}),E=(P=null)=>{const J=P?r(P):n.value;return J?J.values.filter(L=>L.enabled).map(L=>({key:L.key,value:L.value})):[]},w=P=>{const J=[],L=P.toLowerCase();return s.value.forEach(x=>{x.values.forEach(C=>{const $=C.key.toLowerCase().includes(L),re=C.value.toLowerCase().includes(L);($||re)&&J.push({environment:x,variable:C})})}),J},v=P=>{const J=r(P);return J?{...J,_postman_exported_at:new Date().toISOString(),_postman_exported_using:"ToastMan"}:null},T=P=>{try{if(!P.name)throw new Error("Invalid environment format");const J=new Kt(P);J.id=Pe(),J.name=`${J.name} (Imported)`,J._postman_exported_at=new Date().toISOString(),J._postman_exported_using="ToastMan",J.values?J.values=J.values.map(x=>({...x,id:Pe()})):J.values=[];const L=J.toJSON();return t.value.push(L),L}catch(J){throw Qd.error("Failed to import environment:",J),J}},O=async()=>{if(await We(),s.value.length===0){const P=i("Development");f(P.id,"baseUrl","https://api-dev.example.com"),f(P.id,"apiKey","dev-api-key-123");const J=i("Production");f(J.id,"baseUrl","https://api.example.com"),f(J.id,"apiKey","prod-api-key-456"),u(P.id)}};return{environments:s,activeEnvironment:n,activeEnvironmentId:M(()=>e.value),totalVariables:o,createEnvironment:i,getEnvironment:r,updateEnvironment:a,deleteEnvironment:c,duplicateEnvironment:d,setActiveEnvironment:u,addVariable:f,getVariable:h,updateVariable:p,deleteVariable:b,duplicateVariable:S,resolveVariable:A,interpolateString:R,getAvailableVariables:E,searchVariables:w,exportEnvironment:v,importEnvironment:T,initializeDefaultData:O}}class ef extends Ge{constructor(){super("environments"),this.createState({}),this.environmentsStore=cs()}init(){super.init(),this.environments=this.createComputed("environments",()=>{if(!this.environmentsStore)return[];const e=this.environmentsStore.environments.value||[];return Array.isArray(e)?e:[]}),this.activeEnvironment=this.createComputed("activeEnvironment",()=>this.environmentsStore&&this.environmentsStore.activeEnvironment.value||null)}async createEnvironment(e="New Environment"){const s=await this.executeAsync(async()=>{const n=this.validate(Kt,{name:e});if(!n.valid)throw new Error(n.error);const o=this.environmentsStore.createEnvironment(e);return this.logger.info("Created environment:",o?.name,"with ID:",o?.id),o},"Failed to create environment");return s.success&&this.emit("environmentCreated",s.data),s}setActiveEnvironment(e){this.environmentsStore.setActiveEnvironment(e),this.logger.info(`Set active environment: ${e}`),this.emit("environmentChanged",e)}async updateEnvironment(e,s){const n=await this.executeAsync(async()=>{const o=this.environmentsStore.updateEnvironment(e,s);return this.logger.info(`Updated environment: ${e}`),o},"Failed to update environment");return n.success&&this.emit("environmentUpdated",{environmentId:e,environment:n.data}),n}async deleteEnvironment(e){const s=await this.executeAsync(async()=>{this.environmentsStore.deleteEnvironment(e),this.logger.info(`Deleted environment: ${e}`)},"Failed to delete environment");return s.success&&this.emit("environmentDeleted",e),s}async duplicateEnvironment(e){const s=await this.executeAsync(async()=>{const n=this.environmentsStore.duplicateEnvironment(e);return this.logger.info(`Duplicated environment: ${e}`),n},"Failed to duplicate environment");return s.success&&this.emit("environmentDuplicated",s.data),s}async addVariable(e,s="",n="",o=!0){const i=await this.executeAsync(async()=>{const r=this.environmentsStore.addVariable(e,s,n,o);return this.logger.info(`Added variable '${s}' to environment: ${e}`),r},"Failed to add variable");return i.success&&this.emit("variableAdded",{environmentId:e,variable:i.data}),i}async updateVariable(e,s,n){const o=await this.executeAsync(async()=>{const i=this.environmentsStore.updateVariable(e,s,n);return this.logger.info(`Updated variable in environment: ${e}`),i},"Failed to update variable");return o.success&&this.emit("variableUpdated",{environmentId:e,variableId:s,variable:o.data}),o}async deleteVariable(e,s){const n=await this.executeAsync(async()=>{this.environmentsStore.deleteVariable(e,s),this.logger.info(`Deleted variable from environment: ${e}`)},"Failed to delete variable");return n.success&&this.emit("variableDeleted",{environmentId:e,variableId:s}),n}async importEnvironment(e){const s=await this.executeAsync(async()=>{const n=this.environmentsStore.importEnvironment(e);return this.logger.info("Imported environment:",n?.name),n},"Failed to import environment");return s.success&&this.emit("environmentImported",s.data),s}exportEnvironment(e){try{const s=this.environmentsStore.exportEnvironment(e);return this.logger.info("Exported environment:",e),this.emit("environmentExported",{environmentId:e,data:s}),{success:!0,data:s}}catch(s){return this.logger.error("Failed to export environment:",s),{success:!1,error:s.message}}}}const tf={class:"form-group"},sf={class:"form-actions"},nf=["disabled"],of={__name:"NewEnvironmentDialog",emits:["close","create"],setup(t,{emit:e}){const s=e,n=oe(""),o=oe(null),i=()=>{n.value.trim()&&(s("create",n.value.trim()),s("close"))},r=()=>{s("close")},a=c=>{c.preventDefault(),i()};return Ue(()=>{setTimeout(()=>{o.value?.focus()},100)}),(c,d)=>(y(),ge(Rs,{title:"Create New Environment",width:"400px",onClose:r},{default:Ne(()=>[l("form",{onSubmit:a,class:"environment-form"},[l("div",tf,[d[1]||(d[1]=l("label",{for:"environment-name",class:"form-label"}," Environment Name ",-1)),fe(l("input",{id:"environment-name",ref_key:"nameInput",ref:o,"onUpdate:modelValue":d[0]||(d[0]=u=>n.value=u),type:"text",placeholder:"e.g., Development, Production, Staging",class:"form-input",required:""},null,512),[[Re,n.value]]),d[2]||(d[2]=l("p",{class:"form-help"}," Choose a descriptive name for your environment to help manage different API configurations. ",-1))]),l("div",sf,[l("button",{type:"button",class:"btn-secondary",onClick:r}," Cancel "),l("button",{type:"submit",class:"btn-primary",disabled:!n.value.trim()}," Create Environment ",8,nf)])],32)]),_:1}))}},rf=_e(of,[["__scopeId","data-v-f3d8fcd5"]]);class af extends Qn{constructor(e){super("environment-context-menu"),this.environmentsController=e,this.alert=$s()}getMenuTitle(e){return e?.name||"Environment"}getMenuItems(){return[{action:"activate",label:"Set as Active",icon:""},{type:"separator"},{action:"variables",label:"Manage Variables",icon:""},{action:"rename",label:"Rename",icon:""},{action:"duplicate",label:"Duplicate",icon:""},{action:"export",label:"Export",icon:""},{type:"separator"},{action:"delete",label:"Delete",icon:"",danger:!0}]}async handleAction(e,s){switch(this.logger.info(`Executing environment action: ${e} for environment: ${s?.name}`),e){case"activate":return await this.activateEnvironment(s);case"variables":return await this.manageVariables(s);case"rename":return await this.renameEnvironment(s);case"duplicate":return await this.duplicateEnvironment(s);case"export":return await this.exportEnvironment(s);case"delete":return await this.deleteEnvironment(s);default:throw new Error(`Unknown action: ${e}`)}}async activateEnvironment(e){return this.environmentsController.setActiveEnvironment(e.id),this.logger.info("Activated environment:",e.name),{action:"activate",environmentId:e.id,environmentName:e.name}}async manageVariables(e){return this.logger.info("Opening variables dialog for environment:",e.name),{action:"variables",environment:e}}async renameEnvironment(e){const s=await this.alert.prompt("Enter new environment name:",e.name,"Rename Environment");return s&&s.trim()&&s.trim()!==e.name?(this.environmentsController.environmentsStore.updateEnvironment(e.id,{name:s.trim()}),this.logger.info("Renamed environment from",e.name,"to",s.trim()),await this.alert.alertSuccess(`Environment renamed to "${s.trim()}"`),{action:"rename",oldName:e.name,newName:s.trim()}):{action:"rename",cancelled:!0}}async duplicateEnvironment(e){const s=this.environmentsController.duplicateEnvironment(e.id);if(s)return this.logger.info("Duplicated environment:",e.name,"",s.name),{action:"duplicate",originalId:e.id,duplicateId:s.id};throw new Error("Failed to duplicate environment")}async exportEnvironment(e){try{const s={id:e.id,name:e.name,values:e.values||[],exportedAt:new Date().toISOString(),exportedBy:"ToastMan"},n=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),o=URL.createObjectURL(n),i=document.createElement("a");return i.href=o,i.download=`${e.name.replace(/[^a-z0-9]/gi,"_")}_environment.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o),this.logger.info("Exported environment:",e.name),{action:"export",environmentId:e.id,environmentName:e.name}}catch(s){throw this.logger.error("Failed to export environment:",s),new Error("Failed to export environment")}}async deleteEnvironment(e){const s=this.environmentsController.environmentsStore.activeEnvironment?.value?.id===e.id||this.environmentsController.environmentsStore.activeEnvironment?.id===e.id,n=s?`Are you sure you want to delete the environment "${e.name}"?

This is your currently ACTIVE environment. Deleting it will deactivate all environment variables.

This action cannot be undone.`:`Are you sure you want to delete the environment "${e.name}"?

This action cannot be undone.`;return await this.alert.confirmDelete(n,"Delete Environment")?(await this.environmentsController.deleteEnvironment(e.id),this.logger.info("Deleted environment:",e.name),await this.alert.alertSuccess(`Environment "${e.name}" has been deleted`),{action:"delete",environmentId:e.id,environmentName:e.name,wasActive:s}):{action:"delete",cancelled:!0}}}const lf={key:0,class:"active-indicator"},cf={__name:"EnvironmentContextMenu",props:{environmentsController:{type:Object,required:!0}},emits:["close","action"],setup(t,{expose:e,emit:s}){const n=t,o=s,i=new af(n.environmentsController);i.init();const r=M(()=>i.getMenuItems()),a=c=>{o("action",c)};return e({show:(c,d)=>i.show(c,d),hide:()=>i.hide(),controller:i}),(c,d)=>I(i).state.show?(y(),ge(Yn,{key:0,controller:I(i),"menu-items":r.value,onAction:a},{items:Ne(({item:u,handleAction:f})=>[t.environmentsController.environmentsStore.activeEnvironment?.value?.id===u?.id||t.environmentsController.environmentsStore.activeEnvironment?.id===u?.id?(y(),_("div",lf,[...d[0]||(d[0]=[l("span",{class:"active-icon"},"",-1),l("span",{class:"active-text"},"Currently Active",-1)])])):K("",!0)]),_:1},8,["controller","menu-items"])):K("",!0)}},uf=_e(cf,[["__scopeId","data-v-d84c6688"]]),df={class:"variables-container"},ff={class:"variables-table"},pf={class:"table-body"},hf={class:"col-checkbox"},mf=["onUpdate:modelValue","disabled"],gf={class:"col-key"},vf=["onUpdate:modelValue","onInput"],yf={key:0,class:"error-text"},bf={class:"col-type"},wf=["onUpdate:modelValue","disabled"],xf=["value"],Cf={class:"col-value"},Sf=["type","onUpdate:modelValue","placeholder","disabled"],_f=["onUpdate:modelValue","placeholder","disabled"],Tf={class:"col-actions"},Ef=["onClick"],Af=["onClick"],kf={class:"variables-summary"},$f={class:"summary-text"},Rf=["disabled"],qf={__name:"EnvironmentVariablesDialog",props:{environment:{type:Object,required:!0}},emits:["close","update"],setup(t,{emit:e}){const s=new Zt({prefix:"EnvironmentVariablesDialog",level:"debug"}),n=t,o=e,i=oe([]);oe({key:"",value:"",type:"default",description:"",enabled:!0}),Ue(()=>{const E=n.environment.values||[];i.value=E.map(w=>({...w})),i.value.length===0&&c()});const r=[{value:"default",label:"Text"},{value:"secret",label:"Secret"},{value:"number",label:"Number"},{value:"boolean",label:"Boolean"},{value:"json",label:"JSON"}],a=M(()=>i.value.filter(E=>E.enabled&&E.key).length),c=()=>{i.value.push({id:`temp_${Date.now()}`,key:"",value:"",type:"default",description:"",enabled:!0})},d=E=>{i.value.splice(E,1),i.value.length===0&&c()},u=E=>{const w=i.value[E],v={...w,id:`temp_${Date.now()}`,key:`${w.key}_copy`,enabled:!0};i.value.splice(E+1,0,v)},f=E=>{if(!E.key)return"Key is required";if(i.value.filter(v=>v.key===E.key&&v.key!=="").length>1)return"Duplicate key";if(E.type==="number"&&E.value!==""&&isNaN(Number(E.value)))return"Must be a number";if(E.type==="boolean"&&E.value!==""&&E.value!=="true"&&E.value!=="false")return"Must be true or false";if(E.type==="json"&&E.value!=="")try{JSON.parse(E.value)}catch{return"Invalid JSON"}return null},h=M(()=>{const E={};return i.value.forEach((w,v)=>{if(w.key){const T=f(w);T&&(E[v]=T)}}),E}),p=E=>h.value[E]||null,b=M(()=>Object.keys(h.value).length>0),S=()=>{if(b.value)return;const E=i.value.filter(v=>v.key.trim()!=="").map(v=>{try{return new Wt({key:v.key.trim(),value:v.value,type:v.type,description:v.description||"",enabled:v.enabled}).toJSON()}catch(T){return s.error("Error creating environment variable:",T),null}}).filter(v=>v!==null),w={...n.environment,values:E};o("update",w),o("close")},A=(E,w)=>{const v=i.value[E];v.key=w.target.value,E===i.value.length-1&&v.key.trim()!==""&&c()},R=E=>{switch(E){case"secret":return"Enter secret value...";case"number":return"Enter number...";case"boolean":return"true or false";case"json":return"Enter JSON object...";default:return"Enter value..."}};return(E,w)=>(y(),ge(Rs,{title:`Environment Variables - ${t.environment.name}`,width:"800px",height:"600px",onClose:w[1]||(w[1]=v=>o("close"))},{footer:Ne(()=>[l("button",{onClick:w[0]||(w[0]=v=>o("close")),class:"btn-secondary"}," Cancel "),l("button",{onClick:S,class:"btn-primary",disabled:b.value}," Save Changes ",8,Rf)]),default:Ne(()=>[l("div",df,[l("div",ff,[w[2]||(w[2]=l("div",{class:"table-header"},[l("div",{class:"col-checkbox"}),l("div",{class:"col-key"},"Variable"),l("div",{class:"col-type"},"Type"),l("div",{class:"col-value"},"Initial Value"),l("div",{class:"col-actions"},"Actions")],-1)),l("div",pf,[(y(!0),_(ve,null,De(i.value,(v,T)=>(y(),_("div",{key:v.id||T,class:Ce(["variable-row",{disabled:!v.enabled}])},[l("div",hf,[fe(l("input",{type:"checkbox","onUpdate:modelValue":O=>v.enabled=O,disabled:!v.key},null,8,mf),[[Qe,v.enabled]])]),l("div",gf,[fe(l("input",{type:"text","onUpdate:modelValue":O=>v.key=O,onInput:O=>A(T,O),placeholder:"Variable name...",class:Ce(["input-field",{error:p(T)}])},null,42,vf),[[Re,v.key]]),p(T)?(y(),_("div",yf,D(p(T)),1)):K("",!0)]),l("div",bf,[fe(l("select",{"onUpdate:modelValue":O=>v.type=O,class:"input-field",disabled:!v.key},[(y(),_(ve,null,De(r,O=>l("option",{key:O.value,value:O.value},D(O.label),9,xf)),64))],8,wf),[[_s,v.type]])]),l("div",Cf,[v.type!=="json"?fe((y(),_("input",{key:0,type:v.type==="secret"?"password":"text","onUpdate:modelValue":O=>v.value=O,placeholder:R(v.type),class:"input-field",disabled:!v.key},null,8,Sf)),[[Xc,v.value]]):fe((y(),_("textarea",{key:1,"onUpdate:modelValue":O=>v.value=O,placeholder:R(v.type),class:"input-field textarea-field",disabled:!v.key,rows:"2"},null,8,_f)),[[Re,v.value]])]),l("div",Tf,[v.key?(y(),_("button",{key:0,onClick:O=>u(T),class:"action-btn duplicate-btn",title:"Duplicate variable"},"  ",8,Ef)):K("",!0),i.value.length>1?(y(),_("button",{key:1,onClick:O=>d(T),class:"action-btn delete-btn",title:"Delete variable"},"  ",8,Af)):K("",!0)])],2))),128))])]),l("div",kf,[l("span",$f,D(a.value)+" enabled variable"+D(a.value!==1?"s":""),1),l("button",{onClick:c,class:"btn-secondary"}," + Add Variable ")])])]),_:1},8,["title"]))}},Of=_e(qf,[["__scopeId","data-v-34708a4e"]]),If={class:"environments-tab"},Df={class:"environments-list"},Ff={key:0,class:"empty-state"},Pf={key:1,class:"empty-state welcome-state"},Mf=["onClick","onContextmenu"],Nf={class:"environment-content"},Uf={class:"environment-name"},Lf={class:"variable-count"},Vf={class:"environment-actions"},jf={key:0,class:"active-badge"},zf={__name:"EnvironmentsTab",setup(t){const e=new Zt({prefix:"EnvironmentsTab",level:"debug"}),s=new ef;s.init(),s.state;const n=M(()=>s.getComputed("environments")||[]),o=M(()=>s.getComputed("activeEnvironment")),i=oe(!1),r=oe(!1),a=oe(null),c=oe(null),d=()=>{i.value=!0},u=async A=>{(await s.createEnvironment(A)).success&&(i.value=!1)},f=A=>s.setActiveEnvironment(A),h=(A,R)=>{c.value&&c.value.show(A,R)},p=A=>{A.action==="variables"&&A.item&&b(A.item)},b=A=>{a.value=A,r.value=!0},S=async A=>{const R=await s.updateEnvironment(A.id,{values:A.values});R.success?(r.value=!1,a.value=null):e.error("[DEBUG] Update failed:",R.error)};return Ue(()=>{}),ft(()=>{s.dispose()}),(A,R)=>(y(),_("div",If,[l("div",{class:"section-header"},[R[2]||(R[2]=l("span",{class:"section-title"},"Environments",-1)),l("button",{class:"btn-icon",title:"New Environment",onClick:d},"+")]),l("div",Df,[n.value?n.value.length===0?(y(),_("div",Pf,[R[4]||(R[4]=l("div",{class:"welcome-icon"},"",-1)),R[5]||(R[5]=l("h3",null,"No Environments Yet",-1)),R[6]||(R[6]=l("p",null,"Environments help manage variables like API URLs, tokens, and settings across different stages.",-1)),l("button",{class:"btn-primary",onClick:d}," Create Your First Environment "),R[7]||(R[7]=l("div",{class:"quick-tips"},[l("h4",null,"Environment Examples:"),l("ul",null,[l("li",null,"Development (dev APIs)"),l("li",null,"Staging (test environment)"),l("li",null,"Production (live APIs)")])],-1))])):(y(!0),_(ve,{key:2},De(n.value,E=>(y(),_("div",{key:E?.id||Date.now(),class:Ce(["environment-item",{active:o.value?.id===E?.id}]),onClick:w=>E&&f(E.id),onContextmenu:w=>h(w,E)},[R[8]||(R[8]=l("div",{class:"environment-indicator"},null,-1)),l("div",Nf,[l("span",Uf,D(E?.name||"Unnamed Environment"),1),l("span",Lf,D((E?.values||[]).length)+" variables",1)]),l("div",Vf,[o.value?.id===E?.id?(y(),_("span",jf,"Active")):K("",!0)])],42,Mf))),128)):(y(),_("div",Ff,[...R[3]||(R[3]=[l("div",{class:"loading-spinner"},"",-1),l("p",null,"Loading environments...",-1)])]))]),i.value?(y(),ge(rf,{key:0,onClose:R[0]||(R[0]=E=>i.value=!1),onCreate:u})):K("",!0),be(uf,{ref_key:"contextMenuRef",ref:c,"environments-controller":I(s),onAction:p},null,8,["environments-controller"]),r.value&&a.value?(y(),ge(Of,{key:1,environment:a.value,onClose:R[1]||(R[1]=E=>{r.value=!1,a.value=null}),onUpdate:S},null,8,["environment"])):K("",!0)]))}},Hf=_e(zf,[["__scopeId","data-v-6dea7a9c"]]),Yo={REQUEST:"request",RESPONSE:"response",VALIDATION:"validation"};function Qo({type:t,data:e}={}){return{id:Pe(),type:t,data:e,timestamp:new Date().toISOString()}}function Bf(t,e=""){return Qo({type:Yo.REQUEST,data:{request:t,curl:e}})}function Jf(t){return Qo({type:Yo.RESPONSE,data:{status:t.status,statusText:t.statusText,headers:t.headers||{},body:t.body,time:t.time,size:t.size,error:t.error||null,success:t.success!==!1}})}function Wf(t,e=""){return Qo({type:Yo.VALIDATION,data:{errors:t,curlInput:e,errorCount:t.filter(s=>s.type==="error").length,warningCount:t.filter(s=>s.type==="warning").length}})}function Gf({name:t="New Conversation",requestId:e=null,collectionId:s=null,folderId:n=null,initialRequest:o=null}={}){return{id:Pe(),name:t,requestId:e,collectionId:s,folderId:n,messages:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}function mo(t,e){return t.messages.push(e),t.updatedAt=new Date().toISOString(),t}let go=null;function Zo(){return go||(go=Kf()),go}function Kf(){const t=qt("conversations"),{data:e}=bu(),s=oe(null),n=M(()=>s.value&&e.value.find(w=>w.id===s.value)||null),o=M(()=>n.value?.messages||[]),i=M(()=>!!n.value),r=M(()=>e.value.length),a=({name:w="New Request",requestId:v=null,collectionId:T=null,folderId:O=null}={})=>{t.info("Creating new conversation:",{name:w,requestId:v,collectionId:T});const P=Gf({name:w,requestId:v,collectionId:T,folderId:O});return e.value.push(P),s.value=P.id,t.debug("Conversation created:",P.id),P};return{conversations:e,activeConversationId:s,activeConversation:n,activeMessages:o,hasActiveConversation:i,conversationCount:r,createNewConversation:a,openConversation:({name:w,requestId:v,collectionId:T,folderId:O=null})=>{const P=e.value.find(J=>J.requestId===v&&J.collectionId===T);return P?(t.info("Opening existing conversation:",P.id),s.value=P.id,P):a({name:w,requestId:v,collectionId:T,folderId:O})},setActiveConversation:w=>{e.value.some(T=>T.id===w)?(s.value=w,t.debug("Active conversation set:",w)):t.warn("Conversation not found:",w)},addRequest:(w,v="")=>{const T=n.value;if(!T)return t.warn("No active conversation to add request to"),null;const O=Bf(w,v);return mo(T,O),t.debug("Request message added:",O.id),O},addResponse:w=>{const v=n.value;if(!v)return t.warn("No active conversation to add response to"),null;const T=Jf(w);return mo(v,T),t.debug("Response message added:",T.id),T},addValidationError:(w,v="")=>{const T=n.value;if(!T)return t.warn("No active conversation to add validation error to"),null;const O=Wf(w,v);return mo(T,O),t.debug("Validation error message added:",O.id),O},clearActiveConversation:()=>{const w=n.value;w&&(w.messages=[],w.updatedAt=new Date().toISOString(),t.info("Conversation cleared:",w.id))},deleteConversation:w=>{const v=e.value.findIndex(T=>T.id===w);v>-1&&(e.value.splice(v,1),s.value===w&&(s.value=null),t.info("Conversation deleted:",w))},getConversationByRequest:(w,v)=>e.value.find(T=>T.requestId===w&&T.collectionId===v)||null,updateConversationName:(w,v)=>{const T=e.value.find(O=>O.id===w);T&&(T.name=v,T.updatedAt=new Date().toISOString())},getSortedConversations:()=>[...e.value].sort((w,v)=>new Date(v.updatedAt)-new Date(w.updatedAt)),closeActiveConversation:()=>{s.value=null,t.debug("Active conversation closed")}}}class Xf extends Ge{constructor(){super("history"),this.tabsStore=nn(),this.conversationsStore=Zo(),this.createState({filterMethod:null,searchQuery:""})}init(){super.init(),this.logger.debug("History controller initialized")}getSessions(){return this.conversationsStore.getSortedConversations().filter(e=>e.messages&&e.messages.length>0)}getSessionSummary(e){const s=e.messages||[],n=s.filter(a=>a.type==="request"),o=n[n.length-1];let i="GET",r=e.name||"Request";return o?.data?.request&&(i=o.data.request.method||"GET",r=o.data.request.url?.raw||e.name||"Request"),{id:e.id,name:e.name,method:i,url:r,messageCount:s.length,requestCount:n.length,updatedAt:e.updatedAt,createdAt:e.createdAt}}openSession(e){const s=this.conversationsStore.conversations.value.find(r=>r.id===e);if(!s){this.logger.warn("Session not found:",e);return}const n=this.tabsStore.tabs.value.find(r=>r.conversationId===e);if(n){this.tabsStore.setActiveTab(n.id),this.conversationsStore.setActiveConversation(e),this.logger.info("Focused existing tab for session:",e),this.emit("sessionOpened",{sessionId:e,tabId:n.id});return}const o=this.getSessionSummary(s),i=this.tabsStore.createTab({name:o.name||`${o.method} Request`,method:o.method,conversationId:e});this.conversationsStore.setActiveConversation(e),this.logger.info("Opened session in new tab:",e),this.emit("sessionOpened",{sessionId:e,tabId:i.id})}clearHistory(){const e=this.conversationsStore.conversations.value;e.splice(0,e.length),this.logger.info("Cleared all sessions"),this.emit("historyCleared")}removeSession(e){this.conversationsStore.deleteConversation(e),this.logger.debug("Removed session:",e),this.emit("sessionRemoved",e)}filterByMethod(e){const s=this.getSessions();return e?s.filter(n=>this.getSessionSummary(n).method===e):s}searchSessions(e){const s=this.getSessions();if(!e)return s;const n=e.toLowerCase();return s.filter(o=>{const i=this.getSessionSummary(o);return i.name?.toLowerCase().includes(n)||i.url?.toLowerCase().includes(n)||i.method?.toLowerCase().includes(n)})}getHistoryStats(){const e=this.getSessions(),s={};let n=0;return e.forEach(o=>{const i=this.getSessionSummary(o);s[i.method]=(s[i.method]||0)+1,n+=i.messageCount}),{totalSessions:e.length,totalMessages:n,methods:s}}formatTime(e){const s=new Date(e),o=new Date-s;return o<6e4?"Just now":o<36e5?`${Math.floor(o/6e4)}m ago`:o<864e5?`${Math.floor(o/36e5)}h ago`:o<1728e5?"Yesterday":o<6048e5?`${Math.floor(o/864e5)}d ago`:s.toLocaleDateString()}getMethodColor(e){return{GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)",HEAD:"var(--color-head)",OPTIONS:"var(--color-options)"}[e]||"var(--color-text-secondary)"}onUnmounted(){this.dispose()}}const Yf={class:"history-tab"},Qf={class:"section-header"},Zf={class:"header-actions"},ep={class:"history-list"},tp={key:0,class:"empty-state welcome-state"},sp=["onClick"],np={class:"history-header"},op={class:"history-name"},ip={class:"history-time"},rp=["onClick"],ap={class:"history-meta"},lp={class:"message-count"},cp={key:0,class:"url-preview"},up={__name:"HistoryTab",setup(t){const e=new Xf,s=M(()=>e.getSessions().map(c=>e.getSessionSummary(c))),n=()=>e.clearHistory(),o=c=>e.openSession(c),i=c=>e.removeSession(c),r=c=>e.formatTime(c),a=c=>e.getMethodColor(c);return Ue(()=>{e.init()}),ft(()=>{e.onUnmounted()}),(c,d)=>(y(),_("div",Yf,[l("div",Qf,[d[1]||(d[1]=l("span",{class:"section-title"},"Session History",-1)),l("div",Zf,[s.value.length>0?(y(),_("button",{key:0,class:"btn-icon",title:"Clear All Sessions",onClick:n},[...d[0]||(d[0]=[l("span",{class:"icon-trash"},"",-1)])])):K("",!0)])]),l("div",ep,[s.value.length===0?(y(),_("div",tp,[...d[2]||(d[2]=[l("div",{class:"welcome-icon"},"",-1),l("h3",null,"No Session History",-1),l("p",null,"Your conversation sessions will appear here. Send some requests to get started!",-1),l("div",{class:"quick-tips"},[l("h4",null,"Session Features:"),l("ul",null,[l("li",null,"Full conversation threads"),l("li",null,"Continue where you left off"),l("li",null,"Persists across browser sessions")])],-1)])])):(y(!0),_(ve,{key:1},De(s.value,u=>(y(),_("div",{key:u.id,class:"history-item",onClick:f=>o(u.id)},[l("div",np,[l("span",{class:"method-badge",style:Me({color:a(u.method)})},D(u.method),5),l("span",op,D(u.name),1),l("span",ip,D(r(u.updatedAt)),1),l("button",{class:"btn-remove",title:"Remove session",onClick:ln(f=>i(u.id),["stop"])},"  ",8,rp)]),l("div",ap,[l("span",lp,D(u.messageCount)+" message"+D(u.messageCount!==1?"s":""),1),u.url!==u.name?(y(),_("span",cp,D(u.url),1)):K("",!0)])],8,sp))),128))])]))}},dp=_e(up,[["__scopeId","data-v-abfd7a8f"]]),fp={class:"sidebar"},pp={class:"sidebar-tabs"},hp={class:"tab-content"},mp={__name:"Sidebar",setup(t){const e=new lu,s=e.state,n=o=>e.switchTab(o);return Ue(()=>{e.init()}),ft(()=>{e.dispose()}),(o,i)=>(y(),_("div",fp,[l("div",pp,[l("button",{class:Ce(["tab",{active:I(s).activeTab==="collections"}]),onClick:i[0]||(i[0]=r=>n("collections"))},"  Collections ",2),l("button",{class:Ce(["tab",{active:I(s).activeTab==="environments"}]),onClick:i[1]||(i[1]=r=>n("environments"))},"  Environments ",2),l("button",{class:Ce(["tab",{active:I(s).activeTab==="history"}]),onClick:i[2]||(i[2]=r=>n("history"))},"  History ",2)]),l("div",hp,[I(s).activeTab==="collections"?(y(),ge(Yd,{key:0})):K("",!0),I(s).activeTab==="environments"?(y(),ge(Hf,{key:1})):K("",!0),I(s).activeTab==="history"?(y(),ge(dp,{key:2})):K("",!0)])]))}},gp=_e(mp,[["__scopeId","data-v-0d09fed8"]]),vp={class:"message-bubble request"},yp={class:"bubble-header"},bp={class:"url"},wp={class:"timestamp"},xp={class:"bubble-summary"},Cp={key:0,class:"summary-row"},Sp={class:"summary-badge"},_p={class:"summary-preview"},Tp={key:1,class:"summary-row"},Ep={class:"summary-badge"},Ap={class:"summary-preview"},kp={key:0,class:"bubble-details"},$p={key:0,class:"bubble-section"},Rp={class:"toggle-icon"},qp={key:0,class:"section-content"},Op={class:"kv-key"},Ip={class:"kv-value"},Dp={key:1,class:"bubble-section"},Fp={class:"toggle-icon"},Pp={key:0,class:"section-content"},Mp={class:"body-content"},Np={class:"bubble-section curl-section"},Up={class:"toggle-icon"},Lp={key:0,class:"section-content"},Vp={class:"curl-content"},jp={class:"bubble-actions"},zp=["title"],Hp={__name:"RequestBubble",props:{message:{type:Object,required:!0}},emits:["edit"],setup(t,{emit:e}){const s=t,n=oe(!1),o=oe({headers:!1,body:!0,curl:!1}),i=M(()=>s.message.data?.request||{}),r=M(()=>s.message.data?.curl||""),a=M(()=>i.value.method||"GET"),c=M(()=>{const T=i.value.url;return T?typeof T=="string"?T:T.raw||"":""}),d=M(()=>{const T=c.value;return T.length>60?T.substring(0,60)+"...":T}),u=M(()=>(i.value.header||[]).filter(T=>T.enabled!==!1&&T.key)),f=M(()=>{const T=i.value.body;return!T||T.mode==="none"?!1:T.mode==="raw"?!!T.raw:T.mode==="formdata"?(T.formdata||[]).length>0:T.mode==="urlencoded"?(T.urlencoded||[]).length>0:!1}),h=M(()=>{const T=i.value.body;return!T||T.mode==="none"?"":{raw:"JSON",formdata:"Form",urlencoded:"URL"}[T.mode]||T.mode}),p=M(()=>{if(u.value.length===0)return"";const T=u.value[0],O=`${T.key}: ${T.value}`;return O.length>40?O.substring(0,40)+"...":u.value.length>1?O+` +${u.value.length-1}`:O}),b=M(()=>{const T=i.value.body;if(!T)return"";if(T.mode==="raw"){const O=T.raw||"";return O.length>50?O.substring(0,50)+"...":O}if(T.mode==="formdata"){const O=(T.formdata||[]).filter(P=>P.enabled!==!1);return O.length===0?"":`${O.length} field${O.length>1?"s":""}`}if(T.mode==="urlencoded"){const O=(T.urlencoded||[]).filter(P=>P.enabled!==!1);return O.length===0?"":`${O.length} field${O.length>1?"s":""}`}return""}),S=M(()=>{const T=i.value.body;if(!T)return"";if(T.mode==="raw")try{return JSON.stringify(JSON.parse(T.raw),null,2)}catch{return T.raw}return T.mode==="formdata"?(T.formdata||[]).filter(O=>O.enabled!==!1).map(O=>`${O.key}=${O.value}`).join(`
`):T.mode==="urlencoded"?(T.urlencoded||[]).filter(O=>O.enabled!==!1).map(O=>`${O.key}=${O.value}`).join("&"):""}),A=M(()=>({GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)"})[a.value]||"var(--color-text-secondary)"),R=M(()=>s.message.timestamp?new Date(s.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"");function E(){n.value=!n.value}function w(T){o.value[T]=!o.value[T]}function v(){navigator.clipboard.writeText(r.value)}return(T,O)=>(y(),_("div",vp,[l("div",yp,[l("div",{class:"method-badge",style:Me({backgroundColor:A.value})},D(a.value),5),l("span",bp,D(d.value),1),l("span",wp,D(R.value),1)]),l("div",xp,[u.value.length>0?(y(),_("div",Cp,[O[4]||(O[4]=l("span",{class:"summary-label"},"Headers",-1)),l("span",Sp,D(u.value.length),1),l("span",_p,D(p.value),1)])):K("",!0),f.value?(y(),_("div",Tp,[O[5]||(O[5]=l("span",{class:"summary-label"},"Body",-1)),l("span",Ep,D(h.value),1),l("span",Ap,D(b.value),1)])):K("",!0)]),n.value?(y(),_("div",kp,[u.value.length>0?(y(),_("div",$p,[l("div",{class:"section-header",onClick:O[0]||(O[0]=P=>w("headers"))},[l("span",null,"Headers ("+D(u.value.length)+")",1),l("span",Rp,D(o.value.headers?"":"+"),1)]),o.value.headers?(y(),_("div",qp,[(y(!0),_(ve,null,De(u.value,P=>(y(),_("div",{key:P.key,class:"kv-item"},[l("span",Op,D(P.key)+":",1),l("span",Ip,D(P.value),1)]))),128))])):K("",!0)])):K("",!0),f.value?(y(),_("div",Dp,[l("div",{class:"section-header",onClick:O[1]||(O[1]=P=>w("body"))},[O[6]||(O[6]=l("span",null,"Body",-1)),l("span",Fp,D(o.value.body?"":"+"),1)]),o.value.body?(y(),_("div",Pp,[l("pre",Mp,D(S.value),1)])):K("",!0)])):K("",!0),l("div",Np,[l("div",{class:"section-header",onClick:O[2]||(O[2]=P=>w("curl"))},[O[7]||(O[7]=l("span",null,"cURL",-1)),l("span",Up,D(o.value.curl?"":"+"),1)]),o.value.curl?(y(),_("div",Lp,[l("pre",Vp,D(r.value),1),l("button",{class:"copy-btn",onClick:v},"Copy")])):K("",!0)])])):K("",!0),l("div",jp,[l("button",{class:"action-btn",onClick:E,title:n.value?"Collapse":"Expand"},D(n.value?"":""),9,zp),l("button",{class:"action-btn",onClick:O[3]||(O[3]=P=>T.$emit("edit")),title:"Edit"}," Edit ")])]))}},Bp=_e(Hp,[["__scopeId","data-v-ece4e27b"]]),Jp={class:"base-text-editor"},Wp=["value","placeholder","readonly"],Gp={__name:"BaseTextEditor",props:{modelValue:{type:String,default:""},language:{type:String,default:"text"},theme:{type:String,default:"dark"},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},height:{type:String,default:"400px"},options:{type:Object,default:()=>({})}},emits:["update:modelValue","change","focus","blur"],setup(t,{expose:e,emit:s}){const n=t;return e({focus:()=>{console.warn("BaseTextEditor: focus() should be implemented by concrete editor")},blur:()=>{console.warn("BaseTextEditor: blur() should be implemented by concrete editor")},setValue:c=>{console.warn("BaseTextEditor: setValue() should be implemented by concrete editor")},getValue:()=>(console.warn("BaseTextEditor: getValue() should be implemented by concrete editor"),n.modelValue)}),(c,d)=>(y(),_("div",Jp,[l("textarea",{value:t.modelValue,onInput:d[0]||(d[0]=u=>c.$emit("update:modelValue",u.target.value)),onFocus:d[1]||(d[1]=u=>c.$emit("focus",u)),onBlur:d[2]||(d[2]=u=>c.$emit("blur",u)),placeholder:t.placeholder,readonly:t.readonly,style:Me({height:t.height}),class:"fallback-editor"},null,44,Wp)]))}},ei=_e(Gp,[["__scopeId","data-v-f64ee84a"]]);function ga(){if(!window.ace){console.warn("ACE not loaded, cannot initialize curl mode");return}const t=window.ace;t.define("ace/mode/curl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,s,n){const o=e("ace/lib/oop"),i=e("ace/mode/text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{token:"variable.language",regex:/\{\{[^}]+\}\}/},{token:"keyword.control",regex:/\b(GET|POST|PUT|PATCH|DELETE|HEAD|OPTIONS|CONNECT|TRACE)\b/},{token:"keyword.operator",regex:/--[a-z][a-z0-9-]*/},{token:"keyword.operator",regex:/-[A-Za-z]\b/},{token:"string.other",regex:/https?:\/\/[^\s'"]+/},{token:"string.quoted.double",regex:/"/,next:"qqstring"},{token:"string.quoted.single",regex:/'/,next:"qstring"},{token:"support.type",regex:/[A-Za-z][A-Za-z0-9-]*(?=\s*:)/},{token:"constant.numeric",regex:/\b\d+\b/},{token:"keyword.operator",regex:/\\$/},{token:"comment.line",regex:/#.*/}],qqstring:[{token:"variable.language",regex:/\{\{[^}]+\}\}/},{token:"constant.character.escape",regex:/\\./},{token:"string.quoted.double",regex:/"/,next:"start"},{defaultToken:"string.quoted.double"}],qstring:[{token:"variable.language",regex:/\{\{[^}]+\}\}/},{token:"constant.character.escape",regex:/\\./},{token:"string.quoted.single",regex:/'/,next:"start"},{defaultToken:"string.quoted.single"}]},this.normalizeRules()};o.inherits(r,i),s.CurlHighlightRules=r}),t.define("ace/mode/curl",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/curl_highlight_rules"],function(e,s,n){const o=e("ace/lib/oop"),i=e("ace/mode/text").Mode,r=e("ace/mode/curl_highlight_rules").CurlHighlightRules,a=function(){this.HighlightRules=r,this.$behaviour=this.$defaultBehaviour};o.inherits(a,i),(function(){this.lineCommentStart="#",this.$id="ace/mode/curl"}).call(a.prototype),s.Mode=a}),console.debug("ACE curl mode initialized")}typeof window<"u"&&window.ace&&ga();const Gi=[{caption:"GET",value:"GET",meta:"method",description:"Retrieve resource"},{caption:"POST",value:"POST",meta:"method",description:"Create resource"},{caption:"PUT",value:"PUT",meta:"method",description:"Update/replace resource"},{caption:"PATCH",value:"PATCH",meta:"method",description:"Partial update"},{caption:"DELETE",value:"DELETE",meta:"method",description:"Delete resource"},{caption:"HEAD",value:"HEAD",meta:"method",description:"Get headers only"},{caption:"OPTIONS",value:"OPTIONS",meta:"method",description:"Get allowed methods"}],Ki=[{caption:"-X",value:"-X ",meta:"method",description:"HTTP method"},{caption:"--request",value:"--request ",meta:"method",description:"HTTP method (long)"},{caption:"-H",value:"-H ",meta:"header",description:"Add header"},{caption:"--header",value:"--header ",meta:"header",description:"Add header (long)"},{caption:"-d",value:"-d ",meta:"data",description:"Request body data"},{caption:"--data",value:"--data ",meta:"data",description:"Request body (long)"},{caption:"--data-raw",value:"--data-raw ",meta:"data",description:"Raw data (no processing)"},{caption:"--data-binary",value:"--data-binary ",meta:"data",description:"Binary data"},{caption:"--data-urlencode",value:"--data-urlencode ",meta:"data",description:"URL encoded data"},{caption:"-F",value:"-F ",meta:"form",description:"Multipart form field"},{caption:"--form",value:"--form ",meta:"form",description:"Multipart form (long)"},{caption:"-u",value:"-u ",meta:"auth",description:"User:password auth"},{caption:"--user",value:"--user ",meta:"auth",description:"User auth (long)"},{caption:"-k",value:"-k ",meta:"ssl",description:"Allow insecure connections"},{caption:"--insecure",value:"--insecure ",meta:"ssl",description:"Skip SSL verification"},{caption:"-L",value:"-L ",meta:"redirect",description:"Follow redirects"},{caption:"--location",value:"--location ",meta:"redirect",description:"Follow redirects (long)"},{caption:"-v",value:"-v ",meta:"debug",description:"Verbose output"},{caption:"--verbose",value:"--verbose ",meta:"debug",description:"Verbose (long)"},{caption:"-i",value:"-i ",meta:"output",description:"Include response headers"},{caption:"--include",value:"--include ",meta:"output",description:"Include headers (long)"},{caption:"-s",value:"-s ",meta:"output",description:"Silent mode"},{caption:"--silent",value:"--silent ",meta:"output",description:"Silent (long)"},{caption:"--connect-timeout",value:"--connect-timeout ",meta:"timeout",description:"Connection timeout (seconds)"},{caption:"-m",value:"-m ",meta:"timeout",description:"Max time for request"},{caption:"--max-time",value:"--max-time ",meta:"timeout",description:"Max time (long)"},{caption:"-o",value:"-o ",meta:"output",description:"Write to file"},{caption:"--output",value:"--output ",meta:"output",description:"Write to file (long)"}],Kp=[{caption:"Content-Type: application/json",value:"Content-Type: application/json",meta:"content",description:"JSON content"},{caption:"Content-Type: application/x-www-form-urlencoded",value:"Content-Type: application/x-www-form-urlencoded",meta:"content",description:"Form content"},{caption:"Content-Type: multipart/form-data",value:"Content-Type: multipart/form-data",meta:"content",description:"Multipart form"},{caption:"Content-Type: text/plain",value:"Content-Type: text/plain",meta:"content",description:"Plain text"},{caption:"Content-Type: text/xml",value:"Content-Type: text/xml",meta:"content",description:"XML content"},{caption:"Authorization: Bearer ",value:"Authorization: Bearer ",meta:"auth",description:"Bearer token auth"},{caption:"Authorization: Basic ",value:"Authorization: Basic ",meta:"auth",description:"Basic auth"},{caption:"Authorization: ApiKey ",value:"Authorization: ApiKey ",meta:"auth",description:"API key auth"},{caption:"Accept: application/json",value:"Accept: application/json",meta:"accept",description:"Accept JSON"},{caption:"Accept: */*",value:"Accept: */*",meta:"accept",description:"Accept anything"},{caption:"Accept: text/html",value:"Accept: text/html",meta:"accept",description:"Accept HTML"},{caption:"User-Agent: ",value:"User-Agent: ",meta:"header",description:"User agent string"},{caption:"Cache-Control: no-cache",value:"Cache-Control: no-cache",meta:"cache",description:"No caching"},{caption:"Cache-Control: max-age=0",value:"Cache-Control: max-age=0",meta:"cache",description:"Revalidate"},{caption:"X-Api-Key: ",value:"X-Api-Key: ",meta:"custom",description:"API key header"},{caption:"X-Request-ID: ",value:"X-Request-ID: ",meta:"custom",description:"Request ID header"}];function Xp(){try{const e=cs().activeEnvironment?.value;return e?.values?e.values.filter(s=>s.enabled!==!1).map(s=>({caption:`{{${s.key}}}`,value:`{{${s.key}}}`,meta:"variable",description:s.value?s.value.length>30?s.value.slice(0,30)+"...":s.value:"empty",score:500})):[]}catch{return[]}}function Yp(t,e){const s=t.slice(0,e);return/\{\{[^}]*$/.test(s)?"variable":/-X\s*$/.test(s)||/--request\s*$/.test(s)?"method":/-H\s*['"]?$/.test(s)||/--header\s*['"]?$/.test(s)?"header":/(^|\s)-[a-zA-Z-]*$/.test(s)?"flag":/^\s*$/.test(s)||/\s$/.test(s)?"general":null}const Xi={identifierRegexps:[/[a-zA-Z_0-9\-{]/],getCompletions(t,e,s,n,o){const i=e.getLine(s.row),r=Yp(i,s.column);let a=[];switch(r){case"variable":a=Xp();break;case"method":a=Gi.map((c,d)=>({...c,score:1e3-d}));break;case"header":a=Kp.map((c,d)=>({...c,score:1e3-d}));break;case"flag":a=Ki.filter(c=>c.caption.toLowerCase().startsWith(n.toLowerCase())).map((c,d)=>({...c,score:900-d}));break;case"general":a=[...Gi.map((c,d)=>({...c,score:800-d})),...Ki.slice(0,10).map((c,d)=>({...c,score:700-d}))];break}o(null,a)},getDocTooltip(t){if(t.description)return{docHTML:`<div style="padding: 4px 8px;"><strong>${t.caption}</strong><br/><span style="color: #888;">${t.description}</span></div>`}}},Qp={"-X":{name:"Request Method",short:"-X",long:"--request",description:"Specifies the HTTP request method to use when communicating with the server.",example:"-X POST",usage:"Common methods: GET (default), POST, PUT, PATCH, DELETE, HEAD, OPTIONS.",tip:"GET is used by default. Use -X to override for other methods."},"--request":{name:"Request Method",short:"-X",long:"--request",description:"Specifies the HTTP request method to use when communicating with the server.",example:"--request POST",usage:"Common methods: GET (default), POST, PUT, PATCH, DELETE, HEAD, OPTIONS.",tip:"GET is used by default. Use --request to override for other methods."},"-H":{name:"Header",short:"-H",long:"--header",description:"Adds a custom HTTP header to the request. Multiple -H flags can be used.",example:'-H "Content-Type: application/json"',usage:'Format: -H "Header-Name: value". Use for authentication, content types, etc.',tip:"Common headers: Content-Type, Authorization, Accept, User-Agent."},"--header":{name:"Header",short:"-H",long:"--header",description:"Adds a custom HTTP header to the request. Multiple --header flags can be used.",example:'--header "Authorization: Bearer token123"',usage:'Format: --header "Header-Name: value". Use for authentication, content types, etc.',tip:"Common headers: Content-Type, Authorization, Accept, User-Agent."},"-d":{name:"Data",short:"-d",long:"--data",description:"Sends the specified data in a POST request body. Implies -X POST.",example:`-d '{"name": "John", "email": "john@example.com"}'`,usage:"Data is sent as application/x-www-form-urlencoded by default.",tip:'Use with -H "Content-Type: application/json" for JSON payloads.'},"--data":{name:"Data",short:"-d",long:"--data",description:"Sends the specified data in a POST request body. Implies -X POST.",example:`--data '{"key": "value"}'`,usage:"Data is sent as application/x-www-form-urlencoded by default.",tip:'Use with --header "Content-Type: application/json" for JSON payloads.'},"--data-raw":{name:"Raw Data",short:null,long:"--data-raw",description:"Sends data exactly as specified, without any processing.",example:`--data-raw '{"raw": "data"}'`,usage:"Unlike -d, special characters like @ are not interpreted.",tip:"Use when your data contains @ symbols that should be literal."},"--data-binary":{name:"Binary Data",short:null,long:"--data-binary",description:"Sends binary data in the request body.",example:"--data-binary @file.bin",usage:"Use for uploading binary files. Preserves newlines and special chars.",tip:"Use @filename to read data from a file."},"--data-urlencode":{name:"URL Encoded Data",short:null,long:"--data-urlencode",description:"URL-encodes the data before sending.",example:'--data-urlencode "name=John Doe"',usage:"Automatically encodes special characters for URL safety.",tip:"Useful for form data with spaces or special characters."},"-F":{name:"Form Field",short:"-F",long:"--form",description:"Sends a multipart/form-data POST request with form fields.",example:'-F "file=@photo.jpg" -F "name=John"',usage:"Use for file uploads or form submissions. @ prefix reads from file.",tip:"Automatically sets Content-Type to multipart/form-data."},"--form":{name:"Form Field",short:"-F",long:"--form",description:"Sends a multipart/form-data POST request with form fields.",example:'--form "document=@report.pdf"',usage:"Use for file uploads or form submissions. @ prefix reads from file.",tip:"Automatically sets Content-Type to multipart/form-data."},"-u":{name:"User Authentication",short:"-u",long:"--user",description:"Specifies username and password for server authentication.",example:"-u username:password",usage:"Format: -u user:pass. Omit password to be prompted.",tip:"Used for Basic HTTP authentication. Consider using tokens instead."},"--user":{name:"User Authentication",short:"-u",long:"--user",description:"Specifies username and password for server authentication.",example:"--user admin:secret123",usage:"Format: --user user:pass. Omit password to be prompted.",tip:"Used for Basic HTTP authentication. Consider using tokens instead."},"-k":{name:"Insecure",short:"-k",long:"--insecure",description:"Allows connections to SSL sites without valid certificates.",example:"-k https://self-signed.example.com",usage:"Skips SSL certificate verification. Use with caution!",tip:"Only use for development/testing with self-signed certs."},"--insecure":{name:"Insecure",short:"-k",long:"--insecure",description:"Allows connections to SSL sites without valid certificates.",example:"--insecure https://localhost:8443",usage:"Skips SSL certificate verification. Use with caution!",tip:"Only use for development/testing with self-signed certs."},"-L":{name:"Follow Redirects",short:"-L",long:"--location",description:"Follows HTTP redirects (3xx responses) to the new location.",example:"-L https://short.url/abc",usage:"Automatically follows Location headers up to 50 redirects.",tip:"Essential for shortened URLs or sites with redirects."},"--location":{name:"Follow Redirects",short:"-L",long:"--location",description:"Follows HTTP redirects (3xx responses) to the new location.",example:"--location https://example.com/old-page",usage:"Automatically follows Location headers up to 50 redirects.",tip:"Essential for shortened URLs or sites with redirects."},"-o":{name:"Output File",short:"-o",long:"--output",description:"Writes output to a file instead of stdout.",example:"-o response.json",usage:"Saves the response body to the specified file.",tip:"Use with -O to keep the remote filename."},"--output":{name:"Output File",short:"-o",long:"--output",description:"Writes output to a file instead of stdout.",example:"--output data.txt",usage:"Saves the response body to the specified file.",tip:"Use with --remote-name to keep the remote filename."},"-O":{name:"Remote Name",short:"-O",long:"--remote-name",description:"Writes output using the remote filename from the URL.",example:"-O https://example.com/file.zip",usage:'Saves to "file.zip" based on the URL path.',tip:"Convenient for downloading files with original names."},"-v":{name:"Verbose",short:"-v",long:"--verbose",description:"Shows detailed information about the request and response.",example:"-v https://api.example.com",usage:"Displays headers, SSL handshake, and connection info.",tip:"Great for debugging. Use -vv for even more detail."},"--verbose":{name:"Verbose",short:"-v",long:"--verbose",description:"Shows detailed information about the request and response.",example:"--verbose https://api.example.com",usage:"Displays headers, SSL handshake, and connection info.",tip:"Great for debugging. Use multiple -v for more detail."},"-i":{name:"Include Headers",short:"-i",long:"--include",description:"Includes HTTP response headers in the output.",example:"-i https://api.example.com",usage:"Shows status line and headers before the body.",tip:"Useful for seeing status codes and response headers."},"--include":{name:"Include Headers",short:"-i",long:"--include",description:"Includes HTTP response headers in the output.",example:"--include https://api.example.com",usage:"Shows status line and headers before the body.",tip:"Useful for seeing status codes and response headers."},"-s":{name:"Silent",short:"-s",long:"--silent",description:"Suppresses progress meter and error messages.",example:"-s https://api.example.com",usage:"Useful in scripts where you only want the response body.",tip:"Combine with -S to show errors but hide progress."},"--silent":{name:"Silent",short:"-s",long:"--silent",description:"Suppresses progress meter and error messages.",example:"--silent https://api.example.com",usage:"Useful in scripts where you only want the response body.",tip:"Combine with --show-error to show errors but hide progress."},"-m":{name:"Max Time",short:"-m",long:"--max-time",description:"Sets maximum time in seconds for the entire operation.",example:"-m 30",usage:"Request fails if it takes longer than specified seconds.",tip:"Use to prevent hanging on slow servers."},"--max-time":{name:"Max Time",short:"-m",long:"--max-time",description:"Sets maximum time in seconds for the entire operation.",example:"--max-time 60",usage:"Request fails if it takes longer than specified seconds.",tip:"Use to prevent hanging on slow servers."},"--connect-timeout":{name:"Connect Timeout",short:null,long:"--connect-timeout",description:"Sets maximum time in seconds to wait for connection.",example:"--connect-timeout 10",usage:"Only affects the connection phase, not the transfer.",tip:"Use with --max-time for complete timeout control."},"-b":{name:"Cookie",short:"-b",long:"--cookie",description:"Sends cookies with the request.",example:'-b "session=abc123; user=john"',usage:'Format: "name=value" or read from file with -b cookies.txt',tip:"Use -c to save received cookies to a file."},"--cookie":{name:"Cookie",short:"-b",long:"--cookie",description:"Sends cookies with the request.",example:'--cookie "token=xyz789"',usage:'Format: "name=value" or read from file with --cookie cookies.txt',tip:"Use --cookie-jar to save received cookies to a file."},"-c":{name:"Cookie Jar",short:"-c",long:"--cookie-jar",description:"Saves received cookies to a file.",example:"-c cookies.txt",usage:"Stores cookies from response Set-Cookie headers.",tip:"Use with -b to read cookies back in subsequent requests."},"-A":{name:"User Agent",short:"-A",long:"--user-agent",description:"Sets the User-Agent header for the request.",example:'-A "Mozilla/5.0 (Windows NT 10.0; Win64; x64)"',usage:"Identifies the client to the server.",tip:"Some APIs require specific user agents."},"--user-agent":{name:"User Agent",short:"-A",long:"--user-agent",description:"Sets the User-Agent header for the request.",example:'--user-agent "MyApp/1.0"',usage:"Identifies the client to the server.",tip:"Some APIs require specific user agents."}};function Zp(t){const e=t?.trim();return Qp[e]||null}const va=new Set(["-X","--request","-H","--header","-d","--data","--data-raw","--data-binary","--data-urlencode","-F","--form","-u","--user","-k","--insecure","-L","--location","-o","--output","-O","--remote-name","-v","--verbose","-i","--include","-s","--silent","-S","--show-error","-m","--max-time","--connect-timeout","-b","--cookie","-c","--cookie-jar","-A","--user-agent","-e","--referer","-G","--get","-I","--head","--compressed","--http1.1","--http2","-x","--proxy","-U","--proxy-user"]),eh=new Set(["-X","--request","-H","--header","-d","--data","--data-raw","--data-binary","--data-urlencode","-F","--form","-u","--user","-o","--output","-m","--max-time","--connect-timeout","-b","--cookie","-c","--cookie-jar","-A","--user-agent","-e","--referer","-x","--proxy","-U","--proxy-user"]),th=new Set(["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS","CONNECT","TRACE"]);function ya(t){const e=[];if(!t||!t.trim())return e;const s=t.split(`
`),n=nh(t,s);e.push(...n);const o=sh(t);let i=!1,r=0;for(;r<o.length;){const a=o[r],c=a.value;if(c.toLowerCase()==="curl"){r++;continue}if(oh(c)){i=!0,r++;continue}if(c.startsWith("-")){if(!va.has(c)){const d=ih(c);e.push({row:a.row,column:a.column,endRow:a.endRow,endColumn:a.endColumn,text:d?`Unknown flag "${c}". Did you mean "${d}"?`:`Unknown flag "${c}"`,type:"error"}),r++;continue}if(eh.has(c)){if(r+1>=o.length||o[r+1].value.startsWith("-")){e.push({row:a.row,column:a.column,endRow:a.endRow,endColumn:a.endColumn,text:`Flag "${c}" requires a value`,type:"error"}),r++;continue}const d=o[r+1];if(c==="-X"||c==="--request"){const u=d.value.toUpperCase();th.has(u)||e.push({row:d.row,column:d.column,endRow:d.endRow,endColumn:d.endColumn,text:`Invalid HTTP method "${d.value}". Valid: GET, POST, PUT, PATCH, DELETE, HEAD, OPTIONS`,type:"error"})}(c==="-H"||c==="--header")&&(d.value.includes(":")||e.push({row:d.row,column:d.column,endRow:d.endRow,endColumn:d.endColumn,text:'Header should be "Name: Value" format (missing colon)',type:"warning"})),r+=2;continue}r++;continue}r++}if(!i&&o.length>0){const a=o.find(c=>c.value.toLowerCase()!=="curl")||o[0];a&&e.push({row:a.row,column:a.column,endRow:a.endRow,endColumn:a.endColumn,text:"Missing URL. A cURL command needs a URL.",type:"error"})}return e}function sh(t){const e=[];let s=0,n=0,o="",i=0,r=0,a=!1,c=!1,d=!1;const u=()=>{o.trim()&&e.push({value:o.trim(),row:i,column:r,endRow:s,endColumn:n}),o=""};for(let f=0;f<t.length;f++){const h=t[f],p=t[f+1];if(h==="\\"&&p===`
`&&!a&&!c){f++,s++,n=0;continue}if(h===`
`){!a&&!c?u():o+=h,s++,n=0;continue}if(d){o+=h,d=!1,n++;continue}if(h==="\\"&&!a){d=!0,o+=h,n++;continue}if(h==="'"&&!c){a=!a,n++;continue}if(h==='"'&&!a){c=!c,n++;continue}if(h===" "&&!a&&!c){u(),n++;continue}o===""&&(i=s,r=n),o+=h,n++}return u(),e}function nh(t,e){const s=[];let n=!1,o=!1,i=null,r=null,a=!1;for(let c=0;c<e.length;c++){const d=e[c];for(let u=0;u<d.length;u++){const f=d[u];if(a){a=!1;continue}if(f==="\\"){a=!0;continue}f==="'"&&!o&&(n?(n=!1,i=null):(n=!0,i={row:c,col:u})),f==='"'&&!n&&(o?(o=!1,r=null):(o=!0,r={row:c,col:u}))}}return n&&i&&s.push({row:i.row,column:i.col,endRow:i.row,endColumn:i.col+1,text:"Unclosed single quote",type:"error"}),o&&r&&s.push({row:r.row,column:r.col,endRow:r.row,endColumn:r.col+1,text:"Unclosed double quote",type:"error"}),s}function oh(t){return!!(t.startsWith("http://")||t.startsWith("https://")||!t.startsWith("-")&&t.includes(".")&&!t.includes(" ")||t.startsWith("localhost")||t.match(/^127\.0\.0\.\d+/))}function ih(t){const e=t.toLowerCase();let s=null,n=0;for(const o of va){const i=rh(e,o.toLowerCase());i>n&&i>.5&&(n=i,s=o)}return s}function rh(t,e){if(t===e)return 1;if(t.length<2||e.length<2)return 0;const s=new Set;for(let o=0;o<t.length-1;o++)s.add(t.substring(o,o+2));let n=0;for(let o=0;o<e.length-1;o++)s.has(e.substring(o,o+2))&&n++;return 2*n/(t.length+e.length-2)}function ti(){const t=cs(),e=/\{\{([^}]+)\}\}/g,s=f=>{if(!f||typeof f!="string")return[];const h=[];let p;for(e.lastIndex=0;(p=e.exec(f))!==null;)h.push({name:p[1].trim(),match:p[0],start:p.index,end:p.index+p[0].length,raw:p[1]});return h},n=(f,h=null)=>{const p=h?t.getEnvironment(h):t.activeEnvironment.value;return p?!!p.values?.find(S=>S.key===f&&S.enabled):!1},o=(f,h=null)=>t.resolveVariable(f,h),i=(f,h=null)=>t.interpolateString(f,h),r=(f,h=null)=>s(f).map(S=>{const A=n(S.name,h),R=o(S.name,h);return{...S,exists:A,value:R,resolved:R!==null}}),a=(f,h=null)=>{if(!f||typeof f!="string")return[{type:"text",content:f}];const p=r(f,h);if(p.length===0)return[{type:"text",content:f}];const b=[];let S=0;return p.forEach(A=>{A.start>S&&b.push({type:"text",content:f.slice(S,A.start)}),b.push({type:"variable",content:A.match,name:A.name,exists:A.exists,value:A.value,resolved:A.resolved}),S=A.end}),S<f.length&&b.push({type:"text",content:f.slice(S)}),b},c=(f,h=null)=>{const p=r(f,h),b=i(f,h);return{original:f,interpolated:b,variables:p,hasVariables:p.length>0,allResolved:p.every(S=>S.resolved),unresolvedCount:p.filter(S=>!S.resolved).length}},d=M(()=>t.activeEnvironment.value),u=M(()=>t.getAvailableVariables());return{detectVariables:s,variableExists:n,getVariableValue:o,interpolateText:i,analyzeVariables:r,splitTextForHighlighting:a,previewInterpolation:c,activeEnvironment:d,availableVariables:u,VARIABLE_REGEX:e}}const ah={class:"curl-tooltip-header"},lh={class:"curl-tooltip-name"},ch={class:"curl-tooltip-flags"},uh={key:0},dh={key:1},fh={class:"curl-tooltip-desc"},ph={key:0,class:"curl-tooltip-example"},hh={key:1,class:"curl-tooltip-tip"},mh={class:"variable-tooltip-name"},gh={key:0,class:"variable-tooltip-value"},vh={key:1,class:"variable-tooltip-unresolved"},yh={__name:"AceTextEditor",props:{modelValue:{type:String,default:""},language:{type:String,default:"text",validator:t=>["text","json","xml","html","javascript","css","curl"].includes(t)},theme:{type:String,default:"dark",validator:t=>["dark","light"].includes(t)},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},height:{type:String,default:"400px"},options:{type:Object,default:()=>({})}},emits:["update:modelValue","change","focus","blur","send"],setup(t,{expose:e,emit:s}){let n=null;const o=ti(),i=cs(),r=qt("AceTextEditor"),a=t,c=s,d=oe(null),u=oe(null),f=oe(!1),h=oe(!1),p=oe(!1),b=oe(0),S=oe(0),A=oe(null);let R=null;const E=oe(!1),w=oe(0),v=oe(0),T=oe(null);let O=[],P=null,J=null;const L=M(()=>({dark:"ace/theme/gob",light:"ace/theme/textmate"})[a.theme]||"ace/theme/gob"),x=M(()=>({text:"ace/mode/text",json:"ace/mode/json",xml:"ace/mode/xml",html:"ace/mode/html",javascript:"ace/mode/javascript",css:"ace/mode/css",curl:"ace/mode/curl"})[a.language]||"ace/mode/text"),C=async()=>{try{if(window.ace)n=window.ace,$();else{const q=document.createElement("script");q.src="https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/ace.js",q.onload=()=>{n=window.ace,$()},q.onerror=()=>{r.error("Failed to load ACE from CDN"),h.value=!0},document.head.appendChild(q)}}catch(q){r.error("Failed to load ACE editor, falling back to textarea:",q),h.value=!0}},$=async()=>{try{const j=["mode-text","mode-json","mode-xml","mode-html","mode-javascript","mode-css","theme-gob","theme-textmate","ext-language_tools"].map(N=>new Promise((Y,m)=>{const g=document.createElement("script");g.src=`https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/${N}.js`,g.onload=Y,g.onerror=m,document.head.appendChild(g)}));await Promise.all(j),n.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/"),n.config.set("workerPath","https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/"),ga(),f.value=!0,await We(),d.value&&re()}catch(q){r.error("Failed to load ACE components:",q),h.value=!0}},re=()=>{if(!(!n||!d.value||u.value))try{u.value=n.edit(d.value),u.value.setTheme(L.value),u.value.session.setMode(x.value);const q={fontSize:14,showPrintMargin:!1,wrap:!0,readOnly:a.readonly,placeholder:a.placeholder};a.language==="curl"&&(q.enableBasicAutocompletion=!0,q.enableLiveAutocompletion=!0,q.enableSnippets=!1),u.value.setOptions({...q,...a.options}),a.language==="curl"&&(u.value.completers=[Xi]),u.value.setValue(a.modelValue,-1),u.value.on("change",()=>{const j=u.value.getValue();c("update:modelValue",j),c("change",j),a.language==="curl"&&(F(),Ve())}),u.value.on("focus",j=>{c("focus",j)}),u.value.on("blur",j=>{c("blur",j)}),u.value.commands.addCommand({name:"sendRequest",bindKey:{win:"Ctrl-Enter",mac:"Cmd-Enter"},exec:()=>{c("send")}}),setTimeout(()=>{u.value.resize()},100),a.language==="curl"&&(Te(),setTimeout(()=>{bt(),ie()},100)),r.debug("ACE editor initialized successfully")}catch(q){r.error("Failed to create ACE editor:",q),h.value=!0}};we(()=>a.modelValue,q=>{u.value&&u.value.getValue()!==q&&u.value.setValue(q,-1)}),we(()=>a.language,q=>{u.value&&(u.value.session.setMode(x.value),q==="curl"?(u.value.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),u.value.completers=[Xi]):(u.value.setOptions({enableBasicAutocompletion:!1,enableLiveAutocompletion:!1}),u.value.completers=[]))}),we(()=>a.theme,q=>{u.value&&u.value.setTheme(L.value)}),we(()=>a.readonly,q=>{u.value&&u.value.setReadOnly(q)}),we(()=>a.height,()=>{u.value&&setTimeout(()=>{u.value.resize()},50)}),we(()=>i.activeEnvironment.value,()=>{u.value&&a.language==="curl"&&ie()});const W=()=>{u.value&&u.value.focus()},X=()=>{u.value&&u.value.blur()},z=q=>{u.value&&u.value.setValue(q,-1)},H=()=>u.value?u.value.getValue():a.modelValue,se=(q,j,N)=>{R&&(clearTimeout(R),R=null),A.value=q,b.value=j+10,S.value=N+10,p.value=!0},de=()=>{R=setTimeout(()=>{p.value=!1,A.value=null},100)},Te=()=>{if(!u.value||a.language!=="curl")return;const q=u.value,j=q.container;j.addEventListener("mousemove",N=>{const Y=q.renderer.screenToTextCoordinates(N.clientX,N.clientY),m=q.session.getTokenAt(Y.row,Y.column);if(m&&m.type==="keyword.operator"){const g=Zp(m.value);if(g){pe(),se(g,N.clientX,N.clientY);return}}if(m&&m.type==="variable.language"){const g=m.value.slice(2,-2).trim(),k=o.variableExists(g),U=o.getVariableValue(g);de(),ae({name:g,value:k?U:null,resolved:k},N.clientX,N.clientY);return}de(),pe()}),j.addEventListener("mouseleave",()=>{de(),pe()})},ae=(q,j,N)=>{R&&(clearTimeout(R),R=null),T.value=q,w.value=j+10,v.value=N+10,E.value=!0},pe=()=>{R=setTimeout(()=>{E.value=!1,T.value=null},100)},ie=()=>{if(!u.value||a.language!=="curl")return;const q=u.value.session,j=u.value.getValue();O.forEach(g=>q.removeMarker(g)),O=[];const N=o.analyzeVariables(j);if(N.length===0)return;const Y=n.require("ace/range").Range,m=j.split(`
`);N.forEach(g=>{let k=0,U=0,V=0,B=0;for(let G=0;G<m.length;G++){const le=m[G].length+1;if(k+le>g.start){U=G,V=g.start-k,B=V+g.match.length;break}k+=le}const ee=new Y(U,V,U,B),Z=g.resolved?"ace_variable-resolved":"ace_variable-unresolved",Q=q.addMarker(ee,Z,"text",!0);O.push(Q)})},Ve=()=>{P&&clearTimeout(P),P=setTimeout(ie,200)};let he=[];const bt=()=>{if(!u.value||a.language!=="curl")return;const q=u.value.session,j=u.value.getValue(),N=ya(j);he.forEach(g=>q.removeMarker(g)),he=[];const Y=N.map(g=>({row:g.row,column:g.column,text:g.text,type:g.type}));q.setAnnotations(Y);const m=n.require("ace/range").Range;N.forEach(g=>{const k=new m(g.row,g.column,g.endRow,g.endColumn),U=g.type==="error"?"ace_error-marker":"ace_warning-marker",V=q.addMarker(k,U,"text",!0);he.push(V)})},F=()=>{J&&clearTimeout(J),J=setTimeout(bt,500)};return Ue(()=>{C()}),ft(()=>{u.value&&(u.value.destroy(),u.value=null)}),e({focus:W,blur:X,setValue:z,getValue:H,editor:u}),(q,j)=>(y(),_("div",{class:"ace-text-editor",style:Me({height:t.height})},[h.value?(y(),ge(ei,{key:1,"model-value":t.modelValue,language:t.language,theme:t.theme,readonly:t.readonly,placeholder:t.placeholder,height:t.height,options:t.options,"onUpdate:modelValue":j[0]||(j[0]=N=>q.$emit("update:modelValue",N)),onChange:j[1]||(j[1]=N=>q.$emit("change",N)),onFocus:j[2]||(j[2]=N=>q.$emit("focus",N)),onBlur:j[3]||(j[3]=N=>q.$emit("blur",N))},null,8,["model-value","language","theme","readonly","placeholder","height","options"])):(y(),_("div",{key:0,ref_key:"editorContainer",ref:d,class:"ace-editor-container",style:Me({height:t.height})},null,4)),(y(),ge(Cs,{to:"body"},[p.value&&A.value?(y(),_("div",{key:0,class:"curl-tooltip",style:Me({left:b.value+"px",top:S.value+"px"})},[l("div",ah,[l("span",lh,D(A.value.name),1),l("span",ch,[A.value.short?(y(),_("code",uh,D(A.value.short),1)):K("",!0),A.value.long?(y(),_("code",dh,D(A.value.long),1)):K("",!0)])]),l("p",fh,D(A.value.description),1),A.value.example?(y(),_("div",ph,[j[4]||(j[4]=l("span",{class:"curl-tooltip-label"},"Example:",-1)),l("code",null,D(A.value.example),1)])):K("",!0),A.value.tip?(y(),_("p",hh,D(A.value.tip),1)):K("",!0)],4)):K("",!0)])),(y(),ge(Cs,{to:"body"},[E.value&&T.value?(y(),_("div",{key:0,class:"variable-tooltip",style:Me({left:w.value+"px",top:v.value+"px"})},[l("span",mh,D(T.value.name),1),T.value.resolved?(y(),_("span",gh," = "+D(T.value.value),1)):(y(),_("span",vh," (not found in environment) "))],4)):K("",!0)]))],4))}},bh=_e(yh,[["__scopeId","data-v-2e67768b"]]),As={ACE:"ace",FALLBACK:"fallback"},ba=As.ACE,wh={[As.ACE]:bh,[As.FALLBACK]:ei};function wa(){return wh[ba]||ei}const Yi={[As.ACE]:{theme:"dark",options:{fontSize:14,showPrintMargin:!1,wrap:!0}},[As.FALLBACK]:{theme:"light",options:{}}};function xa(){return Yi[ba]||Yi[As.FALLBACK]}const xh={class:"card-container"},Ch={class:"card-face card-front"},Sh={class:"bubble-header"},_h={class:"header-left"},Th={class:"meta"},Eh={class:"header-right"},Ah={class:"timestamp"},kh=["title"],$h={key:0,class:"error-content"},Rh={class:"error-message"},qh={key:1,class:"response-body"},Oh={key:1,class:"no-body"},Ih={class:"card-face card-back"},Dh={class:"bubble-header"},Fh={class:"header-left"},Ph={class:"header-right"},Mh={class:"timestamp"},Nh=["title"],Uh={class:"headers-list"},Lh={class:"kv-key"},Vh={class:"kv-value"},jh={__name:"ResponseBubble",props:{message:{type:Object,required:!0},maximized:{type:Boolean,default:!1}},emits:["maximize","minimize"],setup(t,{emit:e}){const s=wa(),n=xa(),o={200:"OK",201:"Created",202:"Accepted",204:"No Content",301:"Moved Permanently",302:"Found",304:"Not Modified",400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",408:"Request Timeout",409:"Conflict",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout"},i=t,r=e,a=oe(!1),c=oe(!1),d=M(()=>i.message.data||{}),u=M(()=>d.value.status||0),f=M(()=>d.value.statusText||""),h=M(()=>f.value&&f.value!=="Unknown"?f.value:o[u.value]||"Unknown"),p=M(()=>!d.value.success||u.value===0),b=M(()=>d.value.error||"Request failed"),S=M(()=>{const x=u.value;return x===0?"error":x>=200&&x<300?"success":x>=300&&x<400?"redirect":x>=400&&x<500?"client-error":x>=500?"server-error":""}),A=M(()=>d.value.headers||{}),R=M(()=>Object.keys(A.value).length),E=M(()=>d.value.body),w=M(()=>E.value!==null&&E.value!==void 0),v=M(()=>{if(!w.value)return"";if(typeof E.value=="object")try{return JSON.stringify(E.value,null,2)}catch{return String(E.value)}if(typeof E.value=="string")try{return JSON.stringify(JSON.parse(E.value),null,2)}catch{return E.value}return String(E.value)});M(()=>v.value.split(`
`).length>10);const T=M(()=>{const x=A.value["content-type"]||"";if(x.includes("json"))return"json";if(x.includes("html"))return"html";if(x.includes("xml"))return"xml";if(x.includes("javascript"))return"javascript";const C=v.value.trim();return C.startsWith("{")||C.startsWith("[")?"json":C.startsWith("<")?"xml":"plaintext"}),O=M(()=>{const x=d.value.time;return!x&&x!==0?"":x<1e3?`${Math.round(x)}ms`:`${(x/1e3).toFixed(2)}s`}),P=M(()=>{const x=d.value.size;return!x&&x!==0?"":x<1024?`${x} B`:x<1024*1024?`${(x/1024).toFixed(2)} KB`:`${(x/(1024*1024)).toFixed(2)} MB`}),J=M(()=>i.message.timestamp?new Date(i.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"");function L(){a.value=!a.value}return(x,C)=>(y(),_("div",{class:Ce(["message-bubble response",[S.value,{flipped:c.value,maximized:t.maximized}]])},[l("div",xh,[l("div",Ch,[l("div",Sh,[l("div",_h,[l("div",{class:Ce(["status-badge",S.value])},D(u.value)+" "+D(h.value),3),l("span",Th,D(O.value)+"  "+D(P.value),1)]),l("div",Eh,[l("span",Ah,D(J.value),1),R.value>0?(y(),_("button",{key:0,class:"headers-flip-btn",onClick:C[0]||(C[0]=$=>c.value=!0),title:"View response headers"}," Headers ("+D(R.value)+") ",1)):K("",!0),l("button",{class:"maximize-btn",onClick:C[1]||(C[1]=$=>r(t.maximized?"minimize":"maximize",t.message)),title:t.maximized?"Restore":"Maximize"},D(t.maximized?"":""),9,kh)])]),p.value?(y(),_("div",$h,[C[4]||(C[4]=l("span",{class:"error-icon"},"",-1)),l("span",Rh,D(b.value),1)])):(y(),_("div",qh,[l("div",{class:Ce(["body-preview",{expanded:a.value||t.maximized}])},[w.value?(y(),ge(Rn(I(s)),{key:0,"model-value":v.value,language:T.value,theme:"dark",readonly:!0,height:t.maximized?"600px":a.value?"400px":"200px",options:{...I(n).options,showGutter:!0,highlightActiveLine:!1}},null,8,["model-value","language","height","options"])):(y(),_("div",Oh,"No response body"))],2),w.value&&!t.maximized?(y(),_("button",{key:0,class:"expand-btn",onClick:L},D(a.value?"Show less":"Show more"),1)):K("",!0)]))]),l("div",Ih,[l("div",Dh,[l("div",Fh,[l("div",{class:Ce(["status-badge",S.value])},D(u.value)+" "+D(h.value),3),C[5]||(C[5]=l("span",{class:"meta"},"Response Headers",-1))]),l("div",Ph,[l("span",Mh,D(J.value),1),l("button",{class:"headers-flip-btn active",onClick:C[2]||(C[2]=$=>c.value=!1),title:"View response body"}," Body "),l("button",{class:"maximize-btn",onClick:C[3]||(C[3]=$=>r(t.maximized?"minimize":"maximize",t.message)),title:t.maximized?"Restore":"Maximize"},D(t.maximized?"":""),9,Nh)])]),l("div",Uh,[(y(!0),_(ve,null,De(A.value,($,re)=>(y(),_("div",{key:re,class:"kv-item"},[l("span",Lh,D(re)+":",1),l("span",Vh,D($),1)]))),128))])])])],2))}},Ca=_e(jh,[["__scopeId","data-v-c4614dce"]]),zh={class:"message-bubble validation"},Hh={class:"validation-card"},Bh={class:"validation-header"},Jh={class:"header-right"},Wh={key:0,class:"error-count"},Gh={key:1,class:"warning-count"},Kh={class:"timestamp"},Xh={class:"validation-content"},Yh={class:"error-list"},Qh={class:"error-type-icon"},Zh={class:"error-details"},em={key:0,class:"error-location"},tm={class:"error-message"},sm={__name:"ValidationBubble",props:{message:{type:Object,required:!0}},setup(t){const e=t,s=M(()=>e.message.data||{}),n=M(()=>s.value.errors||[]),o=M(()=>s.value.errorCount||0),i=M(()=>s.value.warningCount||0),r=M(()=>e.message.timestamp?new Date(e.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"");return(a,c)=>(y(),_("div",zh,[l("div",Hh,[l("div",Bh,[c[0]||(c[0]=l("div",{class:"header-left"},[l("span",{class:"validation-icon"},"!"),l("span",{class:"validation-title"},"cURL Validation Failed")],-1)),l("div",Jh,[o.value>0?(y(),_("span",Wh,D(o.value)+" error"+D(o.value!==1?"s":""),1)):K("",!0),i.value>0?(y(),_("span",Gh,D(i.value)+" warning"+D(i.value!==1?"s":""),1)):K("",!0),l("span",Kh,D(r.value),1)])]),l("div",Xh,[c[1]||(c[1]=l("p",{class:"validation-intro"}," Your cURL command has issues that need to be fixed before sending: ",-1)),l("div",Yh,[(y(!0),_(ve,null,De(n.value,(d,u)=>(y(),_("div",{key:u,class:Ce(["error-item",d.type])},[l("span",Qh,D(d.type==="error"?"x":"!"),1),l("div",Zh,[d.row!==void 0?(y(),_("span",em," Line "+D(d.row+1)+", Col "+D(d.column+1),1)):K("",!0),l("span",tm,D(d.text),1)])],2))),128))]),c[2]||(c[2]=l("div",{class:"validation-tip"},[l("span",{class:"tip-icon"},"i"),l("span",{class:"tip-text"}," Fix the highlighted errors in the editor above, then try sending again. ")],-1))])])]))}},nm=_e(sm,[["__scopeId","data-v-28138400"]]),om={class:"conversation-thread"},im={key:0,class:"thread-header"},rm={class:"thread-title"},am={key:0,class:"empty-state"},lm={key:1,class:"loading-indicator"},cm={__name:"ConversationThread",props:{conversation:{type:Object,default:null},messages:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1}},emits:["edit-request","clear","maximize-response"],setup(t,{emit:e}){const s=t,n=e,o=oe(null);we(()=>s.messages.length,async()=>{await We(),i()}),we(()=>s.isLoading,async d=>{d&&(await We(),i())});function i(){o.value&&(o.value.scrollTop=o.value.scrollHeight)}function r(d){n("edit-request",d)}function a(){n("clear")}function c(d){n("maximize-response",d)}return(d,u)=>(y(),_("div",om,[t.conversation?(y(),_("div",im,[l("h3",rm,D(t.conversation.name),1),l("div",{class:"thread-actions"},[l("button",{class:"action-btn",onClick:a,title:"Clear conversation"}," Clear ")])])):K("",!0),l("div",{ref_key:"messagesContainer",ref:o,class:"messages-container"},[t.messages.length===0?(y(),_("div",am,[...u[0]||(u[0]=[l("div",{class:"empty-icon"},"",-1),l("p",{class:"empty-title"},"Start a conversation",-1),l("p",{class:"empty-subtitle"}," Send a request to see the response here ",-1)])])):K("",!0),be(Hc,{name:"message",tag:"div",class:"messages-list"},{default:Ne(()=>[(y(!0),_(ve,null,De(t.messages,f=>(y(),_(ve,{key:f.id},[f.type==="request"?(y(),ge(Bp,{key:0,message:f,onEdit:h=>r(f)},null,8,["message","onEdit"])):f.type==="response"?(y(),ge(Ca,{key:1,message:f,onMaximize:h=>c(f)},null,8,["message","onMaximize"])):f.type==="validation"?(y(),ge(nm,{key:2,message:f},null,8,["message"])):K("",!0)],64))),128))]),_:1}),t.isLoading?(y(),_("div",lm,[...u[1]||(u[1]=[l("div",{class:"loading-dots"},[l("span"),l("span"),l("span")],-1),l("span",{class:"loading-text"},"Sending request...",-1)])])):K("",!0)],512)]))}},um=_e(cm,[["__scopeId","data-v-effa539c"]]),dm=["onMouseenter"],fm={key:0,class:"highlight-placeholder"},pm=["value","placeholder"],hm={class:"tooltip-name"},mm={key:0,class:"tooltip-value"},gm={key:1,class:"tooltip-unresolved"},vm={key:0,class:"variable-preview"},ym={class:"preview-header"},bm={key:0,class:"preview-warning"},wm={class:"preview-content"},xm={class:"preview-original"},Cm={class:"preview-interpolated"},Sm={class:"preview-variables"},_m={class:"variable-name"},Tm={class:"variable-value"},Em={__name:"VariableHighlightInput",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:""},class:{type:String,default:""}},emits:["update:modelValue","keydown"],setup(t,{emit:e}){const s=new Zt({prefix:"VariableHighlightInput",level:"debug"}),n=t,o=e,i=cs();let r,a;try{const x=ti();r=x.splitTextForHighlighting,a=x.previewInterpolation}catch(x){s.error("Failed to load composable:",x),r=C=>[{type:"text",content:C}],a=C=>({hasVariables:!1,original:C,interpolated:C,variables:[]})}const c=oe(null),d=oe(null),u=oe(!1),f=oe(!1),h=oe(0),p=oe(0),b=oe(null);let S=null;const A=x=>{o("update:modelValue",x.target.value)},R=M(()=>(i.activeEnvironment.value,r(n.modelValue))),E=M(()=>(i.activeEnvironment.value,a(n.modelValue))),w=M(()=>R.value.some(x=>x.type==="variable")),v=()=>{c.value&&d.value&&(d.value.scrollLeft=c.value.scrollLeft,d.value.scrollTop=c.value.scrollTop)},T=()=>{E.value.hasVariables&&(u.value=!0)},O=()=>{setTimeout(()=>{u.value=!1},200)},P=x=>{A(x),We(()=>{E.value.hasVariables?u.value=!0:u.value=!1})};we(()=>n.modelValue,()=>{We(()=>{v()})});const J=(x,C)=>{S&&(clearTimeout(S),S=null),b.value={name:x.name,value:x.value,resolved:x.resolved},h.value=C.clientX+10,p.value=C.clientY+10,f.value=!0},L=()=>{S=setTimeout(()=>{f.value=!1,b.value=null},100)};return(x,C)=>(y(),_("div",{class:Ce(["variable-input-container",n.class])},[l("div",{ref_key:"highlightRef",ref:d,class:"highlight-backdrop","aria-hidden":"true"},[(y(!0),_(ve,null,De(R.value,($,re)=>(y(),_("span",{key:re,class:Ce({"highlight-text":$.type==="text","highlight-variable":$.type==="variable","highlight-variable--resolved":$.type==="variable"&&$.resolved,"highlight-variable--unresolved":$.type==="variable"&&!$.resolved}),onMouseenter:W=>$.type==="variable"?J($,W):null,onMouseleave:L},D($.content),43,dm))),128)),n.modelValue?K("",!0):(y(),_("span",fm,D(n.placeholder),1))],512),l("input",{ref_key:"inputRef",ref:c,value:n.modelValue,onInput:P,onScroll:v,onFocus:T,onBlur:O,onKeydown:C[0]||(C[0]=$=>x.$emit("keydown",$)),type:"text",placeholder:n.placeholder,class:Ce(["variable-input",{"has-variables":w.value}])},null,42,pm),(y(),ge(Cs,{to:"body"},[f.value&&b.value?(y(),_("div",{key:0,class:"variable-hover-tooltip",style:Me({left:h.value+"px",top:p.value+"px"})},[l("span",hm,D(b.value.name),1),b.value.resolved?(y(),_("span",mm," = "+D(b.value.value),1)):(y(),_("span",gm," (not found) "))],4)):K("",!0)])),u.value&&E.value.hasVariables?(y(),_("div",vm,[l("div",ym,[C[1]||(C[1]=l("span",{class:"preview-title"},"Variables Preview",-1)),E.value.unresolvedCount>0?(y(),_("span",bm,D(E.value.unresolvedCount)+" unresolved ",1)):K("",!0)]),l("div",wm,[l("div",xm,[C[2]||(C[2]=l("strong",null,"Original:",-1)),Ie(" "+D(E.value.original),1)]),l("div",Cm,[C[3]||(C[3]=l("strong",null,"Result:",-1)),Ie(" "+D(E.value.interpolated),1)])]),l("div",Sm,[(y(!0),_(ve,null,De(E.value.variables,$=>(y(),_("div",{key:$.name,class:Ce(["preview-variable",{"preview-variable--resolved":$.resolved}])},[l("span",_m,D($.name),1),C[4]||(C[4]=l("span",{class:"variable-arrow"},"",-1)),l("span",Tm,D($.resolved?$.value:"undefined"),1)],2))),128))])])):K("",!0)],2))}},Ds=_e(Em,[["__scopeId","data-v-b0c68523"]]),Am={class:"chat-composer"},km={class:"composer-tabs"},$m={key:0,class:"curl-input-container"},Rm={key:1,class:"visual-input-container"},qm={class:"url-row"},Om=["value"],Im={class:"visual-tabs"},Dm={key:0,class:"badge"},Fm={key:0,class:"badge"},Pm={class:"visual-panel"},Mm={key:0,class:"kv-editor"},Nm=["onUpdate:modelValue"],Um=["onUpdate:modelValue"],Lm=["onClick"],Vm={key:1,class:"kv-editor"},jm=["onUpdate:modelValue"],zm=["onUpdate:modelValue"],Hm=["onClick"],Bm={key:2,class:"body-editor"},Jm={class:"body-mode-selector"},Wm=["value"],Gm=["value"],Km={key:0,class:"body-raw-editor"},Xm={key:1,class:"kv-editor"},Ym=["onUpdate:modelValue"],Qm=["onUpdate:modelValue"],Zm=["onClick"],eg={key:2,class:"kv-editor"},tg=["onUpdate:modelValue"],sg=["onUpdate:modelValue"],ng=["onClick"],og={class:"composer-actions"},ig=["disabled"],rg={key:0,class:"loading-spinner"},ag={key:1},lg={__name:"ChatComposer",props:{controller:{type:Object,required:!0}},emits:["send","save","mode-change"],setup(t,{emit:e}){const s=wa(),n=xa(),o=t,i=e,r=oe(o.controller.state.composerMode),a=oe(o.controller.state.curlInput),c=oe(o.controller.state.method),d=oe(o.controller.state.url),u=oe(o.controller.state.headers),f=oe(o.controller.state.params),h=oe(o.controller.state.body),p=oe("params"),b=oe(null),S=M(()=>o.controller.state.isLoading),A=["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS"],R=[{value:"none",label:"None"},{value:"raw",label:"Raw"},{value:"formdata",label:"Form Data"},{value:"urlencoded",label:"URL Encoded"}],E=[{value:"json",label:"JSON",mode:"json"},{value:"xml",label:"XML",mode:"xml"},{value:"html",label:"HTML",mode:"html"},{value:"text",label:"Text",mode:"text"}],w=oe("json"),v=M(()=>E.find(pe=>pe.value===w.value)?.mode||"text"),T=M(()=>o.controller.getMethodColor(c.value)),O=M(()=>f.value.filter(ae=>ae.enabled&&ae.key).length),P=M(()=>u.value.filter(ae=>ae.enabled&&ae.key).length),J=M(()=>r.value==="curl"?a.value.trim().length>0:d.value.trim().length>0),L=M(()=>o.controller.state.currentRequestId&&o.controller.state.currentCollectionId);we(r,ae=>o.controller.setComposerMode(ae)),we(a,ae=>o.controller.setCurlInput(ae)),we(c,ae=>o.controller.updateField("method",ae)),we(d,ae=>o.controller.updateField("url",ae)),we(u,ae=>o.controller.updateField("headers",ae),{deep:!0}),we(f,ae=>o.controller.updateField("params",ae),{deep:!0}),we(h,ae=>o.controller.updateField("body",ae),{deep:!0}),we(()=>o.controller.state.composerMode,ae=>{r.value=ae}),we(()=>o.controller.state.curlInput,ae=>{a.value=ae}),we(()=>o.controller.state.method,ae=>{c.value=ae}),we(()=>o.controller.state.url,ae=>{d.value=ae}),we(()=>o.controller.state.headers,ae=>{u.value=ae},{deep:!0}),we(()=>o.controller.state.params,ae=>{f.value=ae},{deep:!0}),we(()=>o.controller.state.body,ae=>{h.value=ae},{deep:!0});function x(ae){r.value=ae,i("mode-change",ae)}function C(){f.value.push({key:"",value:"",enabled:!0,id:Date.now()})}function $(ae){f.value.splice(ae,1)}function re(){u.value.push({key:"",value:"",enabled:!0,id:Date.now()})}function W(ae){u.value.splice(ae,1)}function X(){h.value.formData.push({key:"",value:"",enabled:!0,id:Date.now()})}function z(ae){h.value.formData.splice(ae,1)}function H(){h.value.urlEncoded.push({key:"",value:"",enabled:!0,id:Date.now()})}function se(ae){h.value.urlEncoded.splice(ae,1)}function de(){!J.value||S.value||i("send")}function Te(){L.value&&i("save")}return(ae,pe)=>(y(),_("div",Am,[l("div",km,[l("button",{class:Ce(["tab-btn",{active:r.value==="curl"}]),onClick:pe[0]||(pe[0]=ie=>x("curl"))}," cURL ",2),l("button",{class:Ce(["tab-btn",{active:r.value==="visual"}]),onClick:pe[1]||(pe[1]=ie=>x("visual"))}," Visual ",2)]),r.value==="curl"?(y(),_("div",$m,[(y(),ge(Rn(I(s)),{ref_key:"curlInputRef",ref:b,modelValue:a.value,"onUpdate:modelValue":pe[2]||(pe[2]=ie=>a.value=ie),language:"curl",theme:"dark",height:"100%",placeholder:"Paste cURL: https://api.example.com -X POST -H 'Content-Type: application/json'",options:{showGutter:!0,wrap:!0,fontSize:13,showLineNumbers:!1,showFoldWidgets:!1},onSend:de},null,40,["modelValue"]))])):(y(),_("div",Rm,[l("div",qm,[fe(l("select",{"onUpdate:modelValue":pe[3]||(pe[3]=ie=>c.value=ie),class:"method-select",style:Me({color:T.value})},[(y(),_(ve,null,De(A,ie=>l("option",{key:ie,value:ie},D(ie),9,Om)),64))],4),[[_s,c.value]]),be(Ds,{modelValue:d.value,"onUpdate:modelValue":pe[4]||(pe[4]=ie=>d.value=ie),class:"url-input",placeholder:"https://api.example.com/endpoint",onKeydown:Ko(de,["enter"])},null,8,["modelValue"])]),l("div",Im,[l("button",{class:Ce(["visual-tab-btn",{active:p.value==="params"}]),onClick:pe[5]||(pe[5]=ie=>p.value="params")},[pe[11]||(pe[11]=Ie(" Params ",-1)),O.value>0?(y(),_("span",Dm,D(O.value),1)):K("",!0)],2),l("button",{class:Ce(["visual-tab-btn",{active:p.value==="headers"}]),onClick:pe[6]||(pe[6]=ie=>p.value="headers")},[pe[12]||(pe[12]=Ie(" Headers ",-1)),P.value>0?(y(),_("span",Fm,D(P.value),1)):K("",!0)],2),l("button",{class:Ce(["visual-tab-btn",{active:p.value==="body"}]),onClick:pe[7]||(pe[7]=ie=>p.value="body")}," Body ",2)]),l("div",Pm,[p.value==="params"?(y(),_("div",Mm,[(y(!0),_(ve,null,De(f.value,(ie,Ve)=>(y(),_("div",{key:ie.id,class:"kv-row"},[fe(l("input",{type:"checkbox","onUpdate:modelValue":he=>ie.enabled=he},null,8,Nm),[[Qe,ie.enabled]]),fe(l("input",{"onUpdate:modelValue":he=>ie.key=he,placeholder:"Key",class:"kv-input"},null,8,Um),[[Re,ie.key]]),be(Ds,{modelValue:ie.value,"onUpdate:modelValue":he=>ie.value=he,placeholder:"Value",class:"kv-input"},null,8,["modelValue","onUpdate:modelValue"]),l("button",{class:"remove-btn",onClick:he=>$(Ve)},"",8,Lm)]))),128)),l("button",{class:"add-btn",onClick:C},"+ Add Param")])):K("",!0),p.value==="headers"?(y(),_("div",Vm,[(y(!0),_(ve,null,De(u.value,(ie,Ve)=>(y(),_("div",{key:ie.id,class:"kv-row"},[fe(l("input",{type:"checkbox","onUpdate:modelValue":he=>ie.enabled=he},null,8,jm),[[Qe,ie.enabled]]),fe(l("input",{"onUpdate:modelValue":he=>ie.key=he,placeholder:"Key",class:"kv-input"},null,8,zm),[[Re,ie.key]]),be(Ds,{modelValue:ie.value,"onUpdate:modelValue":he=>ie.value=he,placeholder:"Value",class:"kv-input"},null,8,["modelValue","onUpdate:modelValue"]),l("button",{class:"remove-btn",onClick:he=>W(Ve)},"",8,Hm)]))),128)),l("button",{class:"add-btn",onClick:re},"+ Add Header")])):K("",!0),p.value==="body"?(y(),_("div",Bm,[l("div",Jm,[(y(),_(ve,null,De(R,ie=>l("label",{key:ie.value},[fe(l("input",{type:"radio","onUpdate:modelValue":pe[8]||(pe[8]=Ve=>h.value.mode=Ve),value:ie.value},null,8,Wm),[[fa,h.value.mode]]),Ie(" "+D(ie.label),1)])),64)),h.value.mode==="raw"?fe((y(),_("select",{key:0,"onUpdate:modelValue":pe[9]||(pe[9]=ie=>w.value=ie),class:"raw-type-select"},[(y(),_(ve,null,De(E,ie=>l("option",{key:ie.value,value:ie.value},D(ie.label),9,Gm)),64))],512)),[[_s,w.value]]):K("",!0)]),h.value.mode==="raw"?(y(),_("div",Km,[(y(),ge(Rn(I(s)),{modelValue:h.value.raw,"onUpdate:modelValue":pe[10]||(pe[10]=ie=>h.value.raw=ie),language:v.value,theme:I(n).theme,options:I(n).options,height:"100%",placeholder:'{"key": "value"}'},null,8,["modelValue","language","theme","options"]))])):h.value.mode==="formdata"?(y(),_("div",Xm,[(y(!0),_(ve,null,De(h.value.formData,(ie,Ve)=>(y(),_("div",{key:ie.id,class:"kv-row"},[fe(l("input",{type:"checkbox","onUpdate:modelValue":he=>ie.enabled=he},null,8,Ym),[[Qe,ie.enabled]]),fe(l("input",{"onUpdate:modelValue":he=>ie.key=he,placeholder:"Key",class:"kv-input"},null,8,Qm),[[Re,ie.key]]),be(Ds,{modelValue:ie.value,"onUpdate:modelValue":he=>ie.value=he,placeholder:"Value",class:"kv-input"},null,8,["modelValue","onUpdate:modelValue"]),l("button",{class:"remove-btn",onClick:he=>z(Ve)},"",8,Zm)]))),128)),l("button",{class:"add-btn",onClick:X},"+ Add Field")])):h.value.mode==="urlencoded"?(y(),_("div",eg,[(y(!0),_(ve,null,De(h.value.urlEncoded,(ie,Ve)=>(y(),_("div",{key:ie.id,class:"kv-row"},[fe(l("input",{type:"checkbox","onUpdate:modelValue":he=>ie.enabled=he},null,8,tg),[[Qe,ie.enabled]]),fe(l("input",{"onUpdate:modelValue":he=>ie.key=he,placeholder:"Key",class:"kv-input"},null,8,sg),[[Re,ie.key]]),be(Ds,{modelValue:ie.value,"onUpdate:modelValue":he=>ie.value=he,placeholder:"Value",class:"kv-input"},null,8,["modelValue","onUpdate:modelValue"]),l("button",{class:"remove-btn",onClick:he=>se(Ve)},"",8,ng)]))),128)),l("button",{class:"add-btn",onClick:H},"+ Add Field")])):K("",!0)])):K("",!0)])])),l("div",og,[L.value?(y(),_("button",{key:0,class:"save-btn",onClick:Te,title:"Save to collection"}," Save ")):K("",!0),l("button",{class:"send-btn",disabled:S.value||!J.value,onClick:de},[S.value?(y(),_("span",rg)):(y(),_("span",ag,"Send"))],8,ig)])]))}},cg=_e(lg,[["__scopeId","data-v-9fd64015"]]);class ug{constructor(e={}){this.options={timeout:3e4,followRedirects:!0,maxRedirects:5,...e},this.proxy=null,this.certificates=[],this.interceptors={request:[],response:[]}}setProxy(e){this.proxy=e}addCertificate(e){this.certificates.push(e)}addRequestInterceptor(e){this.interceptors.request.push(e)}addResponseInterceptor(e){this.interceptors.response.push(e)}async applyRequestInterceptors(e){let s={...e};for(const n of this.interceptors.request)s=await n(s);return s}async applyResponseInterceptors(e){let s=e;for(const n of this.interceptors.response)s=await n(s);return s}buildUrl(e,s=[]){const n=s.filter(r=>r.enabled&&r.key);if(n.length===0)return e;const o=n.map(r=>`${encodeURIComponent(r.key)}=${encodeURIComponent(r.value||"")}`).join("&"),i=e.includes("?")?"&":"?";return`${e}${i}${o}`}buildHeaders(e=[]){const s={};return e.filter(n=>n.enabled&&n.key).forEach(n=>{s[n.key]=n.value||""}),s}async execute(e){throw new Error("execute() must be implemented by subclass")}async send(e){const s=performance.now();try{const n=await this.applyRequestInterceptors(e);n.fullUrl=this.buildUrl(n.url,n.params),n.headersObj=this.buildHeaders(n.headers);const o=await this.execute(n);return o.time=performance.now()-s,await this.applyResponseInterceptors(o)}catch(n){const o={success:!1,error:n.message,status:n.status||0,statusText:n.statusText||"Network Error",time:performance.now()-s,headers:{},body:null,size:0};return this.applyResponseInterceptors(o)}}}class dg{constructor({success:e=!0,status:s=200,statusText:n="OK",headers:o={},body:i=null,size:r=0,time:a=0,error:c=null}){this.success=e,this.status=s,this.statusText=n,this.headers=o,this.body=i,this.size=r,this.time=a,this.error=c}}class fg{static clients=new Map;static register(e,s){this.clients.set(e,s)}static create(e="fetch",s={}){const n=this.clients.get(e);if(!n)throw new Error(`Unknown HTTP client: ${e}`);return new n(s)}}class Sa extends ug{constructor(e={}){if(super(e),this.logger=new Zt({prefix:"FetchHttpClient",level:"debug"}),typeof window>"u"||!window.fetch)throw new Error("FetchHttpClient requires browser environment with Fetch API")}async execute(e){const s=new AbortController,n=setTimeout(()=>s.abort(),this.options.timeout);try{const o={method:e.method,headers:e.headersObj,signal:s.signal,credentials:"include",mode:"cors"};["GET","HEAD"].includes(e.method.toUpperCase())||(o.body=this.prepareBody(e.body,e.bodyType,e.headersObj));const i=await fetch(e.fullUrl,o);clearTimeout(n);const r=await this.parseResponse(i),a=this.calculateSize(r);return new dg({success:i.ok,status:i.status,statusText:i.statusText,headers:this.parseHeaders(i.headers),body:r.body,size:a,error:i.ok?null:`${i.status} ${i.statusText}`})}catch(o){throw clearTimeout(n),o.name==="AbortError"?new Error(`Request timeout after ${this.options.timeout}ms`):o.message.includes("Failed to fetch")?new Error("Network error - Check CORS policy or network connection"):o}}prepareBody(e,s,n){if(!e)return null;switch(s){case"raw":return this.isJSON(e)&&!n["Content-Type"]&&(n["Content-Type"]="application/json"),e;case"form-data":const o=new FormData;return typeof e=="object"&&!Array.isArray(e)&&Object.entries(e).forEach(([i,r])=>{o.append(i,r)}),delete n["Content-Type"],o;case"x-www-form-urlencoded":return n["Content-Type"]="application/x-www-form-urlencoded",typeof e=="object"&&!Array.isArray(e)?new URLSearchParams(e).toString():e;case"binary":return n["Content-Type"]="application/octet-stream",e;case"graphql":return n["Content-Type"]="application/json",JSON.stringify(e);default:return e}}async parseResponse(e){const s=e.headers.get("content-type")||"";let n=null,o="";try{if(o=await e.text(),s.includes("application/json"))try{n=JSON.parse(o)}catch{n=o}else s.includes("text/html")||s.includes("text/plain")||s.includes("text/xml")||s.includes("application/xml")?n=o:s.includes("image/")?n=`[Binary image data - ${o.length} bytes]`:n=o}catch(i){this.logger.error("Error parsing response:",i),n=null}return{body:n,bodyText:o}}parseHeaders(e){const s={};return e.forEach((n,o)=>{s[o]=n}),s}calculateSize(e){return e.bodyText?new Blob([e.bodyText]).size:0}isJSON(e){try{return JSON.parse(e),!0}catch{return!1}}setProxy(e){super.setProxy(e),this.logger.warn("Direct proxy configuration is not supported in browsers. Consider using a browser extension or backend proxy.")}addCertificate(e){super.addCertificate(e),this.logger.warn("Client certificates cannot be configured via JavaScript. The browser will handle certificate selection.")}}function pg(t){const e=[];let s="",n=!1,o=!1,i=!1;for(let r=0;r<t.length;r++){const a=t[r];if(i){s+=a,i=!1;continue}if(a==="\\"){i=!0,s+=a;continue}if(a==="'"&&!o){n=!n;continue}if(a==='"'&&!n){o=!o;continue}if(a===" "&&!n&&!o){s.trim()&&e.push(s.trim()),s="";continue}s+=a}return s.trim()&&e.push(s.trim()),e}function hg(t){return!!(t.startsWith("http://")||t.startsWith("https://")||!t.startsWith("-")&&t.includes(".")&&!t.includes(" ")||t.startsWith("localhost")||t.match(/^127\.0\.0\.\d+/))}function mg(t){const e=t.indexOf(":");return e===-1?{key:t.trim(),value:""}:{key:t.substring(0,e).trim(),value:t.substring(e+1).trim()}}function Qi(t){const e=t.indexOf("=");if(e===-1)return{key:t.trim(),value:"",type:"text"};const s=t.substring(0,e).trim();let n=t.substring(e+1).trim(),o="text";return n.startsWith("@")&&(o="file",n=n.substring(1)),{key:s,value:n,type:o}}function gg(t){if(!t||typeof t!="string")return vg();let e=t.trim();e.toLowerCase().startsWith("curl ")&&(e=e.substring(5).trim());const s=pg(e);let n="GET",o="";const i=[];let r="none",a="";const c=[],d=[];let u=0;for(;u<s.length;){const p=s[u];if(hg(p)){o=p,u++;continue}switch(p){case"-X":case"--request":u+1<s.length?(n=s[u+1].toUpperCase(),u+=2):u++;break;case"-H":case"--header":if(u+1<s.length){const b=mg(s[u+1]);i.push(xs(b.key,b.value,!0)),u+=2}else u++;break;case"-d":case"--data":case"--data-raw":u+1<s.length?(r="raw",a=s[u+1],n==="GET"&&(n="POST"),u+=2):u++;break;case"--data-urlencode":if(u+1<s.length){r="urlencoded";const b=Qi(s[u+1]);d.push(xs(b.key,b.value,!0)),n==="GET"&&(n="POST"),u+=2}else u++;break;case"-F":case"--form":if(u+1<s.length){r="formdata";const b=Qi(s[u+1]);c.push({...xs(b.key,b.value,!0),type:b.type}),n==="GET"&&(n="POST"),u+=2}else u++;break;case"-G":case"--get":n="GET",u++;break;case"-I":case"--head":n="HEAD",u++;break;default:u++;break}}let f=Xn(r);r==="raw"?(f.raw=a,f.options={raw:{language:yg(a)}}):r==="formdata"?f.formdata=c:r==="urlencoded"&&(f.urlencoded=d);const h=Kn(o);return{method:n,url:h,header:i.length>0?i:[],body:f}}function vg(){return{method:"GET",url:Kn(""),header:[],body:Xn("none")}}function yg(t){if(!t)return"text";const e=t.trim();if(e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]"))try{return JSON.parse(e),"json"}catch{}return e.startsWith("<")&&e.endsWith(">")?"xml":e.toLowerCase().includes("<!doctype html")||e.toLowerCase().includes("<html")?"html":"text"}function pt(t){return t?t.replace(/'/g,"'\\''"):""}function bg(t){if(!t)return"";if(typeof t=="string")return t;if(t.raw)return t.raw;const e=t.protocol||"https",s=Array.isArray(t.host)?t.host.join("."):t.host||"",n=t.port?`:${t.port}`:"",o=Array.isArray(t.path)?"/"+t.path.join("/"):t.path||"";let i="";if(t.query&&t.query.length>0){const a=t.query.filter(c=>c.enabled!==!1);a.length>0&&(i="?"+a.map(c=>`${encodeURIComponent(c.key)}=${encodeURIComponent(c.value)}`).join("&"))}const r=t.hash?`#${t.hash}`:"";return`${e}://${s}${n}${o}${i}${r}`}function Zi(t,e={}){const{includeCurlPrefix:s=!1,multiline:n=!1}=e;if(!t)return"";const o=[],i=n?` \\
  `:" ";s&&o.push("curl");const r=bg(t.url);r&&o.push(`'${pt(r)}'`);const a=t.method||"GET";a!=="GET"&&o.push(`-X ${a}`);const c=t.header||t.headers||[];for(const d of c){if(d.enabled===!1||!d.key)continue;const u=`${d.key}: ${d.value||""}`;o.push(`-H '${pt(u)}'`)}if(t.body&&t.body.mode!=="none"){const d=t.body;switch(d.mode){case"raw":d.raw&&o.push(`-d '${pt(d.raw)}'`);break;case"formdata":case"form-data":const u=d.formdata||d.formData||[];for(const h of u)h.enabled!==!1&&h.key&&(h.type==="file"?o.push(`-F '${pt(h.key)}=@${pt(h.value)}'`):o.push(`-F '${pt(h.key)}=${pt(h.value)}'`));break;case"urlencoded":case"x-www-form-urlencoded":const f=d.urlencoded||d.urlEncoded||[];for(const h of f)h.enabled!==!1&&h.key&&o.push(`--data-urlencode '${pt(h.key)}=${pt(h.value)}'`);break;case"binary":if(d.binary||d.file){const h=d.binary||d.file;typeof h=="string"&&o.push(`--data-binary '@${pt(h)}'`)}break;case"graphql":if(d.graphql){const h=JSON.stringify({query:d.graphql.query||"",variables:d.graphql.variables?JSON.parse(d.graphql.variables):{}});o.push(`-d '${pt(h)}'`)}break}}return o.join(i)}class wg extends Ge{constructor(){super("ChatController"),this.collectionsStore=Es(),this.environmentsStore=cs(),this.conversationsStore=Zo(),this.variableInterpolation=ti(),this.httpClient=new Sa,this.init()}init(){super.init(),this.createState({composerMode:"curl",curlInput:"",method:"GET",url:"",headers:[],params:[],body:{mode:"none",raw:"",formData:[],urlEncoded:[]},activeVisualTab:"params",isLoading:!1,requestError:null,currentRequestId:null,currentCollectionId:null,currentFolderId:null}),this.createComputed("httpMethods",()=>["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS"]),this.createWatcher(()=>this.state.composerMode,(e,s)=>{s==="curl"&&e==="visual"?this.syncCurlToVisual():s==="visual"&&e==="curl"&&this.syncVisualToCurl()})}getMethodColor(e){return{GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)"}[e]||"var(--color-text-secondary)"}setComposerMode(e){(e==="curl"||e==="visual")&&(this.state.composerMode=e)}setActiveVisualTab(e){this.state.activeVisualTab=e}syncCurlToVisual(){if(this.state.curlInput.trim())try{const e=gg(this.state.curlInput);this.state.method=e.method||"GET",this.state.url=e.url?.raw||"",this.state.headers=(e.header||[]).map(s=>({...s,id:s.id||Date.now()+Math.random()})),e.url?.query&&(this.state.params=e.url.query.map(s=>({...s,id:s.id||Date.now()+Math.random()}))),e.body&&(this.state.body={mode:e.body.mode||"none",raw:e.body.raw||"",formData:e.body.formdata||e.body.formData||[],urlEncoded:e.body.urlencoded||e.body.urlEncoded||[]}),this.logger.debug("Synced cURL to visual")}catch(e){this.logger.error("Failed to sync cURL to visual:",e)}}syncVisualToCurl(){const e=this.buildRequestFromVisual();this.state.curlInput=Zi(e),this.logger.debug("Synced visual to cURL")}buildRequestFromVisual(){const e=Kn(this.state.url);e.query=this.state.params.filter(n=>n.enabled!==!1&&n.key).map(n=>xs(n.key,n.value,n.enabled));const s=Xn(this.state.body.mode);return this.state.body.mode==="raw"?(s.raw=this.state.body.raw,s.options={raw:{language:"json"}}):this.state.body.mode==="formdata"?s.formdata=this.state.body.formData:this.state.body.mode==="urlencoded"&&(s.urlencoded=this.state.body.urlEncoded),{method:this.state.method,url:e,header:this.state.headers.filter(n=>n.enabled!==!1&&n.key),body:s}}loadRequest(e,s,n=null){const o=this.collectionsStore.getRequest(e,s);if(!o){this.logger.warn("Request not found:",s);return}this.state.currentRequestId=s,this.state.currentCollectionId=e,this.state.currentFolderId=n;const i=o.request;i&&(this.state.method=i.method||"GET",this.state.url=i.url?.raw||"",this.state.headers=(i.header||[]).map(r=>({key:r.key||"",value:r.value||"",enabled:r.enabled!==!1,id:r.id||Date.now()+Math.random()})),i.url?.query?this.state.params=i.url.query.map(r=>({key:r.key||"",value:r.value||"",enabled:r.enabled!==!1,id:r.id||Date.now()+Math.random()})):this.state.params=[],i.body?this.state.body={mode:i.body.mode||"none",raw:i.body.raw||"",formData:i.body.formdata||i.body.formData||[],urlEncoded:i.body.urlencoded||i.body.urlEncoded||[]}:this.state.body={mode:"none",raw:"",formData:[],urlEncoded:[]},this.syncVisualToCurl(),this.conversationsStore.createNewConversation({name:o.name||"Request",requestId:s,collectionId:e,folderId:n}),this.logger.info("Loaded request:",o.name))}setCurlInput(e){this.state.curlInput=e}updateField(e,s){e in this.state&&(this.state[e]=s)}addHeader(){this.state.headers.push({key:"",value:"",enabled:!0,id:Date.now()})}removeHeader(e){this.state.headers.splice(e,1)}addParam(){this.state.params.push({key:"",value:"",enabled:!0,id:Date.now()})}removeParam(e){this.state.params.splice(e,1)}async sendRequest(){if(this.state.isLoading){this.logger.warn("Request already in progress");return}if(this.state.composerMode==="curl"&&this.state.curlInput.trim()){const e=ya(this.state.curlInput),s=e.filter(n=>n.type==="error");if(s.length>0){this.logger.warn("cURL validation failed:",s);const n={method:"GET",url:{raw:this.state.curlInput},header:[],body:null};this.conversationsStore.addRequest(n,this.state.curlInput),this.conversationsStore.addValidationError(e,this.state.curlInput);return}}this.state.isLoading=!0,this.state.requestError=null;try{let e;this.state.composerMode==="curl"?(this.syncCurlToVisual(),e=this.buildRequestFromVisual()):e=this.buildRequestFromVisual();const s=Zi(e);this.conversationsStore.addRequest(e,s);const n=this.variableInterpolation.interpolateText(e.url?.raw||""),o=(e.header||[]).map(c=>({...c,key:this.variableInterpolation.interpolateText(c.key||""),value:this.variableInterpolation.interpolateText(c.value||"")})),i=(e.url?.query||[]).map(c=>({...c,key:this.variableInterpolation.interpolateText(c.key||""),value:this.variableInterpolation.interpolateText(c.value||"")}));let r=null;e.body?.mode==="raw"?r=this.variableInterpolation.interpolateText(e.body.raw):e.body?.mode==="formdata"?r=(e.body.formdata||[]).map(c=>({...c,key:this.variableInterpolation.interpolateText(c.key||""),value:this.variableInterpolation.interpolateText(c.value||"")})):e.body?.mode==="urlencoded"&&(r=(e.body.urlencoded||[]).map(c=>({...c,key:this.variableInterpolation.interpolateText(c.key||""),value:this.variableInterpolation.interpolateText(c.value||"")}))),this.logger.debug("Sending request:",{method:e.method,url:n,params:i});const a=await this.httpClient.send({method:e.method,url:n,params:i,headers:o,body:r,bodyType:e.body?.mode});this.conversationsStore.addResponse(a),this.state.currentRequestId&&this.state.currentCollectionId&&this.saveToCollection(),this.logger.info("Request completed:",a.status)}catch(e){this.logger.error("Request failed:",e),this.state.requestError=e.message,this.conversationsStore.addResponse({status:0,statusText:"Error",error:e.message,success:!1,time:0,size:0})}finally{this.state.isLoading=!1}}saveToCollection(){if(!this.state.currentRequestId||!this.state.currentCollectionId){this.logger.warn("No collection context to save to");return}const e=this.buildRequestFromVisual();this.collectionsStore.updateRequest(this.state.currentCollectionId,this.state.currentRequestId,{request:e}),this.logger.debug("Request saved to collection")}clearComposer(){this.state.curlInput="",this.state.method="GET",this.state.url="",this.state.headers=[],this.state.params=[],this.state.body={mode:"none",raw:"",formData:[],urlEncoded:[]},this.state.requestError=null}newRequest(){this.clearComposer(),this.state.currentRequestId=null,this.state.currentCollectionId=null,this.state.currentFolderId=null,this.conversationsStore.createNewConversation({name:"New Request"})}loadSession(e){const s=this.conversationsStore.conversations.value.find(i=>i.id===e);if(!s){this.logger.warn("Session not found:",e);return}this.conversationsStore.setActiveConversation(e),this.state.currentRequestId=s.requestId,this.state.currentCollectionId=s.collectionId,this.state.currentFolderId=s.folderId;const n=s.messages.filter(i=>i.type==="request"),o=n[n.length-1];if(o?.data?.request){const i=o.data.request;this.state.method=i.method||"GET",this.state.url=i.url?.raw||"",this.state.headers=(i.header||[]).map(r=>({key:r.key||"",value:r.value||"",enabled:r.enabled!==!1,id:r.id||Date.now()+Math.random()})),i.url?.query?this.state.params=i.url.query.map(r=>({key:r.key||"",value:r.value||"",enabled:r.enabled!==!1,id:r.id||Date.now()+Math.random()})):this.state.params=[],i.body?this.state.body={mode:i.body.mode||"none",raw:i.body.raw||"",formData:i.body.formdata||i.body.formData||[],urlEncoded:i.body.urlencoded||i.body.urlEncoded||[]}:this.state.body={mode:"none",raw:"",formData:[],urlEncoded:[]},o.data.curl?this.state.curlInput=o.data.curl:this.syncVisualToCurl(),this.logger.info("Loaded session:",s.name,"with",n.length,"requests")}else this.clearComposer(),this.logger.info("Loaded empty session:",s.name)}formatTime(e){return!e&&e!==0?"N/A":e<1e3?`${Math.round(e)}ms`:`${(e/1e3).toFixed(2)}s`}formatSize(e){return!e&&e!==0?"N/A":e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(2)} KB`:`${(e/(1024*1024)).toFixed(2)} MB`}}const xg={class:"chat-view"},Cg={class:"response-overlay-content"},Sg={__name:"ChatView",props:{requestId:{type:String,default:null},collectionId:{type:String,default:null},folderId:{type:String,default:null},conversationId:{type:String,default:null},requestName:{type:String,default:"New Request"}},emits:["request-loaded"],setup(t,{expose:e,emit:s}){const n=t,o=s,i=new wg,r=Zo(),a=oe("curl"),c=M(()=>a.value==="visual"?50:30),d=M(()=>100-c.value),u=oe(null),f=M(()=>r.activeConversation.value),h=M(()=>r.activeMessages.value);we(()=>[n.requestId,n.collectionId],([v,T])=>{v&&T&&(i.loadRequest(T,v,n.folderId),o("request-loaded"))},{immediate:!0}),Ue(()=>{n.conversationId?i.loadSession(n.conversationId):!n.requestId&&!n.collectionId&&i.newRequest()});function p(){i.sendRequest(),a.value="curl",i.setComposerMode("curl")}function b(){i.saveToCollection()}function S(v){v.data?.request&&(i.state.method=v.data.request.method||"GET",i.state.url=v.data.request.url?.raw||"",i.state.headers=[...v.data.request.header||[]],i.syncVisualToCurl())}function A(){r.clearActiveConversation()}function R(v){a.value=v}function E(v){u.value=v}function w(){u.value=null}return e({controller:i,loadRequest:(v,T,O)=>{i.loadRequest(v,T,O)},newRequest:()=>{i.newRequest()}}),(v,T)=>(y(),_("div",xg,[be(I(ha),{class:"default-theme",horizontal:""},{default:Ne(()=>[be(I(Fn),{size:d.value,"min-size":"20"},{default:Ne(()=>[be(um,{conversation:f.value,messages:h.value,"is-loading":I(i).state.isLoading,onEditRequest:S,onClear:A,onMaximizeResponse:E},null,8,["conversation","messages","is-loading"])]),_:1},8,["size"]),be(I(Fn),{size:c.value,"min-size":"15","max-size":"70"},{default:Ne(()=>[be(cg,{controller:I(i),onSend:p,onSave:b,onModeChange:R},null,8,["controller"])]),_:1},8,["size"])]),_:1}),(y(),ge(Cs,{to:"body"},[u.value?(y(),_("div",{key:0,class:"response-overlay",onClick:ln(w,["self"])},[l("div",Cg,[be(Ca,{message:u.value,maximized:!0,onMinimize:w},null,8,["message"])])])):K("",!0)]))]))}},_g=_e(Sg,[["__scopeId","data-v-0bef8940"]]),Tg={class:"chat-tabs"},Eg={class:"tab-bar"},Ag={class:"tabs-container"},kg=["onClick"],$g={class:"tab-name"},Rg=["onClick"],qg={class:"chat-content"},Og={key:1,class:"empty-state"},Ig={__name:"ChatTabs",setup(t,{expose:e}){const s=nn(),n=oe(null),o=M(()=>s.tabs.value||[]),i=M(()=>s.activeTab.value?.id),r=M(()=>s.activeTab.value);function a(f){return{GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)"}[f]||"var(--color-text-secondary)"}function c(f){s.setActiveTab(f)}function d(f){s.closeTab(f)}function u(){s.createTab({name:"New Request",method:"GET"})}return e({chatViewRef:n,addNewTab:u}),(f,h)=>(y(),_("div",Tg,[l("div",Eg,[l("div",Ag,[(y(!0),_(ve,null,De(o.value,p=>(y(),_("div",{key:p.id,class:Ce(["tab",{active:p.id===i.value}]),onClick:b=>c(p.id)},[l("span",{class:"tab-method",style:Me({color:a(p.method)})},D(p.method),5),l("span",$g,D(p.name),1),l("button",{class:"tab-close",onClick:ln(b=>d(p.id),["stop"]),title:"Close"},"  ",8,Rg)],10,kg))),128))]),l("button",{class:"add-tab-btn",onClick:u,title:"New Request"}," + ")]),l("div",qg,[r.value?(y(),ge(_g,{ref_key:"chatViewRef",ref:n,key:r.value.id,"request-id":r.value.itemId,"collection-id":r.value.collectionId,"folder-id":r.value.folderId,"conversation-id":r.value.conversationId,"request-name":r.value.name},null,8,["request-id","collection-id","folder-id","conversation-id","request-name"])):(y(),_("div",Og,[h[0]||(h[0]=l("div",{class:"empty-icon"},"",-1)),h[1]||(h[1]=l("h3",null,"No request open",-1)),h[2]||(h[2]=l("p",null,"Select a request from the sidebar or create a new one",-1)),l("button",{class:"new-request-btn",onClick:u}," + New Request ")]))])]))}},Dg=_e(Ig,[["__scopeId","data-v-bf13b293"]]),Fg=["http","https","socks4","socks5"],Pg=["none","basic","ntlm"];let hs=class _a extends te{static schema={id:{type:"string",default:()=>te.generateId()},name:{type:"string",default:"Default Proxy"},enabled:{type:"boolean",default:!1},protocol:{type:"string",enum:Fg,default:"http"},host:{type:"string",default:""},port:{type:"number",default:8080,validator:e=>e>0&&e<=65535},auth:{type:"object",default:null},excludeList:{type:"array",default:[]},includeList:{type:"array",default:[]},useSystemProxy:{type:"boolean",default:!1},tunneling:{type:"boolean",default:!1},createdAt:{type:"string",default:()=>te.getTimestamp()},updatedAt:{type:"string",default:()=>te.getTimestamp()}};constructor(e={}){e.id&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.auth&&!(e.auth instanceof Fs)&&(e.auth=new Fs(e.auth).toJSON()),super(e),this.validateProxy()}validateProxy(){if(this.enabled&&!this.useSystemProxy){if(!this.host)throw new Error("Proxy host is required when proxy is enabled");if(!this.isValidHost(this.host))throw new Error(`Invalid proxy host: ${this.host}`)}if(this.protocol.startsWith("socks")&&this.auth&&this.auth.type==="ntlm")throw new Error("NTLM authentication is not supported for SOCKS proxies")}isValidHost(e){if(!e)return!1;const s=/^([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)*[a-zA-Z]{2,}$/,n=/^(\d{1,3}\.){3}\d{1,3}$/,o=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4})$/,i=/^localhost$/;return s.test(e)||n.test(e)||o.test(e)||i.test(e)}setAuthentication(e,s,n="basic"){return this.auth=new Fs({type:n,username:e,password:s}).toJSON(),this.updatedAt=te.getTimestamp(),this}removeAuthentication(){return this.auth=null,this.updatedAt=te.getTimestamp(),this}addExcludedHost(e){return this.excludeList.includes(e)||(this.excludeList.push(e),this.updatedAt=te.getTimestamp()),this}removeExcludedHost(e){const s=this.excludeList.indexOf(e);return s>-1&&(this.excludeList.splice(s,1),this.updatedAt=te.getTimestamp()),this}addIncludedHost(e){return this.includeList.includes(e)||(this.includeList.push(e),this.updatedAt=te.getTimestamp()),this}removeIncludedHost(e){const s=this.includeList.indexOf(e);return s>-1&&(this.includeList.splice(s,1),this.updatedAt=te.getTimestamp()),this}shouldUseProxy(e){if(!this.enabled||!e)return!1;const s=e.toLowerCase().replace(/^https?:\/\//,"").split("/")[0].split(":")[0];return this.includeList.length>0?this.matchesHostList(s,this.includeList):this.excludeList.length>0?!this.matchesHostList(s,this.excludeList):!0}matchesHostList(e,s){return s.some(n=>{const o=n.toLowerCase();if(o===e)return!0;if(o.startsWith("*.")){const i=o.substring(2);return e.endsWith(i)}return o.includes("*")?new RegExp("^"+o.replace(/\*/g,".*")+"$").test(e):!1})}getProxyUrl(){if(!this.enabled||!this.host)return null;let e=`${this.protocol}://`;if(this.auth){const s=new Fs(this.auth);s.username&&s.password&&(e+=`${encodeURIComponent(s.username)}:${encodeURIComponent(s.password)}@`)}return e+=`${this.host}:${this.port}`,e}getClientConfig(){if(!this.enabled)return null;const e={protocol:this.protocol,host:this.host,port:this.port};if(this.auth){const s=new Fs(this.auth);e.auth=s.getAuthHeader()}return this.tunneling&&(e.tunnel=!0),e}static fromUrl(e){try{const s=new URL(e),n=new _a({protocol:s.protocol.replace(":",""),host:s.hostname,port:parseInt(s.port)||8080,enabled:!0});return s.username&&s.password&&n.setAuthentication(decodeURIComponent(s.username),decodeURIComponent(s.password)),n}catch(s){throw new Error(`Invalid proxy URL: ${s.message}`)}}};class Fs extends te{static schema={type:{type:"string",enum:Pg,default:"basic"},username:{type:"string",default:""},password:{type:"string",default:""},domain:{type:"string",default:""},workstation:{type:"string",default:""}};getAuthHeader(){if(this.type==="none"||!this.username||!this.password)return null;switch(this.type){case"basic":const e=`${this.username}:${this.password}`;return`Basic ${Buffer.from(e).toString("base64")}`;case"ntlm":return{username:this.username,password:this.password,domain:this.domain||"",workstation:this.workstation||""};default:return null}}exportSafe(){return{type:this.type,username:this.username,password:"[REDACTED]",domain:this.domain,workstation:this.workstation}}}const Mg=["client","ca","server"];class lt extends te{static schema={id:{type:"string",default:()=>te.generateId()},name:{type:"string",required:!0},type:{type:"string",enum:Mg,default:"client"},host:{type:"string",default:""},port:{type:"number",default:443,validator:e=>e>0&&e<=65535},cert:{type:"object",default:null},key:{type:"object",default:null},ca:{type:"object",default:null},passphrase:{type:"string",default:""},pfx:{type:"object",default:null},enabled:{type:"boolean",default:!0},verifyHost:{type:"boolean",default:!0},verifyExpiry:{type:"boolean",default:!0},rejectUnauthorized:{type:"boolean",default:!0},createdAt:{type:"string",default:()=>te.getTimestamp()},updatedAt:{type:"string",default:()=>te.getTimestamp()},expiresAt:{type:"string",default:""}};constructor(e={}){e.id&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.expiresAt===null||e.expiresAt===void 0?e.expiresAt="":e.expiresAt&&typeof e.expiresAt!="string"&&(e.expiresAt=e.expiresAt instanceof Date?e.expiresAt.toISOString():String(e.expiresAt)),super(e),this.validateCertificate()}validateCertificate(){if(this.enabled&&this.host){if(this.type==="client"&&!this.pfx&&(!this.cert||!this.key))throw new Error("Client certificate requires either PFX/P12 or both cert and key files");if(this.type==="ca"&&!this.ca)throw new Error("CA certificate requires a CA file")}if(this.host&&!this.isValidHostPattern(this.host))throw new Error(`Invalid host pattern: ${this.host}`)}validateForUse(){if(!this.host)throw new Error("Host is required");if(!this.name)throw new Error("Certificate name is required");if(this.type==="client"&&!this.pfx&&(!this.cert||!this.key))throw new Error("Client certificate requires either PFX/P12 or both cert and key files");if(this.type==="ca"&&!this.ca)throw new Error("CA certificate requires a CA file");if(!this.isValidHostPattern(this.host))throw new Error(`Invalid host pattern: ${this.host}`)}isValidHostPattern(e){if(!e)return!1;const s=/^(\*\.)?([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)*[a-zA-Z]{2,}$/,n=/^(\d{1,3}\.){3}\d{1,3}$/,o=/^localhost(:\d+)?$/;return s.test(e)||n.test(e)||o.test(e)}matchesHost(e){if(!this.host||this.host===e)return!0;if(this.host.startsWith("*.")){const o=this.host.substring(2);return e.endsWith(o)||e===o.substring(1)}const s=e.split(":")[0],n=this.host.split(":")[0];return s===n}setCertificate(e,s="pem"){return this.cert={content:e,format:s,encoding:s==="pem"?"utf8":"base64"},this.updatedAt=te.getTimestamp(),this}setPrivateKey(e,s="pem",n=""){return this.key={content:e,format:s,encoding:s==="pem"?"utf8":"base64"},n&&(this.passphrase=n),this.updatedAt=te.getTimestamp(),this}setCACertificate(e,s="pem"){return this.ca={content:e,format:s,encoding:s==="pem"?"utf8":"base64"},this.updatedAt=te.getTimestamp(),this}setPFX(e,s=""){return this.pfx={content:e,encoding:"base64"},s&&(this.passphrase=s),this.updatedAt=te.getTimestamp(),this}isExpired(){return this.expiresAt?new Date(this.expiresAt)<new Date:!1}getClientOptions(){const e={rejectUnauthorized:this.rejectUnauthorized};return this.pfx?(e.pfx=Buffer.from(this.pfx.content,this.pfx.encoding||"base64"),this.passphrase&&(e.passphrase=this.passphrase)):(this.cert&&(e.cert=this.cert.encoding==="base64"?Buffer.from(this.cert.content,"base64"):this.cert.content),this.key&&(e.key=this.key.encoding==="base64"?Buffer.from(this.key.content,"base64"):this.key.content,this.passphrase&&(e.passphrase=this.passphrase))),this.ca&&(e.ca=this.ca.encoding==="base64"?Buffer.from(this.ca.content,"base64"):this.ca.content),e}exportSafe(){const e=this.toJSON();return e.cert&&(e.cert={...e.cert,content:"[REDACTED]"}),e.key&&(e.key={...e.key,content:"[REDACTED]"}),e.ca&&(e.ca={...e.ca,content:"[REDACTED]"}),e.pfx&&(e.pfx={...e.pfx,content:"[REDACTED]"}),e.passphrase&&(e.passphrase="[REDACTED]"),e}static createSelfSigned(e="localhost"){return new lt({name:`Self-signed for ${e}`,type:"server",host:e,rejectUnauthorized:!1,verifyHost:!1,verifyExpiry:!1})}}let Ms=class extends te{static schema={timeout:{type:"number",default:3e4,validator:e=>e>0&&e<=3e5},followRedirects:{type:"boolean",default:!0},maxRedirects:{type:"number",default:10,validator:e=>e>=0&&e<=50},validateSSL:{type:"boolean",default:!0},encoding:{type:"string",enum:["auto","utf8","ascii","base64"],default:"auto"},keepAlive:{type:"boolean",default:!0},cookieJar:{type:"boolean",default:!0}}},Ns=class extends te{static schema={theme:{type:"string",enum:["light","dark","auto"],default:"dark"},fontSize:{type:"number",default:14,validator:e=>e>=10&&e<=24},fontFamily:{type:"string",default:"monospace"},sidebarWidth:{type:"number",default:25,validator:e=>e>=15&&e<=50},responseViewMode:{type:"string",enum:["pretty","raw","preview"],default:"pretty"},requestViewMode:{type:"string",enum:["params","headers","body","auth"],default:"params"},showLineNumbers:{type:"boolean",default:!0},wordWrap:{type:"boolean",default:!1},minimap:{type:"boolean",default:!1},autoComplete:{type:"boolean",default:!0}}},Us=class extends te{static schema={autoSave:{type:"boolean",default:!0},autoSaveInterval:{type:"number",default:3e4,validator:e=>e>=1e4},confirmOnDelete:{type:"boolean",default:!0},confirmOnClose:{type:"boolean",default:!0},language:{type:"string",enum:["en","es","fr","de","zh","ja"],default:"en"},maxHistoryItems:{type:"number",default:100,validator:e=>e>=0&&e<=1e3},enableTelemetry:{type:"boolean",default:!1},checkForUpdates:{type:"boolean",default:!0},enableNotifications:{type:"boolean",default:!0},logLevel:{type:"string",enum:["error","warn","info","debug"],default:"info"}}};class ht extends te{static schema={action:{type:"string",required:!0},keys:{type:"array",required:!0},description:{type:"string",default:""},enabled:{type:"boolean",default:!0}}}class rt extends te{static schema={id:{type:"string",default:"app-settings"},general:{type:Us,default:()=>new Us},request:{type:Ms,default:()=>new Ms},ui:{type:Ns,default:()=>new Ns},proxy:{type:hs,default:()=>new hs},certificates:{type:"array",default:[]},keyBindings:{type:"array",default:()=>rt.getDefaultKeyBindings()},workspacePath:{type:"string",default:""},recentFiles:{type:"array",default:[]},ignoredHosts:{type:"array",default:[]},customHeaders:{type:"array",default:[]},createdAt:{type:"string",default:()=>te.getTimestamp()},updatedAt:{type:"string",default:()=>te.getTimestamp()},version:{type:"string",default:"1.0.0"}};constructor(e={}){e.id&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.general&&!(e.general instanceof Us)&&(e.general=new Us(e.general)),e.request&&!(e.request instanceof Ms)&&(e.request=new Ms(e.request)),e.ui&&!(e.ui instanceof Ns)&&(e.ui=new Ns(e.ui)),e.proxy&&!(e.proxy instanceof hs)&&(e.proxy=new hs(e.proxy)),e.certificates&&(e.certificates=e.certificates.map(s=>s instanceof lt?s.toJSON():new lt(s).toJSON())),super(e)}static getDefaultKeyBindings(){return[new ht({action:"send_request",keys:["ctrl","enter"],description:"Send request"}).toJSON(),new ht({action:"save_request",keys:["ctrl","s"],description:"Save request"}).toJSON(),new ht({action:"new_request",keys:["ctrl","n"],description:"New request"}).toJSON(),new ht({action:"new_collection",keys:["ctrl","shift","n"],description:"New collection"}).toJSON(),new ht({action:"duplicate_tab",keys:["ctrl","d"],description:"Duplicate tab"}).toJSON(),new ht({action:"close_tab",keys:["ctrl","w"],description:"Close tab"}).toJSON(),new ht({action:"next_tab",keys:["ctrl","tab"],description:"Next tab"}).toJSON(),new ht({action:"prev_tab",keys:["ctrl","shift","tab"],description:"Previous tab"}).toJSON(),new ht({action:"toggle_sidebar",keys:["ctrl","b"],description:"Toggle sidebar"}).toJSON(),new ht({action:"search",keys:["ctrl","f"],description:"Search"}).toJSON(),new ht({action:"settings",keys:["ctrl",","],description:"Open settings"}).toJSON()]}addCertificate(e){const s=e instanceof lt?e.toJSON():new lt(e).toJSON();return this.certificates.push(s),this.updatedAt=te.getTimestamp(),this}removeCertificate(e){return this.certificates=this.certificates.filter(s=>s.id!==e),this.updatedAt=te.getTimestamp(),this}getCertificateForHost(e){return this.certificates.find(s=>{const n=new lt(s);return n.matchesHost(e)&&n.enabled})}updateKeyBinding(e,s){const n=this.keyBindings.find(o=>o.action===e);return n&&(n.keys=s,this.updatedAt=te.getTimestamp()),this}getKeyBinding(e){const s=this.keyBindings.find(n=>n.action===e&&n.enabled);return s?s.keys:null}addRecentFile(e){return this.recentFiles=this.recentFiles.filter(s=>s!==e),this.recentFiles.unshift(e),this.recentFiles.length>10&&(this.recentFiles=this.recentFiles.slice(0,10)),this.updatedAt=te.getTimestamp(),this}addIgnoredHost(e){return this.ignoredHosts.includes(e)||(this.ignoredHosts.push(e),this.updatedAt=te.getTimestamp()),this}removeIgnoredHost(e){return this.ignoredHosts=this.ignoredHosts.filter(s=>s!==e),this.updatedAt=te.getTimestamp(),this}addCustomHeader(e){return this.customHeaders.push(e),this.updatedAt=te.getTimestamp(),this}removeCustomHeader(e){return this.customHeaders=this.customHeaders.filter(s=>s.key!==e),this.updatedAt=te.getTimestamp(),this}reset(){const e=new rt;return Object.assign(this,e),this.updatedAt=te.getTimestamp(),this}export(){const e=this.toJSON();return e.exportedAt=new Date().toISOString(),e.appVersion=this.version,e}static import(e){const s=new rt(e);return s.updatedAt=te.getTimestamp(),s}}class Ng extends ma{constructor(){super("settings"),this.createState({...this.state,activeTab:"general",settings:null,originalSettings:null})}init(){super.init(),this.loadSettings(),this.resetFormData()}loadSettings(){try{const e=localStorage.getItem("toastman_settings");e?(this.state.settings=new rt(JSON.parse(e)),this.logger.debug("Loaded settings from localStorage")):(this.state.settings=new rt,this.logger.debug("Created default settings"))}catch(e){this.logger.error("Failed to load settings:",e),this.state.settings=new rt}}saveSettings(){try{return localStorage.setItem("toastman_settings",JSON.stringify(this.state.settings.toJSON())),this.logger.info("Settings saved successfully"),!0}catch(e){return this.logger.error("Failed to save settings:",e),!1}}open(e="general"){super.open(),this.state.activeTab=e,this.state.settings||this.loadSettings(),this.state.originalSettings=this.state.settings.clone(),this.state.formData=this.state.settings.toJSON()}resetFormData(){this.state.formData=this.state.settings?this.state.settings.toJSON():new rt().toJSON()}validateForm(){return this.clearErrors(),this.state.formData.request&&((this.state.formData.request.timeout<1e3||this.state.formData.request.timeout>3e5)&&this.setFieldError("request.timeout","Timeout must be between 1 and 300 seconds"),(this.state.formData.request.maxRedirects<0||this.state.formData.request.maxRedirects>50)&&this.setFieldError("request.maxRedirects","Max redirects must be between 0 and 50")),this.state.formData.ui&&((this.state.formData.ui.fontSize<10||this.state.formData.ui.fontSize>24)&&this.setFieldError("ui.fontSize","Font size must be between 10 and 24"),(this.state.formData.ui.sidebarWidth<15||this.state.formData.ui.sidebarWidth>50)&&this.setFieldError("ui.sidebarWidth","Sidebar width must be between 15% and 50%")),this.state.formData.proxy&&this.state.formData.proxy.enabled&&(this.state.formData.proxy.host||this.setFieldError("proxy.host","Proxy host is required"),(this.state.formData.proxy.port<1||this.state.formData.proxy.port>65535)&&this.setFieldError("proxy.port","Proxy port must be between 1 and 65535")),!this.hasErrors()}async processSubmit(e){const s=new rt(e);if(this.state.settings=s,!this.saveSettings())throw new Error("Failed to save settings");return this.applySettings(s),s}applySettings(e){e.ui.theme&&document.documentElement.setAttribute("data-theme",e.ui.theme),e.ui.fontSize&&document.documentElement.style.setProperty("--font-size-base",`${e.ui.fontSize}px`),this.logger.info("Settings applied to UI"),this.emit("settingsApplied",e)}async resetToDefaults(){await this.confirmReset()&&(this.state.settings=new rt,this.state.formData=this.state.settings.toJSON(),this.saveSettings()&&(this.applySettings(this.state.settings),this.logger.info("Settings reset to defaults"),this.emit("settingsReset")))}async confirmReset(){return new Promise(e=>{this.emit("confirmReset",{resolve:e})})}switchTab(e){if(!["general","request","ui","proxy","certificates","shortcuts"].includes(e)){this.logger.warn(`Invalid settings tab: ${e}`);return}this.state.activeTab=e,this.logger.debug(`Switched to settings tab: ${e}`)}updateGeneralSettings(e){Object.assign(this.state.formData.general,e),this.clearFieldError("general")}updateRequestSettings(e){Object.assign(this.state.formData.request,e),this.clearFieldError("request")}updateUISettings(e){Object.assign(this.state.formData.ui,e),this.clearFieldError("ui"),e.theme&&document.documentElement.setAttribute("data-theme",e.theme),e.fontSize&&document.documentElement.style.setProperty("--font-size-base",`${e.fontSize}px`)}updateProxySettings(e){e.auth&&!this.state.formData.proxy.auth&&(this.state.formData.proxy.auth={type:"basic",username:"",password:"",domain:"",workstation:""}),Object.assign(this.state.formData.proxy,e),this.clearFieldError("proxy")}addCertificate(e){try{const s=new lt(e);this.state.formData.certificates.push(s.toJSON()),this.logger.info("Added certificate:",s.name),this.emit("certificateAdded",s)}catch(s){this.logger.error("Failed to add certificate:",s),this.setFieldError("certificate",s.message)}}removeCertificate(e){const s=this.state.formData.certificates.findIndex(n=>n.id===e);if(s>-1){const n=this.state.formData.certificates[s];this.state.formData.certificates.splice(s,1),this.logger.info("Removed certificate:",n.name),this.emit("certificateRemoved",e)}}updateCertificate(e,s){const n=this.state.formData.certificates.find(o=>o.id===e);n&&(Object.assign(n,s),this.logger.info("Updated certificate:",n.name),this.emit("certificateUpdated",n))}async importCertificate(e){return await this.executeAsync(async()=>{const n=await this.readFile(e),o=new lt({name:e.name,type:"client",enabled:!0});return e.name.endsWith(".pfx")||e.name.endsWith(".p12")?o.setPFX(n):o.setCertificate(n),this.addCertificate(o.toJSON()),o},"Failed to import certificate")}async readFile(e){return new Promise((s,n)=>{const o=new FileReader;o.onload=i=>s(i.target.result),o.onerror=i=>n(i),e.type==="application/x-pkcs12"||e.name.endsWith(".pfx")||e.name.endsWith(".p12")?o.readAsArrayBuffer(e):o.readAsText(e)})}updateKeyBinding(e,s){const n=this.state.formData.keyBindings.find(o=>o.action===e);n&&(n.keys=s,this.logger.info(`Updated key binding for ${e}:`,s.join("+")),this.emit("keyBindingUpdated",{action:e,keys:s}))}resetKeyBindings(){this.state.formData.keyBindings=rt.getDefaultKeyBindings(),this.logger.info("Reset key bindings to defaults"),this.emit("keyBindingsReset")}async testProxyConnection(){const e=await this.executeAsync(async()=>{const s=new hs(this.state.formData.proxy);if(!s.enabled||!s.host)throw new Error("Proxy is not configured");if(await new Promise(o=>setTimeout(o,1e3)),!(Math.random()>.3))throw new Error(`Failed to connect to proxy at ${s.host}:${s.port}`);return{message:`Successfully connected to proxy at ${s.host}:${s.port}`}},"Proxy connection test failed");return e.success?this.emit("proxyTestSuccess",e.data):this.emit("proxyTestFailed",e.error),e}exportSettings(){const e=this.state.settings.export(),s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(s),o=document.createElement("a");o.href=n,o.download=`toastman-settings-${Date.now()}.json`,o.click(),URL.revokeObjectURL(n),this.logger.info("Settings exported"),this.emit("settingsExported")}async importSettings(e){const s=await this.executeAsync(async()=>{const n=await this.readFile(e),o=JSON.parse(n),i=rt.import(o);return this.state.settings=i,this.state.formData=i.toJSON(),this.saveSettings()&&this.applySettings(i),i},"Failed to import settings");return s.success&&this.emit("settingsImported",s.data),s}updateCertificatesSettings(e){this.state.formData.certificates=e,this.clearFieldError("certificates"),this.logger.debug("Updated certificates settings")}hasUnsavedChanges(){return this.state.originalSettings?JSON.stringify(this.state.formData)!==JSON.stringify(this.state.originalSettings.toJSON()):!1}}class Ug extends Ge{constructor(){super("general-settings"),this.createState({settings:null,errors:{}})}init(e){super.init(),this.state.settings=e||new Us}updateSettings(e){Object.assign(this.state.settings,e),this.clearErrors(),this.logger.debug("Updated general settings:",e),this.emit("settingsChanged",this.state.settings)}validate(){return this.clearErrors(),(this.state.settings.autoSaveInterval<1e4||this.state.settings.autoSaveInterval>3e5)&&this.setError("autoSaveInterval","Auto-save interval must be between 10 and 300 seconds"),(this.state.settings.maxHistoryItems<0||this.state.settings.maxHistoryItems>1e3)&&this.setError("maxHistoryItems","Max history items must be between 0 and 1000"),Object.keys(this.state.errors).length===0}setError(e,s){this.state.errors[e]=s}clearErrors(){this.state.errors={}}getSettings(){return this.state.settings}}const Lg={class:"general-settings"},Vg={class:"setting-group"},jg={class:"setting-label"},zg={class:"setting-group"},Hg={key:0,class:"error-text"},Bg={class:"setting-group"},Jg={class:"setting-label"},Wg={class:"setting-group"},Gg={key:0,class:"error-text"},Kg={__name:"GeneralSettings",props:{settings:{type:Object,required:!0}},emits:["update:settings"],setup(t,{emit:e}){const s=t,n=e,o=new Ug;o.init(s.settings),o.on("settingsChanged",u=>{n("update:settings",u)});const{errors:i}=o.state,r=M({get:()=>s.settings.autoSave,set:u=>o.updateSettings({autoSave:u})}),a=M({get:()=>Math.floor(s.settings.autoSaveInterval/1e3),set:u=>o.updateSettings({autoSaveInterval:parseInt(u)*1e3})}),c=M({get:()=>s.settings.confirmOnDelete,set:u=>o.updateSettings({confirmOnDelete:u})}),d=M({get:()=>s.settings.maxHistoryItems,set:u=>o.updateSettings({maxHistoryItems:parseInt(u)})});return(u,f)=>(y(),_("div",Lg,[l("div",Vg,[l("label",jg,[fe(l("input",{type:"checkbox","onUpdate:modelValue":f[0]||(f[0]=h=>r.value=h),class:"setting-checkbox"},null,512),[[Qe,r.value]]),f[4]||(f[4]=Ie(" Auto-save changes ",-1))]),f[5]||(f[5]=l("div",{class:"setting-description"}," Automatically save your work as you make changes ",-1))]),l("div",zg,[f[6]||(f[6]=l("label",{class:"setting-label"},"Auto-save interval (seconds)",-1)),fe(l("input",{type:"number","onUpdate:modelValue":f[1]||(f[1]=h=>a.value=h),min:"10",max:"300",class:"setting-input"},null,512),[[Re,a.value]]),I(i).autoSaveInterval?(y(),_("div",Hg,D(I(i).autoSaveInterval),1)):K("",!0),f[7]||(f[7]=l("div",{class:"setting-description"}," How often to automatically save your changes (10-300 seconds) ",-1))]),l("div",Bg,[l("label",Jg,[fe(l("input",{type:"checkbox","onUpdate:modelValue":f[2]||(f[2]=h=>c.value=h),class:"setting-checkbox"},null,512),[[Qe,c.value]]),f[8]||(f[8]=Ie(" Confirm before deleting items ",-1))]),f[9]||(f[9]=l("div",{class:"setting-description"}," Show confirmation dialog when deleting collections, requests, or environments ",-1))]),l("div",Wg,[f[10]||(f[10]=l("label",{class:"setting-label"},"Maximum history items",-1)),fe(l("input",{type:"number","onUpdate:modelValue":f[3]||(f[3]=h=>d.value=h),min:"0",max:"1000",class:"setting-input"},null,512),[[Re,d.value]]),I(i).maxHistoryItems?(y(),_("div",Gg,D(I(i).maxHistoryItems),1)):K("",!0),f[11]||(f[11]=l("div",{class:"setting-description"}," Maximum number of requests to keep in history (0-1000) ",-1))])]))}},Xg=_e(Kg,[["__scopeId","data-v-fcda1da3"]]);class Yg extends Ge{constructor(){super("request-settings"),this.createState({settings:null,errors:{}})}init(e){super.init(),this.state.settings=e||new Ms}updateSettings(e){Object.assign(this.state.settings,e),this.clearErrors(),this.logger.debug("Updated request settings:",e),this.emit("settingsChanged",this.state.settings)}validate(){return this.clearErrors(),(this.state.settings.timeout<1e3||this.state.settings.timeout>3e5)&&this.setError("timeout","Timeout must be between 1 and 300 seconds"),(this.state.settings.maxRedirects<0||this.state.settings.maxRedirects>50)&&this.setError("maxRedirects","Max redirects must be between 0 and 50"),Object.keys(this.state.errors).length===0}setError(e,s){this.state.errors[e]=s}clearErrors(){this.state.errors={}}getSettings(){return this.state.settings}}const Qg={class:"request-settings"},Zg={class:"setting-group"},ev={key:0,class:"error-text"},tv={class:"setting-group"},sv={class:"setting-label"},nv={class:"setting-group"},ov={key:0,class:"error-text"},iv={class:"setting-group"},rv={class:"setting-label"},av={__name:"RequestSettings",props:{settings:{type:Object,required:!0}},emits:["update:settings"],setup(t,{emit:e}){const s=t,n=e,o=new Yg;o.init(s.settings),o.on("settingsChanged",u=>{n("update:settings",u)});const{errors:i}=o.state,r=M({get:()=>s.settings.timeout,set:u=>o.updateSettings({timeout:parseInt(u)})}),a=M({get:()=>s.settings.followRedirects,set:u=>o.updateSettings({followRedirects:u})}),c=M({get:()=>s.settings.maxRedirects,set:u=>o.updateSettings({maxRedirects:parseInt(u)})}),d=M({get:()=>s.settings.validateSSL,set:u=>o.updateSettings({validateSSL:u})});return(u,f)=>(y(),_("div",Qg,[l("div",Zg,[f[4]||(f[4]=l("label",{class:"setting-label"},"Request timeout (milliseconds)",-1)),fe(l("input",{type:"number","onUpdate:modelValue":f[0]||(f[0]=h=>r.value=h),min:"1000",max:"300000",class:"setting-input"},null,512),[[Re,r.value]]),I(i).timeout?(y(),_("div",ev,D(I(i).timeout),1)):K("",!0),f[5]||(f[5]=l("div",{class:"setting-description"}," Maximum time to wait for a response (1000-300000 ms) ",-1))]),l("div",tv,[l("label",sv,[fe(l("input",{type:"checkbox","onUpdate:modelValue":f[1]||(f[1]=h=>a.value=h),class:"setting-checkbox"},null,512),[[Qe,a.value]]),f[6]||(f[6]=Ie(" Follow redirects automatically ",-1))]),f[7]||(f[7]=l("div",{class:"setting-description"}," Automatically follow HTTP redirects (3xx status codes) ",-1))]),l("div",nv,[f[8]||(f[8]=l("label",{class:"setting-label"},"Maximum redirects",-1)),fe(l("input",{type:"number","onUpdate:modelValue":f[2]||(f[2]=h=>c.value=h),min:"0",max:"50",class:"setting-input"},null,512),[[Re,c.value]]),I(i).maxRedirects?(y(),_("div",ov,D(I(i).maxRedirects),1)):K("",!0),f[9]||(f[9]=l("div",{class:"setting-description"}," Maximum number of redirects to follow (0-50) ",-1))]),l("div",iv,[l("label",rv,[fe(l("input",{type:"checkbox","onUpdate:modelValue":f[3]||(f[3]=h=>d.value=h),class:"setting-checkbox"},null,512),[[Qe,d.value]]),f[10]||(f[10]=Ie(" Validate SSL certificates ",-1))]),f[11]||(f[11]=l("div",{class:"setting-description"}," Verify SSL/TLS certificates when making HTTPS requests ",-1))])]))}},lv=_e(av,[["__scopeId","data-v-b35ecd6d"]]);class cv extends Ge{constructor(){super("ui-settings"),this.createState({settings:null,errors:{}})}init(e){super.init(),this.state.settings=e||new Ns}updateSettings(e){Object.assign(this.state.settings,e),this.clearErrors(),this.applyUIChanges(e),this.logger.debug("Updated UI settings:",e),this.emit("settingsChanged",this.state.settings)}applyUIChanges(e){if(typeof document<"u"){const s=document.documentElement;if(e.theme)if(e.theme==="auto"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches;s.setAttribute("data-theme",n?"dark":"light")}else s.setAttribute("data-theme",e.theme);e.fontSize&&s.style.setProperty("--font-size-base",`${e.fontSize}px`),e.fontFamily&&s.style.setProperty("--font-family-mono",e.fontFamily)}}validate(){return this.clearErrors(),(this.state.settings.fontSize<10||this.state.settings.fontSize>24)&&this.setError("fontSize","Font size must be between 10 and 24 pixels"),(this.state.settings.sidebarWidth<15||this.state.settings.sidebarWidth>50)&&this.setError("sidebarWidth","Sidebar width must be between 15% and 50%"),Object.keys(this.state.errors).length===0}setError(e,s){this.state.errors[e]=s}clearErrors(){this.state.errors={}}getSettings(){return this.state.settings}}const uv={class:"ui-settings"},dv={class:"setting-group"},fv={class:"setting-group"},pv={key:0,class:"error-text"},hv={class:"setting-group"},mv={key:0,class:"error-text"},gv={class:"setting-group"},vv={class:"setting-label"},yv={class:"setting-group"},bv={class:"setting-label"},wv={class:"setting-group"},xv={class:"setting-label"},Cv={__name:"UISettings",props:{settings:{type:Object,required:!0}},emits:["update:settings"],setup(t,{emit:e}){const s=t,n=e,o=new cv;o.init(s.settings),o.on("settingsChanged",h=>{n("update:settings",h)});const{errors:i}=o.state,r=M({get:()=>s.settings.theme,set:h=>o.updateSettings({theme:h})}),a=M({get:()=>s.settings.fontSize,set:h=>o.updateSettings({fontSize:parseInt(h)})}),c=M({get:()=>s.settings.sidebarWidth,set:h=>o.updateSettings({sidebarWidth:parseInt(h)})}),d=M({get:()=>s.settings.showLineNumbers,set:h=>o.updateSettings({showLineNumbers:h})}),u=M({get:()=>s.settings.wordWrap,set:h=>o.updateSettings({wordWrap:h})}),f=M({get:()=>s.settings.autoComplete,set:h=>o.updateSettings({autoComplete:h})});return(h,p)=>(y(),_("div",uv,[l("div",dv,[p[7]||(p[7]=l("label",{class:"setting-label"},"Theme",-1)),fe(l("select",{"onUpdate:modelValue":p[0]||(p[0]=b=>r.value=b),class:"setting-select"},[...p[6]||(p[6]=[l("option",{value:"light"},"Light",-1),l("option",{value:"dark"},"Dark",-1),l("option",{value:"auto"},"Auto (System)",-1)])],512),[[_s,r.value]]),p[8]||(p[8]=l("div",{class:"setting-description"}," Choose the application color theme ",-1))]),l("div",fv,[p[9]||(p[9]=l("label",{class:"setting-label"},"Font size (px)",-1)),fe(l("input",{type:"number","onUpdate:modelValue":p[1]||(p[1]=b=>a.value=b),min:"10",max:"24",class:"setting-input"},null,512),[[Re,a.value]]),I(i).fontSize?(y(),_("div",pv,D(I(i).fontSize),1)):K("",!0),p[10]||(p[10]=l("div",{class:"setting-description"}," Base font size for the application (10-24px) ",-1))]),l("div",hv,[p[11]||(p[11]=l("label",{class:"setting-label"},"Sidebar width (%)",-1)),fe(l("input",{type:"number","onUpdate:modelValue":p[2]||(p[2]=b=>c.value=b),min:"15",max:"50",class:"setting-input"},null,512),[[Re,c.value]]),I(i).sidebarWidth?(y(),_("div",mv,D(I(i).sidebarWidth),1)):K("",!0),p[12]||(p[12]=l("div",{class:"setting-description"}," Default width of the sidebar panel (15-50%) ",-1))]),l("div",gv,[l("label",vv,[fe(l("input",{type:"checkbox","onUpdate:modelValue":p[3]||(p[3]=b=>d.value=b),class:"setting-checkbox"},null,512),[[Qe,d.value]]),p[13]||(p[13]=Ie(" Show line numbers in code editor ",-1))]),p[14]||(p[14]=l("div",{class:"setting-description"}," Display line numbers in JSON/code views ",-1))]),l("div",yv,[l("label",bv,[fe(l("input",{type:"checkbox","onUpdate:modelValue":p[4]||(p[4]=b=>u.value=b),class:"setting-checkbox"},null,512),[[Qe,u.value]]),p[15]||(p[15]=Ie(" Enable word wrap ",-1))]),p[16]||(p[16]=l("div",{class:"setting-description"}," Wrap long lines in code editor and response viewer ",-1))]),l("div",wv,[l("label",xv,[fe(l("input",{type:"checkbox","onUpdate:modelValue":p[5]||(p[5]=b=>f.value=b),class:"setting-checkbox"},null,512),[[Qe,f.value]]),p[17]||(p[17]=Ie(" Enable auto-complete ",-1))]),p[18]||(p[18]=l("div",{class:"setting-description"}," Show suggestions and auto-completion in editors ",-1))])]))}},Sv=_e(Cv,[["__scopeId","data-v-2dc45dba"]]);class _v extends Ge{constructor(){super("proxy-settings"),this.createState({settings:null,errors:{},testing:!1})}init(e){super.init(),this.state.settings=e||new hs,this.state.settings.auth||(this.state.settings.auth={type:"basic",username:"",password:"",domain:"",workstation:""})}updateSettings(e){e.auth?(this.state.settings.auth||(this.state.settings.auth={type:"basic",username:"",password:"",domain:"",workstation:""}),Object.assign(this.state.settings.auth,e.auth)):Object.assign(this.state.settings,e),this.clearErrors(),this.logger.debug("Updated proxy settings:",e),this.emit("settingsChanged",this.state.settings)}async testConnection(){try{if(this.state.testing=!0,this.clearErrors(),!this.state.settings.enabled)throw new Error("Proxy is not enabled");if(!this.state.settings.host)throw new Error("Proxy host is required");await new Promise(e=>setTimeout(e,1500)),this.logger.info("Proxy connection test successful"),this.emit("testResult",{success:!0,message:"Proxy connection successful"})}catch(e){this.logger.error("Proxy connection test failed:",e),this.setError("connection",e.message),this.emit("testResult",{success:!1,message:e.message})}finally{this.state.testing=!1}}validate(){return this.clearErrors(),this.state.settings.enabled&&!this.state.settings.useSystemProxy&&(this.state.settings.host||this.setError("host","Proxy host is required when proxy is enabled"),(this.state.settings.port<1||this.state.settings.port>65535)&&this.setError("port","Port must be between 1 and 65535")),Object.keys(this.state.errors).length===0}setError(e,s){this.state.errors[e]=s}clearErrors(){this.state.errors={}}getSettings(){return this.state.settings}}const Tv={class:"proxy-settings"},Ev={class:"setting-group"},Av={class:"setting-label"},kv={class:"setting-group"},$v={class:"setting-group"},Rv={class:"setting-row"},qv={class:"setting-field"},Ov={key:0,class:"error-text"},Iv={class:"setting-field"},Dv={key:0,class:"error-text"},Fv={class:"setting-group"},Pv={class:"setting-row"},Mv={class:"setting-group"},Nv=["disabled"],Uv={key:0,class:"error-text"},Lv={__name:"ProxySettings",props:{settings:{type:Object,required:!0}},emits:["update:settings"],setup(t,{emit:e}){const s=t,n=e,o=new _v;o.init(s.settings),o.on("settingsChanged",b=>{n("update:settings",b)}),o.on("testResult",b=>{});const{errors:i,testing:r}=o.state,a=M({get:()=>s.settings.enabled,set:b=>o.updateSettings({enabled:b})}),c=M({get:()=>s.settings.protocol,set:b=>o.updateSettings({protocol:b})}),d=M({get:()=>s.settings.host,set:b=>o.updateSettings({host:b})}),u=M({get:()=>s.settings.port,set:b=>o.updateSettings({port:parseInt(b)})}),f=M({get:()=>s.settings.auth?.username||"",set:b=>o.updateSettings({auth:{username:b}})}),h=M({get:()=>s.settings.auth?.password||"",set:b=>o.updateSettings({auth:{password:b}})}),p=()=>{o.testConnection()};return(b,S)=>(y(),_("div",Tv,[l("div",Ev,[l("label",Av,[fe(l("input",{type:"checkbox","onUpdate:modelValue":S[0]||(S[0]=A=>a.value=A),class:"setting-checkbox"},null,512),[[Qe,a.value]]),S[6]||(S[6]=Ie(" Enable proxy ",-1))]),S[7]||(S[7]=l("div",{class:"setting-description"}," Route requests through a proxy server ",-1))]),a.value?(y(),_(ve,{key:0},[l("div",kv,[S[9]||(S[9]=l("label",{class:"setting-label"},"Protocol",-1)),fe(l("select",{"onUpdate:modelValue":S[1]||(S[1]=A=>c.value=A),class:"setting-select"},[...S[8]||(S[8]=[l("option",{value:"http"},"HTTP",-1),l("option",{value:"https"},"HTTPS",-1),l("option",{value:"socks4"},"SOCKS4",-1),l("option",{value:"socks5"},"SOCKS5",-1)])],512),[[_s,c.value]]),S[10]||(S[10]=l("div",{class:"setting-description"}," Proxy protocol type ",-1))]),l("div",$v,[l("div",Rv,[l("div",qv,[S[11]||(S[11]=l("label",{class:"setting-label"},"Host",-1)),fe(l("input",{type:"text","onUpdate:modelValue":S[2]||(S[2]=A=>d.value=A),placeholder:"proxy.company.com",class:"setting-input"},null,512),[[Re,d.value]]),I(i).host?(y(),_("div",Ov,D(I(i).host),1)):K("",!0)]),l("div",Iv,[S[12]||(S[12]=l("label",{class:"setting-label"},"Port",-1)),fe(l("input",{type:"number","onUpdate:modelValue":S[3]||(S[3]=A=>u.value=A),placeholder:"8080",class:"setting-input port-input",min:"1",max:"65535"},null,512),[[Re,u.value]]),I(i).port?(y(),_("div",Dv,D(I(i).port),1)):K("",!0)])])]),l("div",Fv,[S[13]||(S[13]=l("label",{class:"setting-label"},"Authentication (Optional)",-1)),l("div",Pv,[fe(l("input",{type:"text","onUpdate:modelValue":S[4]||(S[4]=A=>f.value=A),placeholder:"Username",class:"setting-input flex-1"},null,512),[[Re,f.value]]),fe(l("input",{type:"password","onUpdate:modelValue":S[5]||(S[5]=A=>h.value=A),placeholder:"Password",class:"setting-input flex-1"},null,512),[[Re,h.value]])]),S[14]||(S[14]=l("div",{class:"setting-description"}," Credentials for proxy authentication (if required) ",-1))]),l("div",Mv,[l("button",{onClick:p,class:"test-btn",disabled:I(r)||!d.value},D(I(r)?"Testing...":"Test Connection"),9,Nv),I(i).connection?(y(),_("div",Uv,D(I(i).connection),1)):K("",!0)])],64)):K("",!0)]))}},Vv=_e(Lv,[["__scopeId","data-v-2f25d129"]]);class jv extends Ge{constructor(){super("certificates-settings"),this.createState({certificates:[],errors:{}})}init(e=[]){super.init(),this.state.certificates=e.map(s=>s instanceof lt?s.toJSON():new lt(s).toJSON()),this.state.certificates.length===0&&this.addCertificate()}addCertificate(e={}){try{const s={name:"New Certificate",type:"client",host:"",enabled:!1,...e},n=new lt(s);return this.state.certificates.push(n.toJSON()),this.logger.info("Added certificate:",n.name),this.emit("certificatesChanged",this.state.certificates),n.toJSON()}catch(s){return this.logger.error("Failed to add certificate:",s),this.setError("add",s.message),null}}removeCertificate(e){const s=this.state.certificates.findIndex(n=>n.id===e);if(s>-1){const n=this.state.certificates.splice(s,1)[0];return this.logger.info("Removed certificate:",n.name),this.emit("certificatesChanged",this.state.certificates),!0}return!1}updateCertificate(e,s){const n=this.state.certificates.find(o=>o.id===e);return n?(Object.assign(n,s),this.clearError(e),this.logger.debug("Updated certificate:",e,s),this.emit("certificatesChanged",this.state.certificates),!0):!1}async importCertificate(e,s){try{const n=this.state.certificates.find(i=>i.id===s);if(!n)throw new Error("Certificate not found");const o=await this.readCertificateFile(e);return n.cert=o,n.fileName=e.name,this.logger.info("Imported certificate file:",e.name),this.emit("certificatesChanged",this.state.certificates),{success:!0,message:"Certificate imported successfully"}}catch(n){return this.logger.error("Failed to import certificate:",n),this.setError(s,n.message),{success:!1,message:n.message}}}async readCertificateFile(e){return new Promise((s,n)=>{const o=new FileReader;o.onload=i=>{s(i.target.result)},o.onerror=()=>{n(new Error("Failed to read certificate file"))},e.name.endsWith(".pem")?o.readAsText(e):o.readAsDataURL(e)})}validate(){this.clearErrors();let e=!0;return this.state.certificates.forEach(s=>{s.enabled&&(s.host||(this.setError(s.id,"Host is required for enabled certificates"),e=!1),s.name||(this.setError(s.id,"Certificate name is required"),e=!1))}),e}setError(e,s){this.state.errors[e]=s}clearError(e){delete this.state.errors[e]}clearErrors(){this.state.errors={}}getCertificates(){return this.state.certificates}}const zv={class:"certificates-settings"},Hv={class:"certificates-list"},Bv={class:"certificate-header"},Jv=["onUpdate:modelValue","onChange"],Wv=["onUpdate:modelValue","onInput"],Gv=["onClick"],Kv={key:0,class:"certificate-details"},Xv={class:"setting-row"},Yv={class:"setting-group flex-1"},Qv=["onUpdate:modelValue","onInput"],Zv={class:"setting-row"},ey={class:"setting-group flex-1"},ty={class:"file-input-group"},sy=["value"],ny=["onClick"],oy={class:"setting-group"},iy=["onUpdate:modelValue","onInput"],ry={key:0,class:"error-text"},ay={key:0,class:"error-text"},ly={__name:"CertificatesSettings",props:{certificates:{type:Array,default:()=>[]}},emits:["update:certificates"],setup(t,{emit:e}){const s=t,n=e,o=new jv;o.init(s.certificates),o.on("certificatesChanged",u=>{n("update:certificates",u)});const{errors:i}=o.state,r=()=>{o.addCertificate()},a=u=>{o.removeCertificate(u)},c=(u,f)=>{o.updateCertificate(u,f)},d=async u=>{const f=document.createElement("input");f.type="file",f.accept=".p12,.pfx,.pem,.crt,.cer",f.onchange=async h=>{const p=h.target.files[0];p&&(await o.importCertificate(p,u.id)).success},f.click()};return(u,f)=>(y(),_("div",zv,[l("div",{class:"setting-group"},[l("div",{class:"section-header"},[f[0]||(f[0]=l("span",{class:"section-title"},"Client Certificates",-1)),l("button",{onClick:r,class:"btn-add"},"+ Add Certificate")]),f[1]||(f[1]=l("div",{class:"setting-description"}," Configure client certificates for domain-specific authentication ",-1))]),l("div",Hv,[(y(!0),_(ve,null,De(I(o).state.certificates,h=>(y(),_("div",{key:h.id,class:"certificate-item"},[l("div",Bv,[fe(l("input",{type:"checkbox","onUpdate:modelValue":p=>h.enabled=p,onChange:p=>c(h.id,{enabled:p.target.checked}),class:"setting-checkbox"},null,40,Jv),[[Qe,h.enabled]]),fe(l("input",{type:"text","onUpdate:modelValue":p=>h.host=p,onInput:p=>c(h.id,{host:p.target.value}),placeholder:"*.example.com or example.com",class:"domain-input"},null,40,Wv),[[Re,h.host]]),I(o).state.certificates.length>1?(y(),_("button",{key:0,onClick:p=>a(h.id),class:"btn-remove",title:"Remove certificate"},"  ",8,Gv)):K("",!0)]),h.enabled?(y(),_("div",Kv,[l("div",Xv,[l("div",Yv,[f[2]||(f[2]=l("label",{class:"setting-label"},"Certificate Name",-1)),fe(l("input",{type:"text","onUpdate:modelValue":p=>h.name=p,onInput:p=>c(h.id,{name:p.target.value}),placeholder:"Certificate name",class:"setting-input"},null,40,Qv),[[Re,h.name]])])]),l("div",Zv,[l("div",ey,[f[3]||(f[3]=l("label",{class:"setting-label"},"Certificate File",-1)),l("div",ty,[l("input",{type:"text",value:h.cert?`${h.fileName||"Certificate"} loaded`:"No certificate",placeholder:"Select certificate file (.p12, .pfx, .pem)",class:"setting-input",readonly:""},null,8,sy),l("button",{onClick:p=>d(h),class:"file-select-btn"}," Browse ",8,ny)])])]),l("div",oy,[f[4]||(f[4]=l("label",{class:"setting-label"},"Certificate Password",-1)),fe(l("input",{type:"password","onUpdate:modelValue":p=>h.passphrase=p,onInput:p=>c(h.id,{passphrase:p.target.value}),placeholder:"Enter certificate password",class:"setting-input"},null,40,iy),[[Re,h.passphrase]])]),I(i)[h.id]?(y(),_("div",ry,D(I(i)[h.id]),1)):K("",!0)])):K("",!0)]))),128))]),I(i).add?(y(),_("div",ay,D(I(i).add),1)):K("",!0)]))}},cy=_e(ly,[["__scopeId","data-v-cda68d16"]]),uy={class:"settings-container"},dy={class:"settings-tabs"},fy={class:"settings-content"},py={class:"settings-actions"},hy={class:"actions-right"},my=["disabled"],gy={__name:"SettingsDialog",emits:["close"],setup(t,{emit:e}){const s=e,n=new Ng;n.init();const{loading:o,errors:i,formData:r}=n.state,a=M(()=>n.state.activeTab),c=async()=>{n.hasUnsavedChanges()&&!window.confirm("You have unsaved changes. Are you sure you want to close?")||s("close")},d=()=>n.submit(),u=w=>n.switchTab(w),f=()=>n.resetToDefaults(),h=()=>n.exportSettings(),p=w=>{n.updateGeneralSettings(w)},b=w=>{n.updateRequestSettings(w)},S=w=>{n.updateUISettings(w)},A=w=>{n.updateProxySettings(w)},R=w=>{n.updateCertificatesSettings(w)},E=w=>{w.key==="Escape"?c():w.key==="s"&&(w.ctrlKey||w.metaKey)&&(w.preventDefault(),d())};return Ue(()=>{document.addEventListener("keydown",E)}),ft(()=>{document.removeEventListener("keydown",E)}),(w,v)=>(y(),ge(Rs,{title:"Settings",width:"700px",height:"600px",onClose:c},{default:Ne(()=>[l("div",uy,[l("div",dy,[l("button",{class:Ce(["settings-tab",{active:a.value==="general"}]),onClick:v[0]||(v[0]=T=>u("general"))},"  General ",2),l("button",{class:Ce(["settings-tab",{active:a.value==="request"}]),onClick:v[1]||(v[1]=T=>u("request"))},"  Request ",2),l("button",{class:Ce(["settings-tab",{active:a.value==="ui"}]),onClick:v[2]||(v[2]=T=>u("ui"))},"  UI ",2),l("button",{class:Ce(["settings-tab",{active:a.value==="proxy"}]),onClick:v[3]||(v[3]=T=>u("proxy"))},"  Proxy ",2),l("button",{class:Ce(["settings-tab",{active:a.value==="certificates"}]),onClick:v[4]||(v[4]=T=>u("certificates"))},"  Certificates ",2)]),l("div",fy,[a.value==="general"&&I(r)?.general?(y(),ge(Xg,{key:0,settings:I(r).general,"onUpdate:settings":p},null,8,["settings"])):K("",!0),a.value==="request"&&I(r)?.request?(y(),ge(lv,{key:1,settings:I(r).request,"onUpdate:settings":b},null,8,["settings"])):K("",!0),a.value==="ui"&&I(r)?.ui?(y(),ge(Sv,{key:2,settings:I(r).ui,"onUpdate:settings":S},null,8,["settings"])):K("",!0),a.value==="proxy"&&I(r)?.proxy?(y(),ge(Vv,{key:3,settings:I(r).proxy,"onUpdate:settings":A},null,8,["settings"])):K("",!0),a.value==="certificates"&&I(r)?.certificates?(y(),ge(cy,{key:4,certificates:I(r).certificates,"onUpdate:certificates":R},null,8,["certificates"])):K("",!0)]),l("div",py,[l("div",{class:"actions-left"},[l("button",{onClick:f,class:"btn-secondary"}," Reset to Defaults "),l("button",{onClick:h,class:"btn-secondary"}," Export Settings ")]),l("div",hy,[l("button",{onClick:c,class:"btn-secondary"}," Cancel "),l("button",{onClick:d,class:"btn-primary",disabled:I(o)},D(I(o)?"Saving...":"Save Settings"),9,my)])])])]),_:1}))}},vy=_e(gy,[["__scopeId","data-v-ae88f707"]]),yy={class:"alert-content"},by={class:"alert-header"},wy={class:"alert-message"},xy={key:0,class:"alert-input"},Cy=["placeholder"],Sy={__name:"AlertDialog",props:{title:{type:String,default:"Alert"},message:{type:String,required:!0},type:{type:String,default:"info",validator:t=>["info","warning","error","success"].includes(t)},confirmText:{type:String,default:"OK"},cancelText:{type:String,default:null},showInput:{type:Boolean,default:!1},inputPlaceholder:{type:String,default:""},inputValue:{type:String,default:""}},emits:["confirm","cancel","close"],setup(t,{emit:e}){const s=t,n=e,o=oe(null),i=oe(s.inputValue),r={info:"",warning:"",error:"",success:""},a={info:"var(--color-primary)",warning:"var(--color-warning)",error:"var(--color-error)",success:"var(--color-success)"},c=()=>{s.showInput?n("confirm",i.value.trim()):n("confirm",!0)},d=()=>{n("cancel",!1)},u=()=>{n("close")},f=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),c())};return Ue(()=>{s.showInput&&o.value&&o.value.focus()}),(h,p)=>(y(),ge(Rs,{title:t.title,width:"400px",onClose:u},{footer:Ne(()=>[t.cancelText?(y(),_("button",{key:0,class:"btn-cancel",onClick:d},D(t.cancelText),1)):K("",!0),l("button",{class:Ce(["btn-confirm",[`btn-${t.type}`]]),onClick:c},D(t.confirmText),3)]),default:Ne(()=>[l("div",yy,[l("div",by,[l("div",{class:"alert-icon",style:Me({color:a[t.type]})},D(r[t.type]),5),l("div",wy,D(t.message),1)]),t.showInput?(y(),_("div",xy,[fe(l("input",{ref_key:"inputRef",ref:o,"onUpdate:modelValue":p[0]||(p[0]=b=>i.value=b),type:"text",placeholder:t.inputPlaceholder,class:"input-field",onKeydown:f},null,40,Cy),[[Re,i.value]])])):K("",!0)])]),_:1},8,["title"]))}},_y=_e(Sy,[["__scopeId","data-v-b4164d13"]]),Ty={class:"tutorial-modal"},Ey={class:"tutorial-modal-header"},Ay={class:"tutorial-modal-footer"},ky={__name:"CurlTutorialDialog",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const s=e;return(n,o)=>(y(),ge(Cs,{to:"body"},[t.show?(y(),_("div",{key:0,class:"tutorial-modal-overlay",onClick:o[2]||(o[2]=ln(i=>s("close"),["self"]))},[l("div",Ty,[l("div",Ey,[o[3]||(o[3]=l("h2",null," cURL Tutorial",-1)),l("button",{class:"tutorial-close-btn",onClick:o[0]||(o[0]=i=>s("close"))},"")]),o[4]||(o[4]=l("div",{class:"tutorial-modal-content"},[l("div",{class:"tutorial-section"},[l("h3",null,"Basic Syntax"),l("code",{class:"syntax-block"},"curl [options] <URL>"),l("p",null,"cURL is a command-line tool for transferring data with URLs. ToastMan parses cURL commands to build HTTP requests.")]),l("div",{class:"tutorial-section"},[l("h3",null,"Common Options"),l("div",{class:"options-grid"},[l("div",{class:"option-item"},[l("code",null,"-X, --request"),l("span",null,"HTTP method (GET, POST, PUT, DELETE, etc.)"),l("code",{class:"example"},"curl -X POST https://api.example.com")]),l("div",{class:"option-item"},[l("code",null,"-H, --header"),l("span",null,"Add a header to the request"),l("code",{class:"example"},'curl -H "Content-Type: application/json" URL')]),l("div",{class:"option-item"},[l("code",null,"-d, --data"),l("span",null,"Send data in the request body"),l("code",{class:"example"},`curl -d '{"key":"value"}' URL`)]),l("div",{class:"option-item"},[l("code",null,"-u, --user"),l("span",null,"Basic authentication (user:password)"),l("code",{class:"example"},"curl -u admin:secret URL")]),l("div",{class:"option-item"},[l("code",null,"-A, --user-agent"),l("span",null,"Set the User-Agent header"),l("code",{class:"example"},'curl -A "MyApp/1.0" URL')]),l("div",{class:"option-item"},[l("code",null,"-b, --cookie"),l("span",null,"Send cookies with the request"),l("code",{class:"example"},'curl -b "session=abc123" URL')])])]),l("div",{class:"tutorial-section"},[l("h3",null,"Quick Examples"),l("div",{class:"examples-list"},[l("div",{class:"example-block"},[l("span",{class:"example-label"},"GET Request"),l("code",null,"curl https://api.example.com/users")]),l("div",{class:"example-block"},[l("span",{class:"example-label"},"POST with JSON"),l("code",null,`curl -X POST -H "Content-Type: application/json" -d '{"name":"John"}' https://api.example.com/users`)]),l("div",{class:"example-block"},[l("span",{class:"example-label"},"With Auth Header"),l("code",null,'curl -H "Authorization: Bearer token123" https://api.example.com/me')]),l("div",{class:"example-block"},[l("span",{class:"example-label"},"Form Data"),l("code",null,'curl -X POST -F "file=@photo.jpg" -F "name=upload" https://api.example.com/upload')])])]),l("div",{class:"tutorial-section tip"},[l("h3",null," Pro Tip"),l("p",null,"Most browsers let you copy requests as cURL from DevTools (Network tab  Right-click  Copy as cURL). Paste it directly into ToastMan!")])],-1)),l("div",Ay,[l("button",{class:"tutorial-got-it-btn",onClick:o[1]||(o[1]=i=>s("close"))},"Got it!")])])])):K("",!0)]))}},$y=_e(ky,[["__scopeId","data-v-b6dac76f"]]),Ry={id:"app"},qy={class:"app-header"},Oy={key:0,class:"environment-indicator"},Iy={class:"env-name"},Dy={class:"header-actions"},Fy={class:"app-main"},Py={class:"cors-modal"},My={class:"cors-modal-header"},Ny={class:"cors-modal-footer"},Uy={__name:"App",setup(t){const e=qt("app"),s=cs(),n=nn(),{alertState:o,handleConfirm:i,handleCancel:r,closeAlert:a}=$s(),c=oe(null),d=oe(!1),u=oe(!1),f=M(()=>{const w=s.activeEnvironment,v=w?.value||w;return v&&v.name?v:null}),h=oe(25),p=oe(!1),b=()=>{e.debug("Opening settings dialog"),p.value=!0},S=()=>{e.debug("Closing settings dialog"),p.value=!1},A=async()=>{try{const w="/Toastman-Chrome.zip";e.debug("Downloading Chrome shortcut from:",w);const v=await fetch(w);if(!v.ok)throw new Error(`Failed to download shortcut: ${v.status} ${v.statusText}`);const T=await v.blob(),O=window.URL.createObjectURL(T),P=document.createElement("a");P.href=O,P.download="Toastman-Chrome.zip",P.style.display="none",document.body.appendChild(P),P.click(),setTimeout(()=>{document.body.removeChild(P),window.URL.revokeObjectURL(O)},100),e.info("Chrome shortcut downloaded successfully")}catch(w){e.error("Error downloading Chrome shortcut:",w),alert(`Failed to download Chrome shortcut: ${w.message}`)}},R=()=>{e.debug("Creating new request"),c.value?c.value.addNewTab():n.createTab({name:"New Request",method:"GET"}),e.info("Created new request")},E=w=>{try{Array.isArray(w)&&w.length>0&&w[0]&&typeof w[0].size=="number"?h.value=w[0].size:w&&typeof w.size=="number"?h.value=w.size:Array.isArray(w)&&w.length>0&&typeof w[0]=="number"?h.value=w[0]:e.warn("Unexpected resize event format:",w)}catch(v){e.error("Error handling resize:",v)}};return Ue(()=>{e.info("ToastMan application mounted"),e.info("Global logging API available at window.toastmanLog"),e.debug("Initial sidebar width:",h.value),typeof window<"u"&&(window.toastmanDebug={logger:qt("debug"),logAllComponents:()=>{e.info(" Enabling logging for all ToastMan components..."),window.toastmanLog.enableAll()},enableCollections:()=>window.toastmanLog.enable("collections"),enableStorage:()=>window.toastmanLog.enable("storage"),enableSidebar:()=>window.toastmanLog.enable("sidebar"),enableTabs:()=>window.toastmanLog.enable("tabs"),status:()=>window.toastmanLog.status(),list:()=>window.toastmanLog.list()},e.info("Debug helpers available at window.toastmanDebug"))}),(w,v)=>(y(),_("div",Ry,[l("header",qy,[v[7]||(v[7]=l("div",{class:"logo-section"},[l("h1",{class:"app-title"}," ToastMan"),l("span",{class:"app-subtitle"},"API Testing Tool")],-1)),f.value&&f.value.name?(y(),_("div",Oy,[v[6]||(v[6]=l("span",{class:"env-label"},"Environment:",-1)),l("span",Iy,D(f.value.name),1)])):K("",!0),l("div",Dy,[l("button",{class:"create-request-button",onClick:R,title:"Create New Request"},"  New Request "),l("button",{class:"curl-tutorial-button",onClick:v[0]||(v[0]=T=>u.value=!0),title:"cURL Tutorial"},"  cURL Tutorial "),l("button",{class:"cors-button",onClick:v[1]||(v[1]=T=>d.value=!0),title:"CORS Information"},"  CORS "),l("button",{class:"settings-button",onClick:b,title:"Settings"},"  ")])]),l("div",Fy,[be(I(ha),{class:"default-theme",onResize:E},{default:Ne(()=>[be(I(Fn),{size:h.value,"min-size":"20","max-size":"40"},{default:Ne(()=>[be(gp)]),_:1},8,["size"]),be(I(Fn),null,{default:Ne(()=>[be(Dg,{ref_key:"chatTabsRef",ref:c},null,512)]),_:1})]),_:1})]),p.value?(y(),ge(vy,{key:0,onClose:S})):K("",!0),I(o).show?(y(),ge(_y,{key:1,title:I(o).title,message:I(o).message,type:I(o).type,"confirm-text":I(o).confirmText,"cancel-text":I(o).cancelText,"show-input":I(o).showInput,"input-placeholder":I(o).inputPlaceholder,"input-value":I(o).inputValue,onConfirm:I(i),onCancel:I(r),onClose:I(a)},null,8,["title","message","type","confirm-text","cancel-text","show-input","input-placeholder","input-value","onConfirm","onCancel","onClose"])):K("",!0),(y(),ge(Cs,{to:"body"},[d.value?(y(),_("div",{key:0,class:"cors-modal-overlay",onClick:v[4]||(v[4]=ln(T=>d.value=!1,["self"]))},[l("div",Py,[l("div",My,[v[8]||(v[8]=l("h2",null," CORS Limitations",-1)),l("button",{class:"cors-close-btn",onClick:v[2]||(v[2]=T=>d.value=!1)},"")]),l("div",{class:"cors-modal-content"},[v[16]||(v[16]=l("div",{class:"cors-section"},[l("h3",null," Web Version Limitations"),l("p",null,[Ie(" ToastMan runs in your browser, which means it's subject to "),l("strong",null,"Cross-Origin Resource Sharing (CORS)"),Ie(" restrictions. Most APIs won't respond to requests from a browser unless they explicitly allow it. ")])],-1)),v[17]||(v[17]=l("div",{class:"cors-section coming-soon"},[l("h3",null," VS Code Extension (Coming Soon)"),l("p",null,[Ie(" We're building a "),l("strong",null,"VS Code extension"),Ie(" that runs without CORS limitations. Stay tuned for the best ToastMan experience! ")])],-1)),l("div",{class:"cors-section workaround"},[v[14]||(v[14]=l("h3",null," Workaround: Disable Web Security",-1)),v[15]||(v[15]=l("p",{class:"warning-text"},[Ie("  "),l("strong",null,"Security Warning:"),Ie(" This disables browser security features. Only use this for development/testing and "),l("strong",null,"never browse untrusted sites"),Ie(" with this flag enabled. Close the browser completely when done. ")],-1)),l("div",{class:"os-instructions"},[l("div",{class:"os-block"},[v[9]||(v[9]=l("h4",null," Windows",-1)),l("button",{onClick:A,class:"download-shortcut-btn"},"  Download Chrome Shortcut "),v[10]||(v[10]=l("p",{class:"hint"},"Just double-click the downloaded shortcut to launch Chrome with CORS disabled",-1)),v[11]||(v[11]=l("details",{class:"manual-option"},[l("summary",null,"Or run manually:"),l("code",null,'chrome.exe --disable-web-security --user-data-dir="C:\\tmp\\chrome_dev"')],-1))]),v[12]||(v[12]=l("div",{class:"os-block"},[l("h4",null," Linux"),l("p",null,"Close all Chrome windows, then run:"),l("code",null,'google-chrome --disable-web-security --user-data-dir="/tmp/chrome_dev"'),l("p",{class:"hint"},"For Chromium: replace google-chrome with chromium-browser")],-1)),v[13]||(v[13]=l("div",{class:"os-block"},[l("h4",null," macOS"),l("p",null,"Close all Chrome windows, then run:"),l("code",null,'open -na "Google Chrome" --args --disable-web-security --user-data-dir="/tmp/chrome_dev"')],-1))])]),v[18]||(v[18]=l("div",{class:"cors-section"},[l("h3",null," After launching with the flag"),l("p",null," Navigate to ToastMan and you'll be able to make requests to any API. You'll see a warning banner in Chrome indicating security is disabled. ")],-1))]),l("div",Ny,[l("button",{class:"cors-got-it-btn",onClick:v[3]||(v[3]=T=>d.value=!1)},"Got it!")])])])):K("",!0)])),be($y,{show:u.value,onClose:v[5]||(v[5]=T=>u.value=!1)},null,8,["show"])]))}},Ly=_e(Uy,[["__scopeId","data-v-96747241"]]);fg.register("fetch",Sa);nu(Ly).mount("#app");
