(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ko(s){const e=Object.create(null);for(const t of s.split(","))e[t]=1;return t=>t in e}const $e={},Cs=[],$t=()=>{},vr=()=>!1,Gn=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),Xo=s=>s.startsWith("onUpdate:"),Le=Object.assign,Yo=(s,e)=>{const t=s.indexOf(e);t>-1&&s.splice(t,1)},Ha=Object.prototype.hasOwnProperty,Se=(s,e)=>Ha.call(s,e),le=Array.isArray,Ss=s=>mn(s)==="[object Map]",Ds=s=>mn(s)==="[object Set]",yi=s=>mn(s)==="[object Date]",me=s=>typeof s=="function",qe=s=>typeof s=="string",vt=s=>typeof s=="symbol",Te=s=>s!==null&&typeof s=="object",yr=s=>(Te(s)||me(s))&&me(s.then)&&me(s.catch),br=Object.prototype.toString,mn=s=>br.call(s),Ba=s=>mn(s).slice(8,-1),wr=s=>mn(s)==="[object Object]",Qo=s=>qe(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,Ks=Ko(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Kn=s=>{const e=Object.create(null);return(t=>e[t]||(e[t]=s(t)))},Ja=/-\w/g,dt=Kn(s=>s.replace(Ja,e=>e.slice(1).toUpperCase())),Wa=/\B([A-Z])/g,es=Kn(s=>s.replace(Wa,"-$1").toLowerCase()),Xn=Kn(s=>s.charAt(0).toUpperCase()+s.slice(1)),ho=Kn(s=>s?`on${Xn(s)}`:""),Xt=(s,e)=>!Object.is(s,e),Tn=(s,...e)=>{for(let t=0;t<s.length;t++)s[t](...e)},xr=(s,e,t,n=!1)=>{Object.defineProperty(s,e,{configurable:!0,enumerable:!1,writable:n,value:t})},Fn=s=>{const e=parseFloat(s);return isNaN(e)?s:e},Ga=s=>{const e=qe(s)?Number(s):NaN;return isNaN(e)?s:e};let bi;const Yn=()=>bi||(bi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function De(s){if(le(s)){const e={};for(let t=0;t<s.length;t++){const n=s[t],o=qe(n)?Qa(n):De(n);if(o)for(const i in o)e[i]=o[i]}return e}else if(qe(s)||Te(s))return s}const Ka=/;(?![^(]*\))/g,Xa=/:([^]+)/,Ya=/\/\*[^]*?\*\//g;function Qa(s){const e={};return s.replace(Ya,"").split(Ka).forEach(t=>{if(t){const n=t.split(Xa);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function he(s){let e="";if(qe(s))e=s;else if(le(s))for(let t=0;t<s.length;t++){const n=he(s[t]);n&&(e+=n+" ")}else if(Te(s))for(const t in s)s[t]&&(e+=t+" ");return e.trim()}const Za="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",el=Ko(Za);function _r(s){return!!s||s===""}function tl(s,e){if(s.length!==e.length)return!1;let t=!0;for(let n=0;t&&n<s.length;n++)t=fs(s[n],e[n]);return t}function fs(s,e){if(s===e)return!0;let t=yi(s),n=yi(e);if(t||n)return t&&n?s.getTime()===e.getTime():!1;if(t=vt(s),n=vt(e),t||n)return s===e;if(t=le(s),n=le(e),t||n)return t&&n?tl(s,e):!1;if(t=Te(s),n=Te(e),t||n){if(!t||!n)return!1;const o=Object.keys(s).length,i=Object.keys(e).length;if(o!==i)return!1;for(const r in s){const l=s.hasOwnProperty(r),u=e.hasOwnProperty(r);if(l&&!u||!l&&u||!fs(s[r],e[r]))return!1}}return String(s)===String(e)}function Zo(s,e){return s.findIndex(t=>fs(t,e))}const Cr=s=>!!(s&&s.__v_isRef===!0),R=s=>qe(s)?s:s==null?"":le(s)||Te(s)&&(s.toString===br||!me(s.toString))?Cr(s)?R(s.value):JSON.stringify(s,Sr,2):String(s),Sr=(s,e)=>Cr(e)?Sr(s,e.value):Ss(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,o],i)=>(t[mo(n,i)+" =>"]=o,t),{})}:Ds(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>mo(t))}:vt(e)?mo(e):Te(e)&&!le(e)&&!wr(e)?String(e):e,mo=(s,e="")=>{var t;return vt(s)?`Symbol(${(t=s.description)!=null?t:e})`:s};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let et;class sl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=et,!e&&et&&(this.index=(et.scopes||(et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=et;try{return et=this,e()}finally{et=t}}}on(){++this._on===1&&(this.prevScope=et,et=this)}off(){this._on>0&&--this._on===0&&(et=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function nl(){return et}let Re;const go=new WeakSet;class Er{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,et&&et.active&&et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,go.has(this)&&(go.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Tr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wi(this),$r(this);const e=Re,t=gt;Re=this,gt=!0;try{return this.fn()}finally{Ar(this),Re=e,gt=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)si(e);this.deps=this.depsTail=void 0,wi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?go.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Do(this)&&this.run()}get dirty(){return Do(this)}}let kr=0,Xs,Ys;function Tr(s,e=!1){if(s.flags|=8,e){s.next=Ys,Ys=s;return}s.next=Xs,Xs=s}function ei(){kr++}function ti(){if(--kr>0)return;if(Ys){let e=Ys;for(Ys=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let s;for(;Xs;){let e=Xs;for(Xs=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){s||(s=n)}e=t}}if(s)throw s}function $r(s){for(let e=s.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ar(s){let e,t=s.depsTail,n=t;for(;n;){const o=n.prevDep;n.version===-1?(n===t&&(t=o),si(n),ol(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}s.deps=e,s.depsTail=t}function Do(s){for(let e=s.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Rr(e.dep.computed)||e.dep.version!==e.version))return!0;return!!s._dirty}function Rr(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===on)||(s.globalVersion=on,!s.isSSR&&s.flags&128&&(!s.deps&&!s._dirty||!Do(s))))return;s.flags|=2;const e=s.dep,t=Re,n=gt;Re=s,gt=!0;try{$r(s);const o=s.fn(s._value);(e.version===0||Xt(o,s._value))&&(s.flags|=128,s._value=o,e.version++)}catch(o){throw e.version++,o}finally{Re=t,gt=n,Ar(s),s.flags&=-3}}function si(s,e=!1){const{dep:t,prevSub:n,nextSub:o}=s;if(n&&(n.nextSub=o,s.prevSub=void 0),o&&(o.prevSub=n,s.nextSub=void 0),t.subs===s&&(t.subs=n,!n&&t.computed)){t.computed.flags&=-5;for(let i=t.computed.deps;i;i=i.nextDep)si(i,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function ol(s){const{prevDep:e,nextDep:t}=s;e&&(e.nextDep=t,s.prevDep=void 0),t&&(t.prevDep=e,s.nextDep=void 0)}let gt=!0;const qr=[];function Lt(){qr.push(gt),gt=!1}function Vt(){const s=qr.pop();gt=s===void 0?!0:s}function wi(s){const{cleanup:e}=s;if(s.cleanup=void 0,e){const t=Re;Re=void 0;try{e()}finally{Re=t}}}let on=0;class il{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ni{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Re||!gt||Re===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Re)t=this.activeLink=new il(Re,this),Re.deps?(t.prevDep=Re.depsTail,Re.depsTail.nextDep=t,Re.depsTail=t):Re.deps=Re.depsTail=t,Or(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=Re.depsTail,t.nextDep=void 0,Re.depsTail.nextDep=t,Re.depsTail=t,Re.deps===t&&(Re.deps=n)}return t}trigger(e){this.version++,on++,this.notify(e)}notify(e){ei();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{ti()}}}function Or(s){if(s.dep.sc++,s.sub.flags&4){const e=s.dep.computed;if(e&&!s.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Or(n)}const t=s.dep.subs;t!==s&&(s.prevSub=t,t&&(t.nextSub=s)),s.dep.subs=s}}const Fo=new WeakMap,ds=Symbol(""),Po=Symbol(""),rn=Symbol("");function He(s,e,t){if(gt&&Re){let n=Fo.get(s);n||Fo.set(s,n=new Map);let o=n.get(t);o||(n.set(t,o=new ni),o.map=n,o.key=t),o.track()}}function It(s,e,t,n,o,i){const r=Fo.get(s);if(!r){on++;return}const l=u=>{u&&u.trigger()};if(ei(),e==="clear")r.forEach(l);else{const u=le(s),p=u&&Qo(t);if(u&&t==="length"){const c=Number(n);r.forEach((d,f)=>{(f==="length"||f===rn||!vt(f)&&f>=c)&&l(d)})}else switch((t!==void 0||r.has(void 0))&&l(r.get(t)),p&&l(r.get(rn)),e){case"add":u?p&&l(r.get("length")):(l(r.get(ds)),Ss(s)&&l(r.get(Po)));break;case"delete":u||(l(r.get(ds)),Ss(s)&&l(r.get(Po)));break;case"set":Ss(s)&&l(r.get(ds));break}}ti()}function gs(s){const e=xe(s);return e===s?e:(He(e,"iterate",rn),ct(s)?e:e.map(Ve))}function Qn(s){return He(s=xe(s),"iterate",rn),s}const rl={__proto__:null,[Symbol.iterator](){return vo(this,Symbol.iterator,Ve)},concat(...s){return gs(this).concat(...s.map(e=>le(e)?gs(e):e))},entries(){return vo(this,"entries",s=>(s[1]=Ve(s[1]),s))},every(s,e){return qt(this,"every",s,e,void 0,arguments)},filter(s,e){return qt(this,"filter",s,e,t=>t.map(Ve),arguments)},find(s,e){return qt(this,"find",s,e,Ve,arguments)},findIndex(s,e){return qt(this,"findIndex",s,e,void 0,arguments)},findLast(s,e){return qt(this,"findLast",s,e,Ve,arguments)},findLastIndex(s,e){return qt(this,"findLastIndex",s,e,void 0,arguments)},forEach(s,e){return qt(this,"forEach",s,e,void 0,arguments)},includes(...s){return yo(this,"includes",s)},indexOf(...s){return yo(this,"indexOf",s)},join(s){return gs(this).join(s)},lastIndexOf(...s){return yo(this,"lastIndexOf",s)},map(s,e){return qt(this,"map",s,e,void 0,arguments)},pop(){return js(this,"pop")},push(...s){return js(this,"push",s)},reduce(s,...e){return xi(this,"reduce",s,e)},reduceRight(s,...e){return xi(this,"reduceRight",s,e)},shift(){return js(this,"shift")},some(s,e){return qt(this,"some",s,e,void 0,arguments)},splice(...s){return js(this,"splice",s)},toReversed(){return gs(this).toReversed()},toSorted(s){return gs(this).toSorted(s)},toSpliced(...s){return gs(this).toSpliced(...s)},unshift(...s){return js(this,"unshift",s)},values(){return vo(this,"values",Ve)}};function vo(s,e,t){const n=Qn(s),o=n[e]();return n!==s&&!ct(s)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.done||(i.value=t(i.value)),i}),o}const al=Array.prototype;function qt(s,e,t,n,o,i){const r=Qn(s),l=r!==s&&!ct(s),u=r[e];if(u!==al[e]){const d=u.apply(s,i);return l?Ve(d):d}let p=t;r!==s&&(l?p=function(d,f){return t.call(this,Ve(d),f,s)}:t.length>2&&(p=function(d,f){return t.call(this,d,f,s)}));const c=u.call(r,p,n);return l&&o?o(c):c}function xi(s,e,t,n){const o=Qn(s);let i=t;return o!==s&&(ct(s)?t.length>3&&(i=function(r,l,u){return t.call(this,r,l,u,s)}):i=function(r,l,u){return t.call(this,r,Ve(l),u,s)}),o[e](i,...n)}function yo(s,e,t){const n=xe(s);He(n,"iterate",rn);const o=n[e](...t);return(o===-1||o===!1)&&ri(t[0])?(t[0]=xe(t[0]),n[e](...t)):o}function js(s,e,t=[]){Lt(),ei();const n=xe(s)[e].apply(s,t);return ti(),Vt(),n}const ll=Ko("__proto__,__v_isRef,__isVue"),Ir=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(vt));function cl(s){vt(s)||(s=String(s));const e=xe(this);return He(e,"has",s),e.hasOwnProperty(s)}class Dr{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t==="__v_skip")return e.__v_skip;const o=this._isReadonly,i=this._isShallow;if(t==="__v_isReactive")return!o;if(t==="__v_isReadonly")return o;if(t==="__v_isShallow")return i;if(t==="__v_raw")return n===(o?i?bl:Mr:i?Nr:Pr).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const r=le(e);if(!o){let u;if(r&&(u=rl[t]))return u;if(t==="hasOwnProperty")return cl}const l=Reflect.get(e,t,Je(e)?e:n);if((vt(t)?Ir.has(t):ll(t))||(o||He(e,"get",t),i))return l;if(Je(l)){const u=r&&Qo(t)?l:l.value;return o&&Te(u)?Mo(u):u}return Te(l)?o?Mo(l):Zn(l):l}}class Fr extends Dr{constructor(e=!1){super(!1,e)}set(e,t,n,o){let i=e[t];if(!this._isShallow){const u=Qt(i);if(!ct(n)&&!Qt(n)&&(i=xe(i),n=xe(n)),!le(e)&&Je(i)&&!Je(n))return u||(i.value=n),!0}const r=le(e)&&Qo(t)?Number(t)<e.length:Se(e,t),l=Reflect.set(e,t,n,Je(e)?e:o);return e===xe(o)&&(r?Xt(n,i)&&It(e,"set",t,n):It(e,"add",t,n)),l}deleteProperty(e,t){const n=Se(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&It(e,"delete",t,void 0),o}has(e,t){const n=Reflect.has(e,t);return(!vt(t)||!Ir.has(t))&&He(e,"has",t),n}ownKeys(e){return He(e,"iterate",le(e)?"length":ds),Reflect.ownKeys(e)}}class ul extends Dr{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const dl=new Fr,pl=new ul,fl=new Fr(!0);const No=s=>s,bn=s=>Reflect.getPrototypeOf(s);function hl(s,e,t){return function(...n){const o=this.__v_raw,i=xe(o),r=Ss(i),l=s==="entries"||s===Symbol.iterator&&r,u=s==="keys"&&r,p=o[s](...n),c=t?No:e?Pn:Ve;return!e&&He(i,"iterate",u?Po:ds),{next(){const{value:d,done:f}=p.next();return f?{value:d,done:f}:{value:l?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function wn(s){return function(...e){return s==="delete"?!1:s==="clear"?void 0:this}}function ml(s,e){const t={get(o){const i=this.__v_raw,r=xe(i),l=xe(o);s||(Xt(o,l)&&He(r,"get",o),He(r,"get",l));const{has:u}=bn(r),p=e?No:s?Pn:Ve;if(u.call(r,o))return p(i.get(o));if(u.call(r,l))return p(i.get(l));i!==r&&i.get(o)},get size(){const o=this.__v_raw;return!s&&He(xe(o),"iterate",ds),o.size},has(o){const i=this.__v_raw,r=xe(i),l=xe(o);return s||(Xt(o,l)&&He(r,"has",o),He(r,"has",l)),o===l?i.has(o):i.has(o)||i.has(l)},forEach(o,i){const r=this,l=r.__v_raw,u=xe(l),p=e?No:s?Pn:Ve;return!s&&He(u,"iterate",ds),l.forEach((c,d)=>o.call(i,p(c),p(d),r))}};return Le(t,s?{add:wn("add"),set:wn("set"),delete:wn("delete"),clear:wn("clear")}:{add(o){!e&&!ct(o)&&!Qt(o)&&(o=xe(o));const i=xe(this);return bn(i).has.call(i,o)||(i.add(o),It(i,"add",o,o)),this},set(o,i){!e&&!ct(i)&&!Qt(i)&&(i=xe(i));const r=xe(this),{has:l,get:u}=bn(r);let p=l.call(r,o);p||(o=xe(o),p=l.call(r,o));const c=u.call(r,o);return r.set(o,i),p?Xt(i,c)&&It(r,"set",o,i):It(r,"add",o,i),this},delete(o){const i=xe(this),{has:r,get:l}=bn(i);let u=r.call(i,o);u||(o=xe(o),u=r.call(i,o)),l&&l.call(i,o);const p=i.delete(o);return u&&It(i,"delete",o,void 0),p},clear(){const o=xe(this),i=o.size!==0,r=o.clear();return i&&It(o,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=hl(o,s,e)}),t}function oi(s,e){const t=ml(s,e);return(n,o,i)=>o==="__v_isReactive"?!s:o==="__v_isReadonly"?s:o==="__v_raw"?n:Reflect.get(Se(t,o)&&o in n?t:n,o,i)}const gl={get:oi(!1,!1)},vl={get:oi(!1,!0)},yl={get:oi(!0,!1)};const Pr=new WeakMap,Nr=new WeakMap,Mr=new WeakMap,bl=new WeakMap;function wl(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xl(s){return s.__v_skip||!Object.isExtensible(s)?0:wl(Ba(s))}function Zn(s){return Qt(s)?s:ii(s,!1,dl,gl,Pr)}function _l(s){return ii(s,!1,fl,vl,Nr)}function Mo(s){return ii(s,!0,pl,yl,Mr)}function ii(s,e,t,n,o){if(!Te(s)||s.__v_raw&&!(e&&s.__v_isReactive))return s;const i=xl(s);if(i===0)return s;const r=o.get(s);if(r)return r;const l=new Proxy(s,i===2?n:t);return o.set(s,l),l}function Es(s){return Qt(s)?Es(s.__v_raw):!!(s&&s.__v_isReactive)}function Qt(s){return!!(s&&s.__v_isReadonly)}function ct(s){return!!(s&&s.__v_isShallow)}function ri(s){return s?!!s.__v_raw:!1}function xe(s){const e=s&&s.__v_raw;return e?xe(e):s}function as(s){return!Se(s,"__v_skip")&&Object.isExtensible(s)&&xr(s,"__v_skip",!0),s}const Ve=s=>Te(s)?Zn(s):s,Pn=s=>Te(s)?Mo(s):s;function Je(s){return s?s.__v_isRef===!0:!1}function se(s){return Cl(s,!1)}function Cl(s,e){return Je(s)?s:new Sl(s,e)}class Sl{constructor(e,t){this.dep=new ni,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:xe(e),this._value=t?e:Ve(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||ct(e)||Qt(e);e=n?e:xe(e),Xt(e,t)&&(this._rawValue=e,this._value=n?e:Ve(e),this.dep.trigger())}}function L(s){return Je(s)?s.value:s}const El={get:(s,e,t)=>e==="__v_raw"?s:L(Reflect.get(s,e,t)),set:(s,e,t,n)=>{const o=s[e];return Je(o)&&!Je(t)?(o.value=t,!0):Reflect.set(s,e,t,n)}};function Lr(s){return Es(s)?s:new Proxy(s,El)}class kl{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new ni(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=on-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Re!==this)return Tr(this,!0),!0}get value(){const e=this.dep.track();return Rr(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Tl(s,e,t=!1){let n,o;return me(s)?n=s:(n=s.get,o=s.set),new kl(n,o,t)}const xn={},Nn=new WeakMap;let ls;function $l(s,e=!1,t=ls){if(t){let n=Nn.get(t);n||Nn.set(t,n=[]),n.push(s)}}function Al(s,e,t=$e){const{immediate:n,deep:o,once:i,scheduler:r,augmentJob:l,call:u}=t,p=q=>o?q:ct(q)||o===!1||o===0?Dt(q,1):Dt(q);let c,d,f,m,w=!1,y=!1;if(Je(s)?(d=()=>s.value,w=ct(s)):Es(s)?(d=()=>p(s),w=!0):le(s)?(y=!0,w=s.some(q=>Es(q)||ct(q)),d=()=>s.map(q=>{if(Je(q))return q.value;if(Es(q))return p(q);if(me(q))return u?u(q,2):q()})):me(s)?e?d=u?()=>u(s,2):s:d=()=>{if(f){Lt();try{f()}finally{Vt()}}const q=ls;ls=c;try{return u?u(s,3,[m]):s(m)}finally{ls=q}}:d=$t,e&&o){const q=d,H=o===!0?1/0:o;d=()=>Dt(q(),H)}const S=nl(),U=()=>{c.stop(),S&&S.active&&Yo(S.effects,c)};if(i&&e){const q=e;e=(...H)=>{q(...H),U()}}let A=y?new Array(s.length).fill(xn):xn;const F=q=>{if(!(!(c.flags&1)||!c.dirty&&!q))if(e){const H=c.run();if(o||w||(y?H.some((k,x)=>Xt(k,A[x])):Xt(H,A))){f&&f();const k=ls;ls=c;try{const x=[H,A===xn?void 0:y&&A[0]===xn?[]:A,m];A=H,u?u(e,3,x):e(...x)}finally{ls=k}}}else c.run()};return l&&l(F),c=new Er(d),c.scheduler=r?()=>r(F,!1):F,m=q=>$l(q,!1,c),f=c.onStop=()=>{const q=Nn.get(c);if(q){if(u)u(q,4);else for(const H of q)H();Nn.delete(c)}},e?n?F(!0):A=c.run():r?r(F.bind(null,!0),!0):c.run(),U.pause=c.pause.bind(c),U.resume=c.resume.bind(c),U.stop=U,U}function Dt(s,e=1/0,t){if(e<=0||!Te(s)||s.__v_skip||(t=t||new Map,(t.get(s)||0)>=e))return s;if(t.set(s,e),e--,Je(s))Dt(s.value,e,t);else if(le(s))for(let n=0;n<s.length;n++)Dt(s[n],e,t);else if(Ds(s)||Ss(s))s.forEach(n=>{Dt(n,e,t)});else if(wr(s)){for(const n in s)Dt(s[n],e,t);for(const n of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,n)&&Dt(s[n],e,t)}return s}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gn(s,e,t,n){try{return n?s(...n):s()}catch(o){eo(o,e,t)}}function yt(s,e,t,n){if(me(s)){const o=gn(s,e,t,n);return o&&yr(o)&&o.catch(i=>{eo(i,e,t)}),o}if(le(s)){const o=[];for(let i=0;i<s.length;i++)o.push(yt(s[i],e,t,n));return o}}function eo(s,e,t,n=!0){const o=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:r}=e&&e.appContext.config||$e;if(e){let l=e.parent;const u=e.proxy,p=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const c=l.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](s,u,p)===!1)return}l=l.parent}if(i){Lt(),gn(i,null,10,[s,u,p]),Vt();return}}Rl(s,t,o,n,r)}function Rl(s,e,t,n=!0,o=!1){if(o)throw s;console.error(s)}const Xe=[];let Et=-1;const ks=[];let Jt=null,bs=0;const Vr=Promise.resolve();let Mn=null;function je(s){const e=Mn||Vr;return s?e.then(this?s.bind(this):s):e}function ql(s){let e=Et+1,t=Xe.length;for(;e<t;){const n=e+t>>>1,o=Xe[n],i=an(o);i<s||i===s&&o.flags&2?e=n+1:t=n}return e}function ai(s){if(!(s.flags&1)){const e=an(s),t=Xe[Xe.length-1];!t||!(s.flags&2)&&e>=an(t)?Xe.push(s):Xe.splice(ql(e),0,s),s.flags|=1,Ur()}}function Ur(){Mn||(Mn=Vr.then(zr))}function Ol(s){le(s)?ks.push(...s):Jt&&s.id===-1?Jt.splice(bs+1,0,s):s.flags&1||(ks.push(s),s.flags|=1),Ur()}function _i(s,e,t=Et+1){for(;t<Xe.length;t++){const n=Xe[t];if(n&&n.flags&2){if(s&&n.id!==s.uid)continue;Xe.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function jr(s){if(ks.length){const e=[...new Set(ks)].sort((t,n)=>an(t)-an(n));if(ks.length=0,Jt){Jt.push(...e);return}for(Jt=e,bs=0;bs<Jt.length;bs++){const t=Jt[bs];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Jt=null,bs=0}}const an=s=>s.id==null?s.flags&2?-1:1/0:s.id;function zr(s){try{for(Et=0;Et<Xe.length;Et++){const e=Xe[Et];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),gn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Et<Xe.length;Et++){const e=Xe[Et];e&&(e.flags&=-2)}Et=-1,Xe.length=0,jr(),Mn=null,(Xe.length||ks.length)&&zr()}}let Ue=null,Hr=null;function Ln(s){const e=Ue;return Ue=s,Hr=s&&s.type.__scopeId||null,e}function Pe(s,e=Ue,t){if(!e||s._n)return s;const n=(...o)=>{n._d&&jn(-1);const i=Ln(e);let r;try{r=s(...o)}finally{Ln(i),n._d&&jn(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function ae(s,e){if(Ue===null)return s;const t=ro(Ue),n=s.dirs||(s.dirs=[]);for(let o=0;o<e.length;o++){let[i,r,l,u=$e]=e[o];i&&(me(i)&&(i={mounted:i,updated:i}),i.deep&&Dt(r),n.push({dir:i,instance:t,value:r,oldValue:void 0,arg:l,modifiers:u}))}return s}function ss(s,e,t,n){const o=s.dirs,i=e&&e.dirs;for(let r=0;r<o.length;r++){const l=o[r];i&&(l.oldValue=i[r].value);let u=l.dir[n];u&&(Lt(),yt(u,t,8,[s.el,l,s,e]),Vt())}}const Br=Symbol("_vte"),Il=s=>s.__isTeleport,Qs=s=>s&&(s.disabled||s.disabled===""),Ci=s=>s&&(s.defer||s.defer===""),Si=s=>typeof SVGElement<"u"&&s instanceof SVGElement,Ei=s=>typeof MathMLElement=="function"&&s instanceof MathMLElement,Lo=(s,e)=>{const t=s&&s.to;return qe(t)?e?e(t):null:t},Jr={name:"Teleport",__isTeleport:!0,process(s,e,t,n,o,i,r,l,u,p){const{mc:c,pc:d,pbc:f,o:{insert:m,querySelector:w,createText:y,createComment:S}}=p,U=Qs(e.props);let{shapeFlag:A,children:F,dynamicChildren:q}=e;if(s==null){const H=e.el=y(""),k=e.anchor=y("");m(H,t,n),m(k,t,n);const x=(I,E)=>{A&16&&c(F,I,E,o,i,r,l,u)},T=()=>{const I=e.target=Lo(e.props,w),E=Wr(I,e,y,m);I&&(r!=="svg"&&Si(I)?r="svg":r!=="mathml"&&Ei(I)&&(r="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(I),U||(x(I,E),$n(e,!1)))};U&&(x(t,k),$n(e,!0)),Ci(e.props)?(e.el.__isMounted=!1,Ke(()=>{T(),delete e.el.__isMounted},i)):T()}else{if(Ci(e.props)&&s.el.__isMounted===!1){Ke(()=>{Jr.process(s,e,t,n,o,i,r,l,u,p)},i);return}e.el=s.el,e.targetStart=s.targetStart;const H=e.anchor=s.anchor,k=e.target=s.target,x=e.targetAnchor=s.targetAnchor,T=Qs(s.props),I=T?t:k,E=T?H:x;if(r==="svg"||Si(k)?r="svg":(r==="mathml"||Ei(k))&&(r="mathml"),q?(f(s.dynamicChildren,q,I,o,i,r,l),ui(s,e,!0)):u||d(s,e,I,E,o,i,r,l,!1),U)T?e.props&&s.props&&e.props.to!==s.props.to&&(e.props.to=s.props.to):_n(e,t,H,p,1);else if((e.props&&e.props.to)!==(s.props&&s.props.to)){const $=e.target=Lo(e.props,w);$&&_n(e,$,null,p,0)}else T&&_n(e,k,x,p,1);$n(e,U)}},remove(s,e,t,{um:n,o:{remove:o}},i){const{shapeFlag:r,children:l,anchor:u,targetStart:p,targetAnchor:c,target:d,props:f}=s;if(d&&(o(p),o(c)),i&&o(u),r&16){const m=i||!Qs(f);for(let w=0;w<l.length;w++){const y=l[w];n(y,e,t,m,!!y.dynamicChildren)}}},move:_n,hydrate:Dl};function _n(s,e,t,{o:{insert:n},m:o},i=2){i===0&&n(s.targetAnchor,e,t);const{el:r,anchor:l,shapeFlag:u,children:p,props:c}=s,d=i===2;if(d&&n(r,e,t),(!d||Qs(c))&&u&16)for(let f=0;f<p.length;f++)o(p[f],e,t,2);d&&n(l,e,t)}function Dl(s,e,t,n,o,i,{o:{nextSibling:r,parentNode:l,querySelector:u,insert:p,createText:c}},d){function f(y,S,U,A){S.anchor=d(r(y),S,l(y),t,n,o,i),S.targetStart=U,S.targetAnchor=A}const m=e.target=Lo(e.props,u),w=Qs(e.props);if(m){const y=m._lpa||m.firstChild;if(e.shapeFlag&16)if(w)f(s,e,y,y&&r(y));else{e.anchor=r(s);let S=y;for(;S;){if(S&&S.nodeType===8){if(S.data==="teleport start anchor")e.targetStart=S;else if(S.data==="teleport anchor"){e.targetAnchor=S,m._lpa=e.targetAnchor&&r(e.targetAnchor);break}}S=r(S)}e.targetAnchor||Wr(m,e,c,p),d(y&&r(y),e,m,t,n,o,i)}$n(e,w)}else w&&e.shapeFlag&16&&f(s,e,s,r(s));return e.anchor&&r(e.anchor)}const As=Jr;function $n(s,e){const t=s.ctx;if(t&&t.ut){let n,o;for(e?(n=s.el,o=s.anchor):(n=s.targetStart,o=s.targetAnchor);n&&n!==o;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function Wr(s,e,t,n){const o=e.targetStart=t(""),i=e.targetAnchor=t("");return o[Br]=i,s&&(n(o,s),n(i,s)),i}const cs=Symbol("_leaveCb"),Cn=Symbol("_enterCb");function Fl(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ne(()=>{s.isMounted=!0}),so(()=>{s.isUnmounting=!0}),s}const ot=[Function,Array],Pl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ot,onEnter:ot,onAfterEnter:ot,onEnterCancelled:ot,onBeforeLeave:ot,onLeave:ot,onAfterLeave:ot,onLeaveCancelled:ot,onBeforeAppear:ot,onAppear:ot,onAfterAppear:ot,onAppearCancelled:ot};function Nl(s,e){const{leavingVNodes:t}=s;let n=t.get(e.type);return n||(n=Object.create(null),t.set(e.type,n)),n}function Vo(s,e,t,n,o){const{appear:i,mode:r,persisted:l=!1,onBeforeEnter:u,onEnter:p,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:m,onAfterLeave:w,onLeaveCancelled:y,onBeforeAppear:S,onAppear:U,onAfterAppear:A,onAppearCancelled:F}=e,q=String(s.key),H=Nl(t,s),k=(I,E)=>{I&&yt(I,n,9,E)},x=(I,E)=>{const $=E[1];k(I,E),le(I)?I.every(N=>N.length<=1)&&$():I.length<=1&&$()},T={mode:r,persisted:l,beforeEnter(I){let E=u;if(!t.isMounted)if(i)E=S||u;else return;I[cs]&&I[cs](!0);const $=H[q];$&&ws(s,$)&&$.el[cs]&&$.el[cs](),k(E,[I])},enter(I){let E=p,$=c,N=d;if(!t.isMounted)if(i)E=U||p,$=A||c,N=F||d;else return;let B=!1;const V=I[Cn]=G=>{B||(B=!0,G?k(N,[I]):k($,[I]),T.delayedLeave&&T.delayedLeave(),I[Cn]=void 0)};E?x(E,[I,V]):V()},leave(I,E){const $=String(s.key);if(I[Cn]&&I[Cn](!0),t.isUnmounting)return E();k(f,[I]);let N=!1;const B=I[cs]=V=>{N||(N=!0,E(),V?k(y,[I]):k(w,[I]),I[cs]=void 0,H[$]===s&&delete H[$])};H[$]=s,m?x(m,[I,B]):B()},clone(I){return Vo(I,e,t,n)}};return T}function ln(s,e){s.shapeFlag&6&&s.component?(s.transition=e,ln(s.component.subTree,e)):s.shapeFlag&128?(s.ssContent.transition=e.clone(s.ssContent),s.ssFallback.transition=e.clone(s.ssFallback)):s.transition=e}function Gr(s,e=!1,t){let n=[],o=0;for(let i=0;i<s.length;i++){let r=s[i];const l=t==null?r.key:String(t)+String(r.key!=null?r.key:i);r.type===ue?(r.patchFlag&128&&o++,n=n.concat(Gr(r.children,e,l))):(e||r.type!==At)&&n.push(l!=null?hs(r,{key:l}):r)}if(o>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function Kr(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}const Vn=new WeakMap;function Zs(s,e,t,n,o=!1){if(le(s)){s.forEach((w,y)=>Zs(w,e&&(le(e)?e[y]:e),t,n,o));return}if(Ts(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Zs(s,e,t,n.component.subTree);return}const i=n.shapeFlag&4?ro(n.component):n.el,r=o?null:i,{i:l,r:u}=s,p=e&&e.r,c=l.refs===$e?l.refs={}:l.refs,d=l.setupState,f=xe(d),m=d===$e?vr:w=>Se(f,w);if(p!=null&&p!==u){if(ki(e),qe(p))c[p]=null,m(p)&&(d[p]=null);else if(Je(p)){p.value=null;const w=e;w.k&&(c[w.k]=null)}}if(me(u))gn(u,l,12,[r,c]);else{const w=qe(u),y=Je(u);if(w||y){const S=()=>{if(s.f){const U=w?m(u)?d[u]:c[u]:u.value;if(o)le(U)&&Yo(U,i);else if(le(U))U.includes(i)||U.push(i);else if(w)c[u]=[i],m(u)&&(d[u]=c[u]);else{const A=[i];u.value=A,s.k&&(c[s.k]=A)}}else w?(c[u]=r,m(u)&&(d[u]=r)):y&&(u.value=r,s.k&&(c[s.k]=r))};if(r){const U=()=>{S(),Vn.delete(s)};U.id=-1,Vn.set(s,U),Ke(U,t)}else ki(s),S()}}}function ki(s){const e=Vn.get(s);e&&(e.flags|=8,Vn.delete(s))}Yn().requestIdleCallback;Yn().cancelIdleCallback;const Ts=s=>!!s.type.__asyncLoader,Xr=s=>s.type.__isKeepAlive;function Ml(s,e){Yr(s,"a",e)}function Ll(s,e){Yr(s,"da",e)}function Yr(s,e,t=Be){const n=s.__wdc||(s.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return s()});if(to(e,n,t),t){let o=t.parent;for(;o&&o.parent;)Xr(o.parent.vnode)&&Vl(n,e,t,o),o=o.parent}}function Vl(s,e,t,n){const o=to(e,s,n,!0);pt(()=>{Yo(n[e],o)},t)}function to(s,e,t=Be,n=!1){if(t){const o=t[s]||(t[s]=[]),i=e.__weh||(e.__weh=(...r)=>{Lt();const l=vn(t),u=yt(e,t,s,r);return l(),Vt(),u});return n?o.unshift(i):o.push(i),i}}const Ut=s=>(e,t=Be)=>{(!pn||s==="sp")&&to(s,(...n)=>e(...n),t)},Ul=Ut("bm"),Ne=Ut("m"),jl=Ut("bu"),Qr=Ut("u"),so=Ut("bum"),pt=Ut("um"),zl=Ut("sp"),Hl=Ut("rtg"),Bl=Ut("rtc");function Jl(s,e=Be){to("ec",s,e)}const Zr="components";function Wl(s,e){return ta(Zr,s,!0,e)||s}const ea=Symbol.for("v-ndc");function en(s){return qe(s)?ta(Zr,s,!1)||s:s||ea}function ta(s,e,t=!0,n=!1){const o=Ue||Be;if(o){const i=o.type;{const l=Pc(i,!1);if(l&&(l===e||l===dt(e)||l===Xn(dt(e))))return i}const r=Ti(o[s]||i[s],e)||Ti(o.appContext[s],e);return!r&&n?i:r}}function Ti(s,e){return s&&(s[e]||s[dt(e)]||s[Xn(dt(e))])}function _e(s,e,t,n){let o;const i=t,r=le(s);if(r||qe(s)){const l=r&&Es(s);let u=!1,p=!1;l&&(u=!ct(s),p=Qt(s),s=Qn(s)),o=new Array(s.length);for(let c=0,d=s.length;c<d;c++)o[c]=e(u?p?Pn(Ve(s[c])):Ve(s[c]):s[c],c,void 0,i)}else if(typeof s=="number"){o=new Array(s);for(let l=0;l<s;l++)o[l]=e(l+1,l,void 0,i)}else if(Te(s))if(s[Symbol.iterator])o=Array.from(s,(l,u)=>e(l,u,void 0,i));else{const l=Object.keys(s);o=new Array(l.length);for(let u=0,p=l.length;u<p;u++){const c=l[u];o[u]=e(s[c],c,u,i)}}else o=[];return o}function cn(s,e,t={},n,o){if(Ue.ce||Ue.parent&&Ts(Ue.parent)&&Ue.parent.ce){const p=Object.keys(t).length>0;return e!=="default"&&(t.name=e),v(),pe(ue,null,[ve("slot",t,n&&n())],p?-2:64)}let i=s[e];i&&i._c&&(i._d=!1),v();const r=i&&sa(i(t)),l=t.key||r&&r.key,u=pe(ue,{key:(l&&!vt(l)?l:`_${e}`)+(!r&&n?"_fb":"")},r||(n?n():[]),r&&s._===1?64:-2);return!o&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function sa(s){return s.some(e=>dn(e)?!(e.type===At||e.type===ue&&!sa(e.children)):!0)?s:null}const Uo=s=>s?xa(s)?ro(s):Uo(s.parent):null,tn=Le(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>Uo(s.parent),$root:s=>Uo(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>oa(s),$forceUpdate:s=>s.f||(s.f=()=>{ai(s.update)}),$nextTick:s=>s.n||(s.n=je.bind(s.proxy)),$watch:s=>gc.bind(s)}),bo=(s,e)=>s!==$e&&!s.__isScriptSetup&&Se(s,e),Gl={get({_:s},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:n,data:o,props:i,accessCache:r,type:l,appContext:u}=s;let p;if(e[0]!=="$"){const m=r[e];if(m!==void 0)switch(m){case 1:return n[e];case 2:return o[e];case 4:return t[e];case 3:return i[e]}else{if(bo(n,e))return r[e]=1,n[e];if(o!==$e&&Se(o,e))return r[e]=2,o[e];if((p=s.propsOptions[0])&&Se(p,e))return r[e]=3,i[e];if(t!==$e&&Se(t,e))return r[e]=4,t[e];jo&&(r[e]=0)}}const c=tn[e];let d,f;if(c)return e==="$attrs"&&He(s.attrs,"get",""),c(s);if((d=l.__cssModules)&&(d=d[e]))return d;if(t!==$e&&Se(t,e))return r[e]=4,t[e];if(f=u.config.globalProperties,Se(f,e))return f[e]},set({_:s},e,t){const{data:n,setupState:o,ctx:i}=s;return bo(o,e)?(o[e]=t,!0):n!==$e&&Se(n,e)?(n[e]=t,!0):Se(s.props,e)||e[0]==="$"&&e.slice(1)in s?!1:(i[e]=t,!0)},has({_:{data:s,setupState:e,accessCache:t,ctx:n,appContext:o,propsOptions:i,type:r}},l){let u,p;return!!(t[l]||s!==$e&&l[0]!=="$"&&Se(s,l)||bo(e,l)||(u=i[0])&&Se(u,l)||Se(n,l)||Se(tn,l)||Se(o.config.globalProperties,l)||(p=r.__cssModules)&&p[l])},defineProperty(s,e,t){return t.get!=null?s._.accessCache[e]=0:Se(t,"value")&&this.set(s,e,t.value,null),Reflect.defineProperty(s,e,t)}};function Kl(){return Xl().slots}function Xl(s){const e=io();return e.setupContext||(e.setupContext=Ca(e))}function $i(s){return le(s)?s.reduce((e,t)=>(e[t]=null,e),{}):s}let jo=!0;function Yl(s){const e=oa(s),t=s.proxy,n=s.ctx;jo=!1,e.beforeCreate&&Ai(e.beforeCreate,s,"bc");const{data:o,computed:i,methods:r,watch:l,provide:u,inject:p,created:c,beforeMount:d,mounted:f,beforeUpdate:m,updated:w,activated:y,deactivated:S,beforeDestroy:U,beforeUnmount:A,destroyed:F,unmounted:q,render:H,renderTracked:k,renderTriggered:x,errorCaptured:T,serverPrefetch:I,expose:E,inheritAttrs:$,components:N,directives:B,filters:V}=e;if(p&&Ql(p,n,null),r)for(const W in r){const oe=r[W];me(oe)&&(n[W]=oe.bind(t))}if(o){const W=o.call(t,t);Te(W)&&(s.data=Zn(W))}if(jo=!0,i)for(const W in i){const oe=i[W],fe=me(oe)?oe.bind(t,t):me(oe.get)?oe.get.bind(t,t):$t,we=!me(oe)&&me(oe.set)?oe.set.bind(t):$t,Ie=D({get:fe,set:we});Object.defineProperty(n,W,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:Me=>Ie.value=Me})}if(l)for(const W in l)na(l[W],n,t,W);if(u){const W=me(u)?u.call(t):u;Reflect.ownKeys(W).forEach(oe=>{Ht(oe,W[oe])})}c&&Ai(c,s,"c");function J(W,oe){le(oe)?oe.forEach(fe=>W(fe.bind(t))):oe&&W(oe.bind(t))}if(J(Ul,d),J(Ne,f),J(jl,m),J(Qr,w),J(Ml,y),J(Ll,S),J(Jl,T),J(Bl,k),J(Hl,x),J(so,A),J(pt,q),J(zl,I),le(E))if(E.length){const W=s.exposed||(s.exposed={});E.forEach(oe=>{Object.defineProperty(W,oe,{get:()=>t[oe],set:fe=>t[oe]=fe,enumerable:!0})})}else s.exposed||(s.exposed={});H&&s.render===$t&&(s.render=H),$!=null&&(s.inheritAttrs=$),N&&(s.components=N),B&&(s.directives=B),I&&Kr(s)}function Ql(s,e,t=$t){le(s)&&(s=zo(s));for(const n in s){const o=s[n];let i;Te(o)?"default"in o?i=kt(o.from||n,o.default,!0):i=kt(o.from||n):i=kt(o),Je(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):e[n]=i}}function Ai(s,e,t){yt(le(s)?s.map(n=>n.bind(e.proxy)):s.bind(e.proxy),e,t)}function na(s,e,t,n){let o=n.includes(".")?ga(t,n):()=>t[n];if(qe(s)){const i=e[s];me(i)&&ge(o,i)}else if(me(s))ge(o,s.bind(t));else if(Te(s))if(le(s))s.forEach(i=>na(i,e,t,n));else{const i=me(s.handler)?s.handler.bind(t):e[s.handler];me(i)&&ge(o,i,s)}}function oa(s){const e=s.type,{mixins:t,extends:n}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:r}}=s.appContext,l=i.get(e);let u;return l?u=l:!o.length&&!t&&!n?u=e:(u={},o.length&&o.forEach(p=>Un(u,p,r,!0)),Un(u,e,r)),Te(e)&&i.set(e,u),u}function Un(s,e,t,n=!1){const{mixins:o,extends:i}=e;i&&Un(s,i,t,!0),o&&o.forEach(r=>Un(s,r,t,!0));for(const r in e)if(!(n&&r==="expose")){const l=Zl[r]||t&&t[r];s[r]=l?l(s[r],e[r]):e[r]}return s}const Zl={data:Ri,props:qi,emits:qi,methods:Bs,computed:Bs,beforeCreate:Ge,created:Ge,beforeMount:Ge,mounted:Ge,beforeUpdate:Ge,updated:Ge,beforeDestroy:Ge,beforeUnmount:Ge,destroyed:Ge,unmounted:Ge,activated:Ge,deactivated:Ge,errorCaptured:Ge,serverPrefetch:Ge,components:Bs,directives:Bs,watch:tc,provide:Ri,inject:ec};function Ri(s,e){return e?s?function(){return Le(me(s)?s.call(this,this):s,me(e)?e.call(this,this):e)}:e:s}function ec(s,e){return Bs(zo(s),zo(e))}function zo(s){if(le(s)){const e={};for(let t=0;t<s.length;t++)e[s[t]]=s[t];return e}return s}function Ge(s,e){return s?[...new Set([].concat(s,e))]:e}function Bs(s,e){return s?Le(Object.create(null),s,e):e}function qi(s,e){return s?le(s)&&le(e)?[...new Set([...s,...e])]:Le(Object.create(null),$i(s),$i(e??{})):e}function tc(s,e){if(!s)return e;if(!e)return s;const t=Le(Object.create(null),s);for(const n in e)t[n]=Ge(s[n],e[n]);return t}function ia(){return{app:null,config:{isNativeTag:vr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sc=0;function nc(s,e){return function(n,o=null){me(n)||(n=Le({},n)),o!=null&&!Te(o)&&(o=null);const i=ia(),r=new WeakSet,l=[];let u=!1;const p=i.app={_uid:sc++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:Lc,get config(){return i.config},set config(c){},use(c,...d){return r.has(c)||(c&&me(c.install)?(r.add(c),c.install(p,...d)):me(c)&&(r.add(c),c(p,...d))),p},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),p},component(c,d){return d?(i.components[c]=d,p):i.components[c]},directive(c,d){return d?(i.directives[c]=d,p):i.directives[c]},mount(c,d,f){if(!u){const m=p._ceVNode||ve(n,o);return m.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),s(m,c,f),u=!0,p._container=c,c.__vue_app__=p,ro(m.component)}},onUnmount(c){l.push(c)},unmount(){u&&(yt(l,p._instance,16),s(null,p._container),delete p._container.__vue_app__)},provide(c,d){return i.provides[c]=d,p},runWithContext(c){const d=$s;$s=p;try{return c()}finally{$s=d}}};return p}}let $s=null;function Ht(s,e){if(Be){let t=Be.provides;const n=Be.parent&&Be.parent.provides;n===t&&(t=Be.provides=Object.create(n)),t[s]=e}}function kt(s,e,t=!1){const n=io();if(n||$s){let o=$s?$s._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&s in o)return o[s];if(arguments.length>1)return t&&me(e)?e.call(n&&n.proxy):e}}const ra={},aa=()=>Object.create(ra),la=s=>Object.getPrototypeOf(s)===ra;function oc(s,e,t,n=!1){const o={},i=aa();s.propsDefaults=Object.create(null),ca(s,e,o,i);for(const r in s.propsOptions[0])r in o||(o[r]=void 0);t?s.props=n?o:_l(o):s.type.props?s.props=o:s.props=i,s.attrs=i}function ic(s,e,t,n){const{props:o,attrs:i,vnode:{patchFlag:r}}=s,l=xe(o),[u]=s.propsOptions;let p=!1;if((n||r>0)&&!(r&16)){if(r&8){const c=s.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(no(s.emitsOptions,f))continue;const m=e[f];if(u)if(Se(i,f))m!==i[f]&&(i[f]=m,p=!0);else{const w=dt(f);o[w]=Ho(u,l,w,m,s,!1)}else m!==i[f]&&(i[f]=m,p=!0)}}}else{ca(s,e,o,i)&&(p=!0);let c;for(const d in l)(!e||!Se(e,d)&&((c=es(d))===d||!Se(e,c)))&&(u?t&&(t[d]!==void 0||t[c]!==void 0)&&(o[d]=Ho(u,l,d,void 0,s,!0)):delete o[d]);if(i!==l)for(const d in i)(!e||!Se(e,d))&&(delete i[d],p=!0)}p&&It(s.attrs,"set","")}function ca(s,e,t,n){const[o,i]=s.propsOptions;let r=!1,l;if(e)for(let u in e){if(Ks(u))continue;const p=e[u];let c;o&&Se(o,c=dt(u))?!i||!i.includes(c)?t[c]=p:(l||(l={}))[c]=p:no(s.emitsOptions,u)||(!(u in n)||p!==n[u])&&(n[u]=p,r=!0)}if(i){const u=xe(t),p=l||$e;for(let c=0;c<i.length;c++){const d=i[c];t[d]=Ho(o,u,d,p[d],s,!Se(p,d))}}return r}function Ho(s,e,t,n,o,i){const r=s[t];if(r!=null){const l=Se(r,"default");if(l&&n===void 0){const u=r.default;if(r.type!==Function&&!r.skipFactory&&me(u)){const{propsDefaults:p}=o;if(t in p)n=p[t];else{const c=vn(o);n=p[t]=u.call(null,e),c()}}else n=u;o.ce&&o.ce._setProp(t,n)}r[0]&&(i&&!l?n=!1:r[1]&&(n===""||n===es(t))&&(n=!0))}return n}const rc=new WeakMap;function ua(s,e,t=!1){const n=t?rc:e.propsCache,o=n.get(s);if(o)return o;const i=s.props,r={},l=[];let u=!1;if(!me(s)){const c=d=>{u=!0;const[f,m]=ua(d,e,!0);Le(r,f),m&&l.push(...m)};!t&&e.mixins.length&&e.mixins.forEach(c),s.extends&&c(s.extends),s.mixins&&s.mixins.forEach(c)}if(!i&&!u)return Te(s)&&n.set(s,Cs),Cs;if(le(i))for(let c=0;c<i.length;c++){const d=dt(i[c]);Oi(d)&&(r[d]=$e)}else if(i)for(const c in i){const d=dt(c);if(Oi(d)){const f=i[c],m=r[d]=le(f)||me(f)?{type:f}:Le({},f),w=m.type;let y=!1,S=!0;if(le(w))for(let U=0;U<w.length;++U){const A=w[U],F=me(A)&&A.name;if(F==="Boolean"){y=!0;break}else F==="String"&&(S=!1)}else y=me(w)&&w.name==="Boolean";m[0]=y,m[1]=S,(y||Se(m,"default"))&&l.push(d)}}const p=[r,l];return Te(s)&&n.set(s,p),p}function Oi(s){return s[0]!=="$"&&!Ks(s)}const li=s=>s==="_"||s==="_ctx"||s==="$stable",ci=s=>le(s)?s.map(Tt):[Tt(s)],ac=(s,e,t)=>{if(e._n)return e;const n=Pe((...o)=>ci(e(...o)),t);return n._c=!1,n},da=(s,e,t)=>{const n=s._ctx;for(const o in s){if(li(o))continue;const i=s[o];if(me(i))e[o]=ac(o,i,n);else if(i!=null){const r=ci(i);e[o]=()=>r}}},pa=(s,e)=>{const t=ci(e);s.slots.default=()=>t},fa=(s,e,t)=>{for(const n in e)(t||!li(n))&&(s[n]=e[n])},lc=(s,e,t)=>{const n=s.slots=aa();if(s.vnode.shapeFlag&32){const o=e._;o?(fa(n,e,t),t&&xr(n,"_",o,!0)):da(e,n)}else e&&pa(s,e)},cc=(s,e,t)=>{const{vnode:n,slots:o}=s;let i=!0,r=$e;if(n.shapeFlag&32){const l=e._;l?t&&l===1?i=!1:fa(o,e,t):(i=!e.$stable,da(e,o)),r=e}else e&&(pa(s,e),r={default:1});if(i)for(const l in o)!li(l)&&r[l]==null&&delete o[l]},Ke=Sc;function uc(s){return dc(s)}function dc(s,e){const t=Yn();t.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:r,createText:l,createComment:u,setText:p,setElementText:c,parentNode:d,nextSibling:f,setScopeId:m=$t,insertStaticContent:w}=s,y=(g,h,b,C=null,O=null,P=null,Z=void 0,Q=null,ee=!!h.dynamicChildren)=>{if(g===h)return;g&&!ws(g,h)&&(C=j(g),Me(g,O,P,!0),g=null),h.patchFlag===-2&&(ee=!1,h.dynamicChildren=null);const{type:X,ref:ce,shapeFlag:ie}=h;switch(X){case oo:S(g,h,b,C);break;case At:U(g,h,b,C);break;case An:g==null&&A(h,b,C,Z);break;case ue:N(g,h,b,C,O,P,Z,Q,ee);break;default:ie&1?H(g,h,b,C,O,P,Z,Q,ee):ie&6?B(g,h,b,C,O,P,Z,Q,ee):(ie&64||ie&128)&&X.process(g,h,b,C,O,P,Z,Q,ee,Y)}ce!=null&&O?Zs(ce,g&&g.ref,P,h||g,!h):ce==null&&g&&g.ref!=null&&Zs(g.ref,null,P,g,!0)},S=(g,h,b,C)=>{if(g==null)n(h.el=l(h.children),b,C);else{const O=h.el=g.el;h.children!==g.children&&p(O,h.children)}},U=(g,h,b,C)=>{g==null?n(h.el=u(h.children||""),b,C):h.el=g.el},A=(g,h,b,C)=>{[g.el,g.anchor]=w(g.children,h,b,C,g.el,g.anchor)},F=({el:g,anchor:h},b,C)=>{let O;for(;g&&g!==h;)O=f(g),n(g,b,C),g=O;n(h,b,C)},q=({el:g,anchor:h})=>{let b;for(;g&&g!==h;)b=f(g),o(g),g=b;o(h)},H=(g,h,b,C,O,P,Z,Q,ee)=>{h.type==="svg"?Z="svg":h.type==="math"&&(Z="mathml"),g==null?k(h,b,C,O,P,Z,Q,ee):I(g,h,O,P,Z,Q,ee)},k=(g,h,b,C,O,P,Z,Q)=>{let ee,X;const{props:ce,shapeFlag:ie,transition:re,dirs:de}=g;if(ee=g.el=r(g.type,P,ce&&ce.is,ce),ie&8?c(ee,g.children):ie&16&&T(g.children,ee,null,C,O,wo(g,P),Z,Q),de&&ss(g,null,C,"created"),x(ee,g,g.scopeId,Z,C),ce){for(const Ae in ce)Ae!=="value"&&!Ks(Ae)&&i(ee,Ae,null,ce[Ae],P,C);"value"in ce&&i(ee,"value",null,ce.value,P),(X=ce.onVnodeBeforeMount)&&Ct(X,C,g)}de&&ss(g,null,C,"beforeMount");const ye=pc(O,re);ye&&re.beforeEnter(ee),n(ee,h,b),((X=ce&&ce.onVnodeMounted)||ye||de)&&Ke(()=>{X&&Ct(X,C,g),ye&&re.enter(ee),de&&ss(g,null,C,"mounted")},O)},x=(g,h,b,C,O)=>{if(b&&m(g,b),C)for(let P=0;P<C.length;P++)m(g,C[P]);if(O){let P=O.subTree;if(h===P||ya(P.type)&&(P.ssContent===h||P.ssFallback===h)){const Z=O.vnode;x(g,Z,Z.scopeId,Z.slotScopeIds,O.parent)}}},T=(g,h,b,C,O,P,Z,Q,ee=0)=>{for(let X=ee;X<g.length;X++){const ce=g[X]=Q?Wt(g[X]):Tt(g[X]);y(null,ce,h,b,C,O,P,Z,Q)}},I=(g,h,b,C,O,P,Z)=>{const Q=h.el=g.el;let{patchFlag:ee,dynamicChildren:X,dirs:ce}=h;ee|=g.patchFlag&16;const ie=g.props||$e,re=h.props||$e;let de;if(b&&ns(b,!1),(de=re.onVnodeBeforeUpdate)&&Ct(de,b,h,g),ce&&ss(h,g,b,"beforeUpdate"),b&&ns(b,!0),(ie.innerHTML&&re.innerHTML==null||ie.textContent&&re.textContent==null)&&c(Q,""),X?E(g.dynamicChildren,X,Q,b,C,wo(h,O),P):Z||oe(g,h,Q,null,b,C,wo(h,O),P,!1),ee>0){if(ee&16)$(Q,ie,re,b,O);else if(ee&2&&ie.class!==re.class&&i(Q,"class",null,re.class,O),ee&4&&i(Q,"style",ie.style,re.style,O),ee&8){const ye=h.dynamicProps;for(let Ae=0;Ae<ye.length;Ae++){const ke=ye[Ae],Qe=ie[ke],Ze=re[ke];(Ze!==Qe||ke==="value")&&i(Q,ke,Qe,Ze,O,b)}}ee&1&&g.children!==h.children&&c(Q,h.children)}else!Z&&X==null&&$(Q,ie,re,b,O);((de=re.onVnodeUpdated)||ce)&&Ke(()=>{de&&Ct(de,b,h,g),ce&&ss(h,g,b,"updated")},C)},E=(g,h,b,C,O,P,Z)=>{for(let Q=0;Q<h.length;Q++){const ee=g[Q],X=h[Q],ce=ee.el&&(ee.type===ue||!ws(ee,X)||ee.shapeFlag&198)?d(ee.el):b;y(ee,X,ce,null,C,O,P,Z,!0)}},$=(g,h,b,C,O)=>{if(h!==b){if(h!==$e)for(const P in h)!Ks(P)&&!(P in b)&&i(g,P,h[P],null,O,C);for(const P in b){if(Ks(P))continue;const Z=b[P],Q=h[P];Z!==Q&&P!=="value"&&i(g,P,Q,Z,O,C)}"value"in b&&i(g,"value",h.value,b.value,O)}},N=(g,h,b,C,O,P,Z,Q,ee)=>{const X=h.el=g?g.el:l(""),ce=h.anchor=g?g.anchor:l("");let{patchFlag:ie,dynamicChildren:re,slotScopeIds:de}=h;de&&(Q=Q?Q.concat(de):de),g==null?(n(X,b,C),n(ce,b,C),T(h.children||[],b,ce,O,P,Z,Q,ee)):ie>0&&ie&64&&re&&g.dynamicChildren?(E(g.dynamicChildren,re,b,O,P,Z,Q),(h.key!=null||O&&h===O.subTree)&&ui(g,h,!0)):oe(g,h,b,ce,O,P,Z,Q,ee)},B=(g,h,b,C,O,P,Z,Q,ee)=>{h.slotScopeIds=Q,g==null?h.shapeFlag&512?O.ctx.activate(h,b,C,Z,ee):V(h,b,C,O,P,Z,ee):G(g,h,ee)},V=(g,h,b,C,O,P,Z)=>{const Q=g.component=Oc(g,C,O);if(Xr(g)&&(Q.ctx.renderer=Y),Ic(Q,!1,Z),Q.asyncDep){if(O&&O.registerDep(Q,J,Z),!g.el){const ee=Q.subTree=ve(At);U(null,ee,h,b),g.placeholder=ee.el}}else J(Q,g,h,b,O,P,Z)},G=(g,h,b)=>{const C=h.component=g.component;if(_c(g,h,b))if(C.asyncDep&&!C.asyncResolved){W(C,h,b);return}else C.next=h,C.update();else h.el=g.el,C.vnode=h},J=(g,h,b,C,O,P,Z)=>{const Q=()=>{if(g.isMounted){let{next:ie,bu:re,u:de,parent:ye,vnode:Ae}=g;{const xt=ha(g);if(xt){ie&&(ie.el=Ae.el,W(g,ie,Z)),xt.asyncDep.then(()=>{g.isUnmounted||Q()});return}}let ke=ie,Qe;ns(g,!1),ie?(ie.el=Ae.el,W(g,ie,Z)):ie=Ae,re&&Tn(re),(Qe=ie.props&&ie.props.onVnodeBeforeUpdate)&&Ct(Qe,ye,ie,Ae),ns(g,!0);const Ze=Di(g),wt=g.subTree;g.subTree=Ze,y(wt,Ze,d(wt.el),j(wt),g,O,P),ie.el=Ze.el,ke===null&&Cc(g,Ze.el),de&&Ke(de,O),(Qe=ie.props&&ie.props.onVnodeUpdated)&&Ke(()=>Ct(Qe,ye,ie,Ae),O)}else{let ie;const{el:re,props:de}=h,{bm:ye,m:Ae,parent:ke,root:Qe,type:Ze}=g,wt=Ts(h);ns(g,!1),ye&&Tn(ye),!wt&&(ie=de&&de.onVnodeBeforeMount)&&Ct(ie,ke,h),ns(g,!0);{Qe.ce&&Qe.ce._def.shadowRoot!==!1&&Qe.ce._injectChildStyle(Ze);const xt=g.subTree=Di(g);y(null,xt,b,C,g,O,P),h.el=xt.el}if(Ae&&Ke(Ae,O),!wt&&(ie=de&&de.onVnodeMounted)){const xt=h;Ke(()=>Ct(ie,ke,xt),O)}(h.shapeFlag&256||ke&&Ts(ke.vnode)&&ke.vnode.shapeFlag&256)&&g.a&&Ke(g.a,O),g.isMounted=!0,h=b=C=null}};g.scope.on();const ee=g.effect=new Er(Q);g.scope.off();const X=g.update=ee.run.bind(ee),ce=g.job=ee.runIfDirty.bind(ee);ce.i=g,ce.id=g.uid,ee.scheduler=()=>ai(ce),ns(g,!0),X()},W=(g,h,b)=>{h.component=g;const C=g.vnode.props;g.vnode=h,g.next=null,ic(g,h.props,C,b),cc(g,h.children,b),Lt(),_i(g),Vt()},oe=(g,h,b,C,O,P,Z,Q,ee=!1)=>{const X=g&&g.children,ce=g?g.shapeFlag:0,ie=h.children,{patchFlag:re,shapeFlag:de}=h;if(re>0){if(re&128){we(X,ie,b,C,O,P,Z,Q,ee);return}else if(re&256){fe(X,ie,b,C,O,P,Z,Q,ee);return}}de&8?(ce&16&&tt(X,O,P),ie!==X&&c(b,ie)):ce&16?de&16?we(X,ie,b,C,O,P,Z,Q,ee):tt(X,O,P,!0):(ce&8&&c(b,""),de&16&&T(ie,b,C,O,P,Z,Q,ee))},fe=(g,h,b,C,O,P,Z,Q,ee)=>{g=g||Cs,h=h||Cs;const X=g.length,ce=h.length,ie=Math.min(X,ce);let re;for(re=0;re<ie;re++){const de=h[re]=ee?Wt(h[re]):Tt(h[re]);y(g[re],de,b,null,O,P,Z,Q,ee)}X>ce?tt(g,O,P,!0,!1,ie):T(h,b,C,O,P,Z,Q,ee,ie)},we=(g,h,b,C,O,P,Z,Q,ee)=>{let X=0;const ce=h.length;let ie=g.length-1,re=ce-1;for(;X<=ie&&X<=re;){const de=g[X],ye=h[X]=ee?Wt(h[X]):Tt(h[X]);if(ws(de,ye))y(de,ye,b,null,O,P,Z,Q,ee);else break;X++}for(;X<=ie&&X<=re;){const de=g[ie],ye=h[re]=ee?Wt(h[re]):Tt(h[re]);if(ws(de,ye))y(de,ye,b,null,O,P,Z,Q,ee);else break;ie--,re--}if(X>ie){if(X<=re){const de=re+1,ye=de<ce?h[de].el:C;for(;X<=re;)y(null,h[X]=ee?Wt(h[X]):Tt(h[X]),b,ye,O,P,Z,Q,ee),X++}}else if(X>re)for(;X<=ie;)Me(g[X],O,P,!0),X++;else{const de=X,ye=X,Ae=new Map;for(X=ye;X<=re;X++){const st=h[X]=ee?Wt(h[X]):Tt(h[X]);st.key!=null&&Ae.set(st.key,X)}let ke,Qe=0;const Ze=re-ye+1;let wt=!1,xt=0;const Us=new Array(Ze);for(X=0;X<Ze;X++)Us[X]=0;for(X=de;X<=ie;X++){const st=g[X];if(Qe>=Ze){Me(st,O,P,!0);continue}let _t;if(st.key!=null)_t=Ae.get(st.key);else for(ke=ye;ke<=re;ke++)if(Us[ke-ye]===0&&ws(st,h[ke])){_t=ke;break}_t===void 0?Me(st,O,P,!0):(Us[_t-ye]=X+1,_t>=xt?xt=_t:wt=!0,y(st,h[_t],b,null,O,P,Z,Q,ee),Qe++)}const mi=wt?fc(Us):Cs;for(ke=mi.length-1,X=Ze-1;X>=0;X--){const st=ye+X,_t=h[st],gi=h[st+1],vi=st+1<ce?gi.el||gi.placeholder:C;Us[X]===0?y(null,_t,b,vi,O,P,Z,Q,ee):wt&&(ke<0||X!==mi[ke]?Ie(_t,b,vi,2):ke--)}}},Ie=(g,h,b,C,O=null)=>{const{el:P,type:Z,transition:Q,children:ee,shapeFlag:X}=g;if(X&6){Ie(g.component.subTree,h,b,C);return}if(X&128){g.suspense.move(h,b,C);return}if(X&64){Z.move(g,h,b,Y);return}if(Z===ue){n(P,h,b);for(let ie=0;ie<ee.length;ie++)Ie(ee[ie],h,b,C);n(g.anchor,h,b);return}if(Z===An){F(g,h,b);return}if(C!==2&&X&1&&Q)if(C===0)Q.beforeEnter(P),n(P,h,b),Ke(()=>Q.enter(P),O);else{const{leave:ie,delayLeave:re,afterLeave:de}=Q,ye=()=>{g.ctx.isUnmounted?o(P):n(P,h,b)},Ae=()=>{P._isLeaving&&P[cs](!0),ie(P,()=>{ye(),de&&de()})};re?re(P,ye,Ae):Ae()}else n(P,h,b)},Me=(g,h,b,C=!1,O=!1)=>{const{type:P,props:Z,ref:Q,children:ee,dynamicChildren:X,shapeFlag:ce,patchFlag:ie,dirs:re,cacheIndex:de}=g;if(ie===-2&&(O=!1),Q!=null&&(Lt(),Zs(Q,null,b,g,!0),Vt()),de!=null&&(h.renderCache[de]=void 0),ce&256){h.ctx.deactivate(g);return}const ye=ce&1&&re,Ae=!Ts(g);let ke;if(Ae&&(ke=Z&&Z.onVnodeBeforeUnmount)&&Ct(ke,h,g),ce&6)Fe(g.component,b,C);else{if(ce&128){g.suspense.unmount(b,C);return}ye&&ss(g,null,h,"beforeUnmount"),ce&64?g.type.remove(g,h,b,Y,C):X&&!X.hasOnce&&(P!==ue||ie>0&&ie&64)?tt(X,h,b,!1,!0):(P===ue&&ie&384||!O&&ce&16)&&tt(ee,h,b),C&&jt(g)}(Ae&&(ke=Z&&Z.onVnodeUnmounted)||ye)&&Ke(()=>{ke&&Ct(ke,h,g),ye&&ss(g,null,h,"unmounted")},b)},jt=g=>{const{type:h,el:b,anchor:C,transition:O}=g;if(h===ue){Rt(b,C);return}if(h===An){q(g);return}const P=()=>{o(b),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(g.shapeFlag&1&&O&&!O.persisted){const{leave:Z,delayLeave:Q}=O,ee=()=>Z(b,P);Q?Q(g.el,P,ee):ee()}else P()},Rt=(g,h)=>{let b;for(;g!==h;)b=f(g),o(g),g=b;o(h)},Fe=(g,h,b)=>{const{bum:C,scope:O,job:P,subTree:Z,um:Q,m:ee,a:X}=g;Ii(ee),Ii(X),C&&Tn(C),O.stop(),P&&(P.flags|=8,Me(Z,g,h,b)),Q&&Ke(Q,h),Ke(()=>{g.isUnmounted=!0},h)},tt=(g,h,b,C=!1,O=!1,P=0)=>{for(let Z=P;Z<g.length;Z++)Me(g[Z],h,b,C,O)},j=g=>{if(g.shapeFlag&6)return j(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const h=f(g.anchor||g.el),b=h&&h[Br];return b?f(b):h};let K=!1;const te=(g,h,b)=>{g==null?h._vnode&&Me(h._vnode,null,null,!0):y(h._vnode||null,g,h,null,null,null,b),h._vnode=g,K||(K=!0,_i(),jr(),K=!1)},Y={p:y,um:Me,m:Ie,r:jt,mt:V,mc:T,pc:oe,pbc:E,n:j,o:s};return{render:te,hydrate:void 0,createApp:nc(te)}}function wo({type:s,props:e},t){return t==="svg"&&s==="foreignObject"||t==="mathml"&&s==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function ns({effect:s,job:e},t){t?(s.flags|=32,e.flags|=4):(s.flags&=-33,e.flags&=-5)}function pc(s,e){return(!s||s&&!s.pendingBranch)&&e&&!e.persisted}function ui(s,e,t=!1){const n=s.children,o=e.children;if(le(n)&&le(o))for(let i=0;i<n.length;i++){const r=n[i];let l=o[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[i]=Wt(o[i]),l.el=r.el),!t&&l.patchFlag!==-2&&ui(r,l)),l.type===oo&&l.patchFlag!==-1&&(l.el=r.el),l.type===At&&!l.el&&(l.el=r.el)}}function fc(s){const e=s.slice(),t=[0];let n,o,i,r,l;const u=s.length;for(n=0;n<u;n++){const p=s[n];if(p!==0){if(o=t[t.length-1],s[o]<p){e[n]=o,t.push(n);continue}for(i=0,r=t.length-1;i<r;)l=i+r>>1,s[t[l]]<p?i=l+1:r=l;p<s[t[i]]&&(i>0&&(e[n]=t[i-1]),t[i]=n)}}for(i=t.length,r=t[i-1];i-- >0;)t[i]=r,r=e[r];return t}function ha(s){const e=s.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ha(e)}function Ii(s){if(s)for(let e=0;e<s.length;e++)s[e].flags|=8}const hc=Symbol.for("v-scx"),mc=()=>kt(hc);function ge(s,e,t){return ma(s,e,t)}function ma(s,e,t=$e){const{immediate:n,deep:o,flush:i,once:r}=t,l=Le({},t),u=e&&n||!e&&i!=="post";let p;if(pn){if(i==="sync"){const m=mc();p=m.__watcherHandles||(m.__watcherHandles=[])}else if(!u){const m=()=>{};return m.stop=$t,m.resume=$t,m.pause=$t,m}}const c=Be;l.call=(m,w,y)=>yt(m,c,w,y);let d=!1;i==="post"?l.scheduler=m=>{Ke(m,c&&c.suspense)}:i!=="sync"&&(d=!0,l.scheduler=(m,w)=>{w?m():ai(m)}),l.augmentJob=m=>{e&&(m.flags|=4),d&&(m.flags|=2,c&&(m.id=c.uid,m.i=c))};const f=Al(s,e,l);return pn&&(p?p.push(f):u&&f()),f}function gc(s,e,t){const n=this.proxy,o=qe(s)?s.includes(".")?ga(n,s):()=>n[s]:s.bind(n,n);let i;me(e)?i=e:(i=e.handler,t=e);const r=vn(this),l=ma(o,i.bind(n),t);return r(),l}function ga(s,e){const t=e.split(".");return()=>{let n=s;for(let o=0;o<t.length&&n;o++)n=n[t[o]];return n}}const vc=(s,e)=>e==="modelValue"||e==="model-value"?s.modelModifiers:s[`${e}Modifiers`]||s[`${dt(e)}Modifiers`]||s[`${es(e)}Modifiers`];function yc(s,e,...t){if(s.isUnmounted)return;const n=s.vnode.props||$e;let o=t;const i=e.startsWith("update:"),r=i&&vc(n,e.slice(7));r&&(r.trim&&(o=t.map(c=>qe(c)?c.trim():c)),r.number&&(o=t.map(Fn)));let l,u=n[l=ho(e)]||n[l=ho(dt(e))];!u&&i&&(u=n[l=ho(es(e))]),u&&yt(u,s,6,o);const p=n[l+"Once"];if(p){if(!s.emitted)s.emitted={};else if(s.emitted[l])return;s.emitted[l]=!0,yt(p,s,6,o)}}const bc=new WeakMap;function va(s,e,t=!1){const n=t?bc:e.emitsCache,o=n.get(s);if(o!==void 0)return o;const i=s.emits;let r={},l=!1;if(!me(s)){const u=p=>{const c=va(p,e,!0);c&&(l=!0,Le(r,c))};!t&&e.mixins.length&&e.mixins.forEach(u),s.extends&&u(s.extends),s.mixins&&s.mixins.forEach(u)}return!i&&!l?(Te(s)&&n.set(s,null),null):(le(i)?i.forEach(u=>r[u]=null):Le(r,i),Te(s)&&n.set(s,r),r)}function no(s,e){return!s||!Gn(e)?!1:(e=e.slice(2).replace(/Once$/,""),Se(s,e[0].toLowerCase()+e.slice(1))||Se(s,es(e))||Se(s,e))}function Di(s){const{type:e,vnode:t,proxy:n,withProxy:o,propsOptions:[i],slots:r,attrs:l,emit:u,render:p,renderCache:c,props:d,data:f,setupState:m,ctx:w,inheritAttrs:y}=s,S=Ln(s);let U,A;try{if(t.shapeFlag&4){const q=o||n,H=q;U=Tt(p.call(H,q,c,d,m,f,w)),A=l}else{const q=e;U=Tt(q.length>1?q(d,{attrs:l,slots:r,emit:u}):q(d,null)),A=e.props?l:wc(l)}}catch(q){sn.length=0,eo(q,s,1),U=ve(At)}let F=U;if(A&&y!==!1){const q=Object.keys(A),{shapeFlag:H}=F;q.length&&H&7&&(i&&q.some(Xo)&&(A=xc(A,i)),F=hs(F,A,!1,!0))}return t.dirs&&(F=hs(F,null,!1,!0),F.dirs=F.dirs?F.dirs.concat(t.dirs):t.dirs),t.transition&&ln(F,t.transition),U=F,Ln(S),U}const wc=s=>{let e;for(const t in s)(t==="class"||t==="style"||Gn(t))&&((e||(e={}))[t]=s[t]);return e},xc=(s,e)=>{const t={};for(const n in s)(!Xo(n)||!(n.slice(9)in e))&&(t[n]=s[n]);return t};function _c(s,e,t){const{props:n,children:o,component:i}=s,{props:r,children:l,patchFlag:u}=e,p=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return n?Fi(n,r,p):!!r;if(u&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(r[f]!==n[f]&&!no(p,f))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:n===r?!1:n?r?Fi(n,r,p):!0:!!r;return!1}function Fi(s,e,t){const n=Object.keys(e);if(n.length!==Object.keys(s).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(e[i]!==s[i]&&!no(t,i))return!0}return!1}function Cc({vnode:s,parent:e},t){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===s&&(n.el=s.el),n===s)(s=e.vnode).el=t,e=e.parent;else break}}const ya=s=>s.__isSuspense;function Sc(s,e){e&&e.pendingBranch?le(s)?e.effects.push(...s):e.effects.push(s):Ol(s)}const ue=Symbol.for("v-fgt"),oo=Symbol.for("v-txt"),At=Symbol.for("v-cmt"),An=Symbol.for("v-stc"),sn=[];let nt=null;function v(s=!1){sn.push(nt=s?null:[])}function Ec(){sn.pop(),nt=sn[sn.length-1]||null}let un=1;function jn(s,e=!1){un+=s,s<0&&nt&&e&&(nt.hasOnce=!0)}function ba(s){return s.dynamicChildren=un>0?nt||Cs:null,Ec(),un>0&&nt&&nt.push(s),s}function _(s,e,t,n,o,i){return ba(a(s,e,t,n,o,i,!0))}function pe(s,e,t,n,o){return ba(ve(s,e,t,n,o,!0))}function dn(s){return s?s.__v_isVNode===!0:!1}function ws(s,e){return s.type===e.type&&s.key===e.key}const wa=({key:s})=>s??null,Rn=({ref:s,ref_key:e,ref_for:t})=>(typeof s=="number"&&(s=""+s),s!=null?qe(s)||Je(s)||me(s)?{i:Ue,r:s,k:e,f:!!t}:s:null);function a(s,e=null,t=null,n=0,o=null,i=s===ue?0:1,r=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:s,props:e,key:e&&wa(e),ref:e&&Rn(e),scopeId:Hr,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ue};return l?(di(u,t),i&128&&s.normalize(u)):t&&(u.shapeFlag|=qe(t)?8:16),un>0&&!r&&nt&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&nt.push(u),u}const ve=kc;function kc(s,e=null,t=null,n=0,o=null,i=!1){if((!s||s===ea)&&(s=At),dn(s)){const l=hs(s,e,!0);return t&&di(l,t),un>0&&!i&&nt&&(l.shapeFlag&6?nt[nt.indexOf(s)]=l:nt.push(l)),l.patchFlag=-2,l}if(Nc(s)&&(s=s.__vccOpts),e){e=Tc(e);let{class:l,style:u}=e;l&&!qe(l)&&(e.class=he(l)),Te(u)&&(ri(u)&&!le(u)&&(u=Le({},u)),e.style=De(u))}const r=qe(s)?1:ya(s)?128:Il(s)?64:Te(s)?4:me(s)?2:0;return a(s,e,t,n,o,r,i,!0)}function Tc(s){return s?ri(s)||la(s)?Le({},s):s:null}function hs(s,e,t=!1,n=!1){const{props:o,ref:i,patchFlag:r,children:l,transition:u}=s,p=e?Ac(o||{},e):o,c={__v_isVNode:!0,__v_skip:!0,type:s.type,props:p,key:p&&wa(p),ref:e&&e.ref?t&&i?le(i)?i.concat(Rn(e)):[i,Rn(e)]:Rn(e):i,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:l,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:e&&s.type!==ue?r===-1?16:r|16:r,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:u,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&hs(s.ssContent),ssFallback:s.ssFallback&&hs(s.ssFallback),placeholder:s.placeholder,el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return u&&n&&ln(c,u.clone(c)),c}function Ce(s=" ",e=0){return ve(oo,null,s,e)}function $c(s,e){const t=ve(An,null,s);return t.staticCount=e,t}function z(s="",e=!1){return e?(v(),pe(At,null,s)):ve(At,null,s)}function Tt(s){return s==null||typeof s=="boolean"?ve(At):le(s)?ve(ue,null,s.slice()):dn(s)?Wt(s):ve(oo,null,String(s))}function Wt(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:hs(s)}function di(s,e){let t=0;const{shapeFlag:n}=s;if(e==null)e=null;else if(le(e))t=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),di(s,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!la(e)?e._ctx=Ue:o===3&&Ue&&(Ue.slots._===1?e._=1:(e._=2,s.patchFlag|=1024))}else me(e)?(e={default:e,_ctx:Ue},t=32):(e=String(e),n&64?(t=16,e=[Ce(e)]):t=8);s.children=e,s.shapeFlag|=t}function Ac(...s){const e={};for(let t=0;t<s.length;t++){const n=s[t];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=he([e.class,n.class]));else if(o==="style")e.style=De([e.style,n.style]);else if(Gn(o)){const i=e[o],r=n[o];r&&i!==r&&!(le(i)&&i.includes(r))&&(e[o]=i?[].concat(i,r):r)}else o!==""&&(e[o]=n[o])}return e}function Ct(s,e,t,n=null){yt(s,e,7,[t,n])}const Rc=ia();let qc=0;function Oc(s,e,t){const n=s.type,o=(e?e.appContext:s.appContext)||Rc,i={uid:qc++,vnode:s,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ua(n,o),emitsOptions:va(n,o),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:n.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=yc.bind(null,i),s.ce&&s.ce(i),i}let Be=null;const io=()=>Be||Ue;let zn,Bo;{const s=Yn(),e=(t,n)=>{let o;return(o=s[t])||(o=s[t]=[]),o.push(n),i=>{o.length>1?o.forEach(r=>r(i)):o[0](i)}};zn=e("__VUE_INSTANCE_SETTERS__",t=>Be=t),Bo=e("__VUE_SSR_SETTERS__",t=>pn=t)}const vn=s=>{const e=Be;return zn(s),s.scope.on(),()=>{s.scope.off(),zn(e)}},Pi=()=>{Be&&Be.scope.off(),zn(null)};function xa(s){return s.vnode.shapeFlag&4}let pn=!1;function Ic(s,e=!1,t=!1){e&&Bo(e);const{props:n,children:o}=s.vnode,i=xa(s);oc(s,n,i,e),lc(s,o,t||e);const r=i?Dc(s,e):void 0;return e&&Bo(!1),r}function Dc(s,e){const t=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,Gl);const{setup:n}=t;if(n){Lt();const o=s.setupContext=n.length>1?Ca(s):null,i=vn(s),r=gn(n,s,0,[s.props,o]),l=yr(r);if(Vt(),i(),(l||s.sp)&&!Ts(s)&&Kr(s),l){if(r.then(Pi,Pi),e)return r.then(u=>{Ni(s,u)}).catch(u=>{eo(u,s,0)});s.asyncDep=r}else Ni(s,r)}else _a(s)}function Ni(s,e,t){me(e)?s.type.__ssrInlineRender?s.ssrRender=e:s.render=e:Te(e)&&(s.setupState=Lr(e)),_a(s)}function _a(s,e,t){const n=s.type;s.render||(s.render=n.render||$t);{const o=vn(s);Lt();try{Yl(s)}finally{Vt(),o()}}}const Fc={get(s,e){return He(s,"get",""),s[e]}};function Ca(s){const e=t=>{s.exposed=t||{}};return{attrs:new Proxy(s.attrs,Fc),slots:s.slots,emit:s.emit,expose:e}}function ro(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy(Lr(as(s.exposed)),{get(e,t){if(t in e)return e[t];if(t in tn)return tn[t](s)},has(e,t){return t in e||t in tn}})):s.proxy}function Pc(s,e=!0){return me(s)?s.displayName||s.name:s.name||e&&s.__name}function Nc(s){return me(s)&&"__vccOpts"in s}const D=(s,e)=>Tl(s,e,pn);function Mc(s,e,t){try{jn(-1);const n=arguments.length;return n===2?Te(e)&&!le(e)?dn(e)?ve(s,null,[e]):ve(s,e):ve(s,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&dn(t)&&(t=[t]),ve(s,e,t))}finally{jn(1)}}const Lc="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Jo;const Mi=typeof window<"u"&&window.trustedTypes;if(Mi)try{Jo=Mi.createPolicy("vue",{createHTML:s=>s})}catch{}const Sa=Jo?s=>Jo.createHTML(s):s=>s,Vc="http://www.w3.org/2000/svg",Uc="http://www.w3.org/1998/Math/MathML",Ot=typeof document<"u"?document:null,Li=Ot&&Ot.createElement("template"),jc={insert:(s,e,t)=>{e.insertBefore(s,t||null)},remove:s=>{const e=s.parentNode;e&&e.removeChild(s)},createElement:(s,e,t,n)=>{const o=e==="svg"?Ot.createElementNS(Vc,s):e==="mathml"?Ot.createElementNS(Uc,s):t?Ot.createElement(s,{is:t}):Ot.createElement(s);return s==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:s=>Ot.createTextNode(s),createComment:s=>Ot.createComment(s),setText:(s,e)=>{s.nodeValue=e},setElementText:(s,e)=>{s.textContent=e},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>Ot.querySelector(s),setScopeId(s,e){s.setAttribute(e,"")},insertStaticContent(s,e,t,n,o,i){const r=t?t.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===i||!(o=o.nextSibling)););else{Li.innerHTML=Sa(n==="svg"?`<svg>${s}</svg>`:n==="mathml"?`<math>${s}</math>`:s);const l=Li.content;if(n==="svg"||n==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,t)}return[r?r.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},zt="transition",zs="animation",Rs=Symbol("_vtc"),Ea={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zc=Le({},Pl,Ea),os=(s,e=[])=>{le(s)?s.forEach(t=>t(...e)):s&&s(...e)},Vi=s=>s?le(s)?s.some(e=>e.length>1):s.length>1:!1;function Hc(s){const e={};for(const N in s)N in Ea||(e[N]=s[N]);if(s.css===!1)return e;const{name:t="v",type:n,duration:o,enterFromClass:i=`${t}-enter-from`,enterActiveClass:r=`${t}-enter-active`,enterToClass:l=`${t}-enter-to`,appearFromClass:u=i,appearActiveClass:p=r,appearToClass:c=l,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:f=`${t}-leave-active`,leaveToClass:m=`${t}-leave-to`}=s,w=Bc(o),y=w&&w[0],S=w&&w[1],{onBeforeEnter:U,onEnter:A,onEnterCancelled:F,onLeave:q,onLeaveCancelled:H,onBeforeAppear:k=U,onAppear:x=A,onAppearCancelled:T=F}=e,I=(N,B,V,G)=>{N._enterCancelled=G,Bt(N,B?c:l),Bt(N,B?p:r),V&&V()},E=(N,B)=>{N._isLeaving=!1,Bt(N,d),Bt(N,m),Bt(N,f),B&&B()},$=N=>(B,V)=>{const G=N?x:A,J=()=>I(B,N,V);os(G,[B,J]),Ui(()=>{Bt(B,N?u:i),St(B,N?c:l),Vi(G)||ji(B,n,y,J)})};return Le(e,{onBeforeEnter(N){os(U,[N]),St(N,i),St(N,r)},onBeforeAppear(N){os(k,[N]),St(N,u),St(N,p)},onEnter:$(!1),onAppear:$(!0),onLeave(N,B){N._isLeaving=!0;const V=()=>E(N,B);St(N,d),N._enterCancelled?(St(N,f),Wo(N)):(Wo(N),St(N,f)),Ui(()=>{N._isLeaving&&(Bt(N,d),St(N,m),Vi(q)||ji(N,n,S,V))}),os(q,[N,V])},onEnterCancelled(N){I(N,!1,void 0,!0),os(F,[N])},onAppearCancelled(N){I(N,!0,void 0,!0),os(T,[N])},onLeaveCancelled(N){E(N),os(H,[N])}})}function Bc(s){if(s==null)return null;if(Te(s))return[xo(s.enter),xo(s.leave)];{const e=xo(s);return[e,e]}}function xo(s){return Ga(s)}function St(s,e){e.split(/\s+/).forEach(t=>t&&s.classList.add(t)),(s[Rs]||(s[Rs]=new Set)).add(e)}function Bt(s,e){e.split(/\s+/).forEach(n=>n&&s.classList.remove(n));const t=s[Rs];t&&(t.delete(e),t.size||(s[Rs]=void 0))}function Ui(s){requestAnimationFrame(()=>{requestAnimationFrame(s)})}let Jc=0;function ji(s,e,t,n){const o=s._endId=++Jc,i=()=>{o===s._endId&&n()};if(t!=null)return setTimeout(i,t);const{type:r,timeout:l,propCount:u}=ka(s,e);if(!r)return n();const p=r+"end";let c=0;const d=()=>{s.removeEventListener(p,f),i()},f=m=>{m.target===s&&++c>=u&&d()};setTimeout(()=>{c<u&&d()},l+1),s.addEventListener(p,f)}function ka(s,e){const t=window.getComputedStyle(s),n=w=>(t[w]||"").split(", "),o=n(`${zt}Delay`),i=n(`${zt}Duration`),r=zi(o,i),l=n(`${zs}Delay`),u=n(`${zs}Duration`),p=zi(l,u);let c=null,d=0,f=0;e===zt?r>0&&(c=zt,d=r,f=i.length):e===zs?p>0&&(c=zs,d=p,f=u.length):(d=Math.max(r,p),c=d>0?r>p?zt:zs:null,f=c?c===zt?i.length:u.length:0);const m=c===zt&&/\b(?:transform|all)(?:,|$)/.test(n(`${zt}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:m}}function zi(s,e){for(;s.length<e.length;)s=s.concat(s);return Math.max(...e.map((t,n)=>Hi(t)+Hi(s[n])))}function Hi(s){return s==="auto"?0:Number(s.slice(0,-1).replace(",","."))*1e3}function Wo(s){return(s?s.ownerDocument:document).body.offsetHeight}function Wc(s,e,t){const n=s[Rs];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?s.removeAttribute("class"):t?s.setAttribute("class",e):s.className=e}const Bi=Symbol("_vod"),Gc=Symbol("_vsh"),Kc=Symbol(""),Xc=/(?:^|;)\s*display\s*:/;function Yc(s,e,t){const n=s.style,o=qe(t);let i=!1;if(t&&!o){if(e)if(qe(e))for(const r of e.split(";")){const l=r.slice(0,r.indexOf(":")).trim();t[l]==null&&qn(n,l,"")}else for(const r in e)t[r]==null&&qn(n,r,"");for(const r in t)r==="display"&&(i=!0),qn(n,r,t[r])}else if(o){if(e!==t){const r=n[Kc];r&&(t+=";"+r),n.cssText=t,i=Xc.test(t)}}else e&&s.removeAttribute("style");Bi in s&&(s[Bi]=i?n.display:"",s[Gc]&&(n.display="none"))}const Ji=/\s*!important$/;function qn(s,e,t){if(le(t))t.forEach(n=>qn(s,e,n));else if(t==null&&(t=""),e.startsWith("--"))s.setProperty(e,t);else{const n=Qc(s,e);Ji.test(t)?s.setProperty(es(n),t.replace(Ji,""),"important"):s[n]=t}}const Wi=["Webkit","Moz","ms"],_o={};function Qc(s,e){const t=_o[e];if(t)return t;let n=dt(e);if(n!=="filter"&&n in s)return _o[e]=n;n=Xn(n);for(let o=0;o<Wi.length;o++){const i=Wi[o]+n;if(i in s)return _o[e]=i}return e}const Gi="http://www.w3.org/1999/xlink";function Ki(s,e,t,n,o,i=el(e)){n&&e.startsWith("xlink:")?t==null?s.removeAttributeNS(Gi,e.slice(6,e.length)):s.setAttributeNS(Gi,e,t):t==null||i&&!_r(t)?s.removeAttribute(e):s.setAttribute(e,i?"":vt(t)?String(t):t)}function Xi(s,e,t,n,o){if(e==="innerHTML"||e==="textContent"){t!=null&&(s[e]=e==="innerHTML"?Sa(t):t);return}const i=s.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?s.getAttribute("value")||"":s.value,u=t==null?s.type==="checkbox"?"on":"":String(t);(l!==u||!("_value"in s))&&(s.value=u),t==null&&s.removeAttribute(e),s._value=t;return}let r=!1;if(t===""||t==null){const l=typeof s[e];l==="boolean"?t=_r(t):t==null&&l==="string"?(t="",r=!0):l==="number"&&(t=0,r=!0)}try{s[e]=t}catch{}r&&s.removeAttribute(o||e)}function Ft(s,e,t,n){s.addEventListener(e,t,n)}function Zc(s,e,t,n){s.removeEventListener(e,t,n)}const Yi=Symbol("_vei");function eu(s,e,t,n,o=null){const i=s[Yi]||(s[Yi]={}),r=i[e];if(n&&r)r.value=n;else{const[l,u]=tu(e);if(n){const p=i[e]=ou(n,o);Ft(s,l,p,u)}else r&&(Zc(s,l,r,u),i[e]=void 0)}}const Qi=/(?:Once|Passive|Capture)$/;function tu(s){let e;if(Qi.test(s)){e={};let n;for(;n=s.match(Qi);)s=s.slice(0,s.length-n[0].length),e[n[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):es(s.slice(2)),e]}let Co=0;const su=Promise.resolve(),nu=()=>Co||(su.then(()=>Co=0),Co=Date.now());function ou(s,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;yt(iu(n,t.value),e,5,[n])};return t.value=s,t.attached=nu(),t}function iu(s,e){if(le(e)){const t=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{t.call(s),s._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const Zi=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,ru=(s,e,t,n,o,i)=>{const r=o==="svg";e==="class"?Wc(s,n,r):e==="style"?Yc(s,t,n):Gn(e)?Xo(e)||eu(s,e,t,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):au(s,e,n,r))?(Xi(s,e,n),!s.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ki(s,e,n,r,i,e!=="value")):s._isVueCE&&(/[A-Z]/.test(e)||!qe(n))?Xi(s,dt(e),n,i,e):(e==="true-value"?s._trueValue=n:e==="false-value"&&(s._falseValue=n),Ki(s,e,n,r))};function au(s,e,t,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in s&&Zi(e)&&me(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&s.tagName==="INPUT"||e==="type"&&s.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=s.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Zi(e)&&qe(t)?!1:e in s}const Ta=new WeakMap,$a=new WeakMap,Hn=Symbol("_moveCb"),er=Symbol("_enterCb"),lu=s=>(delete s.props.mode,s),cu=lu({name:"TransitionGroup",props:Le({},zc,{tag:String,moveClass:String}),setup(s,{slots:e}){const t=io(),n=Fl();let o,i;return Qr(()=>{if(!o.length)return;const r=s.moveClass||`${s.name||"v"}-move`;if(!hu(o[0].el,t.vnode.el,r)){o=[];return}o.forEach(du),o.forEach(pu);const l=o.filter(fu);Wo(t.vnode.el),l.forEach(u=>{const p=u.el,c=p.style;St(p,r),c.transform=c.webkitTransform=c.transitionDuration="";const d=p[Hn]=f=>{f&&f.target!==p||(!f||f.propertyName.endsWith("transform"))&&(p.removeEventListener("transitionend",d),p[Hn]=null,Bt(p,r))};p.addEventListener("transitionend",d)}),o=[]}),()=>{const r=xe(s),l=Hc(r);let u=r.tag||ue;if(o=[],i)for(let p=0;p<i.length;p++){const c=i[p];c.el&&c.el instanceof Element&&(o.push(c),ln(c,Vo(c,l,n,t)),Ta.set(c,c.el.getBoundingClientRect()))}i=e.default?Gr(e.default()):[];for(let p=0;p<i.length;p++){const c=i[p];c.key!=null&&ln(c,Vo(c,l,n,t))}return ve(u,null,i)}}}),uu=cu;function du(s){const e=s.el;e[Hn]&&e[Hn](),e[er]&&e[er]()}function pu(s){$a.set(s,s.el.getBoundingClientRect())}function fu(s){const e=Ta.get(s),t=$a.get(s),n=e.left-t.left,o=e.top-t.top;if(n||o){const i=s.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${o}px)`,i.transitionDuration="0s",s}}function hu(s,e,t){const n=s.cloneNode(),o=s[Rs];o&&o.forEach(l=>{l.split(/\s+/).forEach(u=>u&&n.classList.remove(u))}),t.split(/\s+/).forEach(l=>l&&n.classList.add(l)),n.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(n);const{hasTransform:r}=ka(n);return i.removeChild(n),r}const Zt=s=>{const e=s.props["onUpdate:modelValue"]||!1;return le(e)?t=>Tn(e,t):e};function mu(s){s.target.composing=!0}function tr(s){const e=s.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ut=Symbol("_assign"),Ee={created(s,{modifiers:{lazy:e,trim:t,number:n}},o){s[ut]=Zt(o);const i=n||o.props&&o.props.type==="number";Ft(s,e?"change":"input",r=>{if(r.target.composing)return;let l=s.value;t&&(l=l.trim()),i&&(l=Fn(l)),s[ut](l)}),t&&Ft(s,"change",()=>{s.value=s.value.trim()}),e||(Ft(s,"compositionstart",mu),Ft(s,"compositionend",tr),Ft(s,"change",tr))},mounted(s,{value:e}){s.value=e??""},beforeUpdate(s,{value:e,oldValue:t,modifiers:{lazy:n,trim:o,number:i}},r){if(s[ut]=Zt(r),s.composing)return;const l=(i||s.type==="number")&&!/^0\d/.test(s.value)?Fn(s.value):s.value,u=e??"";l!==u&&(document.activeElement===s&&s.type!=="range"&&(n&&e===t||o&&s.value.trim()===u)||(s.value=u))}},Ye={deep:!0,created(s,e,t){s[ut]=Zt(t),Ft(s,"change",()=>{const n=s._modelValue,o=qs(s),i=s.checked,r=s[ut];if(le(n)){const l=Zo(n,o),u=l!==-1;if(i&&!u)r(n.concat(o));else if(!i&&u){const p=[...n];p.splice(l,1),r(p)}}else if(Ds(n)){const l=new Set(n);i?l.add(o):l.delete(o),r(l)}else r(Aa(s,i))})},mounted:sr,beforeUpdate(s,e,t){s[ut]=Zt(t),sr(s,e,t)}};function sr(s,{value:e,oldValue:t},n){s._modelValue=e;let o;if(le(e))o=Zo(e,n.props.value)>-1;else if(Ds(e))o=e.has(n.props.value);else{if(e===t)return;o=fs(e,Aa(s,!0))}s.checked!==o&&(s.checked=o)}const On={created(s,{value:e},t){s.checked=fs(e,t.props.value),s[ut]=Zt(t),Ft(s,"change",()=>{s[ut](qs(s))})},beforeUpdate(s,{value:e,oldValue:t},n){s[ut]=Zt(n),e!==t&&(s.checked=fs(e,n.props.value))}},mt={deep:!0,created(s,{value:e,modifiers:{number:t}},n){const o=Ds(e);Ft(s,"change",()=>{const i=Array.prototype.filter.call(s.options,r=>r.selected).map(r=>t?Fn(qs(r)):qs(r));s[ut](s.multiple?o?new Set(i):i:i[0]),s._assigning=!0,je(()=>{s._assigning=!1})}),s[ut]=Zt(n)},mounted(s,{value:e}){nr(s,e)},beforeUpdate(s,e,t){s[ut]=Zt(t)},updated(s,{value:e}){s._assigning||nr(s,e)}};function nr(s,e){const t=s.multiple,n=le(e);if(!(t&&!n&&!Ds(e))){for(let o=0,i=s.options.length;o<i;o++){const r=s.options[o],l=qs(r);if(t)if(n){const u=typeof l;u==="string"||u==="number"?r.selected=e.some(p=>String(p)===String(l)):r.selected=Zo(e,l)>-1}else r.selected=e.has(l);else if(fs(qs(r),e)){s.selectedIndex!==o&&(s.selectedIndex=o);return}}!t&&s.selectedIndex!==-1&&(s.selectedIndex=-1)}}function qs(s){return"_value"in s?s._value:s.value}function Aa(s,e){const t=e?"_trueValue":"_falseValue";return t in s?s[t]:e}const gu={created(s,e,t){Sn(s,e,t,null,"created")},mounted(s,e,t){Sn(s,e,t,null,"mounted")},beforeUpdate(s,e,t,n){Sn(s,e,t,n,"beforeUpdate")},updated(s,e,t,n){Sn(s,e,t,n,"updated")}};function vu(s,e){switch(s){case"SELECT":return mt;case"TEXTAREA":return Ee;default:switch(e){case"checkbox":return Ye;case"radio":return On;default:return Ee}}}function Sn(s,e,t,n,o){const r=vu(s.tagName,t.props&&t.props.type)[o];r&&r(s,e,t,n)}const yu=["ctrl","shift","alt","meta"],bu={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,e)=>yu.some(t=>s[`${t}Key`]&&!e.includes(t))},yn=(s,e)=>{const t=s._withMods||(s._withMods={}),n=e.join(".");return t[n]||(t[n]=((o,...i)=>{for(let r=0;r<e.length;r++){const l=bu[e[r]];if(l&&l(o,e))return}return s(o,...i)}))},wu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ao=(s,e)=>{const t=s._withKeys||(s._withKeys={}),n=e.join(".");return t[n]||(t[n]=(o=>{if(!("key"in o))return;const i=es(o.key);if(e.some(r=>r===i||wu[r]===i))return s(o)}))},xu=Le({patchProp:ru},jc);let or;function _u(){return or||(or=uc(xu))}const Cu=((...s)=>{const e=_u().createApp(...s),{mount:t}=e;return e.mount=n=>{const o=Eu(n);if(!o)return;const i=e._component;!me(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const r=t(o,!1,Su(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},e});function Su(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function Eu(s){return qe(s)?document.querySelector(s):s}const Ra={__name:"splitpanes",props:{horizontal:{type:Boolean,default:!1},pushOtherPanes:{type:Boolean,default:!0},maximizePanes:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean,default:!1}},emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click","splitter-dblclick"],setup(s,{emit:e}){const t=e,n=s,o=Kl(),i=se([]),r=D(()=>i.value.reduce((j,K)=>(j[~~K.id]=K)&&j,{})),l=D(()=>i.value.length),u=se(null),p=se(!1),c=se({mouseDown:!1,dragging:!1,activeSplitter:null,cursorOffset:0}),d=se({splitter:null,timeoutId:null}),f=D(()=>({[`splitpanes splitpanes--${n.horizontal?"horizontal":"vertical"}`]:!0,"splitpanes--dragging":c.value.dragging})),m=()=>{document.addEventListener("mousemove",S,{passive:!1}),document.addEventListener("mouseup",U),"ontouchstart"in window&&(document.addEventListener("touchmove",S,{passive:!1}),document.addEventListener("touchend",U))},w=()=>{document.removeEventListener("mousemove",S,{passive:!1}),document.removeEventListener("mouseup",U),"ontouchstart"in window&&(document.removeEventListener("touchmove",S,{passive:!1}),document.removeEventListener("touchend",U))},y=(j,K)=>{const te=j.target.closest(".splitpanes__splitter");if(te){const{left:Y,top:M}=te.getBoundingClientRect(),{clientX:g,clientY:h}="ontouchstart"in window&&j.touches?j.touches[0]:j;c.value.cursorOffset=n.horizontal?h-M:g-Y}m(),c.value.mouseDown=!0,c.value.activeSplitter=K},S=j=>{c.value.mouseDown&&(j.preventDefault(),c.value.dragging=!0,requestAnimationFrame(()=>{x(H(j)),Fe("resize",{event:j},!0)}))},U=j=>{c.value.dragging&&(window.getSelection().removeAllRanges(),Fe("resized",{event:j},!0)),c.value.mouseDown=!1,c.value.activeSplitter=null,setTimeout(()=>{c.value.dragging=!1,w()},100)},A=(j,K)=>{"ontouchstart"in window&&(j.preventDefault(),d.value.splitter===K?(clearTimeout(d.value.timeoutId),d.value.timeoutId=null,F(j,K),d.value.splitter=null):(d.value.splitter=K,d.value.timeoutId=setTimeout(()=>d.value.splitter=null,500))),c.value.dragging||Fe("splitter-click",{event:j,index:K},!0)},F=(j,K)=>{if(Fe("splitter-dblclick",{event:j,index:K},!0),n.maximizePanes){let te=0;i.value=i.value.map((Y,M)=>(Y.size=M===K?Y.max:Y.min,M!==K&&(te+=Y.min),Y)),i.value[K].size-=te,Fe("pane-maximize",{event:j,index:K,pane:i.value[K]}),Fe("resized",{event:j,index:K},!0)}},q=(j,K)=>{Fe("pane-click",{event:j,index:r.value[K].index,pane:r.value[K]})},H=j=>{const K=u.value.getBoundingClientRect(),{clientX:te,clientY:Y}="ontouchstart"in window&&j.touches?j.touches[0]:j;return{x:te-(n.horizontal?0:c.value.cursorOffset)-K.left,y:Y-(n.horizontal?c.value.cursorOffset:0)-K.top}},k=j=>{j=j[n.horizontal?"y":"x"];const K=u.value[n.horizontal?"clientHeight":"clientWidth"];return n.rtl&&!n.horizontal&&(j=K-j),j*100/K},x=j=>{const K=c.value.activeSplitter;let te={prevPanesSize:I(K),nextPanesSize:E(K),prevReachedMinPanes:0,nextReachedMinPanes:0};const Y=0+(n.pushOtherPanes?0:te.prevPanesSize),M=100-(n.pushOtherPanes?0:te.nextPanesSize),g=Math.max(Math.min(k(j),M),Y);let h=[K,K+1],b=i.value[h[0]]||null,C=i.value[h[1]]||null;const O=b.max<100&&g>=b.max+te.prevPanesSize,P=C.max<100&&g<=100-(C.max+E(K+1));if(O||P){O?(b.size=b.max,C.size=Math.max(100-b.max-te.prevPanesSize-te.nextPanesSize,0)):(b.size=Math.max(100-C.max-te.prevPanesSize-E(K+1),0),C.size=C.max);return}if(n.pushOtherPanes){const Z=T(te,g);if(!Z)return;({sums:te,panesToResize:h}=Z),b=i.value[h[0]]||null,C=i.value[h[1]]||null}b!==null&&(b.size=Math.min(Math.max(g-te.prevPanesSize-te.prevReachedMinPanes,b.min),b.max)),C!==null&&(C.size=Math.min(Math.max(100-g-te.nextPanesSize-te.nextReachedMinPanes,C.min),C.max))},T=(j,K)=>{const te=c.value.activeSplitter,Y=[te,te+1];return K<j.prevPanesSize+i.value[Y[0]].min&&(Y[0]=$(te).index,j.prevReachedMinPanes=0,Y[0]<te&&i.value.forEach((M,g)=>{g>Y[0]&&g<=te&&(M.size=M.min,j.prevReachedMinPanes+=M.min)}),j.prevPanesSize=I(Y[0]),Y[0]===void 0)?(j.prevReachedMinPanes=0,i.value[0].size=i.value[0].min,i.value.forEach((M,g)=>{g>0&&g<=te&&(M.size=M.min,j.prevReachedMinPanes+=M.min)}),i.value[Y[1]].size=100-j.prevReachedMinPanes-i.value[0].min-j.prevPanesSize-j.nextPanesSize,null):K>100-j.nextPanesSize-i.value[Y[1]].min&&(Y[1]=N(te).index,j.nextReachedMinPanes=0,Y[1]>te+1&&i.value.forEach((M,g)=>{g>te&&g<Y[1]&&(M.size=M.min,j.nextReachedMinPanes+=M.min)}),j.nextPanesSize=E(Y[1]-1),Y[1]===void 0)?(j.nextReachedMinPanes=0,i.value.forEach((M,g)=>{g<l.value-1&&g>=te+1&&(M.size=M.min,j.nextReachedMinPanes+=M.min)}),i.value[Y[0]].size=100-j.prevPanesSize-E(Y[0]-1),null):{sums:j,panesToResize:Y}},I=j=>i.value.reduce((K,te,Y)=>K+(Y<j?te.size:0),0),E=j=>i.value.reduce((K,te,Y)=>K+(Y>j+1?te.size:0),0),$=j=>[...i.value].reverse().find(K=>K.index<j&&K.size>K.min)||{},N=j=>i.value.find(K=>K.index>j+1&&K.size>K.min)||{},B=()=>{var j;const K=Array.from(((j=u.value)==null?void 0:j.children)||[]);for(const te of K){const Y=te.classList.contains("splitpanes__pane"),M=te.classList.contains("splitpanes__splitter");!Y&&!M&&(te.remove(),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))}},V=(j,K,te=!1)=>{const Y=j-1,M=document.createElement("div");M.classList.add("splitpanes__splitter"),te||(M.onmousedown=g=>y(g,Y),typeof window<"u"&&"ontouchstart"in window&&(M.ontouchstart=g=>y(g,Y)),M.onclick=g=>A(g,Y+1)),M.ondblclick=g=>F(g,Y+1),K.parentNode.insertBefore(M,K)},G=j=>{j.onmousedown=void 0,j.onclick=void 0,j.ondblclick=void 0,j.remove()},J=()=>{var j;const K=Array.from(((j=u.value)==null?void 0:j.children)||[]);for(const Y of K)Y.className.includes("splitpanes__splitter")&&G(Y);let te=0;for(const Y of K)Y.className.includes("splitpanes__pane")&&(!te&&n.firstSplitter?V(te,Y,!0):te&&V(te,Y),te++)},W=({uid:j,...K})=>{const te=r.value[j];for(const[Y,M]of Object.entries(K))te[Y]=M},oe=j=>{var K;let te=-1;Array.from(((K=u.value)==null?void 0:K.children)||[]).some(Y=>(Y.className.includes("splitpanes__pane")&&te++,Y.isSameNode(j.el))),i.value.splice(te,0,{...j,index:te}),i.value.forEach((Y,M)=>Y.index=M),p.value&&je(()=>{J(),we({addedPane:i.value[te]}),Fe("pane-add",{pane:i.value[te]})})},fe=j=>{const K=i.value.findIndex(Y=>Y.id===j);i.value[K].el=null;const te=i.value.splice(K,1)[0];i.value.forEach((Y,M)=>Y.index=M),je(()=>{J(),Fe("pane-remove",{pane:te}),we({removedPane:{...te}})})},we=(j={})=>{!j.addedPane&&!j.removedPane?Me():i.value.some(K=>K.givenSize!==null||K.min||K.max<100)?jt(j):Ie(),p.value&&Fe("resized")},Ie=()=>{const j=100/l.value;let K=0;const te=[],Y=[];for(const M of i.value)M.size=Math.max(Math.min(j,M.max),M.min),K-=M.size,M.size>=M.max&&te.push(M.id),M.size<=M.min&&Y.push(M.id);K>.1&&Rt(K,te,Y)},Me=()=>{let j=100;const K=[],te=[];let Y=0;for(const g of i.value)j-=g.size,g.givenSize!==null&&Y++,g.size>=g.max&&K.push(g.id),g.size<=g.min&&te.push(g.id);let M=100;if(j>.1){for(const g of i.value)g.givenSize===null&&(g.size=Math.max(Math.min(j/(l.value-Y),g.max),g.min)),M-=g.size;M>.1&&Rt(M,K,te)}},jt=({addedPane:j,removedPane:K}={})=>{let te=100/l.value,Y=0;const M=[],g=[];(j?.givenSize??null)!==null&&(te=(100-j.givenSize)/(l.value-1));for(const h of i.value)Y-=h.size,h.size>=h.max&&M.push(h.id),h.size<=h.min&&g.push(h.id);if(!(Math.abs(Y)<.1)){for(const h of i.value)j?.givenSize!==null&&j?.id===h.id||(h.size=Math.max(Math.min(te,h.max),h.min)),Y-=h.size,h.size>=h.max&&M.push(h.id),h.size<=h.min&&g.push(h.id);Y>.1&&Rt(Y,M,g)}},Rt=(j,K,te)=>{let Y;j>0?Y=j/(l.value-K.length):Y=j/(l.value-te.length),i.value.forEach((M,g)=>{if(j>0&&!K.includes(M.id)){const h=Math.max(Math.min(M.size+Y,M.max),M.min),b=h-M.size;j-=b,M.size=h}else if(!te.includes(M.id)){const h=Math.max(Math.min(M.size+Y,M.max),M.min),b=h-M.size;j-=b,M.size=h}}),Math.abs(j)>.1&&je(()=>{p.value&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})},Fe=(j,K=void 0,te=!1)=>{const Y=K?.index??c.value.activeSplitter??null;t(j,{...K,...Y!==null&&{index:Y},...te&&Y!==null&&{prevPane:i.value[Y-(n.firstSplitter?1:0)],nextPane:i.value[Y+(n.firstSplitter?0:1)]},panes:i.value.map(M=>({min:M.min,max:M.max,size:M.size}))})};ge(()=>n.firstSplitter,()=>J()),Ne(()=>{B(),J(),we(),Fe("ready"),p.value=!0}),so(()=>p.value=!1);const tt=()=>{var j;return Mc("div",{ref:u,class:f.value},(j=o.default)==null?void 0:j.call(o))};return Ht("panes",i),Ht("indexedPanes",r),Ht("horizontal",D(()=>n.horizontal)),Ht("requestUpdate",W),Ht("onPaneAdd",oe),Ht("onPaneRemove",fe),Ht("onPaneClick",q),(j,K)=>(v(),pe(en(tt)))}},Bn={__name:"pane",props:{size:{type:[Number,String]},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},setup(s){var e;const t=s,n=kt("requestUpdate"),o=kt("onPaneAdd"),i=kt("horizontal"),r=kt("onPaneRemove"),l=kt("onPaneClick"),u=(e=io())==null?void 0:e.uid,p=kt("indexedPanes"),c=D(()=>p.value[u]),d=se(null),f=D(()=>{const S=isNaN(t.size)||t.size===void 0?0:parseFloat(t.size);return Math.max(Math.min(S,w.value),m.value)}),m=D(()=>{const S=parseFloat(t.minSize);return isNaN(S)?0:S}),w=D(()=>{const S=parseFloat(t.maxSize);return isNaN(S)?100:S}),y=D(()=>{var S;return`${i.value?"height":"width"}: ${(S=c.value)==null?void 0:S.size}%`});return ge(()=>f.value,S=>n({uid:u,size:S})),ge(()=>m.value,S=>n({uid:u,min:S})),ge(()=>w.value,S=>n({uid:u,max:S})),Ne(()=>{o({id:u,el:d.value,min:m.value,max:w.value,givenSize:t.size===void 0?null:f.value,size:f.value})}),so(()=>r(u)),(S,U)=>(v(),_("div",{ref_key:"paneEl",ref:d,class:"splitpanes__pane",onClick:U[0]||(U[0]=A=>L(l)(A,S._.uid)),style:De(y.value)},[cn(S.$slots,"default")],4))}},vs={ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},ku="info";class Tu{constructor(){this.allowedComponents=new Set,this.globalEnabled=!0,this.allowAll=!1,this.loadFromStorage()}enable(...e){e.forEach(t=>this.allowedComponents.add(t.toLowerCase())),this.saveToStorage(),console.log(" Logging enabled for:",e.join(", "))}disable(...e){e.forEach(t=>this.allowedComponents.delete(t.toLowerCase())),this.saveToStorage(),console.log(" Logging disabled for:",e.join(", "))}enableAll(){this.allowAll=!0,this.saveToStorage(),console.log(" Logging enabled for ALL components")}disableAll(){this.allowAll=!1,this.allowedComponents.clear(),this.saveToStorage(),console.log(" Logging disabled for ALL components (errors still show)")}status(){console.log(" Logging Status:"),console.log("  Global enabled:",this.globalEnabled),console.log("  Allow all:",this.allowAll),console.log("  Enabled components:",Array.from(this.allowedComponents).join(", ")||"none")}listComponents(){console.log(" Available components to filter:"),Array.from(this.registeredComponents||[]).sort().forEach(t=>{const n=this.isComponentEnabled(t);console.log(`  ${n?"":""} ${t}`)})}isComponentEnabled(e){return this.globalEnabled?this.allowAll?!0:this.allowedComponents.has(e.toLowerCase()):!1}registerComponent(e){this.registeredComponents||(this.registeredComponents=new Set),this.registeredComponents.add(e)}saveToStorage(){try{const e={allowedComponents:Array.from(this.allowedComponents),allowAll:this.allowAll,globalEnabled:this.globalEnabled};localStorage.setItem("sandbox_logging_filters",JSON.stringify(e))}catch{}}loadFromStorage(){try{const e=JSON.parse(localStorage.getItem("sandbox_logging_filters")||"{}");this.allowedComponents=new Set(e.allowedComponents||[]),this.allowAll=e.allowAll||!1,this.globalEnabled=e.globalEnabled!==!1,localStorage.getItem("sandbox_logging_filters")||(this.allowedComponents=new Set(["themeswitcher","codemirroreditor","editoradapter","analytics"]))}catch{this.allowedComponents=new Set(["themeswitcher","codemirroreditor","editoradapter","analytics"])}}}const Gt=new Tu;typeof window<"u"&&(window.logFilter={enable:(...s)=>Gt.enable(...s),disable:(...s)=>Gt.disable(...s),enableAll:()=>Gt.enableAll(),disableAll:()=>Gt.disableAll(),status:()=>Gt.status(),list:()=>Gt.listComponents()});class ts{constructor(e={}){this.enabled=e.enabled!==!1,this.level=e.level||ku,this.prefix=e.prefix||"",this.component=this.prefix,this.redactSecrets=e.redactSecrets||!1,this.currentLevel=vs[this.level.toUpperCase()]??vs.INFO,this.component&&Gt.registerComponent(this.component)}shouldLog(e){if(e.toUpperCase()==="ERROR")return this.enabled&&vs[e.toUpperCase()]<=this.currentLevel;const t=!this.component||Gt.isComponentEnabled(this.component);return this.enabled&&t&&vs[e.toUpperCase()]<=this.currentLevel}redactArgs(e){return this.redactSecrets?e.map(t=>typeof t=="string"?t.replace(/\b[a-zA-Z0-9]{20,}\b/g,"[REDACTED]"):t):e}formatMessage(e,...t){const n=this.prefix?`[${this.prefix}] `:"",o=this.redactArgs(t);return[n+e,...o]}error(e,...t){this.shouldLog("error")&&console.error(...this.formatMessage(e,...t))}warn(e,...t){this.shouldLog("warn")&&console.warn(...this.formatMessage(e,...t))}info(e,...t){this.shouldLog("info")&&console.info(...this.formatMessage(e,...t))}log(e,...t){this.shouldLog("info")&&console.log(...this.formatMessage(e,...t))}debug(e,...t){this.shouldLog("debug")&&console.debug(...this.formatMessage(e,...t))}trace(e,...t){if(this.shouldLog("trace")){const n=this.redactSecrets;this.redactSecrets=!0,console.trace(...this.formatMessage(e,...t)),this.redactSecrets=n}}table(e,t){if(this.shouldLog("info")){const n=this.prefix?`[${this.prefix}]`:"";n&&console.log(n),console.table(e,t)}}group(e){this.shouldLog("info")&&console.group(...this.formatMessage(e))}groupCollapsed(e){this.shouldLog("info")&&console.groupCollapsed(...this.formatMessage(e))}groupEnd(){this.shouldLog("info")&&console.groupEnd()}time(e){this.shouldLog("debug")&&console.time(this.prefix?`[${this.prefix}] ${e}`:e)}timeEnd(e){this.shouldLog("debug")&&console.timeEnd(this.prefix?`[${this.prefix}] ${e}`:e)}setLevel(e){this.level=e,this.currentLevel=vs[e.toUpperCase()]??vs.INFO}enable(){this.enabled=!0}disable(){this.enabled=!1}isEnabled(){return this.enabled}}function bt(s={}){return new ts(s)}class We{constructor(e){this.name=e,this.logger=bt(e),this.state=Zn({}),this.disposed=!1,this.watchers=[],this.computedRefs=new Map}init(){this.logger.debug(`Initializing ${this.name} controller`)}createState(e){return Object.assign(this.state,e),this.state}createComputed(e,t){const n=D(t.bind(this));return this.computedRefs.set(e,n),n}createWatcher(e,t,n={}){const o=ge(e,t.bind(this),n);return this.watchers.push(o),o}getComputed(e){const t=this.computedRefs.get(e);return t?t.value:void 0}emit(e,t){if(this.disposed){this.logger.warn(`Cannot emit event '${e}' on disposed controller`);return}this.logger.debug(`Emitting event: ${e}`,t),this.eventHandlers&&this.eventHandlers[e]&&this.eventHandlers[e].forEach(n=>n(t))}on(e,t){return this.eventHandlers||(this.eventHandlers={}),this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t),()=>{const n=this.eventHandlers[e].indexOf(t);n>-1&&this.eventHandlers[e].splice(n,1)}}async executeAsync(e,t="Operation failed"){try{return this.logger.debug("Executing async operation"),{success:!0,data:await e()}}catch(n){return this.logger.error(t,n),this.emit("error",{message:t,error:n}),{success:!1,error:n}}}validate(e,t){try{return{valid:!0,data:new e(t)}}catch(n){return this.logger.error(`Validation failed for ${e.name}:`,n.message),{valid:!1,error:n.message}}}async nextTick(){await je()}dispose(){this.logger.debug(`Disposing ${this.name} controller`),this.watchers.forEach(e=>e()),this.watchers=[],this.computedRefs.clear(),this.eventHandlers=null,this.disposed=!0}isDisposed(){return this.disposed}static generateId(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}generateId(){return We.generateId()}}const ir={NAVIGATION:"navigation",UI:"ui"},$u={TAB_SWITCH:"tab_switch"},En={SETTINGS_OPEN:"settings_open",CORS_MODAL_OPEN:"cors_modal_open",CURL_TUTORIAL_OPEN:"curl_tutorial_open",NEW_REQUEST:"new_request"},Mt=bt({prefix:"Analytics"});let xs=!1,us=!1,is=null;const Au=()=>!0,Ru=()=>{if(xs){Mt.warn("Analytics already initialized");return}if(is="G-4YNSTRSE47",Mt.info("Analytics init:",{measurementId:is?`${is.substring(0,5)}...`:"NOT SET",isDev:!1,debugFlag:"true"}),!is){Mt.warn("GA Measurement ID not configured - add VITE_GA_MEASUREMENT_ID to .env and rebuild"),xs=!0,us=!1;return}if(us=Au(),!us){Mt.info("Analytics disabled in development mode (set VITE_GA_DEBUG=true to enable)"),xs=!0;return}window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",is,{send_page_view:!0,page_location:window.location.href,page_path:window.location.pathname,page_title:document.title});const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${is}`,document.head.appendChild(e),xs=!0,console.log("[GA] Initialized with ID:",is,"| isEnabled:",us)},So=(s,e={})=>{if(!xs){Mt.warn("Analytics not initialized, call initializeAnalytics() first");return}if(Mt.info("Event:",s,e),!us){Mt.debug("Analytics disabled, event not sent");return}try{console.log("[GA Event]",s,e),window.gtag("event",s,e)}catch(t){console.error("[GA Error]",s,t.message)}},qu=(s,e)=>{if(!xs){Mt.warn("Analytics not initialized");return}if(us)try{window.gtag("event","page_view",{page_path:s,page_title:e,page_location:window.location.href})}catch(t){Mt.error("Failed to track page view",{pagePath:s,error:t.message})}};function qa(){return{trackEvent:So,trackPageView:qu,isEnabled:()=>us,trackNavigation:(s,e={})=>{So(s,{event_category:ir.NAVIGATION,...e})},trackUI:(s,e={})=>{So(s,{event_category:ir.UI,...e})}}}class Ou extends We{constructor(){super("sidebar"),this.createState({activeTab:"collections"})}init(){this.logger.debug(`${this.name} controller initialized`)}switchTab(e){if(!["collections","environments","history"].includes(e)){this.logger.warn(`Invalid tab name: ${e}`);return}this.state.activeTab=e,this.logger.debug(`Switched to tab: ${e}`);const{trackNavigation:t}=qa();t($u.TAB_SWITCH,{tab_name:e})}}const Iu=new ts({prefix:"BaseModel",level:"debug"});class ne{constructor(e={}){this.validateAndAssign(e)}static generateId(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}static getTimestamp(){return new Date().toISOString()}validateAndAssign(e){const t=this.constructor.schema||{};Object.entries(t).forEach(([n,o])=>{const i=e[n];if(o.required&&i===void 0&&o.default===void 0)throw new Error(`Required field '${n}' is missing in ${this.constructor.name}`);const r=i!==void 0?i:typeof o.default=="function"?o.default():o.default;if(r!==void 0){if(o.type&&!this.validateType(r,o.type))throw new Error(`Invalid type for '${n}' in ${this.constructor.name}. Expected ${o.type}`);if(o.enum&&!o.enum.includes(r))throw new Error(`Invalid value for '${n}' in ${this.constructor.name}. Must be one of: ${o.enum.join(", ")}`);if(o.validator&&!o.validator(r))throw new Error(`Validation failed for '${n}' in ${this.constructor.name}`);this[n]=r}})}validateType(e,t){return typeof t=="string"?t==="array"?Array.isArray(e):t==="object"?e===null||typeof e=="object"&&!Array.isArray(e):typeof e===t:typeof t=="function"?e instanceof t:!1}toJSON(){const e=this.constructor.schema||{},t={};return Object.keys(e).forEach(n=>{this[n]!==void 0&&(this[n]&&typeof this[n].toJSON=="function"?t[n]=this[n].toJSON():Array.isArray(this[n])?t[n]=this[n].map(o=>o&&typeof o.toJSON=="function"?o.toJSON():o):t[n]=this[n])}),t}clone(){return new this.constructor(JSON.parse(JSON.stringify(this.toJSON())))}update(e){const t=this.constructor.schema||{};return Object.entries(e).forEach(([n,o])=>{if(t[n]){if(t[n].type&&!this.validateType(o,t[n].type))throw new Error(`Invalid type for '${n}' in ${this.constructor.name}`);this[n]=o}}),this}static fromJSON(e){try{const t=JSON.parse(e);return new this(t)}catch(t){throw new Error(`Failed to parse JSON for ${this.name}: ${t.message}`)}}validate(){try{return this.validateAndAssign(this.toJSON()),!0}catch(e){return Iu.error(`Validation error in ${this.constructor.name}:`,e.message),!1}}}const Du=["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS","CONNECT","TRACE"],Fu=["none","raw","form-data","x-www-form-urlencoded","binary"],Pu=["none","basic","bearer","apikey","oauth2","hawk","awsv4","ntlm","digest"];class fn extends ne{static schema={id:{type:"string",default:()=>ne.generateId()},key:{type:"string",default:""},value:{type:"string",default:""},description:{type:"string",default:""},enabled:{type:"boolean",default:!0},type:{type:"string",default:"text"}}}class ht extends ne{static schema={raw:{type:"string",default:""},protocol:{type:"string",default:"https"},host:{type:"array",default:[]},port:{type:"string",default:""},path:{type:"array",default:[]},query:{type:"array",default:[]},hash:{type:"string",default:""},variable:{type:"array",default:[]}};static fromString(e){if(!e)return new ht;try{const t=new URL(e.startsWith("http")?e:`https://${e}`);return new ht({raw:e,protocol:t.protocol.replace(":",""),host:t.hostname.split("."),port:t.port||"",path:t.pathname==="/"?[]:t.pathname.split("/").filter(Boolean),query:Array.from(t.searchParams.entries()).map(([n,o])=>new fn({key:n,value:o,enabled:!0}).toJSON()),hash:t.hash?t.hash.substring(1):""})}catch{return new ht({raw:e})}}toString(){if(this.raw)return this.raw;const e=this.protocol||"https",t=Array.isArray(this.host)?this.host.join("."):"",n=this.port?`:${this.port}`:"",o=Array.isArray(this.path)?`/${this.path.join("/")}`:"",i=Array.isArray(this.query)&&this.query.length>0?"?"+this.query.filter(l=>l.enabled).map(l=>`${l.key}=${l.value}`).join("&"):"",r=this.hash?`#${this.hash}`:"";return`${e}://${t}${n}${o}${i}${r}`}}class Pt extends ne{static schema={type:{type:"string",enum:Pu,default:"none"},basic:{type:"object",default:null},bearer:{type:"object",default:null},apikey:{type:"object",default:null},oauth2:{type:"object",default:null},hawk:{type:"object",default:null},awsv4:{type:"object",default:null},ntlm:{type:"object",default:null},digest:{type:"object",default:null}};static createBasic(e="",t=""){return new Pt({type:"basic",basic:{username:e,password:t}})}static createBearer(e=""){return new Pt({type:"bearer",bearer:{token:e}})}static createApiKey(e="",t="",n="header"){return new Pt({type:"apikey",apikey:{key:e,value:t,in:n}})}}class at extends ne{static schema={mode:{type:"string",enum:Fu,default:"none"},raw:{type:"string",default:""},formData:{type:"array",default:[]},urlEncoded:{type:"array",default:[]},binary:{type:"object",default:null},options:{type:"object",default:null},disabled:{type:"boolean",default:!1}};static createRaw(e="",t="json"){return new at({mode:"raw",raw:e,options:{raw:{language:t}}})}static createFormData(e=[]){return new at({mode:"form-data",formData:e.map(t=>new fn(t).toJSON())})}static createUrlEncoded(e=[]){return new at({mode:"x-www-form-urlencoded",urlEncoded:e.map(t=>new fn(t).toJSON())})}static createBinary(e=null){return new at({mode:"binary",binary:e})}static createGraphQL(e="",t="{}"){return new at({mode:"graphql",graphql:{query:e,variables:t}})}}class Oa extends ne{static schema={id:{type:"string",default:()=>ne.generateId()},name:{type:"string",default:"New Request"},method:{type:"string",enum:Du,default:"GET"},url:{type:ht,default:()=>new ht},header:{type:"array",default:[]},body:{type:at,default:()=>new at},auth:{type:Pt,default:null},event:{type:"array",default:[]},description:{type:"string",default:""},protocolProfileBehavior:{type:"object",default:{}},createdAt:{type:"string",default:()=>ne.getTimestamp()},updatedAt:{type:"string",default:()=>ne.getTimestamp()}};constructor(e={}){e.id&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.url&&typeof e.url=="string"?e.url=ht.fromString(e.url):e.url&&!(e.url instanceof ht)&&(e.url=new ht(e.url)),e.body&&!(e.body instanceof at)&&(e.body=new at(e.body)),e.auth&&!(e.auth instanceof Pt)&&(e.auth=new Pt(e.auth)),e.header&&(e.header=e.header.map(t=>new fn(t).toJSON())),super(e)}addHeader(e,t,n=!0){return this.header.push(new fn({key:e,value:t,enabled:n}).toJSON()),this.updatedAt=ne.getTimestamp(),this}removeHeader(e){return this.header=this.header.filter(t=>t.key!==e),this.updatedAt=ne.getTimestamp(),this}setUrl(e){return this.url=ht.fromString(e),this.updatedAt=ne.getTimestamp(),this}setBody(e){return e instanceof at?this.body=e:this.body=new at(e),this.updatedAt=ne.getTimestamp(),this}setAuth(e){return e instanceof Pt?this.auth=e:this.auth=new Pt(e),this.updatedAt=ne.getTimestamp(),this}getEnabledHeaders(){return this.header.filter(e=>e.enabled)}getUrlString(){return this.url instanceof ht?this.url.toString():this.url.raw||""}}class Nt extends ne{static schema={id:{type:"string",default:()=>ne.generateId()},name:{type:"string",default:"New Folder"},description:{type:"string",default:""},item:{type:"array",default:[]},auth:{type:"object",default:null},event:{type:"array",default:[]},variable:{type:"array",default:[]},protocolProfileBehavior:{type:"object",default:{}}};addItem(e){return e instanceof Oa||e instanceof Nt?this.item.push(e.toJSON()):this.item.push(e),this}removeItem(e){return this.item=this.item.filter(t=>t.id!==e),this}findItem(e){for(const t of this.item){if(t.id===e)return t;if(t.item&&Array.isArray(t.item)){const n=new Nt(t).findItem(e);if(n)return n}}return null}getAllRequests(){const e=[];for(const t of this.item)if(t.request)e.push(t);else if(t.item&&Array.isArray(t.item)){const n=new Nt(t).getAllRequests();e.push(...n)}return e}}class kn extends ne{static schema={id:{type:"string",default:()=>ne.generateId()},name:{type:"string",required:!0},description:{type:"string",default:""},schema:{type:"string",default:"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},version:{type:"object",default:()=>({major:1,minor:0,patch:0})},_postman_id:{type:"string",default:()=>ne.generateId()}}}class Nu extends ne{static schema={id:{type:"string",default:()=>ne.generateId()},key:{type:"string",required:!0},value:{type:"string",default:""},type:{type:"string",enum:["string","number","boolean","any"],default:"string"},disabled:{type:"boolean",default:!1}}}class nn extends ne{static schema={info:{type:kn,required:!0},item:{type:"array",default:[]},auth:{type:"object",default:null},event:{type:"array",default:[]},variable:{type:"array",default:[]},protocolProfileBehavior:{type:"object",default:{}},createdAt:{type:"string",default:()=>ne.getTimestamp()},updatedAt:{type:"string",default:()=>ne.getTimestamp()}};constructor(e={}){typeof e=="string"&&(e={info:{name:e}}),e.info&&e.info.id&&typeof e.info.id!="string"&&(e.info.id=String(e.info.id)),e.info&&e.info._postman_id&&typeof e.info._postman_id!="string"&&(e.info._postman_id=String(e.info._postman_id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.info?e.info instanceof kn||(e.info=new kn(e.info)):e.info=new kn({name:e.name||"New Collection"}),super(e)}addRequest(e){const t=e instanceof Oa?e.toJSON():e;return this.item.push(t),this.updatedAt=ne.getTimestamp(),this}addFolder(e){const t=e instanceof Nt?e.toJSON():e;return this.item.push(t),this.updatedAt=ne.getTimestamp(),this}removeItem(e){const t=this.item.length;if(this.item=this.item.filter(n=>n.id!==e),this.item.length<t)this.updatedAt=ne.getTimestamp();else for(let n of this.item)if(n.item&&Array.isArray(n.item)){const o=new Nt(n);o.removeItem(e),n=o.toJSON(),this.updatedAt=ne.getTimestamp()}return this}findItem(e,t=[]){for(let n=0;n<this.item.length;n++){const o=this.item[n],i=[...t,n];if(o.id===e)return{item:o,path:i};if(o.item&&Array.isArray(o.item)){const r=new Nt(o),l=this.findItemInFolder(r,e,i);if(l)return l}}return null}findItemInFolder(e,t,n){for(let o=0;o<e.item.length;o++){const i=e.item[o],r=[...n,"item",o];if(i.id===t)return{item:i,path:r};if(i.item&&Array.isArray(i.item)){const l=new Nt(i),u=this.findItemInFolder(l,t,r);if(u)return u}}return null}updateItem(e,t){const n=this.findItem(e);return n&&(Object.assign(n.item,t),this.updatedAt=ne.getTimestamp()),this}getAllRequests(){const e=[];for(const t of this.item)if(t.request)e.push(t);else if(t.item&&Array.isArray(t.item)){const n=new Nt(t).getAllRequests();e.push(...n)}return e}getAllFolders(){const e=[],t=n=>{for(const o of n)o.item&&Array.isArray(o.item)&&(e.push(o),t(o.item))};return t(this.item),e}addVariable(e,t,n="string"){const o=new Nu({key:e,value:t,type:n});return this.variable.push(o.toJSON()),this.updatedAt=ne.getTimestamp(),this}removeVariable(e){return this.variable=this.variable.filter(t=>t.key!==e),this.updatedAt=ne.getTimestamp(),this}getVariable(e){const t=this.variable.find(n=>n.key===e&&!n.disabled);return t?t.value:void 0}export(){const e={info:this.info.toJSON(),item:this.item,auth:this.auth,event:this.event,variable:this.variable};return Object.keys(this.protocolProfileBehavior).length>0&&(e.protocolProfileBehavior=this.protocolProfileBehavior),e}static import(e){return new nn(e)}}const Fs={COLLECTIONS:"toastman_collections",ENVIRONMENTS:"toastman_environments",SETTINGS:"toastman_settings",ACTIVE_ENVIRONMENT:"toastman_active_environment",TABS:"toastman_tabs",CONVERSATIONS:"toastman_conversations"},Eo=new EventTarget;function rr(s,e=null){try{return s?JSON.parse(s):e}catch(t){return bt("storage").warn("Failed to parse JSON from localStorage:",t),e}}function ko(s){try{return JSON.stringify(xe(s))}catch(e){return bt("storage").error("Failed to stringify JSON for localStorage:",e),null}}function Ps(s,e=null,t={}){const n=bt("storage"),{immediate:o=!0,deep:i=!0,debounce:r=100}=t,l=rr(localStorage.getItem(s),e),u=se(l);let p=!1,c=null;const d=()=>{p||(clearTimeout(c),c=setTimeout(()=>{const y=ko(u.value);y!==null?(n.debug(`Saving to ${s}`,u.value),localStorage.setItem(s,y),n.info(`Saved to localStorage - key=${s}, size=${y.length}`),Eo.dispatchEvent(new CustomEvent("storage-change",{detail:{key:s,value:u.value}}))):n.error(`Failed to stringify data for ${s}`)},r))};o&&ge(u,d,{deep:i});const f=y=>{if(y.key===s&&y.newValue!==null){const S=rr(y.newValue,e);p=!0,u.value=S,je(()=>{p=!1})}};window.addEventListener("storage",f);const m=y=>{if(y.detail.key===s){const S=ko(u.value),U=ko(y.detail.value);S!==U&&(p=!0,u.value=y.detail.value,je(()=>{p=!1}))}};return Eo.addEventListener("storage-change",m),{data:u,save:()=>d(),cleanup:()=>{clearTimeout(c),window.removeEventListener("storage",f),Eo.removeEventListener("storage-change",m)},key:s}}function Mu(){const s=Ps(Fs.COLLECTIONS,[]);return Array.isArray(s.data.value)||(s.data.value=[]),s}function Lu(){const s=Ps(Fs.ENVIRONMENTS,[]);return Array.isArray(s.data.value)||(s.data.value=[]),s}function Vu(){const s={proxy:{enabled:!1,protocol:"http",host:"",port:"",username:"",password:"",excludeList:""},certificates:[],theme:"dark",editorThemeDark:"gob",editorThemeLight:"textmate",autoSave:!0,requestTimeout:3e4,followRedirects:!0,maxRedirects:10,fontSize:14,fontFamily:"monospace",sidebarWidth:25,responseViewMode:"pretty",requestViewMode:"params",showLineNumbers:!0,wordWrap:!1,minimap:!1,autoComplete:!0},e=Ps(Fs.SETTINGS,s);if(e.data.value){const t={...s,...e.data.value};e.data.value.proxy&&(t.proxy={...s.proxy,...e.data.value.proxy}),JSON.stringify(t)!==JSON.stringify(e.data.value)&&(e.data.value=t)}return e}function Uu(){return Ps(Fs.ACTIVE_ENVIRONMENT,null)}function ju(){const s=Ps(Fs.TABS,[]);return Array.isArray(s.data.value)||(s.data.value=[]),s}function zu(){const s=Ps(Fs.CONVERSATIONS,[]);return Array.isArray(s.data.value)||(s.data.value=[]),s}function Oe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}function ps(s="",e="",t=!0){return{key:s,value:e,enabled:t,id:Oe()}}function lo(s=""){const e=s.indexOf("?"),t=e>-1?s.substring(0,e):s,n=e>-1?s.substring(e+1):"",o=[];n&&n.split("&").forEach(p=>{const c=p.indexOf("=");c>-1?o.push(ps(decodeURIComponent(p.substring(0,c)),decodeURIComponent(p.substring(c+1)),!0)):p&&o.push(ps(decodeURIComponent(p),"",!0))});const i=t.indexOf("/",t.indexOf("//")>-1?t.indexOf("//")+2:0),r=i>-1?t.substring(i).split("/").filter(Boolean):[],l=s.indexOf("#"),u=l>-1?s.substring(l+1):void 0;return{raw:t,protocol:s.startsWith("https://")?"https":s.startsWith("http://")?"http":"",host:[],port:void 0,path:r,query:o,hash:u}}function co(s="none"){const e={mode:s,disabled:!1};switch(s){case"raw":e.raw="",e.options={raw:{language:"json"}};break;case"urlencoded":e.urlencoded=[];break;case"formdata":e.formdata=[];break;case"binary":e.file=null;break;case"graphql":e.graphql={query:"",variables:""};break}return e}function In({method:s="GET",url:e="",headers:t=[],body:n=null,auth:o=null}={}){return{method:s,header:t.length?t:[ps("Content-Type","application/json")],url:typeof e=="string"?lo(e):e,body:n||co(),auth:o||null,description:""}}function ar({name:s="New Request",request:e=null,response:t=[]}={}){return{id:Oe(),name:s,request:e||In(),response:t,event:[],protocolProfileBehavior:{}}}function Hu(s="New Collection"){return{id:Oe(),name:s,description:"",schema:"https://schema.getpostman.com/json/collection/v2.1.0/collection.json",version:{major:1,minor:0,patch:0}}}function Bu(s="New Collection"){return{info:Hu(s),item:[],auth:null,event:[],variable:[],protocolProfileBehavior:{}}}function Ju({itemId:s=null,collectionId:e=null,conversationId:t=null,name:n="New Request",method:o="GET",saved:i=!1}={}){return{id:Oe(),itemId:s,collectionId:e,conversationId:t,name:n,method:o,saved:i,active:!1,modified:!1}}const Go={urlencoded:"urlencoded",formdata:"formdata",file:"file",raw:"raw",graphql:"graphql"},Wu=Go,Gu=["oauth1","oauth2"],Ku=["edgegrid"];class Dn{static import(e){const t=[],n=[];if(!e||typeof e!="object")return n.push({type:"structure",message:"Invalid collection data: expected object"}),{collection:null,warnings:t,errors:n};if(!e.info||!e.info.name)return n.push({type:"structure",message:"Invalid collection format: missing info.name"}),{collection:null,warnings:t,errors:n};const o=JSON.parse(JSON.stringify(e));if(o.info.id=Oe(),o.info._postman_id=o.info._postman_id||Oe(),o.event&&o.event.length>0&&t.push({type:"scripts",message:"Collection-level scripts detected. Collection scripts run for all requests and are not supported."}),o.auth){const i=this._checkAuthSupport(o.auth,"collection");i&&t.push(i),o.auth=this._normalizeAuth(o.auth)}if(o.variable&&o.variable.length>0&&(o.variable=o.variable.map(i=>this._normalizeVariable(i))),o.item){const{items:i,itemWarnings:r}=this._processItems(o.item);o.item=i,t.push(...r)}return{collection:o,warnings:t,errors:n}}static export(e){const t=JSON.parse(JSON.stringify(e));return t.info&&(t.info.schema=t.info.schema||"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"),t.item&&(t.item=this._exportItems(t.item)),t.auth&&(t.auth=this._denormalizeAuth(t.auth)),t.variable&&(t.variable=t.variable.map(n=>this._denormalizeVariable(n))),t._postman_exported_at=new Date().toISOString(),t._postman_exported_using="ToastMan",delete t.createdAt,delete t.updatedAt,t}static _processItems(e){const t=[],n=[];for(const o of e)if(o.item&&Array.isArray(o.item)){const i={id:Oe(),name:o.name||"Unnamed Folder",type:"folder",description:this._normalizeDescription(o.description),item:[]};if(o.auth){const u=this._checkAuthSupport(o.auth,`folder "${o.name}"`);u&&n.push(u),i.auth=this._normalizeAuth(o.auth)}o.event&&o.event.length>0&&(n.push({type:"scripts",message:`Folder "${o.name}" has scripts. Folder scripts run for all contained requests and are not supported.`,item:o.name}),i.event=o.event);const{items:r,itemWarnings:l}=this._processItems(o.item);i.item=r,n.push(...l),t.push(i)}else{const{request:i,requestWarnings:r}=this._processRequest(o);t.push(i),n.push(...r)}return{items:t,itemWarnings:n}}static _processRequest(e){const t=[],n={id:Oe(),name:e.name||"Unnamed Request",type:"request",description:this._normalizeDescription(e.description)};if(e.request?typeof e.request=="string"?n.request={method:"GET",url:this._normalizeUrl(e.request),header:[],body:null}:n.request=this._normalizeRequestObject(e.request,e.name,t):(n.request=this._createDefaultRequest(),t.push({type:"missing",message:`Request "${e.name}" has no request data. Created default GET request.`,item:e.name})),e.event&&e.event.length>0){const o=e.event.some(i=>i.listen==="prerequest");e.event.some(i=>i.listen==="test"),o&&t.push({type:"scripts",message:`Request "${e.name}" has pre-request scripts. Pre-request scripts are stored but not executed.`,item:e.name}),n.event=e.event}return e.response&&e.response.length>0&&(n.response=e.response,t.push({type:"responses",message:`Request "${e.name}" has ${e.response.length} saved response(s). Responses are stored for reference.`,item:e.name})),e.protocolProfileBehavior&&(n.protocolProfileBehavior=e.protocolProfileBehavior),{request:n,requestWarnings:t}}static _normalizeRequestObject(e,t,n){const o={method:e.method||"GET",url:this._normalizeUrl(e.url),header:this._normalizeHeaders(e.header),body:this._normalizeBody(e.body,t,n)};if(e.auth){const i=this._checkAuthSupport(e.auth,`request "${t}"`);i&&n.push(i),o.auth=this._normalizeAuth(e.auth)}return e.description&&(o.description=this._normalizeDescription(e.description)),e.proxy&&n.push({type:"proxy",message:`Request "${t}" has proxy configuration. Proxy settings are not supported.`,item:t}),e.certificate&&n.push({type:"certificate",message:`Request "${t}" has SSL certificate configuration. Certificates are not supported.`,item:t}),o}static _normalizeUrl(e){if(!e)return{raw:"",query:[]};if(typeof e=="string")return{raw:e,query:[]};const t={raw:e.raw||"",query:[]};if(!t.raw&&e.protocol&&e.host){const n=Array.isArray(e.host)?e.host.join("."):e.host,o=e.path?Array.isArray(e.path)?e.path.join("/"):e.path:"",i=e.port?`:${e.port}`:"";t.raw=`${e.protocol}://${n}${i}/${o}`}return e.query&&Array.isArray(e.query)&&(t.query=e.query.map(n=>({key:n.key||"",value:n.value||"",enabled:n.disabled!==!0,description:this._normalizeDescription(n.description)}))),e.protocol&&(t.protocol=e.protocol),e.host&&(t.host=e.host),e.path&&(t.path=e.path),e.port&&(t.port=e.port),e.hash&&(t.hash=e.hash),e.variable&&(t.variable=e.variable),t}static _normalizeHeaders(e){return e?typeof e=="string"?[]:e.map(t=>({key:t.key||"",value:t.value||"",enabled:t.disabled!==!0,description:this._normalizeDescription(t.description)})):[]}static _normalizeBody(e,t,n){if(!e||e.disabled)return null;const o={mode:Go[e.mode]||e.mode||"none"};switch(e.mode){case"raw":o.raw=e.raw||"",e.options?.raw?.language&&(o.options={raw:{language:e.options.raw.language}});break;case"urlencoded":o.urlEncoded=(e.urlencoded||[]).map(i=>({key:i.key||"",value:i.value||"",enabled:i.disabled!==!0,description:this._normalizeDescription(i.description)}));break;case"formdata":o.formData=(e.formdata||[]).map(i=>{const r={key:i.key||"",enabled:i.disabled!==!0,type:i.type||"text",description:this._normalizeDescription(i.description)};return i.type==="file"?r.src=i.src:r.value=i.value||"",r});break;case"file":o.binary=e.file||null;break;case"graphql":o.graphql={query:e.graphql?.query||"",variables:e.graphql?.variables||""};break;default:e.mode&&!Go[e.mode]&&n.push({type:"body",message:`Request "${t}" has unknown body mode "${e.mode}".`,item:t})}return o}static _checkAuthSupport(e,t){return!e||!e.type||e.type==="noauth"||e.type==="none"?null:Ku.includes(e.type)?{type:"auth",message:`${t} uses ${e.type} authentication which is not supported.`,item:t}:Gu.includes(e.type)?{type:"auth",message:`${t} uses ${e.type} authentication. Token must be obtained manually.`,item:t}:null}static _normalizeAuth(e){if(!e||!e.type)return null;const t={type:e.type==="noauth"?"none":e.type},n=e[e.type];if(Array.isArray(n)){t[e.type]={};for(const o of n)o.key&&(t[e.type][o.key]=o.value)}else n&&typeof n=="object"&&(t[e.type]=n);return t}static _denormalizeAuth(e){if(!e||!e.type||e.type==="none")return{type:"noauth"};const t={type:e.type},n=e[e.type];return n&&typeof n=="object"&&!Array.isArray(n)?t[e.type]=Object.entries(n).map(([o,i])=>({key:o,value:i,type:"string"})):t[e.type]=n,t}static _normalizeVariable(e){return{id:e.id||Oe(),key:e.key||"",value:e.value||"",type:e.type||"string",enabled:e.disabled!==!0,description:this._normalizeDescription(e.description)}}static _denormalizeVariable(e){const t={id:e.id,key:e.key,value:e.value,type:e.type||"string"};return e.enabled===!1&&(t.disabled=!0),t}static _normalizeDescription(e){return e?typeof e=="string"?e:typeof e=="object"&&e.content?e.content:"":""}static _createDefaultRequest(){return{method:"GET",url:{raw:"",query:[]},header:[],body:null}}static _exportItems(e){return e.map(t=>{if(t.type==="folder"||t.item&&Array.isArray(t.item)){const n={name:t.name,item:this._exportItems(t.item||[])};return t.description&&(n.description=t.description),t.auth&&(n.auth=this._denormalizeAuth(t.auth)),t.event&&(n.event=t.event),n}else return this._exportRequestItem(t)})}static _exportRequestItem(e){const t={name:e.name,request:this._exportRequest(e.request)};return e.description&&(t.description=e.description),e.event&&(t.event=e.event),e.response&&(t.response=e.response),e.protocolProfileBehavior&&(t.protocolProfileBehavior=e.protocolProfileBehavior),t}static _exportRequest(e){if(!e)return{method:"GET",url:""};const t={method:e.method||"GET",url:this._exportUrl(e.url),header:this._exportHeaders(e.header)};return e.body&&(t.body=this._exportBody(e.body)),e.auth&&(t.auth=this._denormalizeAuth(e.auth)),e.description&&(t.description=e.description),t}static _exportUrl(e){if(!e)return"";if(typeof e=="string")return e;const t={raw:e.raw||""};return e.protocol&&(t.protocol=e.protocol),e.host&&(t.host=e.host),e.path&&(t.path=e.path),e.port&&(t.port=e.port),e.hash&&(t.hash=e.hash),e.query&&e.query.length>0&&(t.query=e.query.map(n=>{const o={key:n.key,value:n.value};return n.enabled===!1&&(o.disabled=!0),o})),e.variable&&(t.variable=e.variable),t}static _exportHeaders(e){return e?e.map(t=>{const n={key:t.key,value:t.value};return t.enabled===!1&&(n.disabled=!0),n}):[]}static _exportBody(e){if(!e||e.mode==="none")return null;const n={mode:Wu[e.mode]||e.mode};switch(e.mode){case"raw":n.raw=e.raw||"",e.options&&(n.options=e.options);break;case"x-www-form-urlencoded":n.urlencoded=(e.urlEncoded||[]).map(o=>({key:o.key,value:o.value,disabled:o.enabled===!1}));break;case"form-data":n.formdata=(e.formData||[]).map(o=>({key:o.key,value:o.value,type:o.type||"text",src:o.src,disabled:o.enabled===!1}));break;case"binary":n.file=e.binary;break;case"graphql":n.graphql=e.graphql;break}return n}static summarizeWarnings(e){const t={total:e.length,byType:{},messages:[]};for(const n of e)t.byType[n.type]=(t.byType[n.type]||0)+1,t.messages.push(n.message);return t}}let To=null;function Os(){return To||(To=Xu()),To}function Xu(){const s=bt("collections"),{data:e}=Mu(),t=D(()=>{const V=e.value||[];s.debug("allCollections computed - raw collections.value:",V),s.debug("allCollections computed - is array:",Array.isArray(V));const G=V.filter(J=>J&&J.info&&J.info.id);return s.debug("allCollections computed - filtered result:",G.length,"items"),G}),n=D(()=>t.value.reduce((V,G)=>V+(G.item?.length||0),0)),o=(V="New Collection")=>{s.info("Creating collection with name:",V);const G=Bu(V);return s.debug("Created collection object:",G),e.value||(e.value=[]),e.value.push(G),s.info("Collections array after push - length:",e.value.length),s.debug("Full collections array:",e.value),G},i=V=>e.value.find(G=>G.info.id===V),r=(V,G)=>{const J=i(V);return J&&Object.assign(J.info,G),J},l=V=>{const G=e.value.findIndex(J=>J.info.id===V);return G>-1?(e.value.splice(G,1),!0):!1},u=V=>{const G=i(V);if(G){const J=JSON.parse(JSON.stringify(G));return J.info.id=Oe(),J.info.name=`${G.info.name} Copy`,J.item=J.item.map(W=>({...W,id:Oe()})),e.value.push(J),J}return null},p=(V,G=null)=>{const J=i(V);if(J){const W=ar({name:"New Request",request:G||In()});return J.item.push(W),W}return null},c=(V,G)=>{const J=i(V);if(J){const W=oe=>{for(const fe of oe){if(fe.id===G&&(fe.type==="request"||!fe.type&&fe.request))return fe;if((fe.type==="folder"||!fe.type&&fe.item)&&fe.item){const we=W(fe.item);if(we)return we}}return null};return W(J.item||[])}return null},d=(V,G,J)=>{const W=c(V,G);return W&&(J.name!==void 0&&(W.name=J.name),J.request&&f(W.request,J.request)),W},f=(V,G)=>{for(const J in G)if(Object.prototype.hasOwnProperty.call(G,J)){const W=G[J],oe=V[J];m(W)&&m(oe)?f(oe,W):V[J]=W}},m=V=>V!==null&&typeof V=="object"&&!Array.isArray(V)&&Object.prototype.toString.call(V)==="[object Object]",w=(V,G)=>{const J=i(V);if(J){const W=J.item.findIndex(oe=>oe.id===G);if(W>-1)return J.item.splice(W,1),!0}return!1},y=(V,G)=>{const J=c(V,G);if(J){const W=JSON.parse(JSON.stringify(J));W.id=Oe(),W.name=`${J.name} Copy`;const oe=i(V);if(oe)return oe.item.push(W),W}return null},S=(V,G,J)=>{const W=i(V),oe=i(G);if(W&&oe){const fe=W.item.findIndex(we=>we.id===J);if(fe>-1){const[we]=W.item.splice(fe,1);return oe.item.push(we),we}}return null},U=V=>{const G=[],J=V.toLowerCase();return e.value.forEach(W=>{W.item.forEach(oe=>{const fe=oe.name.toLowerCase().includes(J),we=oe.request?.url?.raw?.toLowerCase().includes(J)||!1,Ie=(oe.request?.method||oe.method||"").toLowerCase().includes(J);(fe||we||Ie)&&G.push({collection:W.info,item:oe})})}),G},A=V=>{const G=[];return e.value.forEach(J=>{J.item.forEach(W=>{(W.request?.method||W.method)===V&&G.push({collection:J.info,item:W})})}),G},F=(V,G)=>{const J=i(V);if(!J)return null;const W=oe=>{for(const fe of oe){if(fe.id===G)return{item:fe,parent:oe};if(fe.item&&Array.isArray(fe.item)){const we=W(fe.item);if(we)return we}}return null};return W(J.item||[])},q=(V,G,J=null)=>{const W=F(V,G);if(W&&W.item.item){const oe=ar({name:"New Request",request:J||In()});return W.item.item.push(oe),oe}return null},H=(V,G="New Folder")=>{const J=i(V);if(J){const W={id:Oe(),name:G,type:"folder",item:[]};return J.item.push(W),W}return null},k=(V,G,J="New Folder")=>{const W=F(V,G);if(W&&W.item.item){const oe={id:Oe(),name:J,type:"folder",item:[]};return W.item.item.push(oe),oe}return null},x=(V,G,J)=>{const W=F(V,G);return W?(W.item.name=J,W.item):null},T=(V,G)=>{const J=F(V,G);if(J){const W=JSON.parse(JSON.stringify(J.item)),oe=fe=>{fe.id=Oe(),fe.item&&Array.isArray(fe.item)&&fe.item.forEach(oe)};return oe(W),W.name=`${W.name} Copy`,J.parent.push(W),W}return null},I=(V,G)=>{const J=F(V,G);if(J){const W=J.parent.indexOf(J.item);if(W>-1)return J.parent.splice(W,1),!0}return!1},E=V=>{const G=i(V);return G?{...G,_postman_exported_at:new Date().toISOString(),_postman_exported_using:"ToastMan"}:null},$=(V,G={})=>{const{appendImportedSuffix:J=!0}=G;try{s.info("Importing collection using PostmanAdapter");const W=Dn.import(V);if(W.errors.length>0&&!W.collection){const fe=W.errors.map(we=>we.message).join("; ");throw new Error(fe)}const oe=W.collection;if(J&&(oe.info.name=`${oe.info.name} (Imported)`),W.warnings.length>0){const fe=Dn.summarizeWarnings(W.warnings);s.info(`Collection imported with ${fe.total} warning(s):`,fe.byType),W.warnings.forEach(we=>{s.debug(`[${we.type}] ${we.message}`)})}return e.value.push(oe),s.info("Successfully imported collection:",oe.info.name),{collection:oe,warnings:W.warnings,errors:W.errors}}catch(W){throw s.error("Failed to import collection:",W),W}},N=V=>{const G=i(V);return G?Dn.export(G):null},B=async()=>{if(await je(),!e.value||e.value.length===0){const V=o("My Collection");p(V.info.id,In({method:"GET",url:"https://api.example.com/users"}))}};return s.info("Collections store initialized, current data length:",e.value?.length||0),{collections:t,totalRequests:n,createCollection:o,getCollection:i,updateCollection:r,deleteCollection:l,duplicateCollection:u,addRequest:p,getRequest:c,updateRequest:d,deleteRequest:w,duplicateRequest:y,moveRequest:S,addFolderToCollection:H,addRequestToFolder:q,addFolderToFolder:k,renameFolder:x,duplicateFolder:T,deleteFolder:I,searchRequests:U,getRequestsByMethod:A,exportCollection:E,exportCollectionToPostman:N,importCollection:$,initializeDefaultData:B}}let $o=null;function hn(){return $o||($o=Yu()),$o}function Yu(){const s=bt("tabs"),{data:e}=ju(),t=Os(),n=D(()=>e.value||[]),o=D(()=>n.value.find(E=>E.active)),i=D(()=>n.value.filter(E=>!E.closed)),r=D(()=>n.value.filter(E=>!E.saved&&E.modified)),l=({itemId:E=null,collectionId:$=null,conversationId:N=null,name:B="New Request",method:V="GET"}={})=>{n.value.forEach(J=>{J.active=!1});const G=Ju({itemId:E,collectionId:$,conversationId:N,name:B,method:V});return G.active=!0,e.value.push(G),G},u=(E,$)=>{const N=t.getCollection(E),B=t.getRequest(E,$);if(!N||!B)return s.warn("Collection or request not found - collection:",!!N,"request:",!!B),null;s.debug("Opening request with structure:",{requestId:$,requestName:B.name,hasNestedRequest:!!B.request,requestMethod:B.request?.method||B.method,requestStructure:Object.keys(B)});const V=n.value.find(J=>J.itemId===$&&J.collectionId===E);return V?(c(V.id),V):l({itemId:$,collectionId:E,name:B.name||"Unnamed Request",method:B.request?.method||B.method||"GET"})},p=E=>n.value.find($=>$.id===E),c=E=>{n.value.forEach($=>{$.active=$.id===E})},d=(E,$)=>{const N=p(E);return N&&(Object.assign(N,$),N.itemId&&$.name!==void 0&&(N.modified=!0)),N},f=E=>{const $=e.value.findIndex(V=>V.id===E);if($===-1)return!1;const B=e.value[$].active;if(e.value.splice($,1),B&&e.value.length>0){const V=e.value[Math.max(0,$-1)];c(V.id)}return!0},m=()=>{e.value.length=0},w=E=>{const $=p(E);$&&(e.value.length=0,e.value.push($),c(E))},y=E=>{const $=p(E);if($){const N=l({itemId:$.itemId,collectionId:$.collectionId,name:`${$.name} Copy`,method:$.method});return N.saved=!1,N.modified=!0,N}return null},S=E=>{const $=p(E);$&&($.saved=!0,$.modified=!1)},U=E=>{const $=p(E);$&&($.modified=!0)},A=E=>{const $=p(E);if($&&$.itemId&&$.collectionId){const N=t.getRequest($.collectionId,$.itemId);N&&($.name=N.name,$.method=N.request?.method||N.method||"GET",$.saved=!0,$.modified=!1)}},F=E=>{const $=n.value.findIndex(N=>N.id===E);return $>=0&&$<n.value.length-1?n.value[$+1]:null},q=E=>{const $=n.value.findIndex(N=>N.id===E);return $>0?n.value[$-1]:null},H=(E,$)=>{const N=n.value.findIndex(B=>B.id===E);if(N>=0&&$>=0&&$<n.value.length){const[B]=n.value.splice(N,1);n.value.splice($,0,B)}},k=E=>{const $=p(E);if(!$)return null;if($.itemId&&$.collectionId)return t.updateRequest($.collectionId,$.itemId,{name:$.name}),S(E),{action:"updated",tab:$};{let N=$.collectionId;N||(t.collections.value.length===0?N=t.createCollection("My Collection").info.id:N=t.collections.value[0].info.id);const B=t.addRequest(N);if(B)return t.updateRequest(N,B.id,{name:$.name}),$.itemId=B.id,$.collectionId=N,S(E),{action:"created",tab:$,request:B}}return null},x=()=>{const E=[];return r.value.forEach($=>{const N=k($.id);N&&E.push(N)}),E},T=()=>{const E=[];return n.value.forEach($=>{if($.itemId&&$.collectionId){if(!t.getCollection($.collectionId)){E.push($.id);return}t.getRequest($.collectionId,$.itemId)||E.push($.id)}}),E.forEach($=>{f($)}),E.length};ge(()=>t.collections.value,()=>{je(()=>{n.value.forEach(E=>{E.itemId&&E.collectionId&&A(E.id)}),T()})},{deep:!0});const I=async()=>{if(await je(),n.value.length===0){s.info("Creating initial tab...");const E=l({name:"New Request",method:"GET"});s.info("Created initial tab with ID:",E.id)}else!o.value&&n.value.length>0&&c(n.value[0].id)};return s.info("Tabs store initialized, current tab count:",n.value.length),{tabs:n,activeTab:o,activeTabs:i,unsavedTabs:r,createTab:l,openRequest:u,getTab:p,setActiveTab:c,updateTab:d,closeTab:f,closeAllTabs:m,closeOtherTabs:w,duplicateTab:y,markTabAsSaved:S,markTabAsModified:U,syncTabWithRequest:A,getNextTab:F,getPreviousTab:q,moveTab:H,saveTab:k,saveAllTabs:x,cleanupOrphanedTabs:T,initializeDefaultData:I}}const Qu=16,Zu=32,ed=48,td=4;function sd(s,e){if(e===0)return!0;const t=s[e],n=s[e-1];return!!(n===n.toLowerCase()&&t===t.toUpperCase()&&t!==t.toLowerCase()||["-","_","/","."," "].includes(n))}function Ao(s,e){if(!s||!e)return{match:!s,score:0};const t=s.toLowerCase(),n=e.toLowerCase();for(const p of t)if(!n.includes(p))return{match:!1,score:0};let o=0,i=0,r=-1,l=0;for(let p=0;p<e.length&&i<s.length;p++)if(n[p]===t[i]){let c=0;if(p===0&&(c+=ed),sd(e,p)&&(c+=Zu),r===p-1)l++,c+=Qu*l;else if(l=1,r>=0){const d=p-r-1;c-=td*d}o+=c,r=p,i++}const u=i===s.length;return u&&s.length>0&&(o=o/s.length),{match:u,score:u?o:0}}function nd(s,e){if(!s)return{match:!0,score:0};const t=e.name||"",n=typeof e.url=="string"?e.url:e.url?.raw||"",o=e.method||"",i=Ao(s,t),r=Ao(s,n),l=Ao(s,o),u=i.score,p=r.score*.8,c=l.score*.6,d=i.match||r.match||l.match,f=Math.max(u,p,c);return{match:d,score:f}}class od extends We{constructor(){super("collections"),this.createState({expandedCollections:new Set,showNewCollectionDialog:!1,searchQuery:"",filterMethod:null}),this.collectionsStore=Os(),this.tabsStore=hn()}init(){super.init(),this.collectionsStore||(this.collectionsStore=Os()),this.tabsStore||(this.tabsStore=hn()),this.logger.debug("Initializing computed properties"),this.logger.debug("Collections store available:",!!this.collectionsStore),this.logger.debug("Store collections value:",this.collectionsStore?.collections?.value),this.collections=this.createComputed("collections",()=>{if(!this.collectionsStore)return this.logger.warn("Collections store not available"),[];const e=this.collectionsStore.collections.value||[];if(this.logger.debug("Raw collections from store:",e.length,"items"),this.logger.debug("Collections data:",JSON.stringify(e)),!Array.isArray(e))return this.logger.warn("Collections is not an array:",e),[];const t=e.map(n=>{try{return new nn(n)}catch(o){return this.logger.error("Failed to parse collection:",o),n}});return this.logger.debug("Processed collections:",t.length,"items"),t}),this.logger.debug("Collections computed created, test value:",this.getComputed("collections")),this.filteredCollections=this.createComputed("filteredCollections",()=>{const e=this.getComputed("collections");if(!e||!Array.isArray(e))return[];const t=this.state.searchQuery.trim();return!t&&!this.state.filterMethod?e:e.map(n=>{try{const o=new nn(n.toJSON());return o.item=this.filterItems(n.item,t,this.state.filterMethod),o}catch(o){return this.logger.error("Failed to filter collection:",o),n}}).filter(n=>n.item&&n.item.length>0)}),this.createWatcher(()=>this.getComputed("collections"),(e,t)=>{if(e&&e.length>0&&(!t||t.length===0)&&this.state&&this.state.expandedCollections&&this.state.expandedCollections.size===0){const n=e[0];n?.info?.id&&(this.logger.info("Auto-expanding first collection:",n.info.name),this.state.expandedCollections.add(n.info.id))}},{immediate:!1})}filterItems(e,t,n){if(!e)return[];const o=[];for(const i of e){if(i.item&&Array.isArray(i.item)){const l=this.filterItems(i.item,t,n);if(l.length>0){const u=Object.assign(Object.create(Object.getPrototypeOf(i)),i,{item:l}),p=l.reduce((c,d)=>Math.max(c,d._fuzzyScore||0),0);u._fuzzyScore=p,o.push(u)}continue}if(!i.request)continue;const r=i.request.method||"GET";if(!(n&&r!==n))if(t){const l=typeof i.request.url=="string"?i.request.url:i.request.url?.raw||"",u={name:i.name||"",url:l,method:r},{match:p,score:c}=nd(t,u);if(!p)continue;i._fuzzyScore=c,o.push(i)}else i._fuzzyScore=0,o.push(i)}return t&&o.length>0&&o.sort((i,r)=>(r._fuzzyScore||0)-(i._fuzzyScore||0)),o}toggleCollection(e){this.state.expandedCollections.has(e)?(this.state.expandedCollections.delete(e),this.logger.debug(`Collapsed collection: ${e}`)):(this.state.expandedCollections.add(e),this.logger.debug(`Expanded collection: ${e}`))}isCollectionExpanded(e){return this.state.expandedCollections.has(e)}openRequest(e,t){this.logger.info(`Opening request: ${t} from collection: ${e}`),this.tabsStore.openRequest(e,t),this.emit("requestOpened",{collectionId:e,requestId:t})}async createCollection(e){const t=await this.executeAsync(async()=>{const n=this.validate(nn,{info:{name:e}});if(!n.valid)throw new Error(n.error);const o=this.collectionsStore.createCollection(e);return this.logger.info("Created collection:",o?.info?.name,"with ID:",o?.info?.id),o?.info?.id&&this.state.expandedCollections.add(o.info.id),o},"Failed to create collection");return t.success&&(this.state.showNewCollectionDialog=!1,this.emit("collectionCreated",t.data)),t}async deleteCollection(e){const t=await this.executeAsync(async()=>{this.collectionsStore.deleteCollection(e),this.state.expandedCollections.delete(e),this.logger.info(`Deleted collection: ${e}`)},"Failed to delete collection");return t.success&&this.emit("collectionDeleted",e),t}searchCollections(e){this.state.searchQuery=e,this.logger.debug("Searching collections with query:",e)}filterByMethod(e){this.state.filterMethod=e,this.logger.debug("Filtering by method:",e)}clearFilters(){this.state.searchQuery="",this.state.filterMethod=null,this.logger.debug("Cleared filters")}toggleNewCollectionDialog(e){this.state.showNewCollectionDialog=e}getMethodColor(e){return{GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)",HEAD:"var(--color-head)",OPTIONS:"var(--color-options)"}[e]||"var(--color-text-secondary)"}addFolderToCollection(e,t){this.logger.info(`Adding folder to collection ${e}: ${t}`);const n=this.collectionsStore.addFolderToCollection(e,t);return n&&this.emit("folderAddedToCollection",{collectionId:e,folder:n}),n}addRequestToFolder(e,t){this.logger.info(`Adding request to folder ${t} in collection ${e}`);const n=this.collectionsStore.addRequestToFolder(e,t);return n&&this.emit("requestAddedToFolder",{collectionId:e,folderId:t,request:n}),n}addFolderToFolder(e,t,n="New Folder"){this.logger.info(`Adding folder to folder ${t} in collection ${e}`);const o=this.collectionsStore.addFolderToFolder(e,t,n);return o&&this.emit("folderAddedToFolder",{collectionId:e,parentFolderId:t,folder:o}),o}async renameFolder(e,t,n){if(n&&n.trim()){this.logger.info(`Renaming folder ${t} to ${n}`);const o=this.collectionsStore.renameFolder(e,t,n.trim());return o&&this.emit("folderRenamed",{collectionId:e,folderId:t,folder:o}),o}return null}duplicateFolder(e,t){this.logger.info(`Duplicating folder ${t} in collection ${e}`);const n=this.collectionsStore.duplicateFolder(e,t);return n&&this.emit("folderDuplicated",{collectionId:e,originalFolderId:t,duplicatedFolder:n}),n}async deleteFolder(e,t){this.logger.info(`Deleting folder ${t} from collection ${e}`);const n=this.collectionsStore.deleteFolder(e,t);return n&&this.emit("folderDeleted",{collectionId:e,folderId:t}),n}}class id extends We{constructor(){super("CollectionsTabController"),this.collectionsController=new od,this.init()}init(){super.init(),this.collectionsController.init(),this.createState({contextMenuRefs:{collection:null,request:null,folder:null},showNewFolderDialog:!1,newFolderDialogData:null}),this.collectionsController.on("collectionCreated",e=>{this.emit("collectionCreated",e)}),this.collectionsController.on("collectionDeleted",e=>{this.emit("collectionDeleted",e)})}setContextMenuRefs(e,t,n){this.state.contextMenuRefs.collection=e,this.state.contextMenuRefs.request=t,this.state.contextMenuRefs.folder=n,e?.controller&&e.controller.on("showFolderDialog",o=>{this.showNewFolderDialog(o)}),n?.controller&&n.controller.on("showFolderDialog",o=>{this.showNewFolderDialog(o)})}getComputed(e){return this.collectionsController.getComputed(e)}toggleCollection(e){return this.collectionsController.toggleCollection(e)}openRequest(e,t){return this.collectionsController.openRequest(e,t)}toggleNewCollectionDialog(e){return this.collectionsController.toggleNewCollectionDialog(e)}isCollectionExpanded(e){return this.collectionsController.isCollectionExpanded(e)}getMethodColor(e){return this.collectionsController.getMethodColor(e)}searchCollections(e){return this.collectionsController.searchCollections(e)}clearFilters(){return this.collectionsController.clearFilters()}async createCollection(e){return this.collectionsController.createCollection(e)}async deleteCollection(e){return this.collectionsController.deleteCollection(e)}showContextMenu(e,t){const n=this.state.contextMenuRefs.collection;n&&n.show(e,t)}showRequestContextMenu(e,t,n){e.stopPropagation();const o=this.state.contextMenuRefs.request;o&&o.show(e,t,n)}showFolderContextMenu(e,t,n){e.stopPropagation();const o=this.state.contextMenuRefs.folder;o&&o.show(e,t,n)}handleContextAction(e,t){this.logger.info("Context action:",e,t)}handleRequestContextAction(e,t){this.logger.info("Request context action:",e,t)}handleFolderContextAction(e,t){this.logger.info("Folder context action:",e,t)}getCollectionsState(){return this.collectionsController.state}getCollections(){return this.getComputed("collections")||[]}getFilteredCollections(){return this.getComputed("filteredCollections")||[]}showNewFolderDialog(e){this.state.newFolderDialogData=e,this.state.showNewFolderDialog=!0,this.logger.info("Showing folder dialog for:",e.type,"collection:",e.collectionId)}hideNewFolderDialog(){this.state.showNewFolderDialog=!1,this.state.newFolderDialogData=null}validateState(){const e=[];return this.collectionsController||e.push("Collections controller not initialized"),this.state.contextMenuRefs||e.push("Context menu references not set"),{isValid:e.length===0,errors:e}}getDebugInfo(){return{controller:"CollectionsTabController",collectionsControllerState:this.collectionsController?.state,contextMenuRefs:{collection:!!this.state.contextMenuRefs?.collection,request:!!this.state.contextMenuRefs?.request,folder:!!this.state.contextMenuRefs?.folder},validation:this.validateState()}}dispose(){this.collectionsController&&this.collectionsController.dispose(),super.dispose()}}class Ia extends We{constructor(e){super(e),this.createState({visible:!1,loading:!1,errors:{},formData:{}}),this.resetFormData()}open(e={}){this.state.visible=!0,this.state.errors={},this.state.loading=!1,e&&Object.keys(e).length>0?this.state.formData={...e}:this.resetFormData(),this.logger.debug(`${this.name} dialog opened`),this.emit("opened",e)}close(){this.state.visible=!1,this.state.errors={},this.state.loading=!1,this.resetFormData(),this.logger.debug(`${this.name} dialog closed`),this.emit("closed")}resetFormData(){this.state.formData={}}validateForm(){return this.state.errors={},!0}async submit(){if(!this.validateForm())return this.logger.warn("Form validation failed"),{success:!1,errors:this.state.errors};this.state.loading=!0;const e=await this.executeAsync(async()=>{const t=await this.processSubmit(this.state.formData);return this.logger.info(`${this.name} dialog submitted successfully`),t},`Failed to submit ${this.name} dialog`);return this.state.loading=!1,e.success?(this.emit("submitted",e.data),this.close()):this.handleSubmitError(e.error),e}async processSubmit(e){return e}handleSubmitError(e){e.validationErrors?this.state.errors=e.validationErrors:this.state.errors={general:e.message||"An error occurred"},this.logger.error("Submit error:",e),this.emit("submitError",e)}cancel(){if(this.state.loading){this.logger.warn("Cannot cancel while loading");return}this.logger.debug(`${this.name} dialog cancelled`),this.emit("cancelled"),this.close()}setFieldError(e,t){this.state.errors[e]=t}clearFieldError(e){delete this.state.errors[e]}clearErrors(){this.state.errors={}}updateFormField(e,t){this.state.formData[e]=t,this.clearFieldError(e)}hasErrors(){return Object.keys(this.state.errors).length>0}isVisible(){return this.state.visible}isLoading(){return this.state.loading}async confirmClose(){return this.hasUnsavedChanges()?new Promise(e=>{this.emit("confirmClose",{resolve:e})}):!0}hasUnsavedChanges(){return!1}}const it=se({show:!1,title:"",message:"",type:"info",confirmText:"OK",cancelText:null,showInput:!1,inputPlaceholder:"",inputValue:"",resolve:null,reject:null});function Ns(){const s=m=>new Promise((w,y)=>{it.value={show:!0,title:m.title||"Alert",message:m.message||"",type:m.type||"info",confirmText:m.confirmText||"OK",cancelText:m.cancelText||null,showInput:!1,inputPlaceholder:"",inputValue:"",resolve:as(w),reject:as(y)}}),e=m=>new Promise((w,y)=>{it.value={show:!0,title:m.title||"Confirm",message:m.message||"",type:m.type||"warning",confirmText:m.confirmText||"Confirm",cancelText:m.cancelText||"Cancel",showInput:!1,inputPlaceholder:"",inputValue:"",resolve:as(w),reject:as(y)}}),t=m=>new Promise((w,y)=>{it.value={show:!0,title:m.title||"Input Required",message:m.message||"",type:"info",confirmText:m.confirmText||"OK",cancelText:m.cancelText||"Cancel",showInput:!0,inputPlaceholder:m.placeholder||"",inputValue:m.defaultValue||"",resolve:as(w),reject:as(y)}}),n=m=>{it.value.resolve&&it.value.resolve(m),i()},o=()=>{it.value.resolve&&it.value.resolve(it.value.showInput?null:!1),i()},i=()=>{it.value.show=!1,it.value.resolve=null,it.value.reject=null};return{alertState:it,showAlert:s,showConfirm:e,showPrompt:t,handleConfirm:n,handleCancel:o,closeAlert:i,alert:(m,w="Alert")=>s({message:m,title:w,type:"info"}),alertError:(m,w="Error")=>s({message:m,title:w,type:"error"}),alertWarning:(m,w="Warning")=>s({message:m,title:w,type:"warning"}),alertSuccess:(m,w="Success")=>s({message:m,title:w,type:"success"}),confirm:(m,w="Confirm")=>e({message:m,title:w,type:"warning"}),confirmDelete:(m,w="Delete Confirmation")=>e({message:m,title:w,type:"error",confirmText:"Delete",cancelText:"Cancel"}),prompt:(m,w="",y="Input Required")=>t({message:m,defaultValue:w,title:y})}}class rd extends Ia{constructor(){super("new-collection"),this.collectionsStore=Os(),this.alertService=Ns()}resetFormData(){this.state.formData={name:"",description:"",template:"blank",importData:null}}validateForm(){return this.clearErrors(),!this.state.formData.name||this.state.formData.name.trim().length===0?(this.setFieldError("name","Collection name is required"),!1):this.state.formData.name.trim().length<2?(this.setFieldError("name","Collection name must be at least 2 characters"),!1):this.state.formData.name.trim().length>100?(this.setFieldError("name","Collection name must be less than 100 characters"),!1):this.isNameTaken(this.state.formData.name.trim())?(this.setFieldError("name","A collection with this name already exists"),!1):this.state.formData.description&&this.state.formData.description.length>500?(this.setFieldError("description","Description must be less than 500 characters"),!1):this.state.formData.template==="import"&&!this.state.formData.importData?(this.setFieldError("import","Please select a file to import"),!1):!0}isNameTaken(e){return(this.collectionsStore.collections?.value||this.collectionsStore.collections||[]).some(n=>n.info?.name.toLowerCase()===e.toLowerCase())}async processSubmit(e){const{name:t,description:n,template:o,importData:i}=e;let r;switch(o){case"blank":r=await this.createBlankCollection(t.trim(),n.trim());break;case"rest-api":r=await this.createRestApiTemplate(t.trim(),n.trim());break;case"graphql":r=await this.createGraphQLTemplate(t.trim(),n.trim());break;case"import":r=await this.importCollection(i,t.trim(),n.trim());break;default:throw new Error(`Unknown template: ${o}`)}return this.logger.info(`Created collection: ${r.info.name}`),r}async createBlankCollection(e,t){const n=this.collectionsStore.createCollection(e);return t&&this.collectionsStore.updateCollection(n.info.id,{description:t}),n}async createRestApiTemplate(e,t){const n=this.collectionsStore.createCollection(e);return t&&this.collectionsStore.updateCollection(n.info.id,{description:t}),[{name:"Get Users",request:{method:"GET",url:{raw:"https://jsonplaceholder.typicode.com/users",protocol:"https",host:["jsonplaceholder","typicode","com"],path:["users"]},header:[{key:"Accept",value:"application/json",enabled:!0}]}},{name:"Create User",request:{method:"POST",url:{raw:"https://jsonplaceholder.typicode.com/users",protocol:"https",host:["jsonplaceholder","typicode","com"],path:["users"]},header:[{key:"Content-Type",value:"application/json",enabled:!0},{key:"Accept",value:"application/json",enabled:!0}],body:{mode:"raw",raw:JSON.stringify({name:"John Doe",email:"john@example.com",username:"johndoe"},null,2),options:{raw:{language:"json"}}}}},{name:"Update User",request:{method:"PUT",url:{raw:"https://jsonplaceholder.typicode.com/users/1",protocol:"https",host:["jsonplaceholder","typicode","com"],path:["users","1"]},header:[{key:"Content-Type",value:"application/json",enabled:!0},{key:"Accept",value:"application/json",enabled:!0}],body:{mode:"raw",raw:JSON.stringify({name:"Jane Doe",email:"jane@example.com"},null,2),options:{raw:{language:"json"}}}}},{name:"Delete User",request:{method:"DELETE",url:{raw:"https://jsonplaceholder.typicode.com/users/1",protocol:"https",host:["jsonplaceholder","typicode","com"],path:["users","1"]},header:[{key:"Accept",value:"application/json",enabled:!0}]}}].forEach(i=>{this.collectionsStore.addRequest(n.info.id,i.request);const r=this.collectionsStore.getCollection(n.info.id),l=r.item[r.item.length-1];l&&(l.name=i.name)}),n}async createGraphQLTemplate(e,t){const n=this.collectionsStore.createCollection(e);return t&&this.collectionsStore.updateCollection(n.info.id,{description:t}),[{name:"Get Users Query",request:{method:"POST",url:{raw:"https://api.graphql.example.com/graphql",protocol:"https",host:["api","graphql","example","com"],path:["graphql"]},header:[{key:"Content-Type",value:"application/json",enabled:!0},{key:"Accept",value:"application/json",enabled:!0}],body:{mode:"graphql",graphql:{query:`query GetUsers {
  users {
    id
    name
    email
  }
}`,variables:"{}"}}}},{name:"Create User Mutation",request:{method:"POST",url:{raw:"https://api.graphql.example.com/graphql",protocol:"https",host:["api","graphql","example","com"],path:["graphql"]},header:[{key:"Content-Type",value:"application/json",enabled:!0},{key:"Accept",value:"application/json",enabled:!0}],body:{mode:"graphql",graphql:{query:`mutation CreateUser($input: CreateUserInput!) {
  createUser(input: $input) {
    id
    name
    email
  }
}`,variables:JSON.stringify({input:{name:"John Doe",email:"john@example.com"}},null,2)}}}}].forEach(i=>{this.collectionsStore.addRequest(n.info.id,i.request);const r=this.collectionsStore.getCollection(n.info.id),l=r.item[r.item.length-1];l&&(l.name=i.name)}),n}async importCollection(e,t,n){let o;try{o=JSON.parse(e)}catch{throw new Error("Invalid JSON file")}if(!o.info)throw new Error("Not a valid Postman collection");t&&t!==o.info.name&&(o.info.name=t),n&&(o.info.description=n);const i=this.collectionsStore.importCollection(o,{appendImportedSuffix:!1});if(i.warnings&&i.warnings.length>0){const r=Dn.summarizeWarnings(i.warnings);this._showImportWarnings(r)}return i.collection}_showImportWarnings(e){const t=[];e.byType.scripts&&t.push(`${e.byType.scripts} script(s) detected (scripts are stored but not executed)`),e.byType.auth&&t.push(`${e.byType.auth} authentication warning(s) (some auth types require manual configuration)`),e.byType.proxy&&t.push("Proxy configuration not supported"),e.byType.certificate&&t.push("SSL certificate configuration not supported"),e.byType.responses&&t.push("Saved responses imported for reference");const n=t.length>0?`Collection imported with ${e.total} notice(s):

 ${t.join(`
 `)}`:`Collection imported with ${e.total} notice(s). Check console for details.`;this.alertService.alertWarning(n,"Import Notices")}async handleFileSelect(e){if(!e)return;if(!e.name.endsWith(".json")){this.setFieldError("import","Please select a JSON file");return}if(e.size>10*1024*1024){this.setFieldError("import","File size must be less than 10MB");return}const t=await this.executeAsync(async()=>{const n=await this.readFile(e);try{if(!JSON.parse(n).info)throw new Error("Not a valid Postman collection");return n}catch{throw new Error("Invalid JSON or not a Postman collection")}},"Failed to read file");if(t.success){this.state.formData.importData=t.data;const n=JSON.parse(t.data);n.info?.name&&!this.state.formData.name&&(this.state.formData.name=n.info.name),n.info?.description&&!this.state.formData.description&&(this.state.formData.description=n.info.description),this.clearFieldError("import"),this.logger.info("File loaded successfully:",e.name)}else this.setFieldError("import",t.error.message)}async readFile(e){return new Promise((t,n)=>{const o=new FileReader;o.onload=i=>t(i.target.result),o.onerror=i=>n(new Error("Failed to read file")),o.readAsText(e)})}updateField(e,t){this.updateFormField(e,t),e==="template"&&(this.clearFieldError("import"),t!=="import"&&(this.state.formData.importData=null))}getTemplates(){return[{id:"blank",name:"Blank Collection",description:"Start with an empty collection",icon:""},{id:"rest-api",name:"REST API",description:"Collection with sample REST API requests",icon:""},{id:"graphql",name:"GraphQL",description:"Collection with sample GraphQL queries",icon:""},{id:"import",name:"Import from File",description:"Import an existing Postman collection",icon:""}]}getImportPreview(){if(!this.state.formData.importData)return null;try{const e=JSON.parse(this.state.formData.importData);return{name:e.info?.name||"Unknown",description:e.info?.description||"",requestCount:this.countRequests(e.item||[]),folderCount:this.countFolders(e.item||[])}}catch{return null}}countRequests(e){let t=0;for(const n of e)n.request?t++:n.item&&(t+=this.countRequests(n.item));return t}countFolders(e){let t=0;for(const n of e)n.item&&(t++,t+=this.countFolders(n.item));return t}}const be=(s,e)=>{const t=s.__vccOpts||s;for(const[n,o]of e)t[n]=o;return t},ad={class:"dialog-header"},ld={class:"dialog-title"},cd={class:"dialog-content"},ud={key:0,class:"dialog-footer"},dd={__name:"BaseDialog",props:{title:{type:String,required:!0},width:{type:String,default:"600px"},height:{type:String,default:"auto"}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=()=>{n("close")},i=l=>{l.key==="Escape"&&o()},r=l=>{l.target===l.currentTarget&&o()};return Ne(()=>{document.addEventListener("keydown",i),document.body.style.overflow="hidden"}),pt(()=>{document.removeEventListener("keydown",i),document.body.style.overflow=""}),(l,u)=>(v(),_("div",{class:"dialog-backdrop",onClick:r},[a("div",{class:"dialog-container",style:De({width:t.width,height:t.height==="auto"?"auto":t.height,maxHeight:t.height==="auto"?"90vh":t.height})},[a("div",ad,[a("h2",ld,R(t.title),1),a("button",{class:"close-button",onClick:o},"  ")]),a("div",cd,[cn(l.$slots,"default",{},void 0,!0)]),l.$slots.footer?(v(),_("div",ud,[cn(l.$slots,"footer",{},void 0,!0)])):z("",!0)],4)]))}},Ms=be(dd,[["__scopeId","data-v-8be87e95"]]),pd={class:"dialog-content"},fd={class:"form-group"},hd={key:0,class:"error-text"},md={class:"form-group"},gd={key:0,class:"error-text"},vd={class:"form-group"},yd={class:"template-grid"},bd=["onClick"],wd={class:"template-icon"},xd={class:"template-name"},_d={class:"template-description"},Cd={key:0,class:"form-group"},Sd={class:"file-input-group"},Ed={for:"import-file",class:"file-input-label"},kd={key:0},Td={key:1},$d={key:0,class:"error-text"},Ad={key:1,class:"import-preview"},Rd={class:"preview-item"},qd={key:0,class:"preview-item"},Od={class:"preview-item"},Id={class:"preview-item"},Dd=["disabled"],Fd=["disabled"],Pd={__name:"NewCollectionDialog",emits:["close","create"],setup(s,{emit:e}){const t=e,n=new rd,o=n.state,i=async()=>{(await n.submit()).success&&t("close")},r=async()=>{await n.confirmClose()&&(n.close(),t("close"))},l=(f,m)=>n.updateField(f,m),u=f=>{const m=f.target.files[0];m&&n.handleFileSelect(m)},p=n.getTemplates(),c=n.getImportPreview(),d=se(null);return Ne(()=>{n.open(),setTimeout(()=>{d.value?.focus()},100)}),pt(()=>{n.dispose()}),(f,m)=>(v(),pe(Ms,{title:"New Collection",width:"600px",onClose:r},{footer:Pe(()=>[a("button",{onClick:r,class:"cancel-btn",disabled:L(o).loading}," Cancel ",8,Dd),a("button",{onClick:i,class:"primary create-btn",disabled:L(o).loading||!L(o).formData.name?.trim()||L(n).hasErrors()},R(L(o).loading?"Creating...":"Create Collection"),9,Fd)]),default:Pe(()=>[a("div",pd,[a("div",fd,[m[4]||(m[4]=a("label",{for:"collection-name",class:"form-label"},"Collection Name",-1)),ae(a("input",{ref_key:"nameInput",ref:d,id:"collection-name","onUpdate:modelValue":m[0]||(m[0]=w=>L(o).formData.name=w),onInput:m[1]||(m[1]=w=>l("name",w.target.value)),type:"text",placeholder:"Enter collection name",class:he(["form-input",{error:L(o).errors.name}]),onKeyup:ao(i,["enter"])},null,34),[[Ee,L(o).formData.name]]),L(o).errors.name?(v(),_("div",hd,R(L(o).errors.name),1)):z("",!0)]),a("div",md,[m[5]||(m[5]=a("label",{for:"collection-description",class:"form-label"},"Description (Optional)",-1)),ae(a("textarea",{id:"collection-description","onUpdate:modelValue":m[2]||(m[2]=w=>L(o).formData.description=w),onInput:m[3]||(m[3]=w=>l("description",w.target.value)),placeholder:"Describe your collection",class:"form-textarea",rows:"3"},null,544),[[Ee,L(o).formData.description]]),L(o).errors.description?(v(),_("div",gd,R(L(o).errors.description),1)):z("",!0)]),a("div",vd,[m[6]||(m[6]=a("label",{class:"form-label"},"Template",-1)),a("div",yd,[(v(!0),_(ue,null,_e(L(p),w=>(v(),_("div",{key:w.id,class:he(["template-card",{selected:L(o).formData.template===w.id}]),onClick:y=>l("template",w.id)},[a("div",wd,R(w.icon),1),a("div",xd,R(w.name),1),a("div",_d,R(w.description),1)],10,bd))),128))])]),L(o).formData.template==="import"?(v(),_("div",Cd,[m[12]||(m[12]=a("label",{class:"form-label"},"Import File",-1)),a("div",Sd,[a("input",{type:"file",accept:".json",onChange:u,class:"file-input",id:"import-file"},null,32),a("label",Ed,[L(o).formData.importData?(v(),_("span",Td," File loaded")):(v(),_("span",kd,"Choose Postman Collection (.json)"))])]),L(o).errors.import?(v(),_("div",$d,R(L(o).errors.import),1)):z("",!0),L(c)?(v(),_("div",Ad,[m[11]||(m[11]=a("h4",null,"Import Preview",-1)),a("div",Rd,[m[7]||(m[7]=a("strong",null,"Name:",-1)),Ce(" "+R(L(c).name),1)]),L(c).description?(v(),_("div",qd,[m[8]||(m[8]=a("strong",null,"Description:",-1)),Ce(" "+R(L(c).description),1)])):z("",!0),a("div",Od,[m[9]||(m[9]=a("strong",null,"Requests:",-1)),Ce(" "+R(L(c).requestCount),1)]),a("div",Id,[m[10]||(m[10]=a("strong",null,"Folders:",-1)),Ce(" "+R(L(c).folderCount),1)])])):z("",!0)])):z("",!0)])]),_:1}))}},Nd=be(Pd,[["__scopeId","data-v-c6aedbc0"]]);class Md extends We{constructor(e,t=null){super("NewFolderDialogController"),this.collectionId=e,this.parentFolderId=t,this.collectionsStore=Os(),this.init()}init(){super.init(),this.createState({name:"",description:"",isSubmitting:!1,hasChanges:!1,validation:{isValid:!1,errors:{}}}),this.watchFormChanges()}watchFormChanges(){}updateField(e,t){this.state[e]=t,this.state.hasChanges=!0,this.validateForm()}validateForm(){const e={};return this.state.name.trim()?this.state.name.trim().length<2?e.name="Folder name must be at least 2 characters":this.state.name.trim().length>100&&(e.name="Folder name must be less than 100 characters"):e.name="Folder name is required",this.state.name.trim()&&this.isDuplicateName(this.state.name.trim())&&(e.name="A folder with this name already exists"),this.state.validation={isValid:Object.keys(e).length===0,errors:e},this.state.validation}isDuplicateName(e){try{const t=this.collectionsStore.getCollection(this.collectionId);if(!t)return!1;let n=t;if(this.parentFolderId){const i=(r,l)=>{for(const u of r){if(u.id===l)return u;if(u.item&&Array.isArray(u.item)){const p=i(u.item,l);if(p)return p}}return null};if(n=i(t.item||[],this.parentFolderId),!n)return!1}return(n.item||[]).some(i=>i.name&&i.name.toLowerCase()===e.toLowerCase()&&(i.type==="folder"||!i.type&&i.item))}catch(t){return this.logger.error("Error checking duplicate name:",t),!1}}async submit(){return this.executeAsync(async()=>{if(!this.validateForm().isValid)throw new Error("Please fix the form errors before submitting");this.state.isSubmitting=!0;const t={name:this.state.name.trim(),description:this.state.description.trim()};let n;if(this.parentFolderId?n=this.collectionsStore.addFolderToFolder(this.collectionId,this.parentFolderId,t.name):n=this.collectionsStore.addFolderToCollection(this.collectionId,t.name),!n)throw new Error("Failed to create folder");return this.logger.info("Created new folder:",n.name),this.resetForm(),n},"Failed to create folder")}resetForm(){this.state.name="",this.state.description="",this.state.hasChanges=!1,this.state.isSubmitting=!1,this.state.validation={isValid:!1,errors:{}}}async confirmClose(){return this.state.hasChanges,!0}close(){this.resetForm()}getCollectionInfo(){try{return{name:this.collectionsStore.getCollection(this.collectionId)?.info?.name||"Unknown Collection",id:this.collectionId}}catch(e){return this.logger.error("Error getting collection info:",e),{name:"Unknown Collection",id:this.collectionId}}}getParentFolderInfo(){if(!this.parentFolderId)return null;try{const e=this.collectionsStore.getCollection(this.collectionId);if(!e)return null;const t=(o,i)=>{for(const r of o){if(r.id===i)return r;if(r.item&&Array.isArray(r.item)){const l=t(r.item,i);if(l)return l}}return null},n=t(e.item||[],this.parentFolderId);return n?{name:n.name||"Unnamed Folder",id:this.parentFolderId}:null}catch(e){return this.logger.error("Error getting parent folder info:",e),null}}getDebugInfo(){return{collectionId:this.collectionId,parentFolderId:this.parentFolderId,state:this.state,collectionInfo:this.getCollectionInfo(),parentFolderInfo:this.getParentFolderInfo()}}}const Ld={class:"form-group"},Vd={key:0,class:"error-message"},Ud={class:"form-group"},jd=["disabled"],zd={key:0},Hd={key:1},Bd={__name:"NewFolderDialog",props:{collectionId:{type:String,required:!0},parentFolderId:{type:String,default:null}},emits:["close","create"],setup(s,{emit:e}){const t=s,n=e,o=new Md(t.collectionId,t.parentFolderId),i=o.state,r=async()=>{const p=await o.submit();p.success&&(n("create",p.data),n("close"))},l=async()=>{await o.confirmClose()&&(o.close(),n("close"))},u=(p,c)=>o.updateField(p,c);return Ne(()=>{o.init()}),pt(()=>{o.dispose()}),(p,c)=>(v(),pe(Ms,{title:"Create New Folder",onClose:l,width:400},{footer:Pe(()=>[a("button",{type:"button",class:"btn-cancel",onClick:l}," Cancel "),a("button",{type:"button",class:"btn-primary",onClick:r,disabled:!L(i).validation.isValid||L(i).isSubmitting},[L(i).isSubmitting?(v(),_("span",zd,"Creating...")):(v(),_("span",Hd,"Create Folder"))],8,jd)]),default:Pe(()=>[a("div",Ld,[c[4]||(c[4]=a("label",{for:"folder-name"},"Folder Name",-1)),ae(a("input",{id:"folder-name","onUpdate:modelValue":c[0]||(c[0]=d=>L(i).name=d),onInput:c[1]||(c[1]=d=>u("name",d.target.value)),type:"text",placeholder:"Enter folder name",class:he(["form-input",{"has-error":L(i).validation.errors.name}]),onKeyup:ao(r,["enter"]),autofocus:""},null,34),[[Ee,L(i).name]]),L(i).validation.errors.name?(v(),_("div",Vd,R(L(i).validation.errors.name),1)):z("",!0)]),a("div",Ud,[c[5]||(c[5]=a("label",{for:"folder-description"},"Description (Optional)",-1)),ae(a("textarea",{id:"folder-description","onUpdate:modelValue":c[2]||(c[2]=d=>L(i).description=d),onInput:c[3]||(c[3]=d=>u("description",d.target.value)),placeholder:"Enter folder description",class:"form-input",rows:"3"},null,544),[[Ee,L(i).description]])])]),_:1}))}},Jd=be(Bd,[["__scopeId","data-v-f9215fc7"]]),Wd={key:0,class:"menu-header"},Gd={class:"menu-title"},Kd={class:"menu-items"},Xd={key:0,class:"menu-separator"},Yd=["onClick","disabled"],Qd={key:0,class:"menu-icon"},Zd={class:"menu-text"},ep={key:1,class:"menu-shortcut"},tp={__name:"BaseContextMenu",props:{controller:{type:Object,required:!0},title:{type:String,default:null},menuItems:{type:Array,default:()=>[]}},emits:["action"],setup(s,{emit:e}){const t=new ts({prefix:"BaseContextMenu",level:"debug"}),n=s,o=e,i=se(null),r=async l=>{try{o("action",{action:l,item:n.controller.state?.item}),await n.controller?.executeAction(l,n.controller.state?.item)}catch(u){t.error("Menu action failed:",u)}};return Ne(()=>{i.value&&n.controller&&(n.controller.setMenuRef(i.value),n.controller.positionMenu(i.value))}),pt(()=>{n.controller&&n.controller.setMenuRef(null)}),(l,u)=>(v(),_("div",{ref_key:"menuRef",ref:i,class:"context-menu",style:De({left:`${s.controller.state?.x||0}px`,top:`${s.controller.state?.y||0}px`})},[s.title||l.$slots.header?(v(),_("div",Wd,[cn(l.$slots,"header",{},()=>[a("span",Gd,R(s.title||s.controller?.getMenuTitle(s.controller.state?.item)),1)],!0)])):z("",!0),a("div",Kd,[(v(!0),_(ue,null,_e(s.menuItems,(p,c)=>(v(),_(ue,{key:c},[p.type==="separator"?(v(),_("div",Xd)):(v(),_("button",{key:1,class:he(["menu-item",{danger:p.danger,disabled:p.disabled}]),onClick:d=>r(p.action),disabled:p.disabled},[p.icon?(v(),_("span",Qd,R(p.icon),1)):z("",!0),a("span",Zd,R(p.label),1),p.shortcut?(v(),_("span",ep,R(p.shortcut),1)):z("",!0)],10,Yd))],64))),128)),cn(l.$slots,"items",{item:s.controller.state?.item,handleAction:r},void 0,!0)])],4))}},uo=be(tp,[["__scopeId","data-v-c95484dd"]]);class po extends We{constructor(e){super(e),this.createState({show:!1,item:null,x:0,y:0,menuRef:null})}init(){super.init(),this.handleClickOutside=this.handleClickOutside.bind(this),this.handleEscape=this.handleEscape.bind(this)}show(e,t){this.logger.debug("Showing context menu for:",t),e.preventDefault(),e.stopPropagation(),this.state.show=!0,this.state.item=t,this.state.x=e.clientX,this.state.y=e.clientY,document.addEventListener("click",this.handleClickOutside),document.addEventListener("keydown",this.handleEscape),this.emit("shown",{item:t,x:e.clientX,y:e.clientY})}hide(){this.logger.debug("Hiding context menu"),this.state.show=!1,this.state.item=null,document.removeEventListener("click",this.handleClickOutside),document.removeEventListener("keydown",this.handleEscape),this.emit("hidden")}handleClickOutside(e){this.state.menuRef&&!this.state.menuRef.contains(e.target)&&this.hide()}handleEscape(e){e.key==="Escape"&&this.hide()}setMenuRef(e){this.state.menuRef=e}async executeAction(e,t){this.logger.debug(`Executing action: ${e} for:`,t);try{const n=await this.handleAction(e,t);return this.hide(),this.emit("actionCompleted",{action:e,item:t,result:n}),n}catch(n){throw this.logger.error(`Failed to execute action ${e}:`,n),this.emit("actionFailed",{action:e,item:t,error:n}),n}}async handleAction(e,t){throw new Error(`Action '${e}' not implemented in ${this.constructor.name}`)}getMenuItems(){return[]}getMenuTitle(e){return e?.name||"Item"}positionMenu(e){if(!e)return;const t=e.getBoundingClientRect(),n=window.innerWidth,o=window.innerHeight;let i=this.state.x,r=this.state.y;this.state.x+t.width>n&&(i=n-t.width-10),this.state.y+t.height>o&&(r=o-t.height-10),i=Math.max(10,i),r=Math.max(10,r),e.style.left=`${i}px`,e.style.top=`${r}px`,this.logger.debug(`Positioned menu at: (${i}, ${r})`)}dispose(){this.hide(),super.dispose()}}class sp extends po{constructor(e){super("collection-context-menu"),this.collectionsController=e,this.alert=Ns()}getMenuTitle(e){return e?.info?.name||"Collection"}getMenuItems(){return[{action:"create-request",label:"Create Request",icon:""},{action:"create-folder",label:"Create Folder",icon:""},{type:"separator"},{action:"rename",label:"Rename",icon:""},{action:"duplicate",label:"Duplicate",icon:""},{type:"separator"},{action:"delete",label:"Delete",icon:"",danger:!0}]}async handleAction(e,t){switch(this.logger.info(`Executing collection action: ${e} for collection: ${t?.info?.name}`),e){case"create-request":return await this.createRequest(t);case"create-folder":return await this.createFolder(t);case"rename":return await this.renameCollection(t);case"duplicate":return await this.duplicateCollection(t);case"delete":return await this.deleteCollection(t);default:throw new Error(`Unknown action: ${e}`)}}async createRequest(e){const t=this.collectionsController.collectionsStore.addRequest(e.info.id);if(t)return this.collectionsController.openRequest(e.info.id,t.id),this.logger.info("Created new request in collection:",e.info.name),{action:"create-request",requestId:t.id};throw new Error("Failed to create request")}async createFolder(e){return this.emit("showFolderDialog",{type:"create-folder",collectionId:e.info.id,parentFolderId:null,collection:e}),this.logger.info("Requested folder creation dialog for collection:",e.info.name),{action:"create-folder",dialogRequested:!0}}async renameCollection(e){const t=await this.alert.prompt("Enter new collection name:",e.info.name,"Rename Collection");return t&&t.trim()&&t.trim()!==e.info.name?(this.collectionsController.collectionsStore.updateCollection(e.info.id,{name:t.trim()}),this.logger.info("Renamed collection from",e.info.name,"to",t.trim()),await this.alert.alertSuccess(`Collection renamed to "${t.trim()}"`),{action:"rename",oldName:e.info.name,newName:t.trim()}):{action:"rename",cancelled:!0}}async duplicateCollection(e){const t=this.collectionsController.collectionsStore.duplicateCollection(e.info.id);if(t?.info?.id)return this.collectionsController.state.expandedCollections.add(t.info.id),this.logger.info("Duplicated collection:",e.info.name,"",t.info.name),await this.alert.alertSuccess(`Collection duplicated as "${t.info.name}"`),{action:"duplicate",originalId:e.info.id,duplicateId:t.info.id};throw await this.alert.alertError("Failed to duplicate collection"),new Error("Failed to duplicate collection")}async deleteCollection(e){return await this.alert.confirmDelete(`Are you sure you want to delete the collection "${e.info.name}"?

This action cannot be undone.`,"Delete Collection")?(await this.collectionsController.deleteCollection(e.info.id),this.logger.info("Deleted collection:",e.info.name),await this.alert.alertSuccess(`Collection "${e.info.name}" has been deleted`),{action:"delete",collectionId:e.info.id,collectionName:e.info.name}):{action:"delete",cancelled:!0}}}const np={__name:"CollectionContextMenu",props:{collectionsController:{type:Object,required:!0}},emits:["close","action"],setup(s,{expose:e,emit:t}){const n=s,o=t,i=new sp(n.collectionsController);i.init();const r=D(()=>i.getMenuItems()),l=u=>{o("action",u)};return e({show:(u,p)=>i.show(u,p),hide:()=>i.hide(),controller:i}),(u,p)=>L(i).state.show?(v(),pe(uo,{key:0,controller:L(i),"menu-items":r.value,onAction:l},null,8,["controller","menu-items"])):z("",!0)}};class op extends po{constructor(e){super("request-context-menu"),this.collectionsController=e,this.alert=Ns()}getMenuTitle(e){return e?.request?.name||"Request"}getMenuItems(){return[{action:"open",label:"Open in Tab",icon:""},{type:"separator"},{action:"rename",label:"Rename",icon:""},{action:"duplicate",label:"Duplicate",icon:""},{type:"separator"},{action:"move",label:"Move to Collection",icon:""},{type:"separator"},{action:"delete",label:"Delete",icon:"",danger:!0}]}async handleAction(e,t){if(this.logger.info(`Executing request action: ${e} for request: ${t?.request?.name}`),!t||!t.collectionId||!t.request){this.logger.error("Invalid request data for action:",e,t);return}const{collectionId:n,request:o}=t;switch(e){case"open":await this.openRequest(n,o.id);break;case"rename":await this.renameRequest(n,o.id);break;case"duplicate":await this.duplicateRequest(n,o.id);break;case"move":await this.moveRequest(n,o.id);break;case"delete":await this.deleteRequest(n,o.id);break;default:this.logger.warn(`Unknown action: ${e}`)}this.hide()}async openRequest(e,t){this.logger.info(`Opening request ${t} from collection ${e}`),this.collectionsController.openRequest(e,t)}async renameRequest(e,t){const n=this.collectionsController.collectionsStore.getRequest(e,t);if(!n){this.logger.error("Request not found for rename"),await this.alert.alertError("Request not found");return}const o=await this.alert.prompt("Enter new name:",n.name,"Rename Request");o&&o.trim()&&o.trim()!==n.name&&(this.collectionsController.collectionsStore.updateRequest(e,t,{name:o.trim()}),this.logger.info(`Renamed request to: ${o.trim()}`),await this.alert.alertSuccess(`Request renamed to "${o.trim()}"`))}async duplicateRequest(e,t){const n=this.collectionsController.collectionsStore.duplicateRequest(e,t);n?(this.logger.info(`Duplicated request: ${n.name}`),await this.alert.alertSuccess(`Request duplicated as "${n.name}"`)):await this.alert.alertError("Failed to duplicate request")}async moveRequest(e,t){const o=(this.collectionsController.collectionsStore.collections.value||[]).filter(u=>u.info.id!==e);if(o.length===0){await this.alert.alertWarning("No other collections available to move to.");return}const r=`Select collection to move to:

${o.map((u,p)=>`${p+1}. ${u.info.name} (${u.item?.length||0} requests)`).join(`
`)}

Enter collection number (1-${o.length}):`,l=await this.alert.prompt(r,"","Move Request");if(l){const u=parseInt(l)-1;if(u>=0&&u<o.length){const p=o[u].info.id;this.collectionsController.collectionsStore.moveRequest(e,p,t)?(this.logger.info(`Moved request to collection: ${o[u].info.name}`),await this.alert.alertSuccess(`Request moved to "${o[u].info.name}"`)):await this.alert.alertError("Failed to move request")}else await this.alert.alertError("Invalid selection. Please enter a valid collection number.")}}async deleteRequest(e,t){const n=this.collectionsController.collectionsStore.getRequest(e,t);if(!n){this.logger.error("Request not found for deletion"),await this.alert.alertError("Request not found");return}await this.alert.confirmDelete(`Are you sure you want to delete "${n.name}"? This action cannot be undone.`,"Delete Request")&&(this.collectionsController.collectionsStore.deleteRequest(e,t)?(this.logger.info(`Deleted request: ${n.name}`),await this.alert.alertSuccess(`Request "${n.name}" has been deleted`)):await this.alert.alertError("Failed to delete request"))}show(e,t,n){const o={collectionId:t.info.id,request:n};super.show(e,o)}}const ip={__name:"RequestContextMenu",props:{collectionsController:{type:Object,required:!0}},emits:["close","action"],setup(s,{expose:e,emit:t}){const n=s,o=t,i=new op(n.collectionsController);i.init();const r=D(()=>i.getMenuItems()),l=u=>{o("action",u)};return e({show:(u,p,c)=>i.show(u,p,c),hide:()=>i.hide(),controller:i}),(u,p)=>L(i).state.show?(v(),pe(uo,{key:0,controller:L(i),"menu-items":r.value,onAction:l},null,8,["controller","menu-items"])):z("",!0)}};class rp extends po{constructor(e){super("folder-context-menu"),this.collectionsController=e,this.currentCollection=null,this.alert=Ns()}show(e,t,n){this.currentCollection=t,super.show(e,n)}getMenuTitle(e){return e?.name||"Folder"}getMenuItems(){return[{action:"new-request",label:"New Request",icon:""},{action:"new-folder",label:"New Folder",icon:""},{type:"separator"},{action:"rename",label:"Rename",icon:""},{action:"duplicate",label:"Duplicate",icon:""},{type:"separator"},{action:"delete",label:"Delete",icon:"",danger:!0}]}async handleAction(e,t){if(!this.currentCollection)throw new Error("No collection context available");switch(this.logger.info(`Executing folder action: ${e} for folder: ${t?.name}`),e){case"new-request":return await this.addRequestToFolder(t);case"new-folder":return await this.addFolderToFolder(t);case"rename":return await this.renameFolder(t);case"duplicate":return await this.duplicateFolder(t);case"delete":return await this.deleteFolder(t);default:throw new Error(`Unknown action: ${e}`)}}async addRequestToFolder(e){const t=this.collectionsController.addRequestToFolder(this.currentCollection.info.id,e.id);if(t)return this.logger.info("Added new request to folder:",e.name),{action:"new-request",requestId:t.id};throw new Error("Failed to add request to folder")}async addFolderToFolder(e){return this.emit("showFolderDialog",{type:"new-folder",collectionId:this.currentCollection.info.id,parentFolderId:e.id,collection:this.currentCollection,parentFolder:e}),this.logger.info("Requested folder creation dialog for folder:",e.name),{action:"new-folder",dialogRequested:!0}}async renameFolder(e){const t=await this.alert.prompt("Enter new folder name:",e.name,"Rename Folder");if(t&&t.trim()&&t.trim()!==e.name){if(this.collectionsController.collectionsStore.renameFolder(this.currentCollection.info.id,e.id,t.trim()))return this.logger.info("Renamed folder from",e.name,"to",t.trim()),await this.alert.alertSuccess(`Folder renamed to "${t.trim()}"`),{action:"rename",oldName:e.name,newName:t.trim()};throw await this.alert.alertError("Failed to rename folder"),new Error("Failed to rename folder")}return{action:"rename",cancelled:!0}}async duplicateFolder(e){const t=this.collectionsController.duplicateFolder(this.currentCollection.info.id,e.id);if(t)return this.logger.info("Duplicated folder:",e.name,"",t.name),{action:"duplicate",originalId:e.id,duplicateId:t.id};throw new Error("Failed to duplicate folder")}async deleteFolder(e){if(await this.alert.confirmDelete(`Are you sure you want to delete the folder "${e.name}"?

This action cannot be undone and will delete all contents inside the folder.`,"Delete Folder")){if(this.collectionsController.collectionsStore.deleteFolder(this.currentCollection.info.id,e.id))return this.logger.info("Deleted folder:",e.name),await this.alert.alertSuccess(`Folder "${e.name}" has been deleted`),{action:"delete",folderId:e.id,folderName:e.name};throw await this.alert.alertError("Failed to delete folder"),new Error("Failed to delete folder")}return{action:"delete",cancelled:!0}}}const ap={__name:"FolderContextMenu",props:{collectionsController:{type:Object,required:!0}},emits:["close","action"],setup(s,{expose:e,emit:t}){const n=s,o=t,i=new rp(n.collectionsController);i.init();const r=D(()=>i.getMenuItems()),l=u=>{o("action",u)};return e({show:(u,p,c)=>i.show(u,p,c),hide:()=>i.hide(),controller:i}),(u,p)=>L(i).state.show?(v(),pe(uo,{key:0,controller:L(i),"menu-items":r.value,onAction:l},null,8,["controller","menu-items"])):z("",!0)}},lp={class:"collection-item-wrapper"},cp={key:0,class:"folder-container"},up={class:"expand-icon"},dp={class:"folder-name"},pp={class:"item-count"},fp={key:0,class:"folder-children"},hp={class:"request-name"},mp={__name:"CollectionItem",props:{item:{type:Object,required:!0},collectionId:{type:String,required:!0},depth:{type:Number,default:0},controller:{type:Object,required:!0}},emits:["open-request","show-context-menu","show-folder-context-menu"],setup(s,{emit:e}){const t=s,n=e,o=se(!1),i=D(()=>t.item.type==="folder"||!t.item.type&&t.item.item&&Array.isArray(t.item.item)),r=D(()=>t.item.type==="request"||!t.item.type&&t.item.request),l=D(()=>{if(!i.value)return 0;const f=m=>{let w=0;for(const y of m||[])y.type==="request"||!y.type&&y.request?w++:(y.type==="folder"||!y.type&&y.item)&&(w+=f(y.item));return w};return f(t.item.item)}),u=()=>{i.value&&(o.value=!o.value)},p=()=>{r.value?n("open-request",t.collectionId,t.item.id):i.value&&u()},c=f=>{f.preventDefault(),f.stopPropagation(),r.value?n("show-context-menu",f,t.item):i.value&&n("show-folder-context-menu",f,t.item)},d=f=>({GET:"#22c55e",POST:"#ef4444",PUT:"#f59e0b",PATCH:"#a855f7",DELETE:"#ef4444",HEAD:"#6b7280",OPTIONS:"#06b6d4"})[f]||"#6b7280";return(f,m)=>{const w=Wl("CollectionItem",!0);return v(),_("div",lp,[i.value?(v(),_("div",cp,[a("div",{class:"folder-item",style:De({paddingLeft:`${s.depth*20}px`}),onClick:p,onContextmenu:c},[a("span",up,R(o.value?"":""),1),a("span",dp,R(s.item.name||"Unnamed Folder"),1),a("span",pp,R(l.value),1)],36),o.value&&s.item.item?(v(),_("div",fp,[(v(!0),_(ue,null,_e(s.item.item,y=>(v(),pe(w,{key:y.id,item:y,"collection-id":s.collectionId,depth:s.depth+1,controller:s.controller,onOpenRequest:m[0]||(m[0]=(S,U)=>f.$emit("open-request",S,U)),onShowContextMenu:m[1]||(m[1]=(S,U)=>f.$emit("show-context-menu",S,U)),onShowFolderContextMenu:m[2]||(m[2]=(S,U)=>f.$emit("show-folder-context-menu",S,U))},null,8,["item","collection-id","depth","controller"]))),128))])):z("",!0)])):r.value?(v(),_("div",{key:1,class:"request-item",style:De({paddingLeft:`${(s.depth+1)*20}px`}),onClick:p,onContextmenu:c},[a("span",{class:"method-badge",style:De({color:d(s.item.request?.method||"GET")})},R(s.item.request?.method||"GET"),5),a("span",hp,R(s.item.name||"Unnamed Request"),1)],36)):z("",!0)])}}},gp=be(mp,[["__scopeId","data-v-9d286551"]]),vp={class:"collections-tab"},yp={class:"search-container"},bp=["value"],wp={class:"collections-list"},xp={key:0,class:"empty-state"},_p={key:1,class:"empty-state welcome-state"},Cp={key:2,class:"empty-state search-empty"},Sp=["onClick","onContextmenu"],Ep={class:"expand-icon"},kp={class:"collection-name"},Tp={class:"request-count"},$p={key:1,class:"requests-list"},Ap={__name:"CollectionsTab",setup(s){let e=null;const t=se({}),n=se("");let o=null;const i=se(null),r=se(null),l=se(null);Ne(()=>{e=new id,t.value=e.getCollectionsState(),e.setContextMenuRefs(i.value,r.value,l.value),e.on("collectionCreated",x=>{}),e.on("collectionDeleted",x=>{});const k=setInterval(()=>{},100);e._intervalId=k}),pt(()=>{o&&(clearTimeout(o),o=null),e&&(e._intervalId&&clearInterval(e._intervalId),e.dispose(),e=null)}),ge([i,r,l],()=>{e&&e.setContextMenuRefs(i.value,r.value,l.value)});const u=H=>e?.toggleCollection(H),p=(H,k)=>e?.openRequest(H,k),c=()=>e?.toggleNewCollectionDialog(!0),d=(H,k)=>e?.showContextMenu(H,k),f=(H,k,x)=>e?.showRequestContextMenu(H,k,x),m=(H,k,x)=>e?.showFolderContextMenu(H,k,x),w=H=>e?.handleContextAction(H),y=H=>e?.handleRequestContextAction(H),S=()=>e?.getCollections()||[],U=()=>e?.getFilteredCollections()||[],A=H=>e?.isCollectionExpanded(H)||!1,F=H=>{const k=H.target.value;n.value=k,o&&clearTimeout(o),o=setTimeout(()=>{e?.searchCollections(k)},150)},q=()=>{n.value="",e?.searchCollections("")};return(H,k)=>(v(),_("div",vp,[a("div",{class:"section-header"},[k[4]||(k[4]=a("span",{class:"section-title"},"Collections",-1)),a("button",{class:"btn-icon",title:"New Collection",onClick:c},"+")]),a("div",yp,[k[5]||(k[5]=a("span",{class:"search-icon"},"",-1)),a("input",{type:"text",class:"search-input",placeholder:"Search requests...",value:n.value,onInput:F,onKeydown:ao(q,["escape"])},null,40,bp),n.value?(v(),_("button",{key:0,class:"search-clear",onClick:q,title:"Clear search"},"  ")):z("",!0)]),a("div",wp,[S()?S().length===0?(v(),_("div",_p,[k[7]||(k[7]=a("div",{class:"welcome-icon"},"",-1)),k[8]||(k[8]=a("h3",null,"Welcome to ToastMan!",-1)),k[9]||(k[9]=a("p",null,"Get started by creating your first collection to organize your API requests.",-1)),a("button",{class:"btn-primary",onClick:c}," Create Your First Collection "),k[10]||(k[10]=a("div",{class:"quick-tips"},[a("h4",null,"Quick Tips:"),a("ul",null,[a("li",null,"Collections help organize related requests"),a("li",null,"Use environments to manage variables"),a("li",null,"Import from Postman collections")])],-1))])):n.value&&U().length===0?(v(),_("div",Cp,[k[13]||(k[13]=a("span",{class:"search-empty-icon"},"",-1)),a("p",null,[k[11]||(k[11]=Ce('No requests match "',-1)),a("strong",null,R(n.value),1),k[12]||(k[12]=Ce('"',-1))]),a("button",{class:"btn-secondary",onClick:q},"Clear search")])):(v(!0),_(ue,{key:3},_e(U(),x=>(v(),_("div",{key:x?.info?.id||Date.now(),class:"collection-item"},[x&&x.info?(v(),_("div",{key:0,class:"collection-header",onClick:T=>u(x.info.id),onContextmenu:T=>d(T,x)},[a("span",Ep,R(A(x.info.id)?"":""),1),a("span",kp,R(x.info.name),1),a("span",Tp,R((x.item||[]).length),1)],40,Sp)):z("",!0),x&&x.info&&A(x.info.id)&&x.item?(v(),_("div",$p,[(v(!0),_(ue,null,_e(x.item,T=>(v(),pe(gp,{key:T.id,item:T,"collection-id":x.info.id,controller:L(e)?.collectionsController,onOpenRequest:k[0]||(k[0]=(I,E)=>p(I,E)),onShowContextMenu:(I,E)=>f(I,x,E),onShowFolderContextMenu:(I,E)=>m(I,x,E)},null,8,["item","collection-id","controller","onShowContextMenu","onShowFolderContextMenu"]))),128))])):z("",!0)]))),128)):(v(),_("div",xp,[...k[6]||(k[6]=[a("div",{class:"loading-spinner"},"",-1),a("p",null,"Loading collections...",-1)])]))]),t.value.showNewCollectionDialog?(v(),pe(Nd,{key:0,onClose:k[1]||(k[1]=()=>L(e)?.toggleNewCollectionDialog(!1))})):z("",!0),L(e)?.state?.showNewFolderDialog&&L(e)?.state?.newFolderDialogData?(v(),pe(Jd,{key:1,"collection-id":L(e).state.newFolderDialogData.collectionId,"parent-folder-id":L(e).state.newFolderDialogData.parentFolderId,onClose:k[2]||(k[2]=()=>L(e)?.hideNewFolderDialog()),onCreate:k[3]||(k[3]=()=>L(e)?.hideNewFolderDialog())},null,8,["collection-id","parent-folder-id"])):z("",!0),L(e)?(v(),_(ue,{key:2},[ve(np,{ref_key:"contextMenuRef",ref:i,"collections-controller":L(e).collectionsController,onAction:w},null,8,["collections-controller"]),ve(ip,{ref_key:"requestContextMenuRef",ref:r,"collections-controller":L(e).collectionsController,onAction:y},null,8,["collections-controller"]),ve(ap,{ref_key:"folderContextMenuRef",ref:l,"collections-controller":L(e).collectionsController,onAction:w},null,8,["collections-controller"])],64)):z("",!0)]))}},Rp=be(Ap,[["__scopeId","data-v-48ceb1b2"]]);class Kt extends ne{static schema={id:{type:"string",default:()=>ne.generateId()},key:{type:"string",required:!0},value:{type:"string",default:""},type:{type:"string",enum:["default","secret","boolean","number","json"],default:"default"},enabled:{type:"boolean",default:!0},description:{type:"string",default:""}};constructor(e={}){super(e),this.validateValue()}validateValue(){if(this.type==="boolean"&&this.value!==""&&this.value!=="true"&&this.value!=="false")throw new Error(`Boolean variable '${this.key}' must have value 'true' or 'false'`);if(this.type==="number"&&this.value!==""&&isNaN(Number(this.value)))throw new Error(`Number variable '${this.key}' must have a numeric value`);if(this.type==="json"&&this.value!=="")try{JSON.parse(this.value)}catch{throw new Error(`JSON variable '${this.key}' must have valid JSON as value`)}}getParsedValue(){if(!(!this.enabled||this.value===""))switch(this.type){case"boolean":return this.value==="true";case"number":return Number(this.value);case"json":try{return JSON.parse(this.value)}catch{return this.value}case"secret":case"default":default:return this.value}}isSecret(){return this.type==="secret"}}class Yt extends ne{static schema={id:{type:"string",default:()=>ne.generateId()},name:{type:"string",required:!0},values:{type:"array",default:[]},isActive:{type:"boolean",default:!1},isGlobal:{type:"boolean",default:!1},color:{type:"string",default:""},_postman_variable_scope:{type:"string",default:"environment"},_postman_exported_at:{type:"string",default:()=>ne.getTimestamp()},_postman_exported_using:{type:"string",default:"ToastMan"},createdAt:{type:"string",default:()=>ne.getTimestamp()},updatedAt:{type:"string",default:()=>ne.getTimestamp()}};constructor(e={}){typeof e=="string"&&(e={name:e}),e.id!==void 0&&e.id!==null&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt!==void 0&&e.createdAt!==null&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt!==void 0&&e.updatedAt!==null&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e._postman_exported_at!==void 0&&e._postman_exported_at!==null&&typeof e._postman_exported_at!="string"&&(e._postman_exported_at=e._postman_exported_at instanceof Date?e._postman_exported_at.toISOString():String(e._postman_exported_at)),e.values&&(e.values=e.values.map(t=>t instanceof Kt?t.toJSON():new Kt(t).toJSON())),super(e)}addVariable(e,t,n="default",o=!0){const i=this.values.findIndex(r=>r.key===e);return i!==-1?this.values[i]=new Kt({key:e,value:t,type:n,enabled:o}).toJSON():this.values.push(new Kt({key:e,value:t,type:n,enabled:o}).toJSON()),this.updatedAt=ne.getTimestamp(),this}removeVariable(e){return this.values=this.values.filter(t=>t.key!==e),this.updatedAt=ne.getTimestamp(),this}getVariable(e){const t=this.values.find(n=>n.key===e&&n.enabled);if(t)return new Kt(t).getParsedValue()}getAllVariables(){const e={};for(const t of this.values)if(t.enabled){const n=new Kt(t);e[t.key]=n.getParsedValue()}return e}getEnabledVariables(){return this.values.filter(e=>e.enabled)}toggleVariable(e){const t=this.values.find(n=>n.key===e);return t&&(t.enabled=!t.enabled,this.updatedAt=ne.getTimestamp()),this}updateVariable(e,t){const n=this.values.find(o=>o.key===e);return n&&(Object.assign(n,t),this.updatedAt=ne.getTimestamp()),this}replaceVariables(e){return!e||typeof e!="string"?e:e.replace(/\{\{(\w+)\}\}/g,(t,n)=>{const o=this.getVariable(n);return o!==void 0?String(o):t})}merge(e){const t=new Yt(this.toJSON());for(const n of e.values)t.values.find(o=>o.key===n.key)||t.values.push(n);return t}export(){return{id:this.id,name:this.name,values:this.values.map(e=>({key:e.key,value:e.type==="secret"?"":e.value,type:e.type,enabled:e.enabled})),_postman_variable_scope:this._postman_variable_scope,_postman_exported_at:new Date().toISOString(),_postman_exported_using:this._postman_exported_using}}static import(e){return new Yt(e)}static createGlobal(){return new Yt({name:"Global",isGlobal:!0,_postman_variable_scope:"globals"})}}const qp=new ts({prefix:"useEnvironments",level:"debug"});let Ro=null;function ms(){return Ro||(Ro=Op()),Ro}function Op(){const{data:s}=Lu(),{data:e}=Uu(),t=D(()=>s.value||[]),n=D(()=>e.value?t.value.find(x=>x.id===e.value):null),o=D(()=>t.value.reduce((x,T)=>x+(T.values?.length||0),0)),i=(x="New Environment")=>{const I=new Yt({name:x}).toJSON();return s.value.push(I),I},r=x=>t.value.find(T=>T.id===x),l=(x,T)=>{const I=r(x);return I&&(Object.assign(I,T),I._postman_exported_at=new Date().toISOString()),I},u=x=>{const T=s.value.findIndex(I=>I.id===x);return T>-1?(s.value.splice(T,1),e.value===x&&(e.value=null),!0):!1},p=x=>{const T=r(x);if(T){const E=new Yt(T).clone();E.id=Oe(),E.name=`${T.name} Copy`,E._postman_exported_at=new Date().toISOString(),E.values=E.values.map(N=>({...N,id:Oe()}));const $=E.toJSON();return s.value.push($),$}return null},c=x=>{const T=r(x);return T?(e.value=x,T):(x===null&&(e.value=null),null)},d=(x,T="",I="",E=!0)=>{const $=r(x);if($){const N=new Kt({key:T,value:I,enabled:E});return $.values.push(N.toJSON()),$._postman_exported_at=new Date().toISOString(),N.toJSON()}return null},f=(x,T)=>{const I=r(x);return I?I.values.find(E=>E.id===T):null},m=(x,T,I)=>{const E=f(x,T);if(E){Object.assign(E,I);const $=r(x);$&&($._postman_exported_at=new Date().toISOString())}return E},w=(x,T)=>{const I=r(x);if(I){const E=I.values.findIndex($=>$.id===T);if(E>-1)return I.values.splice(E,1),I._postman_exported_at=new Date().toISOString(),!0}return!1},y=(x,T)=>{const I=f(x,T);if(I){const E=JSON.parse(JSON.stringify(I));E.id=Oe(),E.key=`${I.key}_copy`;const $=r(x);if($)return $.values.push(E),$._postman_exported_at=new Date().toISOString(),E}return null},S=(x,T=null)=>{const I=T?r(T):n.value;return I&&I.values.find($=>$.key===x&&$.enabled)?.value||null},U=(x,T=null)=>!x||typeof x!="string"?x:x.replace(/\{\{([^}]+)\}\}/g,(I,E)=>{const $=S(E.trim(),T);return $!==null?$:I}),A=(x=null)=>{const T=x?r(x):n.value;return T?T.values.filter(I=>I.enabled).map(I=>({key:I.key,value:I.value})):[]},F=x=>{const T=[],I=x.toLowerCase();return t.value.forEach(E=>{E.values.forEach($=>{const N=$.key.toLowerCase().includes(I),B=$.value.toLowerCase().includes(I);(N||B)&&T.push({environment:E,variable:$})})}),T},q=x=>{const T=r(x);return T?{...T,_postman_exported_at:new Date().toISOString(),_postman_exported_using:"ToastMan"}:null},H=x=>{try{if(!x.name)throw new Error("Invalid environment format");const T=["default","secret","boolean","number","json"],I=(x.values||[]).map(N=>({...N,id:Oe(),type:T.includes(N.type)?N.type:"default"})),E=new Yt({...x,values:I,color:x.color||""});E.id=Oe(),E.name=`${E.name} (Imported)`,E._postman_exported_at=new Date().toISOString(),E._postman_exported_using="ToastMan";const $=E.toJSON();return s.value.push($),$}catch(T){throw qp.error("Failed to import environment:",T),T}},k=async()=>{if(await je(),t.value.length===0){const x=i("Development");d(x.id,"baseUrl","https://api-dev.example.com"),d(x.id,"apiKey","dev-api-key-123");const T=i("Production");d(T.id,"baseUrl","https://api.example.com"),d(T.id,"apiKey","prod-api-key-456"),c(x.id)}};return{environments:t,activeEnvironment:n,activeEnvironmentId:D(()=>e.value),totalVariables:o,createEnvironment:i,getEnvironment:r,updateEnvironment:l,deleteEnvironment:u,duplicateEnvironment:p,setActiveEnvironment:c,addVariable:d,getVariable:f,updateVariable:m,deleteVariable:w,duplicateVariable:y,resolveVariable:S,interpolateString:U,getAvailableVariables:A,searchVariables:F,exportEnvironment:q,importEnvironment:H,initializeDefaultData:k}}class Ip extends We{constructor(){super("environments"),this.createState({}),this.environmentsStore=ms()}init(){super.init(),this.environments=this.createComputed("environments",()=>{if(!this.environmentsStore)return[];const e=this.environmentsStore.environments.value||[];return Array.isArray(e)?e:[]}),this.activeEnvironment=this.createComputed("activeEnvironment",()=>this.environmentsStore&&this.environmentsStore.activeEnvironment.value||null)}async createEnvironment(e="New Environment"){const t=await this.executeAsync(async()=>{const n=this.validate(Yt,{name:e});if(!n.valid)throw new Error(n.error);const o=this.environmentsStore.createEnvironment(e);return this.logger.info("Created environment:",o?.name,"with ID:",o?.id),o},"Failed to create environment");return t.success&&this.emit("environmentCreated",t.data),t}setActiveEnvironment(e){this.environmentsStore.setActiveEnvironment(e),this.logger.info(`Set active environment: ${e}`),this.emit("environmentChanged",e)}async updateEnvironment(e,t){const n=await this.executeAsync(async()=>{const o=this.environmentsStore.updateEnvironment(e,t);return this.logger.info(`Updated environment: ${e}`),o},"Failed to update environment");return n.success&&this.emit("environmentUpdated",{environmentId:e,environment:n.data}),n}async deleteEnvironment(e){const t=await this.executeAsync(async()=>{this.environmentsStore.deleteEnvironment(e),this.logger.info(`Deleted environment: ${e}`)},"Failed to delete environment");return t.success&&this.emit("environmentDeleted",e),t}async duplicateEnvironment(e){const t=await this.executeAsync(async()=>{const n=this.environmentsStore.duplicateEnvironment(e);return this.logger.info(`Duplicated environment: ${e}`),n},"Failed to duplicate environment");return t.success&&this.emit("environmentDuplicated",t.data),t}async addVariable(e,t="",n="",o=!0){const i=await this.executeAsync(async()=>{const r=this.environmentsStore.addVariable(e,t,n,o);return this.logger.info(`Added variable '${t}' to environment: ${e}`),r},"Failed to add variable");return i.success&&this.emit("variableAdded",{environmentId:e,variable:i.data}),i}async updateVariable(e,t,n){const o=await this.executeAsync(async()=>{const i=this.environmentsStore.updateVariable(e,t,n);return this.logger.info(`Updated variable in environment: ${e}`),i},"Failed to update variable");return o.success&&this.emit("variableUpdated",{environmentId:e,variableId:t,variable:o.data}),o}async deleteVariable(e,t){const n=await this.executeAsync(async()=>{this.environmentsStore.deleteVariable(e,t),this.logger.info(`Deleted variable from environment: ${e}`)},"Failed to delete variable");return n.success&&this.emit("variableDeleted",{environmentId:e,variableId:t}),n}async importEnvironment(e){const t=await this.executeAsync(async()=>{const n=this.environmentsStore.importEnvironment(e);return this.logger.info("Imported environment:",n?.name),n},"Failed to import environment");return t.success&&this.emit("environmentImported",t.data),t}exportEnvironment(e){try{const t=this.environmentsStore.exportEnvironment(e);return this.logger.info("Exported environment:",e),this.emit("environmentExported",{environmentId:e,data:t}),{success:!0,data:t}}catch(t){return this.logger.error("Failed to export environment:",t),{success:!1,error:t.message}}}}const Dp=["disabled"],Fp={class:"import-section"},Pp={key:0,class:"import-trigger"},Np={key:1,class:"import-preview"},Mp={class:"preview-header"},Lp={class:"preview-info"},Vp={class:"preview-name"},Up={class:"preview-meta"},jp={class:"preview-filename"},zp={key:2,class:"import-error"},Hp={class:"error-content"},Bp={class:"error-text"},Jp={class:"form-actions"},Wp=["disabled"],Gp={__name:"NewEnvironmentDialog",emits:["close","create","import"],setup(s,{emit:e}){const t=e,n=se(""),o=se(null),i=se(null),r=se(null),l=se(""),u=se(""),p=D(()=>r.value!==null),c=D(()=>p.value?"Import Environment":"Create Environment"),d=D(()=>p.value?r.value!==null&&!u.value:n.value.trim().length>0),f=D(()=>p.value?"Import Environment":"New Environment"),m=A=>{const F=A.target.files[0];if(!F)return;l.value=F.name,u.value="",r.value=null;const q=new FileReader;q.onload=H=>{try{const k=JSON.parse(H.target.result);if(!k.name){u.value="Environment file is missing a name field.";return}if(!Array.isArray(k.values)){u.value="Environment file is missing a values array.";return}r.value=k}catch{u.value="Could not parse file. Please select a valid Postman environment JSON."}},q.onerror=()=>{u.value="Failed to read file."},q.readAsText(F)},w=()=>{r.value=null,l.value="",u.value="",i.value&&(i.value.value="")},y=()=>{i.value?.click()},S=A=>{A.preventDefault(),p.value&&r.value?(t("import",r.value),t("close")):n.value.trim()&&(t("create",n.value.trim()),t("close"))},U=()=>{t("close")};return Ne(()=>{setTimeout(()=>{o.value?.focus()},100)}),(A,F)=>(v(),pe(Ms,{title:f.value,width:"450px",onClose:U},{default:Pe(()=>[a("form",{onSubmit:S,class:"environment-form"},[a("div",{class:he(["form-group",{disabled:p.value}])},[F[1]||(F[1]=a("label",{for:"environment-name",class:"form-label"}," Environment Name ",-1)),ae(a("input",{id:"environment-name",ref_key:"nameInput",ref:o,"onUpdate:modelValue":F[0]||(F[0]=q=>n.value=q),type:"text",placeholder:"e.g., Development, Production, Staging",class:"form-input",disabled:p.value},null,8,Dp),[[Ee,n.value]]),F[2]||(F[2]=a("p",{class:"form-help"}," Choose a descriptive name for your environment. ",-1))],2),F[7]||(F[7]=a("div",{class:"divider"},[a("span",{class:"divider-text"},"or")],-1)),a("div",Fp,[a("input",{ref_key:"fileInput",ref:i,type:"file",accept:".json",class:"file-input-hidden",onChange:m},null,544),!r.value&&!u.value?(v(),_("div",Pp,[a("button",{type:"button",class:"btn-import",onClick:y},[...F[3]||(F[3]=[a("span",{class:"import-icon"},"",-1),Ce(" Import from Postman file ",-1)])]),F[4]||(F[4]=a("p",{class:"import-hint"}," Select a .postman_environment.json file ",-1))])):r.value?(v(),_("div",Np,[a("div",Mp,[F[5]||(F[5]=a("span",{class:"preview-icon"},"",-1)),a("div",Lp,[a("span",Vp,R(r.value.name),1),a("span",Up,R(r.value.values?.length||0)+" variables",1)]),a("button",{type:"button",class:"btn-clear",onClick:w,title:"Clear and start over"},"  ")]),a("p",jp,R(l.value),1)])):u.value?(v(),_("div",zp,[a("div",Hp,[F[6]||(F[6]=a("span",{class:"error-icon"},"",-1)),a("span",Bp,R(u.value),1)]),a("button",{type:"button",class:"btn-retry",onClick:y}," Try another file ")])):z("",!0)]),a("div",Jp,[a("button",{type:"button",class:"btn-secondary",onClick:U}," Cancel "),a("button",{type:"submit",class:"btn-primary",disabled:!d.value},R(c.value),9,Wp)])],32)]),_:1},8,["title"]))}},Kp=be(Gp,[["__scopeId","data-v-c0dc3c70"]]);class Xp extends po{constructor(e){super("environment-context-menu"),this.environmentsController=e,this.alert=Ns()}getMenuTitle(e){return e?.name||"Environment"}getMenuItems(){return[{action:"activate",label:"Set as Active",icon:""},{type:"separator"},{action:"variables",label:"Manage Variables",icon:""},{action:"rename",label:"Rename",icon:""},{action:"duplicate",label:"Duplicate",icon:""},{action:"export",label:"Export",icon:""},{type:"separator"},{action:"delete",label:"Delete",icon:"",danger:!0}]}async handleAction(e,t){switch(this.logger.info(`Executing environment action: ${e} for environment: ${t?.name}`),e){case"activate":return await this.activateEnvironment(t);case"variables":return await this.manageVariables(t);case"rename":return await this.renameEnvironment(t);case"duplicate":return await this.duplicateEnvironment(t);case"export":return await this.exportEnvironment(t);case"delete":return await this.deleteEnvironment(t);default:throw new Error(`Unknown action: ${e}`)}}async activateEnvironment(e){return this.environmentsController.setActiveEnvironment(e.id),this.logger.info("Activated environment:",e.name),{action:"activate",environmentId:e.id,environmentName:e.name}}async manageVariables(e){return this.logger.info("Opening variables dialog for environment:",e.name),{action:"variables",environment:e}}async renameEnvironment(e){const t=await this.alert.prompt("Enter new environment name:",e.name,"Rename Environment");return t&&t.trim()&&t.trim()!==e.name?(this.environmentsController.environmentsStore.updateEnvironment(e.id,{name:t.trim()}),this.logger.info("Renamed environment from",e.name,"to",t.trim()),await this.alert.alertSuccess(`Environment renamed to "${t.trim()}"`),{action:"rename",oldName:e.name,newName:t.trim()}):{action:"rename",cancelled:!0}}async duplicateEnvironment(e){const t=this.environmentsController.duplicateEnvironment(e.id);if(t)return this.logger.info("Duplicated environment:",e.name,"",t.name),{action:"duplicate",originalId:e.id,duplicateId:t.id};throw new Error("Failed to duplicate environment")}async exportEnvironment(e){try{const t={id:e.id,name:e.name,values:e.values||[],exportedAt:new Date().toISOString(),exportedBy:"ToastMan"},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),o=URL.createObjectURL(n),i=document.createElement("a");return i.href=o,i.download=`${e.name.replace(/[^a-z0-9]/gi,"_")}_environment.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o),this.logger.info("Exported environment:",e.name),{action:"export",environmentId:e.id,environmentName:e.name}}catch(t){throw this.logger.error("Failed to export environment:",t),new Error("Failed to export environment")}}async deleteEnvironment(e){const t=this.environmentsController.environmentsStore.activeEnvironment?.value?.id===e.id||this.environmentsController.environmentsStore.activeEnvironment?.id===e.id,n=t?`Are you sure you want to delete the environment "${e.name}"?

This is your currently ACTIVE environment. Deleting it will deactivate all environment variables.

This action cannot be undone.`:`Are you sure you want to delete the environment "${e.name}"?

This action cannot be undone.`;return await this.alert.confirmDelete(n,"Delete Environment")?(await this.environmentsController.deleteEnvironment(e.id),this.logger.info("Deleted environment:",e.name),await this.alert.alertSuccess(`Environment "${e.name}" has been deleted`),{action:"delete",environmentId:e.id,environmentName:e.name,wasActive:t}):{action:"delete",cancelled:!0}}}const Yp={key:0,class:"active-indicator"},Qp={__name:"EnvironmentContextMenu",props:{environmentsController:{type:Object,required:!0}},emits:["close","action"],setup(s,{expose:e,emit:t}){const n=s,o=t,i=new Xp(n.environmentsController);i.init();const r=D(()=>i.getMenuItems()),l=u=>{o("action",u)};return e({show:(u,p)=>i.show(u,p),hide:()=>i.hide(),controller:i}),(u,p)=>L(i).state.show?(v(),pe(uo,{key:0,controller:L(i),"menu-items":r.value,onAction:l},{items:Pe(({item:c,handleAction:d})=>[s.environmentsController.environmentsStore.activeEnvironment?.value?.id===c?.id||s.environmentsController.environmentsStore.activeEnvironment?.id===c?.id?(v(),_("div",Yp,[...p[0]||(p[0]=[a("span",{class:"active-icon"},"",-1),a("span",{class:"active-text"},"Currently Active",-1)])])):z("",!0)]),_:1},8,["controller","menu-items"])):z("",!0)}},Zp=be(Qp,[["__scopeId","data-v-d84c6688"]]),ef={class:"variables-container"},tf={class:"variables-table"},sf={class:"table-body"},nf={class:"col-checkbox"},of=["onUpdate:modelValue","disabled"],rf={class:"col-key"},af=["onUpdate:modelValue","onInput"],lf={key:0,class:"error-text"},cf={class:"col-type"},uf=["onUpdate:modelValue","disabled"],df=["value"],pf={class:"col-value"},ff=["type","onUpdate:modelValue","placeholder","disabled"],hf=["onUpdate:modelValue","placeholder","disabled"],mf={class:"col-actions"},gf=["onClick"],vf=["onClick"],yf={class:"variables-summary"},bf={class:"summary-text"},wf=["disabled"],xf={__name:"EnvironmentVariablesDialog",props:{environment:{type:Object,required:!0}},emits:["close","update"],setup(s,{emit:e}){const t=new ts({prefix:"EnvironmentVariablesDialog",level:"debug"}),n=s,o=e,i=se([]);se({key:"",value:"",type:"default",description:"",enabled:!0}),Ne(()=>{const A=n.environment.values||[];i.value=A.map(F=>({...F})),i.value.length===0&&u()});const r=[{value:"default",label:"Text"},{value:"secret",label:"Secret"},{value:"number",label:"Number"},{value:"boolean",label:"Boolean"},{value:"json",label:"JSON"}],l=D(()=>i.value.filter(A=>A.enabled&&A.key).length),u=()=>{i.value.push({id:`temp_${Date.now()}`,key:"",value:"",type:"default",description:"",enabled:!0})},p=A=>{i.value.splice(A,1),i.value.length===0&&u()},c=A=>{const F=i.value[A],q={...F,id:`temp_${Date.now()}`,key:`${F.key}_copy`,enabled:!0};i.value.splice(A+1,0,q)},d=A=>{if(!A.key)return"Key is required";if(i.value.filter(q=>q.key===A.key&&q.key!=="").length>1)return"Duplicate key";if(A.type==="number"&&A.value!==""&&isNaN(Number(A.value)))return"Must be a number";if(A.type==="boolean"&&A.value!==""&&A.value!=="true"&&A.value!=="false")return"Must be true or false";if(A.type==="json"&&A.value!=="")try{JSON.parse(A.value)}catch{return"Invalid JSON"}return null},f=D(()=>{const A={};return i.value.forEach((F,q)=>{if(F.key){const H=d(F);H&&(A[q]=H)}}),A}),m=A=>f.value[A]||null,w=D(()=>Object.keys(f.value).length>0),y=()=>{if(w.value)return;const A=i.value.filter(q=>q.key.trim()!=="").map(q=>{try{return new Kt({key:q.key.trim(),value:q.value,type:q.type,description:q.description||"",enabled:q.enabled}).toJSON()}catch(H){return t.error("Error creating environment variable:",H),null}}).filter(q=>q!==null),F={...n.environment,values:A};o("update",F),o("close")},S=(A,F)=>{const q=i.value[A];q.key=F.target.value,A===i.value.length-1&&q.key.trim()!==""&&u()},U=A=>{switch(A){case"secret":return"Enter secret value...";case"number":return"Enter number...";case"boolean":return"true or false";case"json":return"Enter JSON object...";default:return"Enter value..."}};return(A,F)=>(v(),pe(Ms,{title:`Environment Variables - ${s.environment.name}`,width:"800px",height:"600px",onClose:F[1]||(F[1]=q=>o("close"))},{footer:Pe(()=>[a("button",{onClick:F[0]||(F[0]=q=>o("close")),class:"btn-secondary"}," Cancel "),a("button",{onClick:y,class:"btn-primary",disabled:w.value}," Save Changes ",8,wf)]),default:Pe(()=>[a("div",ef,[a("div",tf,[F[2]||(F[2]=a("div",{class:"table-header"},[a("div",{class:"col-checkbox"}),a("div",{class:"col-key"},"Variable"),a("div",{class:"col-type"},"Type"),a("div",{class:"col-value"},"Initial Value"),a("div",{class:"col-actions"},"Actions")],-1)),a("div",sf,[(v(!0),_(ue,null,_e(i.value,(q,H)=>(v(),_("div",{key:q.id||H,class:he(["variable-row",{disabled:!q.enabled}])},[a("div",nf,[ae(a("input",{type:"checkbox","onUpdate:modelValue":k=>q.enabled=k,disabled:!q.key},null,8,of),[[Ye,q.enabled]])]),a("div",rf,[ae(a("input",{type:"text","onUpdate:modelValue":k=>q.key=k,onInput:k=>S(H,k),placeholder:"Variable name...",class:he(["input-field",{error:m(H)}])},null,42,af),[[Ee,q.key]]),m(H)?(v(),_("div",lf,R(m(H)),1)):z("",!0)]),a("div",cf,[ae(a("select",{"onUpdate:modelValue":k=>q.type=k,class:"input-field",disabled:!q.key},[(v(),_(ue,null,_e(r,k=>a("option",{key:k.value,value:k.value},R(k.label),9,df)),64))],8,uf),[[mt,q.type]])]),a("div",pf,[q.type!=="json"?ae((v(),_("input",{key:0,type:q.type==="secret"?"password":"text","onUpdate:modelValue":k=>q.value=k,placeholder:U(q.type),class:"input-field",disabled:!q.key},null,8,ff)),[[gu,q.value]]):ae((v(),_("textarea",{key:1,"onUpdate:modelValue":k=>q.value=k,placeholder:U(q.type),class:"input-field textarea-field",disabled:!q.key,rows:"2"},null,8,hf)),[[Ee,q.value]])]),a("div",mf,[q.key?(v(),_("button",{key:0,onClick:k=>c(H),class:"action-btn duplicate-btn",title:"Duplicate variable"},"  ",8,gf)):z("",!0),i.value.length>1?(v(),_("button",{key:1,onClick:k=>p(H),class:"action-btn delete-btn",title:"Delete variable"},"  ",8,vf)):z("",!0)])],2))),128))])]),a("div",yf,[a("span",bf,R(l.value)+" enabled variable"+R(l.value!==1?"s":""),1),a("button",{onClick:u,class:"btn-secondary"}," + Add Variable ")])])]),_:1},8,["title"]))}},_f=be(xf,[["__scopeId","data-v-34708a4e"]]),Cf={class:"environments-tab"},Sf={class:"environments-list"},Ef={key:0,class:"empty-state"},kf={key:1,class:"empty-state welcome-state"},Tf=["onClick","onContextmenu"],$f={class:"environment-content"},Af={class:"environment-name"},Rf={class:"variable-count"},qf={class:"environment-actions"},Of={key:0,class:"active-badge"},If={__name:"EnvironmentsTab",setup(s){const e=new ts({prefix:"EnvironmentsTab",level:"debug"}),t=new Ip;t.init(),t.state;const n=D(()=>t.getComputed("environments")||[]),o=D(()=>t.getComputed("activeEnvironment")),i=se(!1),r=se(!1),l=se(null),u=se(null),p=()=>{i.value=!0},c=async U=>{(await t.createEnvironment(U)).success&&(i.value=!1)},d=async U=>{const A=await t.importEnvironment(U);A.success?(i.value=!1,e.info("Environment imported successfully:",U.name)):e.error("Failed to import environment:",A.error)},f=U=>t.setActiveEnvironment(U),m=(U,A)=>{u.value&&u.value.show(U,A)},w=U=>{U.action==="variables"&&U.item&&y(U.item)},y=U=>{l.value=U,r.value=!0},S=async U=>{const A=await t.updateEnvironment(U.id,{values:U.values});A.success?(r.value=!1,l.value=null):e.error("[DEBUG] Update failed:",A.error)};return Ne(()=>{}),pt(()=>{t.dispose()}),(U,A)=>(v(),_("div",Cf,[a("div",{class:"section-header"},[A[2]||(A[2]=a("span",{class:"section-title"},"Environments",-1)),a("button",{class:"btn-icon",title:"New Environment",onClick:p},"+")]),a("div",Sf,[n.value?n.value.length===0?(v(),_("div",kf,[A[4]||(A[4]=a("div",{class:"welcome-icon"},"",-1)),A[5]||(A[5]=a("h3",null,"No Environments Yet",-1)),A[6]||(A[6]=a("p",null,"Environments help manage variables like API URLs, tokens, and settings across different stages.",-1)),a("button",{class:"btn-primary",onClick:p}," Create Your First Environment "),A[7]||(A[7]=a("div",{class:"quick-tips"},[a("h4",null,"Environment Examples:"),a("ul",null,[a("li",null,"Development (dev APIs)"),a("li",null,"Staging (test environment)"),a("li",null,"Production (live APIs)")])],-1))])):(v(!0),_(ue,{key:2},_e(n.value,F=>(v(),_("div",{key:F?.id||Date.now(),class:he(["environment-item",{active:o.value?.id===F?.id}]),onClick:q=>F&&f(F.id),onContextmenu:q=>m(q,F)},[A[8]||(A[8]=a("div",{class:"environment-indicator"},null,-1)),a("div",$f,[a("span",Af,R(F?.name||"Unnamed Environment"),1),a("span",Rf,R((F?.values||[]).length)+" variables",1)]),a("div",qf,[o.value?.id===F?.id?(v(),_("span",Of,"Active")):z("",!0)])],42,Tf))),128)):(v(),_("div",Ef,[...A[3]||(A[3]=[a("div",{class:"loading-spinner"},"",-1),a("p",null,"Loading environments...",-1)])]))]),i.value?(v(),pe(Kp,{key:0,onClose:A[0]||(A[0]=F=>i.value=!1),onCreate:c,onImport:d})):z("",!0),ve(Zp,{ref_key:"contextMenuRef",ref:u,"environments-controller":L(t),onAction:w},null,8,["environments-controller"]),r.value&&l.value?(v(),pe(_f,{key:1,environment:l.value,onClose:A[1]||(A[1]=F=>{r.value=!1,l.value=null}),onUpdate:S},null,8,["environment"])):z("",!0)]))}},Df=be(If,[["__scopeId","data-v-2138bffc"]]),Ls={REQUEST:"request",RESPONSE:"response",VALIDATION:"validation",SCRIPT_RESULTS:"script_results",CONSOLE_LOG:"console_log",ENV_CHANGE:"env_change"};function Vs({type:s,data:e}={}){return{id:Oe(),type:s,data:e,timestamp:new Date().toISOString()}}function Ff(s,e=""){return Vs({type:Ls.REQUEST,data:{request:s,curl:e}})}function Pf(s){return Vs({type:Ls.RESPONSE,data:{status:s.status,statusText:s.statusText,headers:s.headers||{},body:s.body,time:s.time,size:s.size,error:s.error||null,success:s.success!==!1}})}function Nf(s,e=""){return Vs({type:Ls.VALIDATION,data:{errors:s,curlInput:e,errorCount:s.filter(t=>t.type==="error").length,warningCount:s.filter(t=>t.type==="warning").length}})}function Mf(s){return Vs({type:Ls.SCRIPT_RESULTS,data:{tests:s.tests||[],duration:s.duration||0,error:s.error||null}})}function Lf(s){return Vs({type:Ls.CONSOLE_LOG,data:{logs:s}})}function Vf(s,e="",t=!0){return Vs({type:Ls.ENV_CHANGE,data:{changes:s,environmentName:e,hasActiveEnvironment:t}})}function Uf({name:s="New Conversation",requestId:e=null,collectionId:t=null,folderId:n=null,initialRequest:o=null}={}){return{id:Oe(),name:s,requestId:e,collectionId:t,folderId:n,messages:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}function ys(s,e){return s.messages.push(e),s.updatedAt=new Date().toISOString(),s}let qo=null;function pi(){return qo||(qo=jf()),qo}function jf(){const s=bt("conversations"),{data:e}=zu(),t=se(null),n=D(()=>t.value&&e.value.find(k=>k.id===t.value)||null),o=D(()=>n.value?.messages||[]),i=D(()=>!!n.value),r=D(()=>e.value.length),l=({name:k="New Request",requestId:x=null,collectionId:T=null,folderId:I=null}={})=>{s.info("Creating new conversation:",{name:k,requestId:x,collectionId:T});const E=Uf({name:k,requestId:x,collectionId:T,folderId:I});return e.value.push(E),t.value=E.id,s.debug("Conversation created:",E.id),E};return{conversations:e,activeConversationId:t,activeConversation:n,activeMessages:o,hasActiveConversation:i,conversationCount:r,createNewConversation:l,openConversation:({name:k,requestId:x,collectionId:T,folderId:I=null})=>{const E=e.value.find($=>$.requestId===x&&$.collectionId===T);return E?(s.info("Opening existing conversation:",E.id),t.value=E.id,E):l({name:k,requestId:x,collectionId:T,folderId:I})},setActiveConversation:k=>{e.value.some(T=>T.id===k)?(t.value=k,s.debug("Active conversation set:",k)):s.warn("Conversation not found:",k)},addRequest:(k,x="")=>{const T=n.value;if(!T)return s.warn("No active conversation to add request to"),null;const I=Ff(k,x);return ys(T,I),s.debug("Request message added:",I.id),I},addResponse:k=>{const x=n.value;if(!x)return s.warn("No active conversation to add response to"),null;const T=Pf(k);return ys(x,T),s.debug("Response message added:",T.id),T},addValidationError:(k,x="")=>{const T=n.value;if(!T)return s.warn("No active conversation to add validation error to"),null;const I=Nf(k,x);return ys(T,I),s.debug("Validation error message added:",I.id),I},addScriptResults:k=>{const x=n.value;if(!x)return s.warn("No active conversation to add script results to"),null;if(!k.tests?.length&&!k.error)return null;const T=Mf(k);return ys(x,T),s.debug("Script results message added:",T.id),T},addConsoleLogs:k=>{const x=n.value;if(!x)return s.warn("No active conversation to add console logs to"),null;if(!k?.length)return null;const T=Lf(k);return ys(x,T),s.debug("Console log message added:",T.id),T},addEnvChanges:(k,x="",T=!0)=>{const I=n.value;if(!I)return s.warn("No active conversation to add env changes to"),null;if(!k?.length)return null;const E=Vf(k,x,T);return ys(I,E),s.debug("Environment change message added:",E.id),E},clearActiveConversation:()=>{const k=n.value;k&&(k.messages=[],k.updatedAt=new Date().toISOString(),s.info("Conversation cleared:",k.id))},deleteConversation:k=>{const x=e.value.findIndex(T=>T.id===k);x>-1&&(e.value.splice(x,1),t.value===k&&(t.value=null),s.info("Conversation deleted:",k))},getConversationByRequest:(k,x)=>e.value.find(T=>T.requestId===k&&T.collectionId===x)||null,updateConversationName:(k,x)=>{const T=e.value.find(I=>I.id===k);T&&(T.name=x,T.updatedAt=new Date().toISOString())},getSortedConversations:()=>[...e.value].sort((k,x)=>new Date(x.updatedAt)-new Date(k.updatedAt)),closeActiveConversation:()=>{t.value=null,s.debug("Active conversation closed")}}}class zf extends We{constructor(){super("history"),this.tabsStore=hn(),this.conversationsStore=pi(),this.createState({filterMethod:null,searchQuery:""})}init(){super.init(),this.logger.debug("History controller initialized")}getSessions(){return this.conversationsStore.getSortedConversations().filter(e=>e.messages&&e.messages.length>0)}getSessionSummary(e){const t=e.messages||[],n=t.filter(l=>l.type==="request"),o=n[n.length-1];let i="GET",r=e.name||"Request";return o?.data?.request&&(i=o.data.request.method||"GET",r=o.data.request.url?.raw||e.name||"Request"),{id:e.id,name:e.name,method:i,url:r,messageCount:t.length,requestCount:n.length,updatedAt:e.updatedAt,createdAt:e.createdAt}}openSession(e){const t=this.conversationsStore.conversations.value.find(r=>r.id===e);if(!t){this.logger.warn("Session not found:",e);return}const n=this.tabsStore.tabs.value.find(r=>r.conversationId===e);if(n){this.tabsStore.setActiveTab(n.id),this.conversationsStore.setActiveConversation(e),this.logger.info("Focused existing tab for session:",e),this.emit("sessionOpened",{sessionId:e,tabId:n.id});return}const o=this.getSessionSummary(t),i=this.tabsStore.createTab({name:o.name||`${o.method} Request`,method:o.method,conversationId:e});this.conversationsStore.setActiveConversation(e),this.logger.info("Opened session in new tab:",e),this.emit("sessionOpened",{sessionId:e,tabId:i.id})}clearHistory(){const e=this.conversationsStore.conversations.value;e.splice(0,e.length),this.logger.info("Cleared all sessions"),this.emit("historyCleared")}removeSession(e){this.conversationsStore.deleteConversation(e),this.logger.debug("Removed session:",e),this.emit("sessionRemoved",e)}filterByMethod(e){const t=this.getSessions();return e?t.filter(n=>this.getSessionSummary(n).method===e):t}searchSessions(e){const t=this.getSessions();if(!e)return t;const n=e.toLowerCase();return t.filter(o=>{const i=this.getSessionSummary(o);return i.name?.toLowerCase().includes(n)||i.url?.toLowerCase().includes(n)||i.method?.toLowerCase().includes(n)})}getHistoryStats(){const e=this.getSessions(),t={};let n=0;return e.forEach(o=>{const i=this.getSessionSummary(o);t[i.method]=(t[i.method]||0)+1,n+=i.messageCount}),{totalSessions:e.length,totalMessages:n,methods:t}}formatTime(e){const t=new Date(e),o=new Date-t;return o<6e4?"Just now":o<36e5?`${Math.floor(o/6e4)}m ago`:o<864e5?`${Math.floor(o/36e5)}h ago`:o<1728e5?"Yesterday":o<6048e5?`${Math.floor(o/864e5)}d ago`:t.toLocaleDateString()}getMethodColor(e){return{GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)",HEAD:"var(--color-head)",OPTIONS:"var(--color-options)"}[e]||"var(--color-text-secondary)"}onUnmounted(){this.dispose()}}const Hf={class:"history-tab"},Bf={class:"section-header"},Jf={class:"header-actions"},Wf={class:"history-list"},Gf={key:0,class:"empty-state welcome-state"},Kf=["onClick"],Xf={class:"history-header"},Yf={class:"history-name"},Qf={class:"history-time"},Zf=["onClick"],eh={class:"history-meta"},th={class:"message-count"},sh={key:0,class:"url-preview"},nh={__name:"HistoryTab",setup(s){const e=new zf,t=D(()=>e.getSessions().map(u=>e.getSessionSummary(u))),n=()=>e.clearHistory(),o=u=>e.openSession(u),i=u=>e.removeSession(u),r=u=>e.formatTime(u),l=u=>e.getMethodColor(u);return Ne(()=>{e.init()}),pt(()=>{e.onUnmounted()}),(u,p)=>(v(),_("div",Hf,[a("div",Bf,[p[1]||(p[1]=a("span",{class:"section-title"},"Session History",-1)),a("div",Jf,[t.value.length>0?(v(),_("button",{key:0,class:"btn-icon",title:"Clear All Sessions",onClick:n},[...p[0]||(p[0]=[a("span",{class:"icon-trash"},"",-1)])])):z("",!0)])]),a("div",Wf,[t.value.length===0?(v(),_("div",Gf,[...p[2]||(p[2]=[a("div",{class:"welcome-icon"},"",-1),a("h3",null,"No Session History",-1),a("p",null,"Your conversation sessions will appear here. Send some requests to get started!",-1),a("div",{class:"quick-tips"},[a("h4",null,"Session Features:"),a("ul",null,[a("li",null,"Full conversation threads"),a("li",null,"Continue where you left off"),a("li",null,"Persists across browser sessions")])],-1)])])):(v(!0),_(ue,{key:1},_e(t.value,c=>(v(),_("div",{key:c.id,class:"history-item",onClick:d=>o(c.id)},[a("div",Xf,[a("span",{class:"method-badge",style:De({color:l(c.method)})},R(c.method),5),a("span",Yf,R(c.name),1),a("span",Qf,R(r(c.updatedAt)),1),a("button",{class:"btn-remove",title:"Remove session",onClick:yn(d=>i(c.id),["stop"])},"  ",8,Zf)]),a("div",eh,[a("span",th,R(c.messageCount)+" message"+R(c.messageCount!==1?"s":""),1),c.url!==c.name?(v(),_("span",sh,R(c.url),1)):z("",!0)])],8,Kf))),128))])]))}},oh=be(nh,[["__scopeId","data-v-a775bd7e"]]),ih={class:"sidebar"},rh={class:"sidebar-tabs"},ah={class:"tab-content"},lh={__name:"Sidebar",setup(s){const e=new Ou,t=e.state,n=o=>e.switchTab(o);return Ne(()=>{e.init()}),pt(()=>{e.dispose()}),(o,i)=>(v(),_("div",ih,[a("div",rh,[a("button",{class:he(["tab",{active:L(t).activeTab==="collections"}]),onClick:i[0]||(i[0]=r=>n("collections"))},"  Collections ",2),a("button",{class:he(["tab",{active:L(t).activeTab==="environments"}]),onClick:i[1]||(i[1]=r=>n("environments"))},"  Environments ",2),a("button",{class:he(["tab",{active:L(t).activeTab==="history"}]),onClick:i[2]||(i[2]=r=>n("history"))},"  History ",2)]),a("div",ah,[L(t).activeTab==="collections"?(v(),pe(Rp,{key:0})):z("",!0),L(t).activeTab==="environments"?(v(),pe(Df,{key:1})):z("",!0),L(t).activeTab==="history"?(v(),pe(oh,{key:2})):z("",!0)])]))}},ch=be(lh,[["__scopeId","data-v-0d09fed8"]]);function fo(){const s=ms(),e=/\{\{([^}]+)\}\}/g,t=d=>{if(!d||typeof d!="string")return[];const f=[];let m;for(e.lastIndex=0;(m=e.exec(d))!==null;)f.push({name:m[1].trim(),match:m[0],start:m.index,end:m.index+m[0].length,raw:m[1]});return f},n=(d,f=null)=>{const m=f?s.getEnvironment(f):s.activeEnvironment.value;return m?!!m.values?.find(y=>y.key===d&&y.enabled):!1},o=(d,f=null)=>s.resolveVariable(d,f),i=(d,f=null)=>s.interpolateString(d,f),r=(d,f=null)=>t(d).map(y=>{const S=n(y.name,f),U=o(y.name,f);return{...y,exists:S,value:U,resolved:U!==null}}),l=(d,f=null)=>{if(!d||typeof d!="string")return[{type:"text",content:d}];const m=r(d,f);if(m.length===0)return[{type:"text",content:d}];const w=[];let y=0;return m.forEach(S=>{S.start>y&&w.push({type:"text",content:d.slice(y,S.start)}),w.push({type:"variable",content:S.match,name:S.name,exists:S.exists,value:S.value,resolved:S.resolved}),y=S.end}),y<d.length&&w.push({type:"text",content:d.slice(y)}),w},u=(d,f=null)=>{const m=r(d,f),w=i(d,f);return{original:d,interpolated:w,variables:m,hasVariables:m.length>0,allResolved:m.every(y=>y.resolved),unresolvedCount:m.filter(y=>!y.resolved).length}},p=D(()=>s.activeEnvironment.value),c=D(()=>s.getAvailableVariables());return{detectVariables:t,variableExists:n,getVariableValue:o,interpolateText:i,analyzeVariables:r,splitTextForHighlighting:l,previewInterpolation:u,activeEnvironment:p,availableVariables:c,VARIABLE_REGEX:e}}const uh={class:"message-bubble request"},dh={class:"bubble-header"},ph={class:"url"},fh={class:"timestamp"},hh={class:"bubble-summary"},mh={key:0,class:"summary-row"},gh={class:"summary-badge"},vh={class:"summary-preview"},yh={key:1,class:"summary-row"},bh={class:"summary-badge"},wh={class:"summary-preview"},xh={key:0,class:"bubble-details"},_h={key:0,class:"bubble-section"},Ch={class:"toggle-icon"},Sh={key:0,class:"section-content"},Eh={class:"kv-key"},kh={class:"kv-value"},Th={key:1,class:"bubble-section"},$h={class:"toggle-icon"},Ah={key:0,class:"section-content"},Rh={class:"body-content"},qh={class:"bubble-section curl-section"},Oh={class:"toggle-icon"},Ih={key:0,class:"section-content"},Dh={class:"curl-content"},Fh={class:"bubble-actions"},Ph=["title"],Nh={__name:"RequestBubble",props:{message:{type:Object,required:!0}},emits:["edit"],setup(s,{emit:e}){const t=s,{interpolateText:n}=fo(),o=se(!1),i=se({headers:!1,body:!0,curl:!1}),r=D(()=>t.message.data?.request||{}),l=D(()=>t.message.data?.curl||""),u=D(()=>r.value.method||"GET"),p=D(()=>{const x=r.value.url;return x?typeof x=="string"?x:x.raw||"":""}),c=D(()=>n(p.value)),d=D(()=>{const x=c.value;return x.length>60?x.substring(0,60)+"...":x}),f=D(()=>(r.value.header||[]).filter(x=>x.enabled!==!1&&x.key)),m=D(()=>{const x=r.value.body;return!x||x.mode==="none"?!1:x.mode==="raw"?!!x.raw:x.mode==="formdata"?(x.formdata||[]).length>0:x.mode==="urlencoded"?(x.urlencoded||[]).length>0:!1}),w=D(()=>{const x=r.value.body;return!x||x.mode==="none"?"":{raw:"JSON",formdata:"Form",urlencoded:"URL"}[x.mode]||x.mode}),y=D(()=>{if(f.value.length===0)return"";const x=f.value[0],T=`${x.key}: ${x.value}`;return T.length>40?T.substring(0,40)+"...":f.value.length>1?T+` +${f.value.length-1}`:T}),S=D(()=>{const x=r.value.body;if(!x)return"";if(x.mode==="raw"){const T=x.raw||"";return T.length>50?T.substring(0,50)+"...":T}if(x.mode==="formdata"){const T=(x.formdata||[]).filter(I=>I.enabled!==!1);return T.length===0?"":`${T.length} field${T.length>1?"s":""}`}if(x.mode==="urlencoded"){const T=(x.urlencoded||[]).filter(I=>I.enabled!==!1);return T.length===0?"":`${T.length} field${T.length>1?"s":""}`}return""}),U=D(()=>{const x=r.value.body;if(!x)return"";if(x.mode==="raw")try{return JSON.stringify(JSON.parse(x.raw),null,2)}catch{return x.raw}return x.mode==="formdata"?(x.formdata||[]).filter(T=>T.enabled!==!1).map(T=>`${T.key}=${T.value}`).join(`
`):x.mode==="urlencoded"?(x.urlencoded||[]).filter(T=>T.enabled!==!1).map(T=>`${T.key}=${T.value}`).join("&"):""}),A=D(()=>({GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)"})[u.value]||"var(--color-text-secondary)"),F=D(()=>t.message.timestamp?new Date(t.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"");function q(){o.value=!o.value}function H(x){i.value[x]=!i.value[x]}function k(){navigator.clipboard.writeText(l.value)}return(x,T)=>(v(),_("div",uh,[a("div",dh,[a("div",{class:"method-badge",style:De({backgroundColor:A.value})},R(u.value),5),a("span",ph,R(d.value),1),a("span",fh,R(F.value),1)]),a("div",hh,[f.value.length>0?(v(),_("div",mh,[T[4]||(T[4]=a("span",{class:"summary-label"},"Headers",-1)),a("span",gh,R(f.value.length),1),a("span",vh,R(y.value),1)])):z("",!0),m.value?(v(),_("div",yh,[T[5]||(T[5]=a("span",{class:"summary-label"},"Body",-1)),a("span",bh,R(w.value),1),a("span",wh,R(S.value),1)])):z("",!0)]),o.value?(v(),_("div",xh,[f.value.length>0?(v(),_("div",_h,[a("div",{class:"section-header",onClick:T[0]||(T[0]=I=>H("headers"))},[a("span",null,"Headers ("+R(f.value.length)+")",1),a("span",Ch,R(i.value.headers?"":"+"),1)]),i.value.headers?(v(),_("div",Sh,[(v(!0),_(ue,null,_e(f.value,I=>(v(),_("div",{key:I.key,class:"kv-item"},[a("span",Eh,R(I.key)+":",1),a("span",kh,R(I.value),1)]))),128))])):z("",!0)])):z("",!0),m.value?(v(),_("div",Th,[a("div",{class:"section-header",onClick:T[1]||(T[1]=I=>H("body"))},[T[6]||(T[6]=a("span",null,"Body",-1)),a("span",$h,R(i.value.body?"":"+"),1)]),i.value.body?(v(),_("div",Ah,[a("pre",Rh,R(U.value),1)])):z("",!0)])):z("",!0),a("div",qh,[a("div",{class:"section-header",onClick:T[2]||(T[2]=I=>H("curl"))},[T[7]||(T[7]=a("span",null,"cURL",-1)),a("span",Oh,R(i.value.curl?"":"+"),1)]),i.value.curl?(v(),_("div",Ih,[a("pre",Dh,R(l.value),1),a("button",{class:"copy-btn",onClick:k},"Copy")])):z("",!0)])])):z("",!0),a("div",Fh,[a("button",{class:"action-btn",onClick:q,title:o.value?"Collapse":"Expand"},R(o.value?"":""),9,Ph),a("button",{class:"action-btn",onClick:T[3]||(T[3]=I=>x.$emit("edit")),title:"Edit"}," Edit ")])]))}},Mh=be(Nh,[["__scopeId","data-v-6abf18f3"]]),Lh={class:"base-text-editor"},Vh=["value","placeholder","readonly"],Uh={__name:"BaseTextEditor",props:{modelValue:{type:String,default:""},language:{type:String,default:"text"},theme:{type:String,default:"dark"},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},height:{type:String,default:"400px"},options:{type:Object,default:()=>({})}},emits:["update:modelValue","change","focus","blur"],setup(s,{expose:e,emit:t}){const n=s;return e({focus:()=>{console.warn("BaseTextEditor: focus() should be implemented by concrete editor")},blur:()=>{console.warn("BaseTextEditor: blur() should be implemented by concrete editor")},setValue:u=>{console.warn("BaseTextEditor: setValue() should be implemented by concrete editor")},getValue:()=>(console.warn("BaseTextEditor: getValue() should be implemented by concrete editor"),n.modelValue)}),(u,p)=>(v(),_("div",Lh,[a("textarea",{value:s.modelValue,onInput:p[0]||(p[0]=c=>u.$emit("update:modelValue",c.target.value)),onFocus:p[1]||(p[1]=c=>u.$emit("focus",c)),onBlur:p[2]||(p[2]=c=>u.$emit("blur",c)),placeholder:s.placeholder,readonly:s.readonly,style:De({height:s.height}),class:"fallback-editor"},null,44,Vh)]))}},fi=be(Uh,[["__scopeId","data-v-f64ee84a"]]);function Da(){if(!window.ace){console.warn("ACE not loaded, cannot initialize curl mode");return}const s=window.ace;s.define("ace/mode/curl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){const o=e("ace/lib/oop"),i=e("ace/mode/text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{token:"variable.language",regex:/\{\{[^}]+\}\}/},{token:"keyword.control",regex:/\b(GET|POST|PUT|PATCH|DELETE|HEAD|OPTIONS|CONNECT|TRACE)\b/},{token:"keyword.operator",regex:/--[a-z][a-z0-9-]*/},{token:"keyword.operator",regex:/-[A-Za-z]\b/},{token:"string.other",regex:/https?:\/\/[^\s'"]+/},{token:"string.quoted.double",regex:/"/,next:"qqstring"},{token:"string.quoted.single",regex:/'/,next:"qstring"},{token:"support.type",regex:/[A-Za-z][A-Za-z0-9-]*(?=\s*:)/},{token:"constant.numeric",regex:/\b\d+\b/},{token:"keyword.operator",regex:/\\$/},{token:"comment.line",regex:/#.*/}],qqstring:[{token:"variable.language",regex:/\{\{[^}]+\}\}/},{token:"constant.character.escape",regex:/\\./},{token:"string.quoted.double",regex:/"/,next:"start"},{defaultToken:"string.quoted.double"}],qstring:[{token:"variable.language",regex:/\{\{[^}]+\}\}/},{token:"constant.character.escape",regex:/\\./},{token:"string.quoted.single",regex:/'/,next:"start"},{defaultToken:"string.quoted.single"}]},this.normalizeRules()};o.inherits(r,i),t.CurlHighlightRules=r}),s.define("ace/mode/curl",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/curl_highlight_rules"],function(e,t,n){const o=e("ace/lib/oop"),i=e("ace/mode/text").Mode,r=e("ace/mode/curl_highlight_rules").CurlHighlightRules,l=function(){this.HighlightRules=r,this.$behaviour=this.$defaultBehaviour};o.inherits(l,i),(function(){this.lineCommentStart="#",this.$id="ace/mode/curl"}).call(l.prototype),t.Mode=l}),console.debug("ACE curl mode initialized")}typeof window<"u"&&window.ace&&Da();const lr=[{caption:"GET",value:"GET",meta:"method",description:"Retrieve resource"},{caption:"POST",value:"POST",meta:"method",description:"Create resource"},{caption:"PUT",value:"PUT",meta:"method",description:"Update/replace resource"},{caption:"PATCH",value:"PATCH",meta:"method",description:"Partial update"},{caption:"DELETE",value:"DELETE",meta:"method",description:"Delete resource"},{caption:"HEAD",value:"HEAD",meta:"method",description:"Get headers only"},{caption:"OPTIONS",value:"OPTIONS",meta:"method",description:"Get allowed methods"}],cr=[{caption:"-X",value:"-X ",meta:"method",description:"HTTP method"},{caption:"--request",value:"--request ",meta:"method",description:"HTTP method (long)"},{caption:"-H",value:"-H ",meta:"header",description:"Add header"},{caption:"--header",value:"--header ",meta:"header",description:"Add header (long)"},{caption:"-d",value:"-d ",meta:"data",description:"Request body data"},{caption:"--data",value:"--data ",meta:"data",description:"Request body (long)"},{caption:"--data-raw",value:"--data-raw ",meta:"data",description:"Raw data (no processing)"},{caption:"--data-binary",value:"--data-binary ",meta:"data",description:"Binary data"},{caption:"--data-urlencode",value:"--data-urlencode ",meta:"data",description:"URL encoded data"},{caption:"-F",value:"-F ",meta:"form",description:"Multipart form field"},{caption:"--form",value:"--form ",meta:"form",description:"Multipart form (long)"},{caption:"-u",value:"-u ",meta:"auth",description:"User:password auth"},{caption:"--user",value:"--user ",meta:"auth",description:"User auth (long)"},{caption:"-k",value:"-k ",meta:"ssl",description:"Allow insecure connections"},{caption:"--insecure",value:"--insecure ",meta:"ssl",description:"Skip SSL verification"},{caption:"-L",value:"-L ",meta:"redirect",description:"Follow redirects"},{caption:"--location",value:"--location ",meta:"redirect",description:"Follow redirects (long)"},{caption:"-v",value:"-v ",meta:"debug",description:"Verbose output"},{caption:"--verbose",value:"--verbose ",meta:"debug",description:"Verbose (long)"},{caption:"-i",value:"-i ",meta:"output",description:"Include response headers"},{caption:"--include",value:"--include ",meta:"output",description:"Include headers (long)"},{caption:"-s",value:"-s ",meta:"output",description:"Silent mode"},{caption:"--silent",value:"--silent ",meta:"output",description:"Silent (long)"},{caption:"--connect-timeout",value:"--connect-timeout ",meta:"timeout",description:"Connection timeout (seconds)"},{caption:"-m",value:"-m ",meta:"timeout",description:"Max time for request"},{caption:"--max-time",value:"--max-time ",meta:"timeout",description:"Max time (long)"},{caption:"-o",value:"-o ",meta:"output",description:"Write to file"},{caption:"--output",value:"--output ",meta:"output",description:"Write to file (long)"}],jh=[{caption:"Content-Type: application/json",value:"Content-Type: application/json",meta:"content",description:"JSON content"},{caption:"Content-Type: application/x-www-form-urlencoded",value:"Content-Type: application/x-www-form-urlencoded",meta:"content",description:"Form content"},{caption:"Content-Type: multipart/form-data",value:"Content-Type: multipart/form-data",meta:"content",description:"Multipart form"},{caption:"Content-Type: text/plain",value:"Content-Type: text/plain",meta:"content",description:"Plain text"},{caption:"Content-Type: text/xml",value:"Content-Type: text/xml",meta:"content",description:"XML content"},{caption:"Authorization: Bearer ",value:"Authorization: Bearer ",meta:"auth",description:"Bearer token auth"},{caption:"Authorization: Basic ",value:"Authorization: Basic ",meta:"auth",description:"Basic auth"},{caption:"Authorization: ApiKey ",value:"Authorization: ApiKey ",meta:"auth",description:"API key auth"},{caption:"Accept: application/json",value:"Accept: application/json",meta:"accept",description:"Accept JSON"},{caption:"Accept: */*",value:"Accept: */*",meta:"accept",description:"Accept anything"},{caption:"Accept: text/html",value:"Accept: text/html",meta:"accept",description:"Accept HTML"},{caption:"User-Agent: ",value:"User-Agent: ",meta:"header",description:"User agent string"},{caption:"Cache-Control: no-cache",value:"Cache-Control: no-cache",meta:"cache",description:"No caching"},{caption:"Cache-Control: max-age=0",value:"Cache-Control: max-age=0",meta:"cache",description:"Revalidate"},{caption:"X-Api-Key: ",value:"X-Api-Key: ",meta:"custom",description:"API key header"},{caption:"X-Request-ID: ",value:"X-Request-ID: ",meta:"custom",description:"Request ID header"}];function zh(){try{const e=ms().activeEnvironment?.value;return e?.values?e.values.filter(t=>t.enabled!==!1).map(t=>({caption:`{{${t.key}}}`,value:`{{${t.key}}}`,meta:"variable",description:t.value?t.value.length>30?t.value.slice(0,30)+"...":t.value:"empty",score:500})):[]}catch{return[]}}function Hh(s,e){const t=s.slice(0,e);return/\{\{[^}]*$/.test(t)?"variable":/-X\s*$/.test(t)||/--request\s*$/.test(t)?"method":/-H\s*['"]?$/.test(t)||/--header\s*['"]?$/.test(t)?"header":/(^|\s)-[a-zA-Z-]*$/.test(t)?"flag":/^\s*$/.test(t)||/\s$/.test(t)?"general":null}const ur={identifierRegexps:[/[a-zA-Z_0-9\-{]/],getCompletions(s,e,t,n,o){const i=e.getLine(t.row),r=Hh(i,t.column);let l=[];switch(r){case"variable":l=zh();break;case"method":l=lr.map((u,p)=>({...u,score:1e3-p}));break;case"header":l=jh.map((u,p)=>({...u,score:1e3-p}));break;case"flag":l=cr.filter(u=>u.caption.toLowerCase().startsWith(n.toLowerCase())).map((u,p)=>({...u,score:900-p}));break;case"general":l=[...lr.map((u,p)=>({...u,score:800-p})),...cr.slice(0,10).map((u,p)=>({...u,score:700-p}))];break}o(null,l)},getDocTooltip(s){if(s.description)return{docHTML:`<div style="padding: 4px 8px;"><strong>${s.caption}</strong><br/><span style="color: #888;">${s.description}</span></div>`}}},Bh={"-X":{name:"Request Method",short:"-X",long:"--request",description:"Specifies the HTTP request method to use when communicating with the server.",example:"-X POST",usage:"Common methods: GET (default), POST, PUT, PATCH, DELETE, HEAD, OPTIONS.",tip:"GET is used by default. Use -X to override for other methods."},"--request":{name:"Request Method",short:"-X",long:"--request",description:"Specifies the HTTP request method to use when communicating with the server.",example:"--request POST",usage:"Common methods: GET (default), POST, PUT, PATCH, DELETE, HEAD, OPTIONS.",tip:"GET is used by default. Use --request to override for other methods."},"-H":{name:"Header",short:"-H",long:"--header",description:"Adds a custom HTTP header to the request. Multiple -H flags can be used.",example:'-H "Content-Type: application/json"',usage:'Format: -H "Header-Name: value". Use for authentication, content types, etc.',tip:"Common headers: Content-Type, Authorization, Accept, User-Agent."},"--header":{name:"Header",short:"-H",long:"--header",description:"Adds a custom HTTP header to the request. Multiple --header flags can be used.",example:'--header "Authorization: Bearer token123"',usage:'Format: --header "Header-Name: value". Use for authentication, content types, etc.',tip:"Common headers: Content-Type, Authorization, Accept, User-Agent."},"-d":{name:"Data",short:"-d",long:"--data",description:"Sends the specified data in a POST request body. Implies -X POST.",example:`-d '{"name": "John", "email": "john@example.com"}'`,usage:"Data is sent as application/x-www-form-urlencoded by default.",tip:'Use with -H "Content-Type: application/json" for JSON payloads.'},"--data":{name:"Data",short:"-d",long:"--data",description:"Sends the specified data in a POST request body. Implies -X POST.",example:`--data '{"key": "value"}'`,usage:"Data is sent as application/x-www-form-urlencoded by default.",tip:'Use with --header "Content-Type: application/json" for JSON payloads.'},"--data-raw":{name:"Raw Data",short:null,long:"--data-raw",description:"Sends data exactly as specified, without any processing.",example:`--data-raw '{"raw": "data"}'`,usage:"Unlike -d, special characters like @ are not interpreted.",tip:"Use when your data contains @ symbols that should be literal."},"--data-binary":{name:"Binary Data",short:null,long:"--data-binary",description:"Sends binary data in the request body.",example:"--data-binary @file.bin",usage:"Use for uploading binary files. Preserves newlines and special chars.",tip:"Use @filename to read data from a file."},"--data-urlencode":{name:"URL Encoded Data",short:null,long:"--data-urlencode",description:"URL-encodes the data before sending.",example:'--data-urlencode "name=John Doe"',usage:"Automatically encodes special characters for URL safety.",tip:"Useful for form data with spaces or special characters."},"-F":{name:"Form Field",short:"-F",long:"--form",description:"Sends a multipart/form-data POST request with form fields.",example:'-F "file=@photo.jpg" -F "name=John"',usage:"Use for file uploads or form submissions. @ prefix reads from file.",tip:"Automatically sets Content-Type to multipart/form-data."},"--form":{name:"Form Field",short:"-F",long:"--form",description:"Sends a multipart/form-data POST request with form fields.",example:'--form "document=@report.pdf"',usage:"Use for file uploads or form submissions. @ prefix reads from file.",tip:"Automatically sets Content-Type to multipart/form-data."},"-u":{name:"User Authentication",short:"-u",long:"--user",description:"Specifies username and password for server authentication.",example:"-u username:password",usage:"Format: -u user:pass. Omit password to be prompted.",tip:"Used for Basic HTTP authentication. Consider using tokens instead."},"--user":{name:"User Authentication",short:"-u",long:"--user",description:"Specifies username and password for server authentication.",example:"--user admin:secret123",usage:"Format: --user user:pass. Omit password to be prompted.",tip:"Used for Basic HTTP authentication. Consider using tokens instead."},"-k":{name:"Insecure",short:"-k",long:"--insecure",description:"Allows connections to SSL sites without valid certificates.",example:"-k https://self-signed.example.com",usage:"Skips SSL certificate verification. Use with caution!",tip:"Only use for development/testing with self-signed certs."},"--insecure":{name:"Insecure",short:"-k",long:"--insecure",description:"Allows connections to SSL sites without valid certificates.",example:"--insecure https://localhost:8443",usage:"Skips SSL certificate verification. Use with caution!",tip:"Only use for development/testing with self-signed certs."},"-L":{name:"Follow Redirects",short:"-L",long:"--location",description:"Follows HTTP redirects (3xx responses) to the new location.",example:"-L https://short.url/abc",usage:"Automatically follows Location headers up to 50 redirects.",tip:"Essential for shortened URLs or sites with redirects."},"--location":{name:"Follow Redirects",short:"-L",long:"--location",description:"Follows HTTP redirects (3xx responses) to the new location.",example:"--location https://example.com/old-page",usage:"Automatically follows Location headers up to 50 redirects.",tip:"Essential for shortened URLs or sites with redirects."},"-o":{name:"Output File",short:"-o",long:"--output",description:"Writes output to a file instead of stdout.",example:"-o response.json",usage:"Saves the response body to the specified file.",tip:"Use with -O to keep the remote filename."},"--output":{name:"Output File",short:"-o",long:"--output",description:"Writes output to a file instead of stdout.",example:"--output data.txt",usage:"Saves the response body to the specified file.",tip:"Use with --remote-name to keep the remote filename."},"-O":{name:"Remote Name",short:"-O",long:"--remote-name",description:"Writes output using the remote filename from the URL.",example:"-O https://example.com/file.zip",usage:'Saves to "file.zip" based on the URL path.',tip:"Convenient for downloading files with original names."},"-v":{name:"Verbose",short:"-v",long:"--verbose",description:"Shows detailed information about the request and response.",example:"-v https://api.example.com",usage:"Displays headers, SSL handshake, and connection info.",tip:"Great for debugging. Use -vv for even more detail."},"--verbose":{name:"Verbose",short:"-v",long:"--verbose",description:"Shows detailed information about the request and response.",example:"--verbose https://api.example.com",usage:"Displays headers, SSL handshake, and connection info.",tip:"Great for debugging. Use multiple -v for more detail."},"-i":{name:"Include Headers",short:"-i",long:"--include",description:"Includes HTTP response headers in the output.",example:"-i https://api.example.com",usage:"Shows status line and headers before the body.",tip:"Useful for seeing status codes and response headers."},"--include":{name:"Include Headers",short:"-i",long:"--include",description:"Includes HTTP response headers in the output.",example:"--include https://api.example.com",usage:"Shows status line and headers before the body.",tip:"Useful for seeing status codes and response headers."},"-s":{name:"Silent",short:"-s",long:"--silent",description:"Suppresses progress meter and error messages.",example:"-s https://api.example.com",usage:"Useful in scripts where you only want the response body.",tip:"Combine with -S to show errors but hide progress."},"--silent":{name:"Silent",short:"-s",long:"--silent",description:"Suppresses progress meter and error messages.",example:"--silent https://api.example.com",usage:"Useful in scripts where you only want the response body.",tip:"Combine with --show-error to show errors but hide progress."},"-m":{name:"Max Time",short:"-m",long:"--max-time",description:"Sets maximum time in seconds for the entire operation.",example:"-m 30",usage:"Request fails if it takes longer than specified seconds.",tip:"Use to prevent hanging on slow servers."},"--max-time":{name:"Max Time",short:"-m",long:"--max-time",description:"Sets maximum time in seconds for the entire operation.",example:"--max-time 60",usage:"Request fails if it takes longer than specified seconds.",tip:"Use to prevent hanging on slow servers."},"--connect-timeout":{name:"Connect Timeout",short:null,long:"--connect-timeout",description:"Sets maximum time in seconds to wait for connection.",example:"--connect-timeout 10",usage:"Only affects the connection phase, not the transfer.",tip:"Use with --max-time for complete timeout control."},"-b":{name:"Cookie",short:"-b",long:"--cookie",description:"Sends cookies with the request.",example:'-b "session=abc123; user=john"',usage:'Format: "name=value" or read from file with -b cookies.txt',tip:"Use -c to save received cookies to a file."},"--cookie":{name:"Cookie",short:"-b",long:"--cookie",description:"Sends cookies with the request.",example:'--cookie "token=xyz789"',usage:'Format: "name=value" or read from file with --cookie cookies.txt',tip:"Use --cookie-jar to save received cookies to a file."},"-c":{name:"Cookie Jar",short:"-c",long:"--cookie-jar",description:"Saves received cookies to a file.",example:"-c cookies.txt",usage:"Stores cookies from response Set-Cookie headers.",tip:"Use with -b to read cookies back in subsequent requests."},"-A":{name:"User Agent",short:"-A",long:"--user-agent",description:"Sets the User-Agent header for the request.",example:'-A "Mozilla/5.0 (Windows NT 10.0; Win64; x64)"',usage:"Identifies the client to the server.",tip:"Some APIs require specific user agents."},"--user-agent":{name:"User Agent",short:"-A",long:"--user-agent",description:"Sets the User-Agent header for the request.",example:'--user-agent "MyApp/1.0"',usage:"Identifies the client to the server.",tip:"Some APIs require specific user agents."}};function Jh(s){const e=s?.trim();return Bh[e]||null}const Fa=new Set(["-X","--request","-H","--header","-d","--data","--data-raw","--data-binary","--data-urlencode","-F","--form","-u","--user","-k","--insecure","-L","--location","-o","--output","-O","--remote-name","-v","--verbose","-i","--include","-s","--silent","-S","--show-error","-m","--max-time","--connect-timeout","-b","--cookie","-c","--cookie-jar","-A","--user-agent","-e","--referer","-G","--get","-I","--head","--compressed","--http1.1","--http2","-x","--proxy","-U","--proxy-user"]),Wh=new Set(["-X","--request","-H","--header","-d","--data","--data-raw","--data-binary","--data-urlencode","-F","--form","-u","--user","-o","--output","-m","--max-time","--connect-timeout","-b","--cookie","-c","--cookie-jar","-A","--user-agent","-e","--referer","-x","--proxy","-U","--proxy-user"]),Gh=new Set(["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS","CONNECT","TRACE"]);function Pa(s){const e=[];if(!s||!s.trim())return e;const t=s.split(`
`),n=Xh(s,t);e.push(...n);const o=Kh(s);let i=!1,r=0;for(;r<o.length;){const l=o[r],u=l.value;if(u.toLowerCase()==="curl"){r++;continue}if(Yh(u)){i=!0,r++;continue}if(u.startsWith("-")){if(!Fa.has(u)){const p=Qh(u);e.push({row:l.row,column:l.column,endRow:l.endRow,endColumn:l.endColumn,text:p?`Unknown flag "${u}". Did you mean "${p}"?`:`Unknown flag "${u}"`,type:"error"}),r++;continue}if(Wh.has(u)){if(r+1>=o.length||o[r+1].value.startsWith("-")){e.push({row:l.row,column:l.column,endRow:l.endRow,endColumn:l.endColumn,text:`Flag "${u}" requires a value`,type:"error"}),r++;continue}const p=o[r+1];if(u==="-X"||u==="--request"){const c=p.value.toUpperCase();Gh.has(c)||e.push({row:p.row,column:p.column,endRow:p.endRow,endColumn:p.endColumn,text:`Invalid HTTP method "${p.value}". Valid: GET, POST, PUT, PATCH, DELETE, HEAD, OPTIONS`,type:"error"})}(u==="-H"||u==="--header")&&(p.value.includes(":")||e.push({row:p.row,column:p.column,endRow:p.endRow,endColumn:p.endColumn,text:'Header should be "Name: Value" format (missing colon)',type:"warning"})),r+=2;continue}r++;continue}r++}if(!i&&o.length>0){const l=o.find(u=>u.value.toLowerCase()!=="curl")||o[0];l&&e.push({row:l.row,column:l.column,endRow:l.endRow,endColumn:l.endColumn,text:"Missing URL. A cURL command needs a URL.",type:"error"})}return e}function Kh(s){const e=[];let t=0,n=0,o="",i=0,r=0,l=!1,u=!1,p=!1;const c=()=>{o.trim()&&e.push({value:o.trim(),row:i,column:r,endRow:t,endColumn:n}),o=""};for(let d=0;d<s.length;d++){const f=s[d],m=s[d+1];if(f==="\\"&&m===`
`&&!l&&!u){d++,t++,n=0;continue}if(f===`
`){!l&&!u?c():o+=f,t++,n=0;continue}if(p){o+=f,p=!1,n++;continue}if(f==="\\"&&!l){p=!0,o+=f,n++;continue}if(f==="'"&&!u){l=!l,n++;continue}if(f==='"'&&!l){u=!u,n++;continue}if(f===" "&&!l&&!u){c(),n++;continue}o===""&&(i=t,r=n),o+=f,n++}return c(),e}function Xh(s,e){const t=[];let n=!1,o=!1,i=null,r=null,l=!1;for(let u=0;u<e.length;u++){const p=e[u];for(let c=0;c<p.length;c++){const d=p[c];if(l){l=!1;continue}if(d==="\\"){l=!0;continue}d==="'"&&!o&&(n?(n=!1,i=null):(n=!0,i={row:u,col:c})),d==='"'&&!n&&(o?(o=!1,r=null):(o=!0,r={row:u,col:c}))}}return n&&i&&t.push({row:i.row,column:i.col,endRow:i.row,endColumn:i.col+1,text:"Unclosed single quote",type:"error"}),o&&r&&t.push({row:r.row,column:r.col,endRow:r.row,endColumn:r.col+1,text:"Unclosed double quote",type:"error"}),t}function Yh(s){return!!(s.startsWith("http://")||s.startsWith("https://")||s.includes("{{")&&s.includes("}}")||!s.startsWith("-")&&s.includes(".")&&!s.includes(" ")||s.startsWith("localhost")||s.match(/^127\.0\.0\.\d+/))}function Qh(s){const e=s.toLowerCase();let t=null,n=0;for(const o of Fa){const i=Zh(e,o.toLowerCase());i>n&&i>.5&&(n=i,t=o)}return t}function Zh(s,e){if(s===e)return 1;if(s.length<2||e.length<2)return 0;const t=new Set;for(let o=0;o<s.length-1;o++)t.add(s.substring(o,o+2));let n=0;for(let o=0;o<e.length-1;o++)t.has(e.substring(o,o+2))&&n++;return 2*n/(s.length+e.length-2)}const em={class:"curl-tooltip-header"},tm={class:"curl-tooltip-name"},sm={class:"curl-tooltip-flags"},nm={key:0},om={key:1},im={class:"curl-tooltip-desc"},rm={key:0,class:"curl-tooltip-example"},am={key:1,class:"curl-tooltip-tip"},lm={class:"variable-tooltip-name"},cm={key:0,class:"variable-tooltip-value"},um={key:1,class:"variable-tooltip-unresolved"},dm={__name:"AceTextEditor",props:{modelValue:{type:String,default:""},language:{type:String,default:"text",validator:s=>["text","json","xml","html","javascript","css","curl"].includes(s)},theme:{type:String,default:"dark",validator:s=>["dark","light"].includes(s)},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},height:{type:String,default:"400px"},options:{type:Object,default:()=>({})}},emits:["update:modelValue","change","focus","blur","send"],setup(s,{expose:e,emit:t}){let n=null;const o=fo(),i=ms(),r=bt("AceTextEditor"),l=s,u=t,p=se(null),c=se(null),d=se(!1),f=se(!1),m=se(!1),w=se(0),y=se(0),S=se(null);let U=null;const A=se(!1),F=se(0),q=se(0),H=se(null);let k=[],x=null,T=null;const{data:I}=Vu(),E=new Set(["gob","textmate"]),$=async M=>{if(E.has(M))return!0;try{return await new Promise((g,h)=>{const b=document.createElement("script");b.src=`https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/theme-${M}.js`,b.onload=g,b.onerror=h,document.head.appendChild(b)}),E.add(M),r.debug(`Loaded ACE theme: ${M}`),!0}catch(g){return r.error(`Failed to load ACE theme: ${M}`,g),!1}},N=D(()=>{const M=l.theme||"dark",g=I.value?.ui?.editorThemeDark||I.value?.editorThemeDark||"gob",h=I.value?.ui?.editorThemeLight||I.value?.editorThemeLight||"textmate";return M==="light"?h:g});ge(N,async M=>{c.value&&n&&(await $(M),c.value.setTheme(Oo(M)),r.debug(`Applied theme: ${M}`))},{immediate:!1});const B=D(()=>({text:"ace/mode/text",json:"ace/mode/json",xml:"ace/mode/xml",html:"ace/mode/html",javascript:"ace/mode/javascript",css:"ace/mode/css",curl:"ace/mode/curl"})[l.language]||"ace/mode/text"),V=async()=>{try{if(window.ace)n=window.ace,G();else{const M=document.createElement("script");M.src="https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/ace.js",M.onload=()=>{n=window.ace,G()},M.onerror=()=>{r.error("Failed to load ACE from CDN"),f.value=!0},document.head.appendChild(M)}}catch(M){r.error("Failed to load ACE editor, falling back to textarea:",M),f.value=!0}},G=async()=>{try{const g=["mode-text","mode-json","mode-xml","mode-html","mode-javascript","mode-css","theme-gob","theme-textmate","ext-language_tools"].map(h=>new Promise((b,C)=>{const O=document.createElement("script");O.src=`https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/${h}.js`,O.onload=b,O.onerror=C,document.head.appendChild(O)}));await Promise.all(g),n.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/"),n.config.set("workerPath","https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-noconflict/"),Da(),d.value=!0,await je(),p.value&&J()}catch(M){r.error("Failed to load ACE components:",M),f.value=!0}},J=async()=>{if(!(!n||!p.value||c.value))try{c.value=n.edit(p.value);const M=N.value;await $(M),c.value.setTheme(Oo(M)),c.value.session.setMode(B.value);const g={fontSize:14,showPrintMargin:!1,wrap:!0,readOnly:l.readonly,placeholder:l.placeholder};l.language==="curl"&&(g.enableBasicAutocompletion=!0,g.enableLiveAutocompletion=!0,g.enableSnippets=!1),c.value.setOptions({...g,...l.options}),l.language==="curl"&&(c.value.completers=[ur]),c.value.setValue(l.modelValue,-1),c.value.on("change",()=>{const h=c.value.getValue();u("update:modelValue",h),u("change",h),l.language==="curl"&&(Y(),j())}),c.value.on("focus",h=>{u("focus",h)}),c.value.on("blur",h=>{u("blur",h)}),c.value.commands.addCommand({name:"sendRequest",bindKey:{win:"Ctrl-Enter",mac:"Cmd-Enter"},exec:()=>{u("send")}}),setTimeout(()=>{c.value.resize()},100),l.language==="curl"&&(jt(),setTimeout(()=>{te(),tt()},100)),r.debug("ACE editor initialized successfully")}catch(M){r.error("Failed to create ACE editor:",M),f.value=!0}};ge(()=>l.modelValue,M=>{c.value&&c.value.getValue()!==M&&c.value.setValue(M,-1)}),ge(()=>l.language,M=>{c.value&&(c.value.session.setMode(B.value),M==="curl"?(c.value.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),c.value.completers=[ur]):(c.value.setOptions({enableBasicAutocompletion:!1,enableLiveAutocompletion:!1}),c.value.completers=[]))}),ge(()=>l.theme,async()=>{if(c.value&&n){const M=N.value;await $(M),c.value.setTheme(Oo(M))}}),ge(()=>l.readonly,M=>{c.value&&c.value.setReadOnly(M)}),ge(()=>l.height,()=>{c.value&&setTimeout(()=>{c.value.resize()},50)}),ge(()=>i.activeEnvironment.value,()=>{c.value&&l.language==="curl"&&tt()});const W=()=>{c.value&&c.value.focus()},oe=()=>{c.value&&c.value.blur()},fe=M=>{c.value&&c.value.setValue(M,-1)},we=()=>c.value?c.value.getValue():l.modelValue,Ie=(M,g,h)=>{U&&(clearTimeout(U),U=null),S.value=M,w.value=g+10,y.value=h+10,m.value=!0},Me=()=>{U=setTimeout(()=>{m.value=!1,S.value=null},100)},jt=()=>{if(!c.value||l.language!=="curl")return;const M=c.value,g=M.container;g.addEventListener("mousemove",h=>{const b=M.renderer.screenToTextCoordinates(h.clientX,h.clientY),C=M.session.getTokenAt(b.row,b.column);if(C&&C.type==="keyword.operator"){const O=Jh(C.value);if(O){Fe(),Ie(O,h.clientX,h.clientY);return}}if(C&&C.type==="variable.language"){const O=C.value.slice(2,-2).trim(),P=o.variableExists(O),Z=o.getVariableValue(O);Me(),Rt({name:O,value:P?Z:null,resolved:P},h.clientX,h.clientY);return}Me(),Fe()}),g.addEventListener("mouseleave",()=>{Me(),Fe()})},Rt=(M,g,h)=>{U&&(clearTimeout(U),U=null),H.value=M,F.value=g+10,q.value=h+10,A.value=!0},Fe=()=>{U=setTimeout(()=>{A.value=!1,H.value=null},100)},tt=()=>{if(!c.value||l.language!=="curl")return;const M=c.value.session,g=c.value.getValue();k.forEach(O=>M.removeMarker(O)),k=[];const h=o.analyzeVariables(g);if(h.length===0)return;const b=n.require("ace/range").Range,C=g.split(`
`);h.forEach(O=>{let P=0,Z=0,Q=0,ee=0;for(let re=0;re<C.length;re++){const de=C[re].length+1;if(P+de>O.start){Z=re,Q=O.start-P,ee=Q+O.match.length;break}P+=de}const X=new b(Z,Q,Z,ee),ce=O.resolved?"ace_variable-resolved":"ace_variable-unresolved",ie=M.addMarker(X,ce,"text",!0);k.push(ie)})},j=()=>{x&&clearTimeout(x),x=setTimeout(tt,200)};let K=[];const te=()=>{if(!c.value||l.language!=="curl")return;const M=c.value.session,g=c.value.getValue(),h=Pa(g);K.forEach(O=>M.removeMarker(O)),K=[];const b=h.map(O=>({row:O.row,column:O.column,text:O.text,type:O.type}));M.setAnnotations(b);const C=n.require("ace/range").Range;h.forEach(O=>{const P=new C(O.row,O.column,O.endRow,O.endColumn),Z=O.type==="error"?"ace_error-marker":"ace_warning-marker",Q=M.addMarker(P,Z,"text",!0);K.push(Q)})},Y=()=>{T&&clearTimeout(T),T=setTimeout(te,500)};return Ne(()=>{V()}),pt(()=>{c.value&&(c.value.destroy(),c.value=null)}),e({focus:W,blur:oe,setValue:fe,getValue:we,editor:c}),(M,g)=>(v(),_("div",{class:"ace-text-editor",style:De({height:s.height})},[f.value?(v(),pe(fi,{key:1,"model-value":s.modelValue,language:s.language,theme:s.theme,readonly:s.readonly,placeholder:s.placeholder,height:s.height,options:s.options,"onUpdate:modelValue":g[0]||(g[0]=h=>M.$emit("update:modelValue",h)),onChange:g[1]||(g[1]=h=>M.$emit("change",h)),onFocus:g[2]||(g[2]=h=>M.$emit("focus",h)),onBlur:g[3]||(g[3]=h=>M.$emit("blur",h))},null,8,["model-value","language","theme","readonly","placeholder","height","options"])):(v(),_("div",{key:0,ref_key:"editorContainer",ref:p,class:"ace-editor-container",style:De({height:s.height})},null,4)),(v(),pe(As,{to:"body"},[m.value&&S.value?(v(),_("div",{key:0,class:"curl-tooltip",style:De({left:w.value+"px",top:y.value+"px"})},[a("div",em,[a("span",tm,R(S.value.name),1),a("span",sm,[S.value.short?(v(),_("code",nm,R(S.value.short),1)):z("",!0),S.value.long?(v(),_("code",om,R(S.value.long),1)):z("",!0)])]),a("p",im,R(S.value.description),1),S.value.example?(v(),_("div",rm,[g[4]||(g[4]=a("span",{class:"curl-tooltip-label"},"Example:",-1)),a("code",null,R(S.value.example),1)])):z("",!0),S.value.tip?(v(),_("p",am,R(S.value.tip),1)):z("",!0)],4)):z("",!0)])),(v(),pe(As,{to:"body"},[A.value&&H.value?(v(),_("div",{key:0,class:"variable-tooltip",style:De({left:F.value+"px",top:q.value+"px"})},[a("span",lm,R(H.value.name),1),H.value.resolved?(v(),_("span",cm," = "+R(H.value.value),1)):(v(),_("span",um," (not found in environment) "))],4)):z("",!0)]))],4))}},pm=be(dm,[["__scopeId","data-v-26a5e70f"]]),Is={ACE:"ace",FALLBACK:"fallback"},Na=Is.ACE,fm={[Is.ACE]:pm,[Is.FALLBACK]:fi};function Ma(){return fm[Na]||fi}const dr=[{id:"terminal",name:"Terminal",description:"Classic green-on-black terminal"},{id:"monokai",name:"Monokai",description:"Popular dark theme with vibrant colors"},{id:"dracula",name:"Dracula",description:"Purple-tinted dark theme"},{id:"tomorrow_night",name:"Tomorrow Night",description:"Soft muted colors"},{id:"tomorrow_night_eighties",name:"Tomorrow Night 80s",description:"Retro dark theme"},{id:"twilight",name:"Twilight",description:"Subdued warm tones"},{id:"cobalt",name:"Cobalt",description:"Deep blue background"},{id:"idle_fingers",name:"Idle Fingers",description:"Muted earth tones"},{id:"kr_theme",name:"krTheme",description:"High contrast dark"},{id:"merbivore",name:"Merbivore",description:"Dark with red accents"},{id:"mono_industrial",name:"Mono Industrial",description:"Industrial monochrome"},{id:"pastel_on_dark",name:"Pastel on Dark",description:"Soft pastel colors"},{id:"clouds_midnight",name:"Clouds Midnight",description:"Dark cloud theme"},{id:"ambiance",name:"Ambiance",description:"Warm amber tones"},{id:"chaos",name:"Chaos",description:"Vibrant chaos theme"},{id:"gob",name:"Gob",description:"Golden/amber theme"}],pr=[{id:"textmate",name:"TextMate",description:"Clean and readable"},{id:"chrome",name:"Chrome",description:"Crisp browser-style"},{id:"github",name:"GitHub",description:"GitHub-inspired"},{id:"xcode",name:"Xcode",description:"Apple Xcode style"},{id:"tomorrow",name:"Tomorrow",description:"Soft light theme"},{id:"kuroir",name:"Kuroir",description:"Warm light theme"},{id:"katzenmilch",name:"Katzenmilch",description:"Creamy light theme"},{id:"sqlserver",name:"SQL Server",description:"SQL Server Management Studio"},{id:"eclipse",name:"Eclipse",description:"Eclipse IDE style"},{id:"dreamweaver",name:"Dreamweaver",description:"Adobe Dreamweaver"},{id:"clouds",name:"Clouds",description:"Light and airy"},{id:"crimson_editor",name:"Crimson Editor",description:"Classic editor style"},{id:"dawn",name:"Dawn",description:"Soft morning colors"},{id:"iplastic",name:"IPlastic",description:"Modern plastic look"},{id:"solarized_light",name:"Solarized Light",description:"Solarized color scheme"}];function Oo(s){return`ace/theme/${s}`}const fr={[Is.ACE]:{theme:"dark",options:{fontSize:14,showPrintMargin:!1,wrap:!0}},[Is.FALLBACK]:{theme:"light",options:{}}};function La(){return fr[Na]||fr[Is.FALLBACK]}const hm={class:"card-container"},mm={class:"card-face card-front"},gm={class:"bubble-header"},vm={class:"header-left"},ym={class:"meta"},bm={class:"header-right"},wm={class:"timestamp"},xm=["title"],_m={key:0,class:"error-content"},Cm={class:"error-message"},Sm={key:1,class:"response-body"},Em={key:1,class:"no-body"},km={class:"card-face card-back"},Tm={class:"bubble-header"},$m={class:"header-left"},Am={class:"header-right"},Rm={class:"timestamp"},qm=["title"],Om={class:"headers-list"},Im={class:"kv-key"},Dm={class:"kv-value"},Io=500*1024,Fm={__name:"ResponseBubble",props:{message:{type:Object,required:!0},maximized:{type:Boolean,default:!1}},emits:["maximize","minimize"],setup(s,{emit:e}){const t=Ma(),n=La(),o={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Content Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot",421:"Misdirected Request",422:"Unprocessable Content",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"},i=s,r=e,l=se(!1),u=se(!1),p=D(()=>i.message.data||{}),c=D(()=>p.value.status||0),d=D(()=>p.value.statusText||""),f=D(()=>d.value&&d.value!=="Unknown"?d.value:o[c.value]||"Unknown");D(()=>!p.value.success||c.value===0);const m=D(()=>c.value===0),w=D(()=>p.value.error||"Request failed"),y=D(()=>{const B=c.value;return B===0?"error":B>=200&&B<300?"success":B>=300&&B<400?"redirect":B>=400&&B<500?"client-error":B>=500?"server-error":""}),S=D(()=>p.value.headers||{}),U=D(()=>Object.keys(S.value).length),A=D(()=>p.value.body),F=D(()=>A.value!==null&&A.value!==void 0),q=D(()=>{if(!F.value)return 0;const B=typeof A.value=="string"?A.value:JSON.stringify(A.value);return new Blob([B]).size});D(()=>q.value>Io);const H=D(()=>{if(!F.value)return"";let B="";if(typeof A.value=="object")try{B=JSON.stringify(A.value,null,2)}catch{B=String(A.value)}else if(typeof A.value=="string")try{B=JSON.stringify(JSON.parse(A.value),null,2)}catch{B=A.value}else B=String(A.value);if(B.length>Io){const V=B.substring(0,Io),G=V.lastIndexOf(`
`);return(G>0?V.substring(0,G):V)+`

... [Response truncated - `+k.value+" total. Use download button to get full response]"}return B}),k=D(()=>{const B=q.value;return B<1024?`${B} B`:B<1024*1024?`${(B/1024).toFixed(1)} KB`:`${(B/(1024*1024)).toFixed(2)} MB`});D(()=>H.value.split(`
`).length>10);const x=D(()=>{const B=S.value["content-type"]||"";if(B.includes("json"))return"json";if(B.includes("html"))return"html";if(B.includes("xml"))return"xml";if(B.includes("javascript"))return"javascript";const V=H.value.trim();return V.startsWith("{")||V.startsWith("[")?"json":V.startsWith("<")?"xml":"plaintext"}),T=D(()=>{const B=p.value.time;return!B&&B!==0?"":B<1e3?`${Math.round(B)}ms`:`${(B/1e3).toFixed(2)}s`}),I=D(()=>{const B=p.value.size;return!B&&B!==0?"":B<1024?`${B} B`:B<1024*1024?`${(B/1024).toFixed(2)} KB`:`${(B/(1024*1024)).toFixed(2)} MB`}),E=D(()=>i.message.timestamp?new Date(i.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"");function $(){l.value=!l.value}function N(){if(!F.value)return;const B=S.value["content-type"]||"";let V="txt",G="text/plain";B.includes("json")?(V="json",G="application/json"):B.includes("html")?(V="html",G="text/html"):B.includes("xml")&&(V="xml",G="application/xml");let J="";typeof A.value=="object"?J=JSON.stringify(A.value,null,2):J=String(A.value);const W=new Blob([J],{type:G}),oe=URL.createObjectURL(W),we=`response-${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.${V}`,Ie=document.createElement("a");Ie.href=oe,Ie.download=we,document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie),URL.revokeObjectURL(oe)}return(B,V)=>(v(),_("div",{class:he(["message-bubble response",[y.value,{flipped:u.value,maximized:s.maximized}]])},[a("div",hm,[a("div",mm,[a("div",gm,[a("div",vm,[a("div",{class:he(["status-badge",y.value])},R(c.value)+" "+R(f.value),3),a("span",ym,R(T.value)+"  "+R(I.value),1)]),a("div",bm,[a("span",wm,R(E.value),1),U.value>0?(v(),_("button",{key:0,class:"headers-flip-btn",onClick:V[0]||(V[0]=G=>u.value=!0),title:"View response headers"}," Headers ("+R(U.value)+") ",1)):z("",!0),F.value?(v(),_("button",{key:1,class:"download-btn",onClick:N,title:"Download response"},"  ")):z("",!0),a("button",{class:"maximize-btn",onClick:V[1]||(V[1]=G=>r(s.maximized?"minimize":"maximize",s.message)),title:s.maximized?"Restore":"Maximize"},R(s.maximized?"":""),9,xm)])]),m.value?(v(),_("div",_m,[V[4]||(V[4]=a("span",{class:"error-icon"},"",-1)),a("span",Cm,R(w.value),1)])):(v(),_("div",Sm,[a("div",{class:he(["body-preview",{expanded:l.value||s.maximized}])},[F.value?(v(),pe(en(L(t)),{key:0,"model-value":H.value,language:x.value,theme:"dark",readonly:!0,height:s.maximized?"600px":l.value?"400px":"200px",options:{...L(n).options,showGutter:!0,highlightActiveLine:!1}},null,8,["model-value","language","height","options"])):(v(),_("div",Em,"No response body"))],2),F.value&&!s.maximized?(v(),_("button",{key:0,class:"expand-btn",onClick:$},R(l.value?"Show less":"Show more"),1)):z("",!0)]))]),a("div",km,[a("div",Tm,[a("div",$m,[a("div",{class:he(["status-badge",y.value])},R(c.value)+" "+R(f.value),3),V[5]||(V[5]=a("span",{class:"meta"},"Response Headers",-1))]),a("div",Am,[a("span",Rm,R(E.value),1),a("button",{class:"headers-flip-btn active",onClick:V[2]||(V[2]=G=>u.value=!1),title:"View response body"}," Body "),F.value?(v(),_("button",{key:0,class:"download-btn",onClick:N,title:"Download response"},"  ")):z("",!0),a("button",{class:"maximize-btn",onClick:V[3]||(V[3]=G=>r(s.maximized?"minimize":"maximize",s.message)),title:s.maximized?"Restore":"Maximize"},R(s.maximized?"":""),9,qm)])]),a("div",Om,[(v(!0),_(ue,null,_e(S.value,(G,J)=>(v(),_("div",{key:J,class:"kv-item"},[a("span",Im,R(J)+":",1),a("span",Dm,R(G),1)]))),128))])])])],2))}},Va=be(Fm,[["__scopeId","data-v-5f89afe0"]]),Pm={class:"message-bubble validation"},Nm={class:"validation-card"},Mm={class:"validation-header"},Lm={class:"header-right"},Vm={key:0,class:"error-count"},Um={key:1,class:"warning-count"},jm={class:"timestamp"},zm={class:"validation-content"},Hm={class:"error-list"},Bm={class:"error-type-icon"},Jm={class:"error-details"},Wm={key:0,class:"error-location"},Gm={class:"error-message"},Km={__name:"ValidationBubble",props:{message:{type:Object,required:!0}},setup(s){const e=s,t=D(()=>e.message.data||{}),n=D(()=>t.value.errors||[]),o=D(()=>t.value.errorCount||0),i=D(()=>t.value.warningCount||0),r=D(()=>e.message.timestamp?new Date(e.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"");return(l,u)=>(v(),_("div",Pm,[a("div",Nm,[a("div",Mm,[u[0]||(u[0]=a("div",{class:"header-left"},[a("span",{class:"validation-icon"},"!"),a("span",{class:"validation-title"},"cURL Validation Failed")],-1)),a("div",Lm,[o.value>0?(v(),_("span",Vm,R(o.value)+" error"+R(o.value!==1?"s":""),1)):z("",!0),i.value>0?(v(),_("span",Um,R(i.value)+" warning"+R(i.value!==1?"s":""),1)):z("",!0),a("span",jm,R(r.value),1)])]),a("div",zm,[u[1]||(u[1]=a("p",{class:"validation-intro"}," Your cURL command has issues that need to be fixed before sending: ",-1)),a("div",Hm,[(v(!0),_(ue,null,_e(n.value,(p,c)=>(v(),_("div",{key:c,class:he(["error-item",p.type])},[a("span",Bm,R(p.type==="error"?"x":"!"),1),a("div",Jm,[p.row!==void 0?(v(),_("span",Wm," Line "+R(p.row+1)+", Col "+R(p.column+1),1)):z("",!0),a("span",Gm,R(p.text),1)])],2))),128))]),u[2]||(u[2]=a("div",{class:"validation-tip"},[a("span",{class:"tip-icon"},"i"),a("span",{class:"tip-text"}," Fix the highlighted errors in the editor above, then try sending again. ")],-1))])])]))}},Xm=be(Km,[["__scopeId","data-v-29cd8cdb"]]),Ym={class:"message-bubble script-results"},Qm={class:"script-header"},Zm={class:"header-left"},eg={class:"script-icon"},tg={class:"header-right"},sg={key:0,class:"passed-count"},ng={key:1,class:"failed-count"},og={class:"timestamp"},ig={key:0,class:"script-content"},rg={class:"test-icon"},ag={class:"test-details"},lg={class:"test-name"},cg={key:0,class:"test-duration"},ug={key:1,class:"test-error"},dg={class:"error-message"},pg={key:0,class:"error-diff"},fg={class:"expected"},hg={class:"actual"},mg={key:1,class:"script-content"},gg={class:"script-error"},vg={class:"error-details"},yg={class:"error-message"},bg={key:2,class:"script-footer"},wg={class:"duration-label"},xg={__name:"ScriptMessage",props:{message:{type:Object,required:!0}},setup(s){const e=s,t=D(()=>e.message.data||{}),n=D(()=>t.value.tests||[]),o=D(()=>t.value.error||null),i=D(()=>t.value.duration),r=D(()=>n.value.filter(c=>c.passed).length),l=D(()=>n.value.filter(c=>!c.passed).length),u=D(()=>e.message.timestamp?new Date(e.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""),p=c=>{if(c===void 0)return"undefined";if(c===null)return"null";if(typeof c=="string")return`"${c}"`;if(typeof c=="object")try{return JSON.stringify(c)}catch{return String(c)}return String(c)};return(c,d)=>(v(),_("div",Ym,[a("div",{class:he(["script-card",{"has-failures":l.value>0,"all-passed":l.value===0&&r.value>0}])},[a("div",Qm,[a("div",Zm,[a("span",eg,R(l.value>0?"!":""),1),d[0]||(d[0]=a("span",{class:"script-title"},"Script Tests",-1))]),a("div",tg,[r.value>0?(v(),_("span",sg,R(r.value)+" passed ",1)):z("",!0),l.value>0?(v(),_("span",ng,R(l.value)+" failed ",1)):z("",!0),a("span",og,R(u.value),1)])]),n.value.length>0?(v(),_("div",ig,[(v(!0),_(ue,null,_e(n.value,(f,m)=>(v(),_("div",{key:m,class:he(["test-item",{passed:f.passed,failed:!f.passed}])},[a("span",rg,R(f.passed?"":""),1),a("div",ag,[a("span",lg,R(f.name),1),f.duration!==void 0?(v(),_("span",cg,R(f.duration.toFixed(1))+"ms ",1)):z("",!0),!f.passed&&f.error?(v(),_("div",ug,[a("span",dg,R(f.error.message),1),f.error.expected!==void 0?(v(),_("div",pg,[a("span",fg,"Expected: "+R(p(f.error.expected)),1),a("span",hg,"Actual: "+R(p(f.error.actual)),1)])):z("",!0)])):z("",!0)])],2))),128))])):o.value?(v(),_("div",mg,[a("div",gg,[d[2]||(d[2]=a("span",{class:"error-icon"},"!",-1)),a("div",vg,[d[1]||(d[1]=a("span",{class:"error-title"},"Script Error",-1)),a("span",yg,R(o.value.message),1)])])])):z("",!0),i.value?(v(),_("div",bg,[a("span",wg,"Script executed in "+R(i.value.toFixed(1))+"ms",1)])):z("",!0)],2)]))}},_g=be(xg,[["__scopeId","data-v-d8836eb0"]]),Cg={class:"message-bubble console-output"},Sg={class:"console-card"},Eg={class:"console-header"},kg={class:"header-right"},Tg={class:"log-count"},$g={class:"timestamp"},Ag={class:"console-content"},Rg={class:"log-type-badge"},qg={class:"log-args"},Og={__name:"ConsoleMessage",props:{message:{type:Object,required:!0}},setup(s){const e=s,t=D(()=>e.message.data||{}),n=D(()=>t.value.logs||[]),o=D(()=>e.message.timestamp?new Date(e.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""),i=r=>({log:"LOG",info:"INFO",warn:"WARN",error:"ERR",debug:"DBG"})[r]||"LOG";return(r,l)=>(v(),_("div",Cg,[a("div",Sg,[a("div",Eg,[l[0]||(l[0]=a("div",{class:"header-left"},[a("span",{class:"console-icon"},">"),a("span",{class:"console-title"},"Console Output")],-1)),a("div",kg,[a("span",Tg,R(n.value.length)+" message"+R(n.value.length!==1?"s":""),1),a("span",$g,R(o.value),1)])]),a("div",Ag,[(v(!0),_(ue,null,_e(n.value,(u,p)=>(v(),_("div",{key:p,class:he(["log-item",u.type])},[a("span",Rg,R(i(u.type)),1),a("div",qg,[(v(!0),_(ue,null,_e(u.args,(c,d)=>(v(),_("span",{key:d,class:"log-arg"},R(c),1))),128))])],2))),128))])])]))}},Ig=be(Og,[["__scopeId","data-v-19f5d7cb"]]),Dg={class:"message-bubble env-changes"},Fg={class:"env-card"},Pg={class:"env-header"},Ng={class:"header-right"},Mg={key:0,class:"env-name"},Lg={class:"change-count"},Vg={class:"timestamp"},Ug={class:"env-content"},jg={class:"change-action-icon"},zg={class:"change-details"},Hg={class:"change-key"},Bg={class:"change-value"},Jg={class:"change-label"},Wg={key:0,class:"env-note"},Gg={__name:"EnvChangeMessage",props:{message:{type:Object,required:!0}},setup(s){const e=s,t=D(()=>e.message.data||{}),n=D(()=>t.value.changes||[]),o=D(()=>t.value.environmentName||""),i=D(()=>t.value.hasActiveEnvironment!==!1),r=D(()=>e.message.timestamp?new Date(e.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""),l=c=>({set:"+",unset:"-",update:"~"})[c]||"+",u=(c,d)=>c==="unset"?"(removed)":c==="set"&&d!==void 0?"(updated)":c==="set"?"(new)":"",p=c=>{if(c==null)return"(empty)";const d=String(c);return d.length>50?`"${d.substring(0,47)}..."`:`"${d}"`};return(c,d)=>(v(),_("div",Dg,[a("div",Fg,[a("div",Pg,[d[0]||(d[0]=a("div",{class:"header-left"},[a("span",{class:"env-icon"},""),a("span",{class:"env-title"},"Environment Updated")],-1)),a("div",Ng,[o.value?(v(),_("span",Mg,R(o.value),1)):z("",!0),a("span",Lg,R(n.value.length)+" change"+R(n.value.length!==1?"s":""),1),a("span",Vg,R(r.value),1)])]),a("div",Ug,[(v(!0),_(ue,null,_e(n.value,(f,m)=>(v(),_("div",{key:m,class:he(["change-item",f.action])},[a("span",jg,R(l(f.action)),1),a("div",zg,[a("span",Hg,R(f.key),1),d[1]||(d[1]=a("span",{class:"change-equals"},"=",-1)),a("span",Bg,R(p(f.value)),1),a("span",Jg,R(u(f.action,f.oldValue)),1)])],2))),128))]),i.value?z("",!0):(v(),_("div",Wg,[...d[2]||(d[2]=[a("span",{class:"note-icon"},"!",-1),a("span",{class:"note-text"},"No active environment - changes were not persisted",-1)])]))])]))}},Kg=be(Gg,[["__scopeId","data-v-d868636e"]]),Xg={class:"conversation-thread"},Yg={key:0,class:"thread-header"},Qg={class:"thread-title"},Zg={class:"thread-actions"},ev=["title"],tv={key:0,class:"empty-state"},sv={key:1,class:"loading-indicator"},nv={__name:"ConversationThread",props:{conversation:{type:Object,default:null},messages:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1}},emits:["edit-request","clear","maximize-response"],setup(s,{emit:e}){const t=s,n=e,o=se(null),i=se(!0),r=["script_results","console_log","env_change"],l=D(()=>i.value?t.messages:t.messages.filter(f=>!r.includes(f.type)));ge(()=>t.messages.length,async()=>{await je(),u()}),ge(()=>t.isLoading,async f=>{f&&(await je(),u())});function u(){o.value&&(o.value.scrollTop=o.value.scrollHeight)}function p(f){n("edit-request",f)}function c(){n("clear")}function d(f){n("maximize-response",f)}return(f,m)=>(v(),_("div",Xg,[s.conversation?(v(),_("div",Yg,[a("h3",Qg,R(s.conversation.name),1),a("div",Zg,[a("button",{class:he(["action-btn toggle-btn",{active:i.value}]),onClick:m[0]||(m[0]=w=>i.value=!i.value),title:i.value?"Hide test results":"Show test results"},R(i.value?"Hide Tests":"Show Tests"),11,ev),a("button",{class:"action-btn",onClick:c,title:"Clear conversation"}," Clear ")])])):z("",!0),a("div",{ref_key:"messagesContainer",ref:o,class:"messages-container"},[l.value.length===0?(v(),_("div",tv,[...m[1]||(m[1]=[a("div",{class:"empty-icon"},"",-1),a("p",{class:"empty-title"},"Start a conversation",-1),a("p",{class:"empty-subtitle"}," Send a request to see the response here ",-1)])])):z("",!0),ve(uu,{name:"message",tag:"div",class:"messages-list"},{default:Pe(()=>[(v(!0),_(ue,null,_e(l.value,w=>(v(),_(ue,{key:w.id},[w.type==="request"?(v(),pe(Mh,{key:0,message:w,onEdit:y=>p(w)},null,8,["message","onEdit"])):w.type==="response"?(v(),pe(Va,{key:1,message:w,onMaximize:y=>d(w)},null,8,["message","onMaximize"])):w.type==="validation"?(v(),pe(Xm,{key:2,message:w},null,8,["message"])):w.type==="console_log"?(v(),pe(Ig,{key:3,message:w},null,8,["message"])):w.type==="script_results"?(v(),pe(_g,{key:4,message:w},null,8,["message"])):w.type==="env_change"?(v(),pe(Kg,{key:5,message:w},null,8,["message"])):z("",!0)],64))),128))]),_:1}),s.isLoading?(v(),_("div",sv,[...m[2]||(m[2]=[a("div",{class:"loading-dots"},[a("span"),a("span"),a("span")],-1),a("span",{class:"loading-text"},"Sending request...",-1)])])):z("",!0)],512)]))}},ov=be(nv,[["__scopeId","data-v-312fe9ee"]]),iv=["onMouseenter"],rv={key:0,class:"highlight-placeholder"},av=["value","placeholder"],lv={class:"tooltip-name"},cv={key:0,class:"tooltip-value"},uv={key:1,class:"tooltip-unresolved"},dv={key:0,class:"variable-preview"},pv={class:"preview-header"},fv={key:0,class:"preview-warning"},hv={class:"preview-content"},mv={class:"preview-original"},gv={class:"preview-interpolated"},vv={class:"preview-variables"},yv={class:"variable-name"},bv={class:"variable-value"},wv={__name:"VariableHighlightInput",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:""},class:{type:String,default:""}},emits:["update:modelValue","keydown"],setup(s,{emit:e}){const t=new ts({prefix:"VariableHighlightInput",level:"debug"}),n=s,o=e,i=ms();let r,l;try{const E=fo();r=E.splitTextForHighlighting,l=E.previewInterpolation}catch(E){t.error("Failed to load composable:",E),r=$=>[{type:"text",content:$}],l=$=>({hasVariables:!1,original:$,interpolated:$,variables:[]})}const u=se(null),p=se(null),c=se(!1),d=se(!1),f=se(0),m=se(0),w=se(null);let y=null;const S=E=>{o("update:modelValue",E.target.value)},U=D(()=>(i.activeEnvironment.value,r(n.modelValue))),A=D(()=>(i.activeEnvironment.value,l(n.modelValue))),F=D(()=>U.value.some(E=>E.type==="variable")),q=()=>{u.value&&p.value&&(p.value.scrollLeft=u.value.scrollLeft,p.value.scrollTop=u.value.scrollTop)},H=()=>{A.value.hasVariables&&(c.value=!0)},k=()=>{setTimeout(()=>{c.value=!1},200)},x=E=>{S(E),je(()=>{A.value.hasVariables?c.value=!0:c.value=!1})};ge(()=>n.modelValue,()=>{je(()=>{q()})});const T=(E,$)=>{y&&(clearTimeout(y),y=null),w.value={name:E.name,value:E.value,resolved:E.resolved},f.value=$.clientX+10,m.value=$.clientY+10,d.value=!0},I=()=>{y=setTimeout(()=>{d.value=!1,w.value=null},100)};return(E,$)=>(v(),_("div",{class:he(["variable-input-container",n.class])},[a("div",{ref_key:"highlightRef",ref:p,class:"highlight-backdrop","aria-hidden":"true"},[(v(!0),_(ue,null,_e(U.value,(N,B)=>(v(),_("span",{key:B,class:he({"highlight-text":N.type==="text","highlight-variable":N.type==="variable","highlight-variable--resolved":N.type==="variable"&&N.resolved,"highlight-variable--unresolved":N.type==="variable"&&!N.resolved}),onMouseenter:V=>N.type==="variable"?T(N,V):null,onMouseleave:I},R(N.content),43,iv))),128)),n.modelValue?z("",!0):(v(),_("span",rv,R(n.placeholder),1))],512),a("input",{ref_key:"inputRef",ref:u,value:n.modelValue,onInput:x,onScroll:q,onFocus:H,onBlur:k,onKeydown:$[0]||($[0]=N=>E.$emit("keydown",N)),type:"text",placeholder:n.placeholder,class:he(["variable-input",{"has-variables":F.value}])},null,42,av),(v(),pe(As,{to:"body"},[d.value&&w.value?(v(),_("div",{key:0,class:"variable-hover-tooltip",style:De({left:f.value+"px",top:m.value+"px"})},[a("span",lv,R(w.value.name),1),w.value.resolved?(v(),_("span",cv," = "+R(w.value.value),1)):(v(),_("span",uv," (not found) "))],4)):z("",!0)])),c.value&&A.value.hasVariables?(v(),_("div",dv,[a("div",pv,[$[1]||($[1]=a("span",{class:"preview-title"},"Variables Preview",-1)),A.value.unresolvedCount>0?(v(),_("span",fv,R(A.value.unresolvedCount)+" unresolved ",1)):z("",!0)]),a("div",hv,[a("div",mv,[$[2]||($[2]=a("strong",null,"Original:",-1)),Ce(" "+R(A.value.original),1)]),a("div",gv,[$[3]||($[3]=a("strong",null,"Result:",-1)),Ce(" "+R(A.value.interpolated),1)])]),a("div",vv,[(v(!0),_(ue,null,_e(A.value.variables,N=>(v(),_("div",{key:N.name,class:he(["preview-variable",{"preview-variable--resolved":N.resolved}])},[a("span",yv,R(N.name),1),$[4]||($[4]=a("span",{class:"variable-arrow"},"",-1)),a("span",bv,R(N.resolved?N.value:"undefined"),1)],2))),128))])])):z("",!0)],2))}},rs=be(wv,[["__scopeId","data-v-2945e7bd"]]),Ua=[{name:"Status code is 200",category:"Status Code",description:"Check if response status is 200 OK",code:`pm.test("Status code is 200", function () {
    pm.expect(pm.response.code).to.equal(200);
});`},{name:"Status code is 201",category:"Status Code",description:"Check if response status is 201 Created",code:`pm.test("Status code is 201", function () {
    pm.expect(pm.response.code).to.equal(201);
});`},{name:"Successful response",category:"Status Code",description:"Check if status code is in 2xx range",code:`pm.test("Successful response", function () {
    pm.expect(pm.response.code).to.be.oneOf([200, 201, 204]);
});`},{name:"Response time < 200ms",category:"Performance",description:"Check if response time is under 200 milliseconds",code:`pm.test("Response time is less than 200ms", function () {
    pm.expect(pm.response.responseTime).to.be.below(200);
});`},{name:"Response time < 500ms",category:"Performance",description:"Check if response time is under 500 milliseconds",code:`pm.test("Response time is less than 500ms", function () {
    pm.expect(pm.response.responseTime).to.be.below(500);
});`},{name:"Response has JSON body",category:"Response Body",description:"Check if response can be parsed as JSON",code:`pm.test("Response is valid JSON", function () {
    pm.response.json(); // Throws if invalid JSON
});`},{name:"Response has property",category:"Response Body",description:"Check if JSON response has a specific property",code:`pm.test("Response has 'data' property", function () {
    const json = pm.response.json();
    pm.expect(json).to.have.property("data");
});`},{name:"Response array not empty",category:"Response Body",description:"Check if response array has at least one item",code:`pm.test("Response array is not empty", function () {
    const json = pm.response.json();
    pm.expect(json).to.be.an("array");
    pm.expect(json.length).to.be.above(0);
});`},{name:"Response value equals",category:"Response Body",description:"Check if a specific value matches expected",code:`pm.test("Response status is 'success'", function () {
    const json = pm.response.json();
    pm.expect(json.status).to.equal("success");
});`},{name:"Response contains string",category:"Response Body",description:"Check if response body contains a string",code:`pm.test("Response contains expected text", function () {
    pm.expect(pm.response.text()).to.include("expected text");
});`},{name:"Content-Type is JSON",category:"Headers",description:"Check if Content-Type header indicates JSON",code:`pm.test("Content-Type is application/json", function () {
    pm.expect(pm.response.headers.get("Content-Type")).to.include("application/json");
});`},{name:"Header exists",category:"Headers",description:"Check if a specific header is present",code:`pm.test("X-Request-Id header exists", function () {
    pm.expect(pm.response.headers.has("X-Request-Id")).to.be.true;
});`},{name:"Save access token",category:"Environment",description:"Extract and save access token from response",code:`// Save access token to environment
const json = pm.response.json();
if (json.access_token) {
    pm.environment.set("access_token", json.access_token);
    console.log("Access token saved to environment");
}`},{name:"Save response value",category:"Environment",description:"Save a value from response to environment",code:`// Save a value from response to environment
const json = pm.response.json();
pm.environment.set("saved_id", json.id);`},{name:"Save multiple values",category:"Environment",description:"Save multiple values from OAuth response",code:`// Save OAuth tokens
const json = pm.response.json();
if (pm.response.code === 200) {
    pm.environment.set("access_token", json.access_token);
    pm.environment.set("refresh_token", json.refresh_token);
    pm.environment.set("expires_in", json.expires_in);
    console.log("Tokens saved successfully");
}`},{name:"Use environment variable",category:"Environment",description:"Access an environment variable in test",code:`pm.test("Response matches expected user", function () {
    const expectedId = pm.environment.get("user_id");
    const json = pm.response.json();
    pm.expect(json.id).to.equal(expectedId);
});`},{name:"Validate object schema",category:"Schema",description:"Check if response has required properties",code:`pm.test("Response has valid schema", function () {
    const json = pm.response.json();
    pm.expect(json).to.have.property("id");
    pm.expect(json).to.have.property("name");
    pm.expect(json).to.have.property("email");
    pm.expect(json.id).to.be.a("number");
    pm.expect(json.name).to.be.a("string");
    pm.expect(json.email).to.be.a("string");
});`},{name:"Validate array items",category:"Schema",description:"Check if each array item has required properties",code:`pm.test("Each item has required properties", function () {
    const json = pm.response.json();
    pm.expect(json).to.be.an("array");
    json.forEach((item, index) => {
        pm.expect(item, \`Item \${index}\`).to.have.property("id");
        pm.expect(item, \`Item \${index}\`).to.have.property("name");
    });
});`},{name:"Check error response",category:"Errors",description:"Verify error response structure",code:`pm.test("Error response is valid", function () {
    const json = pm.response.json();
    pm.expect(json).to.have.property("error");
    pm.expect(json.error).to.have.property("message");
});`},{name:"Not found response",category:"Errors",description:"Check for 404 Not Found response",code:`pm.test("Resource not found", function () {
    pm.expect(pm.response.code).to.equal(404);
    const json = pm.response.json();
    pm.expect(json.error).to.include("not found");
});`},{name:"Conditional save",category:"Conditional",description:"Save to environment only on success",code:`// Only save data on successful response
if (pm.response.code === 200) {
    const json = pm.response.json();
    pm.environment.set("last_response_id", json.id);
    pm.test("Data saved successfully", function () {
        pm.expect(true).to.be.true;
    });
} else {
    console.warn("Request failed with status:", pm.response.code);
}`},{name:"Log response details",category:"Debugging",description:"Log response information for debugging",code:`// Log response details for debugging
console.log("Status:", pm.response.code, pm.response.status);
console.log("Response time:", pm.response.responseTime, "ms");
console.log("Body:", pm.response.text().substring(0, 200));`}];function xv(){const s={};return Ua.forEach(e=>{s[e.category]||(s[e.category]=[]),s[e.category].push(e)}),s}function _v(s){return Ua.find(e=>e.name===s)}const Cv={class:"chat-composer"},Sv={class:"composer-tabs"},Ev={key:0,class:"script-dot"},kv={key:0,class:"curl-input-container"},Tv={class:"curl-toolbar"},$v=["title"],Av={key:1,class:"visual-input-container"},Rv={class:"url-row"},qv=["value"],Ov={class:"visual-tabs"},Iv={key:0,class:"badge"},Dv={key:0,class:"badge"},Fv={key:0,class:"auth-dot"},Pv={class:"visual-panel"},Nv={key:0,class:"kv-editor"},Mv=["onUpdate:modelValue"],Lv=["onUpdate:modelValue"],Vv=["onClick"],Uv={key:1,class:"kv-editor"},jv=["onUpdate:modelValue"],zv=["onUpdate:modelValue"],Hv=["onClick"],Bv={key:2,class:"body-editor"},Jv={class:"body-mode-selector"},Wv=["value"],Gv=["value"],Kv={key:0,class:"body-raw-editor"},Xv={key:1,class:"kv-editor"},Yv=["onUpdate:modelValue"],Qv=["onUpdate:modelValue"],Zv=["onClick"],ey={key:2,class:"kv-editor"},ty=["onUpdate:modelValue"],sy=["onUpdate:modelValue"],ny=["onClick"],oy={key:3,class:"auth-editor"},iy={class:"auth-type-row"},ry={key:0,class:"auth-fields"},ay={class:"auth-field"},ly={key:1,class:"auth-fields"},cy={class:"auth-field"},uy={class:"auth-field"},dy={key:2,class:"auth-fields"},py={class:"auth-field"},fy={class:"auth-field"},hy={class:"auth-field"},my={class:"auth-radio-group"},gy={class:"auth-hint"},vy={key:0},yy={key:1},by={key:3,class:"auth-empty"},wy={key:2,class:"script-input-container"},xy={class:"script-header"},_y={class:"script-type-selector"},Cy={key:0,class:"prerequest-warning"},Sy={class:"script-actions"},Ey=["label"],ky=["value"],Ty={class:"script-editor-container"},$y={class:"composer-actions"},Ay=["disabled"],Ry={key:0,class:"loading-spinner"},qy={key:1},Oy={__name:"ChatComposer",props:{controller:{type:Object,required:!0}},emits:["send","save","mode-change"],setup(s,{emit:e}){const t=Ma(),n=La(),o=xv(),i=s,r=e,l=se(i.controller.state.composerMode),u=se(i.controller.state.curlInput),p=se(i.controller.state.method),c=se(i.controller.state.url),d=se(i.controller.state.headers),f=se(i.controller.state.params),m=se(i.controller.state.body),w=se(i.controller.state.auth||{type:"none",bearer:{token:""},basic:{username:"",password:""},apikey:{key:"X-API-Key",value:"",in:"header"}}),y=se(i.controller.state.script||{preRequest:"",postRequest:""}),S=se("params"),U=se("test"),A=se(""),F=se(null),q=se(null),H=se(!1),k=D(()=>i.controller.state.isLoading),x=["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS"],T=[{value:"none",label:"None"},{value:"raw",label:"Raw"},{value:"formdata",label:"Form Data"},{value:"urlencoded",label:"URL Encoded"}],I=[{value:"json",label:"JSON",mode:"json"},{value:"xml",label:"XML",mode:"xml"},{value:"html",label:"HTML",mode:"html"},{value:"text",label:"Text",mode:"text"}],E=se("json"),$=D(()=>I.find(b=>b.value===E.value)?.mode||"text"),N=D(()=>i.controller.getMethodColor(p.value)),B=D(()=>f.value.filter(h=>h.enabled&&h.key).length),V=D(()=>d.value.filter(h=>h.enabled&&h.key).length),G=D(()=>l.value==="curl"?u.value.trim().length>0:c.value.trim().length>0),J=D(()=>i.controller.state.currentRequestId&&i.controller.state.currentCollectionId),W=D(()=>y.value.postRequest&&y.value.postRequest.trim().length>0||y.value.preRequest&&y.value.preRequest.trim().length>0);ge(l,h=>i.controller.setComposerMode(h)),ge(u,h=>i.controller.setCurlInput(h)),ge(p,h=>i.controller.updateField("method",h)),ge(c,h=>i.controller.updateField("url",h)),ge(d,h=>i.controller.updateField("headers",h),{deep:!0}),ge(f,h=>i.controller.updateField("params",h),{deep:!0}),ge(m,h=>i.controller.updateField("body",h),{deep:!0}),ge(w,h=>i.controller.updateField("auth",h),{deep:!0}),ge(y,h=>i.controller.updateField("script",h),{deep:!0}),ge(()=>i.controller.state.composerMode,h=>{l.value=h}),ge(()=>i.controller.state.curlInput,h=>{u.value=h}),ge(()=>i.controller.state.method,h=>{p.value=h}),ge(()=>i.controller.state.url,h=>{c.value=h}),ge(()=>i.controller.state.headers,h=>{d.value=h},{deep:!0}),ge(()=>i.controller.state.params,h=>{f.value=h},{deep:!0}),ge(()=>i.controller.state.body,h=>{m.value=h},{deep:!0}),ge(()=>i.controller.state.auth,h=>{h&&(w.value=h)},{deep:!0}),ge(()=>i.controller.state.script,h=>{h&&(y.value=h)},{deep:!0});function oe(h){l.value=h,r("mode-change",h)}function fe(){f.value.push({key:"",value:"",enabled:!0,id:Date.now()})}function we(h){f.value.splice(h,1)}function Ie(){d.value.push({key:"",value:"",enabled:!0,id:Date.now()})}function Me(h){d.value.splice(h,1)}function jt(){m.value.formData.push({key:"",value:"",enabled:!0,id:Date.now()})}function Rt(h){m.value.formData.splice(h,1)}function Fe(){m.value.urlEncoded.push({key:"",value:"",enabled:!0,id:Date.now()})}function tt(h){m.value.urlEncoded.splice(h,1)}function j(){!G.value||k.value||r("send")}function K(){J.value&&r("save")}function te(){if(!A.value)return;const h=_v(A.value);if(h){const b=y.value.postRequest||"",C=b.trim()?`

`:"";y.value.postRequest=b+C+h.code}A.value=""}function Y(){H.value?u.value=g(u.value):u.value=M(u.value),H.value=!H.value}function M(h){if(!h.trim())return h;let b=h.replace(/\s*\\\s*\n\s*/g," ").replace(/\s+/g," ").trim();const O=["-X","--request","-H","--header","-d","--data","--data-raw","--data-binary","--data-urlencode","-F","--form","-u","--user","-A","--user-agent","-b","--cookie","-c","--cookie-jar","-e","--referer","-o","--output","-L","--location","-k","--insecure","-v","--verbose","-s","--silent","--compressed","--connect-timeout","--max-time"].map(Q=>Q.replace(/-/g,"\\-")).join("|"),P=new RegExp(`\\s+(${O})(?=\\s|$)`,"g");return b.replace(P,` \\
  $1`)}function g(h){return h.trim()?h.replace(/\s*\\\s*\n\s*/g," ").replace(/\s+/g," ").trim():h}return(h,b)=>(v(),_("div",Cv,[a("div",Sv,[a("button",{class:he(["tab-btn",{active:l.value==="curl"}]),onClick:b[0]||(b[0]=C=>oe("curl"))}," cURL ",2),a("button",{class:he(["tab-btn",{active:l.value==="visual"}]),onClick:b[1]||(b[1]=C=>oe("visual"))}," Visual ",2),a("button",{class:he(["tab-btn",{active:l.value==="script","has-script":W.value}]),onClick:b[2]||(b[2]=C=>oe("script"))},[b[24]||(b[24]=Ce(" Script ",-1)),W.value?(v(),_("span",Ev)):z("",!0)],2)]),l.value==="curl"?(v(),_("div",kv,[a("div",Tv,[a("button",{class:he(["curl-format-btn",{active:H.value}]),onClick:Y,title:H.value?"Minify cURL (single line)":"Beautify cURL (multi-line)"},R(H.value?" Minify":" Beautify"),11,$v)]),(v(),pe(en(L(t)),{ref_key:"curlInputRef",ref:F,modelValue:u.value,"onUpdate:modelValue":b[3]||(b[3]=C=>u.value=C),language:"curl",theme:"dark",height:"100%",placeholder:"Paste cURL: https://api.example.com -X POST -H 'Content-Type: application/json'",options:{showGutter:!0,wrap:!H.value,fontSize:13,showLineNumbers:!1,showFoldWidgets:!1},onSend:j},null,40,["modelValue","options"]))])):l.value==="visual"?(v(),_("div",Av,[a("div",Rv,[ae(a("select",{"onUpdate:modelValue":b[4]||(b[4]=C=>p.value=C),class:"method-select",style:De({color:N.value})},[(v(),_(ue,null,_e(x,C=>a("option",{key:C,value:C},R(C),9,qv)),64))],4),[[mt,p.value]]),ve(rs,{modelValue:c.value,"onUpdate:modelValue":b[5]||(b[5]=C=>c.value=C),class:"url-input",placeholder:"https://api.example.com/endpoint",onKeydown:ao(j,["enter"])},null,8,["modelValue"])]),a("div",Ov,[a("button",{class:he(["visual-tab-btn",{active:S.value==="params"}]),onClick:b[6]||(b[6]=C=>S.value="params")},[b[25]||(b[25]=Ce(" Params ",-1)),B.value>0?(v(),_("span",Iv,R(B.value),1)):z("",!0)],2),a("button",{class:he(["visual-tab-btn",{active:S.value==="headers"}]),onClick:b[7]||(b[7]=C=>S.value="headers")},[b[26]||(b[26]=Ce(" Headers ",-1)),V.value>0?(v(),_("span",Dv,R(V.value),1)):z("",!0)],2),a("button",{class:he(["visual-tab-btn",{active:S.value==="body"}]),onClick:b[8]||(b[8]=C=>S.value="body")}," Body ",2),a("button",{class:he(["visual-tab-btn",{active:S.value==="auth"}]),onClick:b[9]||(b[9]=C=>S.value="auth")},[b[27]||(b[27]=Ce(" Auth ",-1)),w.value.type!=="none"?(v(),_("span",Fv)):z("",!0)],2)]),a("div",Pv,[S.value==="params"?(v(),_("div",Nv,[(v(!0),_(ue,null,_e(f.value,(C,O)=>(v(),_("div",{key:C.id,class:"kv-row"},[ae(a("input",{type:"checkbox","onUpdate:modelValue":P=>C.enabled=P},null,8,Mv),[[Ye,C.enabled]]),ae(a("input",{"onUpdate:modelValue":P=>C.key=P,placeholder:"Key",class:"kv-input"},null,8,Lv),[[Ee,C.key]]),ve(rs,{modelValue:C.value,"onUpdate:modelValue":P=>C.value=P,placeholder:"Value",class:"kv-input"},null,8,["modelValue","onUpdate:modelValue"]),a("button",{class:"remove-btn",onClick:P=>we(O)},"",8,Vv)]))),128)),a("button",{class:"add-btn",onClick:fe},"+ Add Param")])):z("",!0),S.value==="headers"?(v(),_("div",Uv,[(v(!0),_(ue,null,_e(d.value,(C,O)=>(v(),_("div",{key:C.id,class:"kv-row"},[ae(a("input",{type:"checkbox","onUpdate:modelValue":P=>C.enabled=P},null,8,jv),[[Ye,C.enabled]]),ae(a("input",{"onUpdate:modelValue":P=>C.key=P,placeholder:"Key",class:"kv-input"},null,8,zv),[[Ee,C.key]]),ve(rs,{modelValue:C.value,"onUpdate:modelValue":P=>C.value=P,placeholder:"Value",class:"kv-input"},null,8,["modelValue","onUpdate:modelValue"]),a("button",{class:"remove-btn",onClick:P=>Me(O)},"",8,Hv)]))),128)),a("button",{class:"add-btn",onClick:Ie},"+ Add Header")])):z("",!0),S.value==="body"?(v(),_("div",Bv,[a("div",Jv,[(v(),_(ue,null,_e(T,C=>a("label",{key:C.value},[ae(a("input",{type:"radio","onUpdate:modelValue":b[10]||(b[10]=O=>m.value.mode=O),value:C.value},null,8,Wv),[[On,m.value.mode]]),Ce(" "+R(C.label),1)])),64)),m.value.mode==="raw"?ae((v(),_("select",{key:0,"onUpdate:modelValue":b[11]||(b[11]=C=>E.value=C),class:"raw-type-select"},[(v(),_(ue,null,_e(I,C=>a("option",{key:C.value,value:C.value},R(C.label),9,Gv)),64))],512)),[[mt,E.value]]):z("",!0)]),m.value.mode==="raw"?(v(),_("div",Kv,[(v(),pe(en(L(t)),{modelValue:m.value.raw,"onUpdate:modelValue":b[12]||(b[12]=C=>m.value.raw=C),language:$.value,theme:L(n).theme,options:L(n).options,height:"100%",placeholder:'{"key": "value"}'},null,8,["modelValue","language","theme","options"]))])):m.value.mode==="formdata"?(v(),_("div",Xv,[(v(!0),_(ue,null,_e(m.value.formData,(C,O)=>(v(),_("div",{key:C.id,class:"kv-row"},[ae(a("input",{type:"checkbox","onUpdate:modelValue":P=>C.enabled=P},null,8,Yv),[[Ye,C.enabled]]),ae(a("input",{"onUpdate:modelValue":P=>C.key=P,placeholder:"Key",class:"kv-input"},null,8,Qv),[[Ee,C.key]]),ve(rs,{modelValue:C.value,"onUpdate:modelValue":P=>C.value=P,placeholder:"Value",class:"kv-input"},null,8,["modelValue","onUpdate:modelValue"]),a("button",{class:"remove-btn",onClick:P=>Rt(O)},"",8,Zv)]))),128)),a("button",{class:"add-btn",onClick:jt},"+ Add Field")])):m.value.mode==="urlencoded"?(v(),_("div",ey,[(v(!0),_(ue,null,_e(m.value.urlEncoded,(C,O)=>(v(),_("div",{key:C.id,class:"kv-row"},[ae(a("input",{type:"checkbox","onUpdate:modelValue":P=>C.enabled=P},null,8,ty),[[Ye,C.enabled]]),ae(a("input",{"onUpdate:modelValue":P=>C.key=P,placeholder:"Key",class:"kv-input"},null,8,sy),[[Ee,C.key]]),ve(rs,{modelValue:C.value,"onUpdate:modelValue":P=>C.value=P,placeholder:"Value",class:"kv-input"},null,8,["modelValue","onUpdate:modelValue"]),a("button",{class:"remove-btn",onClick:P=>tt(O)},"",8,ny)]))),128)),a("button",{class:"add-btn",onClick:Fe},"+ Add Field")])):z("",!0)])):z("",!0),S.value==="auth"?(v(),_("div",oy,[a("div",iy,[b[29]||(b[29]=a("label",{class:"auth-label"},"Type",-1)),ae(a("select",{"onUpdate:modelValue":b[13]||(b[13]=C=>w.value.type=C),class:"auth-select"},[...b[28]||(b[28]=[a("option",{value:"none"},"No Auth",-1),a("option",{value:"bearer"},"Bearer Token",-1),a("option",{value:"basic"},"Basic Auth",-1),a("option",{value:"apikey"},"API Key",-1)])],512),[[mt,w.value.type]])]),w.value.type==="bearer"?(v(),_("div",ry,[a("div",ay,[b[30]||(b[30]=a("label",{class:"auth-label"},"Token",-1)),ve(rs,{modelValue:w.value.bearer.token,"onUpdate:modelValue":b[14]||(b[14]=C=>w.value.bearer.token=C),placeholder:"Enter bearer token (e.g., eyJhbGciOi...)"},null,8,["modelValue"])]),b[31]||(b[31]=a("div",{class:"auth-hint"},[a("code",null,"-H 'Authorization: Bearer <token>'")],-1))])):z("",!0),w.value.type==="basic"?(v(),_("div",ly,[a("div",cy,[b[32]||(b[32]=a("label",{class:"auth-label"},"Username",-1)),ae(a("input",{"onUpdate:modelValue":b[15]||(b[15]=C=>w.value.basic.username=C),class:"auth-input",placeholder:"Username"},null,512),[[Ee,w.value.basic.username]])]),a("div",uy,[b[33]||(b[33]=a("label",{class:"auth-label"},"Password",-1)),ae(a("input",{"onUpdate:modelValue":b[16]||(b[16]=C=>w.value.basic.password=C),type:"password",class:"auth-input",placeholder:"Password"},null,512),[[Ee,w.value.basic.password]])]),b[34]||(b[34]=a("div",{class:"auth-hint"},[a("code",null,"-u '<username>:<password>'")],-1))])):z("",!0),w.value.type==="apikey"?(v(),_("div",dy,[a("div",py,[b[35]||(b[35]=a("label",{class:"auth-label"},"Key",-1)),ae(a("input",{"onUpdate:modelValue":b[17]||(b[17]=C=>w.value.apikey.key=C),class:"auth-input",placeholder:"Header name (e.g., X-API-Key)"},null,512),[[Ee,w.value.apikey.key]])]),a("div",fy,[b[36]||(b[36]=a("label",{class:"auth-label"},"Value",-1)),ve(rs,{modelValue:w.value.apikey.value,"onUpdate:modelValue":b[18]||(b[18]=C=>w.value.apikey.value=C),placeholder:"API key value"},null,8,["modelValue"])]),a("div",hy,[b[39]||(b[39]=a("label",{class:"auth-label"},"Add to",-1)),a("div",my,[a("label",null,[ae(a("input",{type:"radio","onUpdate:modelValue":b[19]||(b[19]=C=>w.value.apikey.in=C),value:"header"},null,512),[[On,w.value.apikey.in]]),b[37]||(b[37]=Ce(" Header ",-1))]),a("label",null,[ae(a("input",{type:"radio","onUpdate:modelValue":b[20]||(b[20]=C=>w.value.apikey.in=C),value:"query"},null,512),[[On,w.value.apikey.in]]),b[38]||(b[38]=Ce(" Query Param ",-1))])])]),a("div",gy,[w.value.apikey.in==="header"?(v(),_("code",vy,"-H '"+R(w.value.apikey.key||"X-API-Key")+": <value>'",1)):(v(),_("code",yy,"?"+R(w.value.apikey.key||"api_key")+"=<value>",1))])])):z("",!0),w.value.type==="none"?(v(),_("div",by,[...b[40]||(b[40]=[a("p",null,"This request does not use any authentication.",-1)])])):z("",!0)])):z("",!0)])])):l.value==="script"?(v(),_("div",wy,[a("div",xy,[a("div",_y,[ae(a("select",{"onUpdate:modelValue":b[21]||(b[21]=C=>U.value=C),class:"script-type-select"},[...b[41]||(b[41]=[a("option",{value:"test"},"Post-Request Script",-1),a("option",{value:"prerequest"},"Pre-Request Script",-1)])],512),[[mt,U.value]]),U.value==="prerequest"?(v(),_("span",Cy," Pre-request scripts are stored but not executed ")):z("",!0)]),a("div",Sy,[ae(a("select",{"onUpdate:modelValue":b[22]||(b[22]=C=>A.value=C),onChange:te,class:"snippet-select"},[b[42]||(b[42]=a("option",{value:""},"Insert Snippet...",-1)),(v(!0),_(ue,null,_e(L(o),(C,O)=>(v(),_("optgroup",{key:O,label:O},[(v(!0),_(ue,null,_e(C,P=>(v(),_("option",{key:P.name,value:P.name},R(P.name),9,ky))),128))],8,Ey))),128))],544),[[mt,A.value]])])]),a("div",Ty,[(v(),pe(en(L(t)),{ref_key:"scriptEditorRef",ref:q,modelValue:y.value.postRequest,"onUpdate:modelValue":b[23]||(b[23]=C=>y.value.postRequest=C),language:"javascript",theme:L(n).theme,height:"100%",placeholder:`// Write your post-request script here
// Example: pm.test('Status is 200', function() {
//   pm.expect(pm.response.code).to.equal(200);
// });`,options:{showGutter:!0,wrap:!0,fontSize:12}},null,8,["modelValue","theme"]))]),b[43]||(b[43]=$c('<div class="script-help" data-v-a2dc96ac><details data-v-a2dc96ac><summary data-v-a2dc96ac>Available APIs</summary><div class="api-list" data-v-a2dc96ac><code data-v-a2dc96ac>pm.response.code</code> - Status code<br data-v-a2dc96ac><code data-v-a2dc96ac>pm.response.json()</code> - Parse body as JSON<br data-v-a2dc96ac><code data-v-a2dc96ac>pm.response.text()</code> - Raw body text<br data-v-a2dc96ac><code data-v-a2dc96ac>pm.response.responseTime</code> - Duration in ms<br data-v-a2dc96ac><code data-v-a2dc96ac>pm.response.headers.get(name)</code> - Get header<br data-v-a2dc96ac><code data-v-a2dc96ac>pm.environment.get(key)</code> - Get env variable<br data-v-a2dc96ac><code data-v-a2dc96ac>pm.environment.set(key, value)</code> - Set env variable<br data-v-a2dc96ac><code data-v-a2dc96ac>pm.test(name, fn)</code> - Run test assertion<br data-v-a2dc96ac><code data-v-a2dc96ac>pm.expect(value)</code> - Chai-like assertions<br data-v-a2dc96ac><code data-v-a2dc96ac>console.log(...)</code> - Log output </div></details></div>',1))])):z("",!0),a("div",$y,[J.value?(v(),_("button",{key:0,class:"save-btn",onClick:K,title:"Save to collection"}," Save ")):z("",!0),a("button",{class:"send-btn",disabled:k.value||!G.value,onClick:j},[k.value?(v(),_("span",Ry)):(v(),_("span",qy,"Send"))],8,Ay)])]))}},Iy=be(Oy,[["__scopeId","data-v-a2dc96ac"]]);class Dy{constructor(e={}){this.options={timeout:3e4,followRedirects:!0,maxRedirects:5,...e},this.proxy=null,this.certificates=[],this.interceptors={request:[],response:[]}}setProxy(e){this.proxy=e}addCertificate(e){this.certificates.push(e)}addRequestInterceptor(e){this.interceptors.request.push(e)}addResponseInterceptor(e){this.interceptors.response.push(e)}async applyRequestInterceptors(e){let t={...e};for(const n of this.interceptors.request)t=await n(t);return t}async applyResponseInterceptors(e){let t=e;for(const n of this.interceptors.response)t=await n(t);return t}buildUrl(e,t=[]){const n=t.filter(r=>r.enabled&&r.key);if(n.length===0)return e;const o=n.map(r=>`${encodeURIComponent(r.key)}=${encodeURIComponent(r.value||"")}`).join("&"),i=e.includes("?")?"&":"?";return`${e}${i}${o}`}buildHeaders(e=[]){const t={};return e.filter(n=>n.enabled&&n.key).forEach(n=>{t[n.key]=n.value||""}),t}async execute(e){throw new Error("execute() must be implemented by subclass")}async send(e){const t=performance.now();try{const n=await this.applyRequestInterceptors(e);n.fullUrl=this.buildUrl(n.url,n.params),n.headersObj=this.buildHeaders(n.headers);const o=await this.execute(n);return o.time=performance.now()-t,await this.applyResponseInterceptors(o)}catch(n){const o={success:!1,error:n.message,status:n.status||0,statusText:n.statusText||"Network Error",time:performance.now()-t,headers:{},body:null,size:0};return this.applyResponseInterceptors(o)}}}class Fy{constructor({success:e=!0,status:t=200,statusText:n="OK",headers:o={},body:i=null,size:r=0,time:l=0,error:u=null}){this.success=e,this.status=t,this.statusText=n,this.headers=o,this.body=i,this.size=r,this.time=l,this.error=u}}class Py{static clients=new Map;static register(e,t){this.clients.set(e,t)}static create(e="fetch",t={}){const n=this.clients.get(e);if(!n)throw new Error(`Unknown HTTP client: ${e}`);return new n(t)}}class ja extends Dy{constructor(e={}){if(super(e),this.logger=new ts({prefix:"FetchHttpClient",level:"debug"}),typeof window>"u"||!window.fetch)throw new Error("FetchHttpClient requires browser environment with Fetch API")}async execute(e){const t=new AbortController,n=setTimeout(()=>t.abort(),this.options.timeout);try{const o={method:e.method,headers:e.headersObj,signal:t.signal,credentials:"include",mode:"cors"};["GET","HEAD"].includes(e.method.toUpperCase())||(o.body=this.prepareBody(e.body,e.bodyType,e.headersObj));const i=await fetch(e.fullUrl,o);clearTimeout(n);const r=await this.parseResponse(i),l=this.calculateSize(r);return new Fy({success:i.ok,status:i.status,statusText:i.statusText,headers:this.parseHeaders(i.headers),body:r.body,size:l,error:i.ok?null:`${i.status} ${i.statusText}`})}catch(o){throw clearTimeout(n),o.name==="AbortError"?new Error(`Request timeout after ${this.options.timeout}ms`):o.message.includes("Failed to fetch")?new Error("Network error - Check CORS policy or network connection"):o}}prepareBody(e,t,n){if(!e)return null;switch(t){case"raw":return this.isJSON(e)&&!n["Content-Type"]&&(n["Content-Type"]="application/json"),e;case"formdata":case"form-data":const o=new FormData;return Array.isArray(e)?e.forEach(i=>{i.key&&i.enabled!==!1&&o.append(i.key,i.value||"")}):typeof e=="object"&&Object.entries(e).forEach(([i,r])=>{o.append(i,r)}),delete n["Content-Type"],o;case"urlencoded":case"x-www-form-urlencoded":if(n["Content-Type"]="application/x-www-form-urlencoded",Array.isArray(e)){const i=new URLSearchParams;return e.forEach(r=>{r.key&&r.enabled!==!1&&i.append(r.key,r.value||"")}),i.toString()}return typeof e=="object"?new URLSearchParams(e).toString():e;case"binary":return n["Content-Type"]="application/octet-stream",e;case"graphql":return n["Content-Type"]="application/json",JSON.stringify(e);default:return e}}async parseResponse(e){const t=e.headers.get("content-type")||"";let n=null,o="";try{if(o=await e.text(),t.includes("application/json"))try{n=JSON.parse(o)}catch{n=o}else t.includes("text/html")||t.includes("text/plain")||t.includes("text/xml")||t.includes("application/xml")?n=o:t.includes("image/")?n=`[Binary image data - ${o.length} bytes]`:n=o}catch(i){this.logger.error("Error parsing response:",i),n=null}return{body:n,bodyText:o}}parseHeaders(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}calculateSize(e){return e.bodyText?new Blob([e.bodyText]).size:0}isJSON(e){try{return JSON.parse(e),!0}catch{return!1}}setProxy(e){super.setProxy(e),this.logger.warn("Direct proxy configuration is not supported in browsers. Consider using a browser extension or backend proxy.")}addCertificate(e){super.addCertificate(e),this.logger.warn("Client certificates cannot be configured via JavaScript. The browser will handle certificate selection.")}}function Ny(s){const e=[];let t="",n=!1,o=!1,i=!1;for(let r=0;r<s.length;r++){const l=s[r];if(i){t+=l,i=!1;continue}if(l==="\\"){i=!0,t+=l;continue}if(l==="'"&&!o){n=!n;continue}if(l==='"'&&!n){o=!o;continue}if(l===" "&&!n&&!o){t.trim()&&e.push(t.trim()),t="";continue}t+=l}return t.trim()&&e.push(t.trim()),e}function My(s){return!!(s.startsWith("http://")||s.startsWith("https://")||s.includes("{{")&&s.includes("}}")||!s.startsWith("-")&&s.includes(".")&&!s.includes(" ")||s.startsWith("localhost")||s.match(/^127\.0\.0\.\d+/))}function Ly(s){const e=s.indexOf(":");return e===-1?{key:s.trim(),value:""}:{key:s.substring(0,e).trim(),value:s.substring(e+1).trim()}}function hr(s){const e=s.indexOf("=");if(e===-1)return{key:s.trim(),value:"",type:"text"};const t=s.substring(0,e).trim();let n=s.substring(e+1).trim(),o="text";return n.startsWith("@")&&(o="file",n=n.substring(1)),{key:t,value:n,type:o}}function Vy(s){try{return atob(s)}catch{return null}}function Uy(s){if(!s||typeof s!="string")return jy();let e=s.trim();e.toLowerCase().startsWith("curl ")&&(e=e.substring(5).trim());const t=Ny(e);let n="GET",o="";const i=[];let r="none",l="";const u=[],p=[];let c=null,d=0;for(;d<t.length;){const w=t[d];if(My(w)){o=w,d++;continue}switch(w){case"-X":case"--request":d+1<t.length?(n=t[d+1].toUpperCase(),d+=2):d++;break;case"-u":case"--user":if(d+1<t.length){const y=t[d+1],S=y.indexOf(":");S!==-1?c={type:"basic",basic:{username:y.substring(0,S),password:y.substring(S+1)}}:c={type:"basic",basic:{username:y,password:""}},d+=2}else d++;break;case"-H":case"--header":if(d+1<t.length){const y=Ly(t[d+1]);if(y.key.toLowerCase()==="authorization"){const S=y.value;if(S.toLowerCase().startsWith("bearer ")){c={type:"bearer",bearer:{token:S.slice(7).trim()}},d+=2;continue}if(S.toLowerCase().startsWith("basic ")){const U=S.slice(6).trim(),A=Vy(U);if(A){const F=A.indexOf(":");F!==-1?c={type:"basic",basic:{username:A.substring(0,F),password:A.substring(F+1)}}:c={type:"basic",basic:{username:A,password:""}},d+=2;continue}}}i.push(ps(y.key,y.value,!0)),d+=2}else d++;break;case"-d":case"--data":case"--data-raw":d+1<t.length?(r="raw",l=t[d+1],n==="GET"&&(n="POST"),d+=2):d++;break;case"--data-urlencode":if(d+1<t.length){r="urlencoded";const y=hr(t[d+1]);p.push(ps(y.key,y.value,!0)),n==="GET"&&(n="POST"),d+=2}else d++;break;case"-F":case"--form":if(d+1<t.length){r="formdata";const y=hr(t[d+1]);u.push({...ps(y.key,y.value,!0),type:y.type}),n==="GET"&&(n="POST"),d+=2}else d++;break;case"-G":case"--get":n="GET",d++;break;case"-I":case"--head":n="HEAD",d++;break;default:d++;break}}let f=co(r);r==="raw"?(f.raw=l,f.options={raw:{language:zy(l)}}):r==="formdata"?f.formdata=u:r==="urlencoded"&&(f.urlencoded=p);const m=lo(o);return{method:n,url:m,header:i.length>0?i:[],body:f,auth:c}}function jy(){return{method:"GET",url:lo(""),header:[],body:co("none"),auth:null}}function zy(s){if(!s)return"text";const e=s.trim();if(e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]"))try{return JSON.parse(e),"json"}catch{}return e.startsWith("<")&&e.endsWith(">")?"xml":e.toLowerCase().includes("<!doctype html")||e.toLowerCase().includes("<html")?"html":"text"}function ze(s){return s?s.replace(/'/g,"'\\''"):""}function Hy(s,e){if(!s)return"";const t=e?.type==="apikey"&&e?.apikey?.in==="query"&&e?.apikey?.key&&e?.apikey?.value?{key:e.apikey.key,value:e.apikey.value}:null;if(typeof s=="string"){if(t){const c=s.includes("?")?"&":"?";return`${s}${c}${encodeURIComponent(t.key)}=${encodeURIComponent(t.value)}`}return s}if(s.raw){if(t){const c=s.raw.includes("?")?"&":"?";return`${s.raw}${c}${encodeURIComponent(t.key)}=${encodeURIComponent(t.value)}`}return s.raw}const n=s.protocol||"https",o=Array.isArray(s.host)?s.host.join("."):s.host||"",i=s.port?`:${s.port}`:"",r=Array.isArray(s.path)?"/"+s.path.join("/"):s.path||"",l=[];if(s.query&&s.query.length>0){const c=s.query.filter(d=>d.enabled!==!1);l.push(...c.map(d=>`${encodeURIComponent(d.key)}=${encodeURIComponent(d.value)}`))}t&&l.push(`${encodeURIComponent(t.key)}=${encodeURIComponent(t.value)}`);const u=l.length>0?"?"+l.join("&"):"",p=s.hash?`#${s.hash}`:"";return`${n}://${o}${i}${r}${u}${p}`}function mr(s,e={}){const{includeCurlPrefix:t=!1,multiline:n=!1}=e;if(!s)return"";const o=[],i=n?` \\
  `:" ";t&&o.push("curl");const r=Hy(s.url,s.auth);r&&o.push(`'${ze(r)}'`);const l=s.method||"GET";l!=="GET"&&o.push(`-X ${l}`);const u=s.auth;if(u&&u.type&&u.type!=="none")switch(u.type){case"basic":const c=u.basic||{};if(c.username){const m=ze(c.username),w=ze(c.password||"");o.push(`-u '${m}:${w}'`)}break;case"bearer":const d=u.bearer||{};d.token&&o.push(`-H 'Authorization: Bearer ${ze(d.token)}'`);break;case"apikey":const f=u.apikey||{};f.key&&f.value&&(f.in==="query"||o.push(`-H '${ze(f.key)}: ${ze(f.value)}'`));break}const p=s.header||s.headers||[];for(const c of p){if(c.enabled===!1||!c.key||c.key.toLowerCase()==="authorization"&&u&&u.type&&u.type!=="none")continue;const d=`${c.key}: ${c.value||""}`;o.push(`-H '${ze(d)}'`)}if(s.body&&s.body.mode!=="none"){const c=s.body;switch(c.mode){case"raw":c.raw&&o.push(`-d '${ze(c.raw)}'`);break;case"formdata":case"form-data":const d=c.formdata||c.formData||[];for(const m of d)m.enabled!==!1&&m.key&&(m.type==="file"?o.push(`-F '${ze(m.key)}=@${ze(m.value)}'`):o.push(`-F '${ze(m.key)}=${ze(m.value)}'`));break;case"urlencoded":case"x-www-form-urlencoded":const f=c.urlencoded||c.urlEncoded||[];for(const m of f)m.enabled!==!1&&m.key&&o.push(`--data-urlencode '${ze(m.key)}=${ze(m.value)}'`);break;case"binary":if(c.binary||c.file){const m=c.binary||c.file;typeof m=="string"&&o.push(`--data-binary '@${ze(m)}'`)}break;case"graphql":if(c.graphql){const m=JSON.stringify({query:c.graphql.query||"",variables:c.graphql.variables?JSON.parse(c.graphql.variables):{}});o.push(`-d '${ze(m)}'`)}break}}return o.join(i)}class Jn extends Error{constructor(e,t,n){super(e),this.name="AssertionError",this.expected=t,this.actual=n}}class Wn{constructor(e,t=!1){this._value=e,this._negate=t,this._deep=!1}_assert(e,t,n,o){if(!(this._negate?!e:e)){const r=this._negate?"not ":"";throw new Jn(t.replace("{not}",r),n,o)}return this}get to(){return this}get be(){return this}get been(){return this}get is(){return this}get that(){return this}get which(){return this}get and(){return this}get has(){return this}get have(){return this}get with(){return this}get at(){return this}get of(){return this}get same(){return this}get but(){return this}get does(){return this}get still(){return this}get not(){return new Wn(this._value,!this._negate)}get deep(){return this._deep=!0,this}equal(e){const t=this._deep?this._deepEqual(this._value,e):this._value===e;return this._assert(t,`Expected ${this._format(this._value)} to {not}equal ${this._format(e)}`,e,this._value)}equals(e){return this.equal(e)}eql(e){return this.deep.equal(e)}eq(e){return this._assert(this._value===e,`Expected ${this._format(this._value)} to {not}strictly equal ${this._format(e)}`,e,this._value)}a(e){const t=this._getType(this._value);return this._assert(t===e.toLowerCase(),`Expected ${this._format(this._value)} to {not}be a ${e} (got ${t})`,e,t)}an(e){return this.a(e)}get true(){return this._assert(this._value===!0,`Expected ${this._format(this._value)} to {not}be true`,!0,this._value)}get false(){return this._assert(this._value===!1,`Expected ${this._format(this._value)} to {not}be false`,!1,this._value)}get null(){return this._assert(this._value===null,`Expected ${this._format(this._value)} to {not}be null`,null,this._value)}get undefined(){return this._assert(this._value===void 0,`Expected ${this._format(this._value)} to {not}be undefined`,void 0,this._value)}get NaN(){return this._assert(Number.isNaN(this._value),`Expected ${this._format(this._value)} to {not}be NaN`,NaN,this._value)}get exist(){return this._assert(this._value!==null&&this._value!==void 0,"Expected value to {not}exist","value",this._value)}get ok(){return this._assert(!!this._value,`Expected ${this._format(this._value)} to {not}be truthy`,"truthy",this._value)}get empty(){let e=!1;return typeof this._value=="string"||Array.isArray(this._value)?e=this._value.length===0:typeof this._value=="object"&&this._value!==null&&(e=Object.keys(this._value).length===0),this._assert(e,`Expected ${this._format(this._value)} to {not}be empty`,"empty",this._value)}above(e){return this._assert(this._value>e,`Expected ${this._value} to {not}be above ${e}`,`> ${e}`,this._value)}gt(e){return this.above(e)}greaterThan(e){return this.above(e)}least(e){return this._assert(this._value>=e,`Expected ${this._value} to {not}be at least ${e}`,`>= ${e}`,this._value)}gte(e){return this.least(e)}below(e){return this._assert(this._value<e,`Expected ${this._value} to {not}be below ${e}`,`< ${e}`,this._value)}lt(e){return this.below(e)}lessThan(e){return this.below(e)}most(e){return this._assert(this._value<=e,`Expected ${this._value} to {not}be at most ${e}`,`<= ${e}`,this._value)}lte(e){return this.most(e)}within(e,t){return this._assert(this._value>=e&&this._value<=t,`Expected ${this._value} to {not}be within ${e}..${t}`,`${e}-${t}`,this._value)}closeTo(e,t){return this._assert(Math.abs(this._value-e)<=t,`Expected ${this._value} to {not}be close to ${e} (delta: ${t})`,e,this._value)}include(e){let t=!1;return typeof this._value=="string"?t=this._value.includes(e):Array.isArray(this._value)?t=this._value.includes(e):typeof this._value=="object"&&this._value!==null&&(t=Object.keys(e).every(n=>this._deep?this._deepEqual(this._value[n],e[n]):this._value[n]===e[n])),this._assert(t,`Expected ${this._format(this._value)} to {not}include ${this._format(e)}`,e,this._value)}contain(e){return this.include(e)}contains(e){return this.include(e)}includes(e){return this.include(e)}match(e){return this._assert(e.test(this._value),`Expected ${this._format(this._value)} to {not}match ${e}`,e.toString(),this._value)}startWith(e){return this._assert(typeof this._value=="string"&&this._value.startsWith(e),`Expected ${this._format(this._value)} to {not}start with ${this._format(e)}`,e,this._value)}startsWith(e){return this.startWith(e)}endWith(e){return this._assert(typeof this._value=="string"&&this._value.endsWith(e),`Expected ${this._format(this._value)} to {not}end with ${this._format(e)}`,e,this._value)}endsWith(e){return this.endWith(e)}lengthOf(e){const t=this._value?.length;return this._assert(t===e,`Expected ${this._format(this._value)} to {not}have length ${e} (got ${t})`,e,t)}get length(){return new Wn(this._value?.length,this._negate)}property(e,t){const n=Object.prototype.hasOwnProperty.call(this._value||{},e);if(arguments.length===1)return this._assert(n,`Expected object to {not}have property '${e}'`,e,Object.keys(this._value||{}));const o=this._value?.[e],i=this._deep?this._deepEqual(o,t):o===t;return this._assert(n&&i,`Expected property '${e}' to {not}equal ${this._format(t)} (got ${this._format(o)})`,t,o)}keys(...e){const t=Object.keys(this._value||{}),n=e.flat(),o=n.every(i=>t.includes(i));return this._assert(o,`Expected object to {not}have keys [${n.join(", ")}]`,n,t)}key(...e){return this.keys(...e)}instanceof(e){return this._assert(this._value instanceof e,`Expected value to {not}be instance of ${e.name}`,e.name,this._getType(this._value))}instanceOf(e){return this.instanceof(e)}oneOf(e){const t=e.includes(this._value);return this._assert(t,`Expected ${this._format(this._value)} to {not}be one of [${e.map(n=>this._format(n)).join(", ")}]`,e,this._value)}members(e){const t=e.every(n=>this._deep?this._value.some(o=>this._deepEqual(o,n)):this._value.includes(n));return this._assert(t,`Expected array to {not}include members [${e.map(n=>this._format(n)).join(", ")}]`,e,this._value)}throw(e){let t=!1,n=null;try{this._value()}catch(o){t=!0,n=o}if(e){const o=n instanceof e;return this._assert(t&&o,`Expected function to {not}throw ${e.name}`,e.name,n?.constructor?.name)}return this._assert(t,"Expected function to {not}throw","error",n)}throws(e){return this.throw(e)}_deepEqual(e,t){if(e===t)return!0;if(e===null||t===null||typeof e!=typeof t)return!1;if(typeof e=="object"){if(Array.isArray(e)!==Array.isArray(t))return!1;const n=Object.keys(e),o=Object.keys(t);return n.length!==o.length?!1:n.every(i=>this._deepEqual(e[i],t[i]))}return!1}_getType(e){return e===null?"null":Array.isArray(e)?"array":typeof e}_format(e){if(typeof e=="string")return`"${e}"`;if(typeof e=="object")try{return JSON.stringify(e)}catch{return String(e)}return String(e)}}function gr(){return function(e){return new Wn(e)}}class hi{constructor(e){this._response=e,this._negate=!1}_assert(e,t,n,o){if(!(this._negate?!e:e)){const r=this._negate?"not ":"";throw new Jn(t.replace("{not}",r),n,o)}return this}get to(){return this}get be(){return this}get have(){return this}get and(){return this}get a(){return this}get an(){return this}get not(){const e=new hi(this._response);return e._negate=!this._negate,e}status(e){return typeof e=="number"?this._assert(this._response.code===e,`Expected status code to {not}be ${e}, got ${this._response.code}`,e,this._response.code):this._assert(this._response.status.toLowerCase().includes(e.toLowerCase()),`Expected status to {not}contain "${e}", got "${this._response.status}"`,e,this._response.status)}header(e,t){const n=this._response.headers.get(e),o=n!==void 0;if(arguments.length===1)return this._assert(o,`Expected response to {not}have header "${e}"`,e,o?n:"not present");const i=o&&n.toLowerCase().includes(t.toLowerCase());return this._assert(i,`Expected header "${e}" to {not}contain "${t}", got "${n||"not present"}"`,t,n)}get json(){let e=!1;try{this._response.json(),e=!0}catch{e=!1}return this._assert(e,"Expected response body to {not}be valid JSON","valid JSON","invalid JSON")}body(e){const t=this._response.text();return arguments.length===0?this._assert(t&&t.length>0,"Expected response to {not}have a body","body present",t?"body present":"empty body"):e instanceof RegExp?this._assert(e.test(t),`Expected body to {not}match ${e}`,e.toString(),t):this._assert(t.includes(e),`Expected body to {not}contain "${e}"`,e,t)}jsonBody(e,t){let n;try{n=this._response.json()}catch{throw new Jn("Cannot check jsonBody: Response is not valid JSON","valid JSON","invalid JSON")}const o=e.split(".");let i=n;for(const r of o){if(i==null){i=void 0;break}i=i[r]}return arguments.length===1?this._assert(i!==void 0,`Expected JSON body to {not}have path "${e}"`,e,i===void 0?"undefined":i):this._assert(i===t,`Expected JSON body path "${e}" to {not}equal ${JSON.stringify(t)}, got ${JSON.stringify(i)}`,t,i)}get responseTime(){const e=this._response.responseTime,t=this;return{below(n){return t._assert(e<n,`Expected response time to {not}be below ${n}ms, got ${e}ms`,`< ${n}ms`,`${e}ms`)},above(n){return t._assert(e>n,`Expected response time to {not}be above ${n}ms, got ${e}ms`,`> ${n}ms`,`${e}ms`)}}}}class By{constructor(e){this._headers=e||{},this._normalized={},Object.entries(this._headers).forEach(([t,n])=>{this._normalized[t.toLowerCase()]={key:t,value:n}})}get(e){const t=this._normalized[e.toLowerCase()];return t?t.value:void 0}has(e){return e.toLowerCase()in this._normalized}all(){return Object.values(this._normalized).map(({key:e,value:t})=>({key:e,value:t}))}toObject(){return{...this._headers}}}class Jy{constructor(){this.tests=[],this.consoleLogs=[],this.environmentChanges=[],this.error=null,this.duration=0}addTest(e,t,n=null,o=0){this.tests.push({name:e,passed:t,error:n,duration:o})}addConsoleLog(e,t){this.consoleLogs.push({type:e,args:t.map(n=>this._formatArg(n)),timestamp:Date.now()})}addEnvChange(e,t,n,o=void 0){this.environmentChanges.push({action:e,key:t,value:n,oldValue:o})}_formatArg(e){if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e=="object")try{return JSON.stringify(e,null,2)}catch{return String(e)}return String(e)}get passed(){return this.tests.filter(e=>e.passed).length}get failed(){return this.tests.filter(e=>!e.passed).length}get totalTests(){return this.tests.length}}class Wy{constructor(e={}){this.environmentStore=e.environmentStore,this.logger=e.logger||console}execute({script:e,response:t,request:n,requestName:o}){const i=new Jy,r=performance.now();if(!e||typeof e!="string"||e.trim()==="")return i;const l=this._createPmObject(t,n,o,i),u=this._createConsole(i),p=gr();try{this._executeInSandbox(e,l,u,p)}catch(c){i.error={message:c.message,stack:c.stack,name:c.name},this.logger.error("Script execution error:",c)}return this._applyEnvironmentChanges(i.environmentChanges),i.duration=performance.now()-r,i}_createPmObject(e,t,n,o){const i=this;let r=null,l=null;const u={code:e?.status||0,status:e?.statusText||"",responseTime:e?.time||0,headers:new By(e?.headers||{}),json(){if(l)throw l;if(r!==null)return r;try{const c=e?.body;return typeof c=="string"?r=JSON.parse(c):typeof c=="object"?r=c:r=null,r}catch(c){throw l=new Error(`Failed to parse response as JSON: ${c.message}`),l}},text(){const c=e?.body;return typeof c=="string"?c:typeof c=="object"?JSON.stringify(c):String(c||"")}};Object.defineProperty(u,"to",{get(){return new hi(u)}});const p={response:u,environment:{get(c){if(i.environmentStore)return i.environmentStore.resolveVariable(c)},set(c,d){const f=i.environmentStore?.resolveVariable(c);o.addEnvChange("set",c,d,f)},unset(c){const d=i.environmentStore?.resolveVariable(c);o.addEnvChange("unset",c,void 0,d)},has(c){return i.environmentStore?i.environmentStore.resolveVariable(c)!==null:!1},toObject(){if(!i.environmentStore)return{};const c=i.environmentStore.getAvailableVariables()||[],d={};return c.forEach(f=>{d[f.key]=f.value}),d}},test(c,d){const f=performance.now();let m=!0,w=null;try{d()}catch(S){m=!1,S instanceof Jn?w={message:S.message,expected:S.expected,actual:S.actual}:w={message:S.message,stack:S.stack}}const y=performance.now()-f;o.addTest(c,m,w,y)},expect:gr(),info:{requestName:n||"Unnamed Request",iteration:1,iterationCount:1,requestId:t?.id||null},variables:{get(c){return p.environment.get(c)},set(c,d){p.environment.set(c,d)},has(c){return p.environment.has(c)}}};return p}_createConsole(e){return{log:(...t)=>e.addConsoleLog("log",t),info:(...t)=>e.addConsoleLog("info",t),warn:(...t)=>e.addConsoleLog("warn",t),error:(...t)=>e.addConsoleLog("error",t),debug:(...t)=>e.addConsoleLog("debug",t)}}_executeInSandbox(e,t,n,o){new Function("pm","console","expect",`
        "use strict";
        ${e}
      `)(t,n,o)}_applyEnvironmentChanges(e){if(!this.environmentStore){e.length>0&&this.logger.warn("No environment store available - environment changes will not persist");return}const t=this.environmentStore.activeEnvironment?.value;if(!t){e.length>0&&this.logger.warn("No active environment - environment changes will not persist");return}e.forEach(n=>{if(n.action==="set"){const o=t.values?.find(i=>i.key===n.key);o?this.environmentStore.updateVariable(t.id,o.id,{value:String(n.value)}):this.environmentStore.addVariable(t.id,n.key,String(n.value))}else if(n.action==="unset"){const o=t.values?.find(i=>i.key===n.key);o&&this.environmentStore.deleteVariable(t.id,o.id)}})}static extractScriptFromEvent(e){if(!e?.script?.exec)return"";const t=e.script.exec;return Array.isArray(t)?t.join(`
`):typeof t=="string"?t:""}static createEventFromScript(e,t="test"){return!e||e.trim()===""?null:{listen:t,script:{type:"text/javascript",exec:e.split(`
`)}}}}class Gy extends We{constructor(){super("ChatController"),this.collectionsStore=Os(),this.environmentsStore=ms(),this.conversationsStore=pi(),this.variableInterpolation=fo(),this.httpClient=new ja,this.init()}init(){super.init(),this.createState({composerMode:"curl",curlInput:"",method:"GET",url:"",headers:[],params:[],body:{mode:"none",raw:"",formData:[],urlEncoded:[]},auth:{type:"none",bearer:{token:""},basic:{username:"",password:""},apikey:{key:"X-API-Key",value:"",in:"header"}},script:{preRequest:"",postRequest:""},activeVisualTab:"params",isLoading:!1,requestError:null,currentRequestId:null,currentCollectionId:null,currentFolderId:null}),this.createComputed("httpMethods",()=>["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS"]),this.createWatcher(()=>this.state.composerMode,(e,t)=>{t==="curl"&&e==="visual"?this.syncCurlToVisual():t==="visual"&&e==="curl"?this.syncVisualToCurl():t==="script"&&e==="curl"&&this.syncVisualToCurl()})}getMethodColor(e){return{GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)"}[e]||"var(--color-text-secondary)"}setComposerMode(e){(e==="curl"||e==="visual"||e==="script")&&(this.state.composerMode=e)}setActiveVisualTab(e){this.state.activeVisualTab=e}syncCurlToVisual(){if(this.state.curlInput.trim())try{const e=Uy(this.state.curlInput);this.state.method=e.method||"GET",this.state.url=e.url?.raw||"",this.state.headers=(e.header||[]).map(t=>({...t,id:t.id||Date.now()+Math.random()})),e.url?.query&&(this.state.params=e.url.query.map(t=>({...t,id:t.id||Date.now()+Math.random()}))),e.body&&(this.state.body={mode:e.body.mode||"none",raw:e.body.raw||"",formData:e.body.formdata||e.body.formData||[],urlEncoded:e.body.urlencoded||e.body.urlEncoded||[]}),e.auth&&e.auth.type?this.state.auth={type:e.auth.type,bearer:e.auth.bearer||{token:""},basic:e.auth.basic||{username:"",password:""},apikey:e.auth.apikey||{key:"X-API-Key",value:"",in:"header"}}:this.state.auth={type:"none",bearer:{token:""},basic:{username:"",password:""},apikey:{key:"X-API-Key",value:"",in:"header"}},this.logger.debug("Synced cURL to visual")}catch(e){this.logger.error("Failed to sync cURL to visual:",e)}}syncVisualToCurl(){const e=this.buildRequestFromVisual();this.state.curlInput=mr(e),this.logger.debug("Synced visual to cURL")}buildRequestFromVisual(){const e=lo(this.state.url);e.query=this.state.params.filter(n=>n.enabled!==!1&&n.key).map(n=>ps(n.key,n.value,n.enabled));const t=co(this.state.body.mode);return this.state.body.mode==="raw"?(t.raw=this.state.body.raw,t.options={raw:{language:"json"}}):this.state.body.mode==="formdata"?t.formdata=this.state.body.formData:this.state.body.mode==="urlencoded"&&(t.urlencoded=this.state.body.urlEncoded),{method:this.state.method,url:e,header:this.state.headers.filter(n=>n.enabled!==!1&&n.key),body:t,auth:this.state.auth}}loadRequest(e,t,n=null){const o=this.collectionsStore.getRequest(e,t);if(!o){this.logger.warn("Request not found:",t);return}this.state.currentRequestId=t,this.state.currentCollectionId=e,this.state.currentFolderId=n;const i=o.request;if(i){if(this.state.method=i.method||"GET",this.state.url=i.url?.raw||"",this.state.headers=(i.header||[]).map(r=>({key:r.key||"",value:r.value||"",enabled:r.enabled!==!1,id:r.id||Date.now()+Math.random()})),i.url?.query?this.state.params=i.url.query.map(r=>({key:r.key||"",value:r.value||"",enabled:r.enabled!==!1,id:r.id||Date.now()+Math.random()})):this.state.params=[],i.body?this.state.body={mode:i.body.mode||"none",raw:i.body.raw||"",formData:i.body.formdata||i.body.formData||[],urlEncoded:i.body.urlencoded||i.body.urlEncoded||[]}:this.state.body={mode:"none",raw:"",formData:[],urlEncoded:[]},i.auth&&i.auth.type?this.state.auth={type:i.auth.type,bearer:i.auth.bearer||{token:""},basic:i.auth.basic||{username:"",password:""},apikey:i.auth.apikey||{key:"X-API-Key",value:"",in:"header"}}:this.state.auth={type:"none",bearer:{token:""},basic:{username:"",password:""},apikey:{key:"X-API-Key",value:"",in:"header"}},this.state.script={preRequest:"",postRequest:""},o.event&&Array.isArray(o.event)){for(const r of o.event)if(r.listen==="test"&&r.script?.exec){const l=Array.isArray(r.script.exec)?r.script.exec:[r.script.exec];this.state.script.postRequest=l.join(`
`)}else if(r.listen==="prerequest"&&r.script?.exec){const l=Array.isArray(r.script.exec)?r.script.exec:[r.script.exec];this.state.script.preRequest=l.join(`
`)}}this.syncVisualToCurl(),this.conversationsStore.createNewConversation({name:o.name||"Request",requestId:t,collectionId:e,folderId:n}),this.logger.info("Loaded request:",o.name)}}setCurlInput(e){this.state.curlInput=e}updateField(e,t){e in this.state&&(this.state[e]=t)}addHeader(){this.state.headers.push({key:"",value:"",enabled:!0,id:Date.now()})}removeHeader(e){this.state.headers.splice(e,1)}addParam(){this.state.params.push({key:"",value:"",enabled:!0,id:Date.now()})}removeParam(e){this.state.params.splice(e,1)}async sendRequest(){if(this.state.isLoading){this.logger.warn("Request already in progress");return}if(this.state.composerMode==="curl"&&this.state.curlInput.trim()){const e=Pa(this.state.curlInput),t=e.filter(n=>n.type==="error");if(t.length>0){this.logger.warn("cURL validation failed:",t);const n={method:"GET",url:{raw:this.state.curlInput},header:[],body:null};this.conversationsStore.addRequest(n,this.state.curlInput),this.conversationsStore.addValidationError(e,this.state.curlInput);return}}this.state.isLoading=!0,this.state.requestError=null;try{let e;this.state.composerMode==="curl"?(this.syncCurlToVisual(),e=this.buildRequestFromVisual()):e=this.buildRequestFromVisual();const t=mr(e);this.conversationsStore.addRequest(e,t);const n=this.variableInterpolation.interpolateText(e.url?.raw||""),o=(e.header||[]).map(u=>({...u,key:this.variableInterpolation.interpolateText(u.key||""),value:this.variableInterpolation.interpolateText(u.value||"")}));if(e.auth?.type&&e.auth.type!=="none"){const u=e.auth.type;if(u==="bearer"&&e.auth.bearer?.token){const p=this.variableInterpolation.interpolateText(e.auth.bearer.token);p&&o.push({key:"Authorization",value:`Bearer ${p}`,enabled:!0})}else if(u==="basic"&&e.auth.basic){const p=this.variableInterpolation.interpolateText(e.auth.basic.username||""),c=this.variableInterpolation.interpolateText(e.auth.basic.password||"");if(p||c){const d=btoa(`${p}:${c}`);o.push({key:"Authorization",value:`Basic ${d}`,enabled:!0})}}else if(u==="apikey"&&e.auth.apikey){const p=e.auth.apikey,c=this.variableInterpolation.interpolateText(p.key||"X-API-Key"),d=this.variableInterpolation.interpolateText(p.value||"");d&&p.in==="header"&&o.push({key:c,value:d,enabled:!0})}}const i=(e.url?.query||[]).map(u=>({...u,key:this.variableInterpolation.interpolateText(u.key||""),value:this.variableInterpolation.interpolateText(u.value||"")}));let r=null;e.body?.mode==="raw"?r=this.variableInterpolation.interpolateText(e.body.raw):e.body?.mode==="formdata"?r=(e.body.formdata||[]).map(u=>({...u,key:this.variableInterpolation.interpolateText(u.key||""),value:this.variableInterpolation.interpolateText(u.value||"")})):e.body?.mode==="urlencoded"&&(r=(e.body.urlencoded||[]).map(u=>({...u,key:this.variableInterpolation.interpolateText(u.key||""),value:this.variableInterpolation.interpolateText(u.value||"")}))),this.logger.debug("Sending request:",{method:e.method,url:n,params:i});const l=await this.httpClient.send({method:e.method,url:n,params:i,headers:o,body:r,bodyType:e.body?.mode});this.conversationsStore.addResponse(l),this.state.script.postRequest?.trim()&&await this.executePostRequestScript(l),this.state.currentRequestId&&this.state.currentCollectionId&&this.saveToCollection(),this.logger.info("Request completed:",l.status)}catch(e){this.logger.error("Request failed:",e),this.state.requestError=e.message,this.conversationsStore.addResponse({status:0,statusText:"Error",error:e.message,success:!1,time:0,size:0})}finally{this.state.isLoading=!1}}async executePostRequestScript(e){const t=this.state.script.postRequest;if(t?.trim()){this.logger.debug("Executing post-request script");try{const n={get:d=>this.environmentsStore.getVariable(d),set:(d,f)=>{this.environmentsStore.setVariable(d,String(f))},unset:d=>{this.environmentsStore.unsetVariable(d)},has:d=>this.environmentsStore.getVariable(d)!==void 0};let o="Request";if(this.state.currentRequestId&&this.state.currentCollectionId){const d=this.collectionsStore.getRequest(this.state.currentCollectionId,this.state.currentRequestId);d&&(o=d.name)}const r=new Wy({environmentStore:this.environmentsStore,logger:this.logger}).execute({script:t,response:{status:e.status,statusText:e.statusText,headers:e.headers||{},body:e.body,time:e.time},requestName:o});if(r.consoleLogs&&r.consoleLogs.length>0&&this.conversationsStore.addConsoleLogs(r.consoleLogs),r.environmentChanges&&r.environmentChanges.length>0){const d=this.environmentsStore.activeEnvironment;this.conversationsStore.addEnvChanges(r.environmentChanges,d?.name||"",!!d)}(r.tests&&r.tests.length>0||r.error)&&this.conversationsStore.addScriptResults({tests:r.tests||[],duration:r.duration||0,error:r.error});const l=r.tests||[],u=r.environmentChanges||[],p=l.filter(d=>d.passed).length,c=l.filter(d=>!d.passed).length;this.logger.info(`Script executed: ${p} passed, ${c} failed, ${u.length} env changes`)}catch(n){this.logger.error("Script execution error:",n),this.conversationsStore.addScriptResults({tests:[],duration:0,error:n.message||"Script execution failed"})}}}saveToCollection(){if(!this.state.currentRequestId||!this.state.currentCollectionId){this.logger.warn("No collection context to save to");return}const e=this.buildRequestFromVisual(),t=[];this.state.script.preRequest?.trim()&&t.push({listen:"prerequest",script:{type:"text/javascript",exec:this.state.script.preRequest.split(`
`)}}),this.state.script.postRequest?.trim()&&t.push({listen:"test",script:{type:"text/javascript",exec:this.state.script.postRequest.split(`
`)}}),this.collectionsStore.updateRequest(this.state.currentCollectionId,this.state.currentRequestId,{request:e,event:t.length>0?t:void 0}),this.logger.debug("Request saved to collection")}clearComposer(){this.state.curlInput="",this.state.method="GET",this.state.url="",this.state.headers=[],this.state.params=[],this.state.body={mode:"none",raw:"",formData:[],urlEncoded:[]},this.state.auth={type:"none",bearer:{token:""},basic:{username:"",password:""},apikey:{key:"X-API-Key",value:"",in:"header"}},this.state.script={preRequest:"",postRequest:""},this.state.requestError=null}newRequest(){this.clearComposer(),this.state.currentRequestId=null,this.state.currentCollectionId=null,this.state.currentFolderId=null,this.conversationsStore.createNewConversation({name:"New Request"})}loadSession(e){const t=this.conversationsStore.conversations.value.find(i=>i.id===e);if(!t){this.logger.warn("Session not found:",e);return}this.conversationsStore.setActiveConversation(e),this.state.currentRequestId=t.requestId,this.state.currentCollectionId=t.collectionId,this.state.currentFolderId=t.folderId;const n=t.messages.filter(i=>i.type==="request"),o=n[n.length-1];if(o?.data?.request){const i=o.data.request;this.state.method=i.method||"GET",this.state.url=i.url?.raw||"",this.state.headers=(i.header||[]).map(r=>({key:r.key||"",value:r.value||"",enabled:r.enabled!==!1,id:r.id||Date.now()+Math.random()})),i.url?.query?this.state.params=i.url.query.map(r=>({key:r.key||"",value:r.value||"",enabled:r.enabled!==!1,id:r.id||Date.now()+Math.random()})):this.state.params=[],i.body?this.state.body={mode:i.body.mode||"none",raw:i.body.raw||"",formData:i.body.formdata||i.body.formData||[],urlEncoded:i.body.urlencoded||i.body.urlEncoded||[]}:this.state.body={mode:"none",raw:"",formData:[],urlEncoded:[]},i.auth&&i.auth.type?this.state.auth={type:i.auth.type,bearer:i.auth.bearer||{token:""},basic:i.auth.basic||{username:"",password:""},apikey:i.auth.apikey||{key:"X-API-Key",value:"",in:"header"}}:this.state.auth={type:"none",bearer:{token:""},basic:{username:"",password:""},apikey:{key:"X-API-Key",value:"",in:"header"}},o.data.curl?this.state.curlInput=o.data.curl:this.syncVisualToCurl(),this.logger.info("Loaded session:",t.name,"with",n.length,"requests")}else this.clearComposer(),this.logger.info("Loaded empty session:",t.name)}formatTime(e){return!e&&e!==0?"N/A":e<1e3?`${Math.round(e)}ms`:`${(e/1e3).toFixed(2)}s`}formatSize(e){return!e&&e!==0?"N/A":e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(2)} KB`:`${(e/(1024*1024)).toFixed(2)} MB`}}const Ky={class:"chat-view"},Xy={class:"response-overlay-content"},Yy={__name:"ChatView",props:{requestId:{type:String,default:null},collectionId:{type:String,default:null},folderId:{type:String,default:null},conversationId:{type:String,default:null},requestName:{type:String,default:"New Request"}},emits:["request-loaded"],setup(s,{expose:e,emit:t}){const n=s,o=t,i=new Gy,r=pi(),l=se("curl"),u=D(()=>l.value==="visual"?50:30),p=D(()=>100-u.value),c=se(null),d=D(()=>r.activeConversation.value),f=D(()=>r.activeMessages.value);ge(()=>[n.requestId,n.collectionId],([q,H])=>{q&&H&&(i.loadRequest(H,q,n.folderId),o("request-loaded"))},{immediate:!0}),Ne(()=>{n.conversationId?i.loadSession(n.conversationId):!n.requestId&&!n.collectionId&&i.newRequest()});function m(){i.sendRequest(),l.value="curl",i.setComposerMode("curl")}function w(){i.saveToCollection()}function y(q){q.data?.request&&(i.state.method=q.data.request.method||"GET",i.state.url=q.data.request.url?.raw||"",i.state.headers=[...q.data.request.header||[]],i.syncVisualToCurl())}function S(){r.clearActiveConversation()}function U(q){l.value=q}function A(q){c.value=q}function F(){c.value=null}return e({controller:i,loadRequest:(q,H,k)=>{i.loadRequest(q,H,k)},newRequest:()=>{i.newRequest()}}),(q,H)=>(v(),_("div",Ky,[ve(L(Ra),{class:"default-theme",horizontal:""},{default:Pe(()=>[ve(L(Bn),{size:p.value,"min-size":"20"},{default:Pe(()=>[ve(ov,{conversation:d.value,messages:f.value,"is-loading":L(i).state.isLoading,onEditRequest:y,onClear:S,onMaximizeResponse:A},null,8,["conversation","messages","is-loading"])]),_:1},8,["size"]),ve(L(Bn),{size:u.value,"min-size":"15","max-size":"70"},{default:Pe(()=>[ve(Iy,{controller:L(i),onSend:m,onSave:w,onModeChange:U},null,8,["controller"])]),_:1},8,["size"])]),_:1}),(v(),pe(As,{to:"body"},[c.value?(v(),_("div",{key:0,class:"response-overlay",onClick:yn(F,["self"])},[a("div",Xy,[ve(Va,{message:c.value,maximized:!0,onMinimize:F},null,8,["message"])])])):z("",!0)]))]))}},Qy=be(Yy,[["__scopeId","data-v-574b41ef"]]),Zy={class:"chat-tabs"},eb={class:"tab-bar"},tb={class:"tabs-container"},sb=["onClick"],nb={class:"tab-name"},ob=["onClick"],ib={class:"chat-content"},rb={key:1,class:"empty-state"},ab={__name:"ChatTabs",setup(s,{expose:e}){const t=hn(),n=se(null),o=D(()=>t.tabs.value||[]),i=D(()=>t.activeTab.value?.id),r=D(()=>t.activeTab.value);function l(d){return{GET:"var(--color-get)",POST:"var(--color-post)",PUT:"var(--color-put)",PATCH:"var(--color-patch)",DELETE:"var(--color-delete)"}[d]||"var(--color-text-secondary)"}function u(d){t.setActiveTab(d)}function p(d){t.closeTab(d)}function c(){t.createTab({name:"New Request",method:"GET"})}return e({chatViewRef:n,addNewTab:c}),(d,f)=>(v(),_("div",Zy,[a("div",eb,[a("div",tb,[(v(!0),_(ue,null,_e(o.value,m=>(v(),_("div",{key:m.id,class:he(["tab",{active:m.id===i.value}]),onClick:w=>u(m.id)},[a("span",{class:"tab-method",style:De({color:l(m.method)})},R(m.method),5),a("span",nb,R(m.name),1),a("button",{class:"tab-close",onClick:yn(w=>p(m.id),["stop"]),title:"Close"},"  ",8,ob)],10,sb))),128))]),a("button",{class:"add-tab-btn",onClick:c,title:"New Request"}," + ")]),a("div",ib,[r.value?(v(),pe(Qy,{ref_key:"chatViewRef",ref:n,key:r.value.id,"request-id":r.value.itemId,"collection-id":r.value.collectionId,"folder-id":r.value.folderId,"conversation-id":r.value.conversationId,"request-name":r.value.name},null,8,["request-id","collection-id","folder-id","conversation-id","request-name"])):(v(),_("div",rb,[f[0]||(f[0]=a("div",{class:"empty-icon"},"",-1)),f[1]||(f[1]=a("h3",null,"No request open",-1)),f[2]||(f[2]=a("p",null,"Select a request from the sidebar or create a new one",-1)),a("button",{class:"new-request-btn",onClick:c}," + New Request ")]))])]))}},lb=be(ab,[["__scopeId","data-v-bbad2ef2"]]),cb=["http","https","socks4","socks5"],ub=["none","basic","ntlm"];let _s=class za extends ne{static schema={id:{type:"string",default:()=>ne.generateId()},name:{type:"string",default:"Default Proxy"},enabled:{type:"boolean",default:!1},protocol:{type:"string",enum:cb,default:"http"},host:{type:"string",default:""},port:{type:"number",default:8080,validator:e=>e>0&&e<=65535},auth:{type:"object",default:null},excludeList:{type:"array",default:[]},includeList:{type:"array",default:[]},useSystemProxy:{type:"boolean",default:!1},tunneling:{type:"boolean",default:!1},createdAt:{type:"string",default:()=>ne.getTimestamp()},updatedAt:{type:"string",default:()=>ne.getTimestamp()}};constructor(e={}){e.id&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.auth&&!(e.auth instanceof Hs)&&(e.auth=new Hs(e.auth).toJSON()),super(e),this.validateProxy()}validateProxy(){if(this.enabled&&!this.useSystemProxy){if(!this.host)throw new Error("Proxy host is required when proxy is enabled");if(!this.isValidHost(this.host))throw new Error(`Invalid proxy host: ${this.host}`)}if(this.protocol.startsWith("socks")&&this.auth&&this.auth.type==="ntlm")throw new Error("NTLM authentication is not supported for SOCKS proxies")}isValidHost(e){if(!e)return!1;const t=/^([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)*[a-zA-Z]{2,}$/,n=/^(\d{1,3}\.){3}\d{1,3}$/,o=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4})$/,i=/^localhost$/;return t.test(e)||n.test(e)||o.test(e)||i.test(e)}setAuthentication(e,t,n="basic"){return this.auth=new Hs({type:n,username:e,password:t}).toJSON(),this.updatedAt=ne.getTimestamp(),this}removeAuthentication(){return this.auth=null,this.updatedAt=ne.getTimestamp(),this}addExcludedHost(e){return this.excludeList.includes(e)||(this.excludeList.push(e),this.updatedAt=ne.getTimestamp()),this}removeExcludedHost(e){const t=this.excludeList.indexOf(e);return t>-1&&(this.excludeList.splice(t,1),this.updatedAt=ne.getTimestamp()),this}addIncludedHost(e){return this.includeList.includes(e)||(this.includeList.push(e),this.updatedAt=ne.getTimestamp()),this}removeIncludedHost(e){const t=this.includeList.indexOf(e);return t>-1&&(this.includeList.splice(t,1),this.updatedAt=ne.getTimestamp()),this}shouldUseProxy(e){if(!this.enabled||!e)return!1;const t=e.toLowerCase().replace(/^https?:\/\//,"").split("/")[0].split(":")[0];return this.includeList.length>0?this.matchesHostList(t,this.includeList):this.excludeList.length>0?!this.matchesHostList(t,this.excludeList):!0}matchesHostList(e,t){return t.some(n=>{const o=n.toLowerCase();if(o===e)return!0;if(o.startsWith("*.")){const i=o.substring(2);return e.endsWith(i)}return o.includes("*")?new RegExp("^"+o.replace(/\*/g,".*")+"$").test(e):!1})}getProxyUrl(){if(!this.enabled||!this.host)return null;let e=`${this.protocol}://`;if(this.auth){const t=new Hs(this.auth);t.username&&t.password&&(e+=`${encodeURIComponent(t.username)}:${encodeURIComponent(t.password)}@`)}return e+=`${this.host}:${this.port}`,e}getClientConfig(){if(!this.enabled)return null;const e={protocol:this.protocol,host:this.host,port:this.port};if(this.auth){const t=new Hs(this.auth);e.auth=t.getAuthHeader()}return this.tunneling&&(e.tunnel=!0),e}static fromUrl(e){try{const t=new URL(e),n=new za({protocol:t.protocol.replace(":",""),host:t.hostname,port:parseInt(t.port)||8080,enabled:!0});return t.username&&t.password&&n.setAuthentication(decodeURIComponent(t.username),decodeURIComponent(t.password)),n}catch(t){throw new Error(`Invalid proxy URL: ${t.message}`)}}};class Hs extends ne{static schema={type:{type:"string",enum:ub,default:"basic"},username:{type:"string",default:""},password:{type:"string",default:""},domain:{type:"string",default:""},workstation:{type:"string",default:""}};getAuthHeader(){if(this.type==="none"||!this.username||!this.password)return null;switch(this.type){case"basic":const e=`${this.username}:${this.password}`;return`Basic ${Buffer.from(e).toString("base64")}`;case"ntlm":return{username:this.username,password:this.password,domain:this.domain||"",workstation:this.workstation||""};default:return null}}exportSafe(){return{type:this.type,username:this.username,password:"[REDACTED]",domain:this.domain,workstation:this.workstation}}}const db=["client","ca","server"];class lt extends ne{static schema={id:{type:"string",default:()=>ne.generateId()},name:{type:"string",required:!0},type:{type:"string",enum:db,default:"client"},host:{type:"string",default:""},port:{type:"number",default:443,validator:e=>e>0&&e<=65535},cert:{type:"object",default:null},key:{type:"object",default:null},ca:{type:"object",default:null},passphrase:{type:"string",default:""},pfx:{type:"object",default:null},enabled:{type:"boolean",default:!0},verifyHost:{type:"boolean",default:!0},verifyExpiry:{type:"boolean",default:!0},rejectUnauthorized:{type:"boolean",default:!0},createdAt:{type:"string",default:()=>ne.getTimestamp()},updatedAt:{type:"string",default:()=>ne.getTimestamp()},expiresAt:{type:"string",default:""}};constructor(e={}){e.id&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.expiresAt===null||e.expiresAt===void 0?e.expiresAt="":e.expiresAt&&typeof e.expiresAt!="string"&&(e.expiresAt=e.expiresAt instanceof Date?e.expiresAt.toISOString():String(e.expiresAt)),super(e),this.validateCertificate()}validateCertificate(){if(this.enabled&&this.host){if(this.type==="client"&&!this.pfx&&(!this.cert||!this.key))throw new Error("Client certificate requires either PFX/P12 or both cert and key files");if(this.type==="ca"&&!this.ca)throw new Error("CA certificate requires a CA file")}if(this.host&&!this.isValidHostPattern(this.host))throw new Error(`Invalid host pattern: ${this.host}`)}validateForUse(){if(!this.host)throw new Error("Host is required");if(!this.name)throw new Error("Certificate name is required");if(this.type==="client"&&!this.pfx&&(!this.cert||!this.key))throw new Error("Client certificate requires either PFX/P12 or both cert and key files");if(this.type==="ca"&&!this.ca)throw new Error("CA certificate requires a CA file");if(!this.isValidHostPattern(this.host))throw new Error(`Invalid host pattern: ${this.host}`)}isValidHostPattern(e){if(!e)return!1;const t=/^(\*\.)?([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)*[a-zA-Z]{2,}$/,n=/^(\d{1,3}\.){3}\d{1,3}$/,o=/^localhost(:\d+)?$/;return t.test(e)||n.test(e)||o.test(e)}matchesHost(e){if(!this.host||this.host===e)return!0;if(this.host.startsWith("*.")){const o=this.host.substring(2);return e.endsWith(o)||e===o.substring(1)}const t=e.split(":")[0],n=this.host.split(":")[0];return t===n}setCertificate(e,t="pem"){return this.cert={content:e,format:t,encoding:t==="pem"?"utf8":"base64"},this.updatedAt=ne.getTimestamp(),this}setPrivateKey(e,t="pem",n=""){return this.key={content:e,format:t,encoding:t==="pem"?"utf8":"base64"},n&&(this.passphrase=n),this.updatedAt=ne.getTimestamp(),this}setCACertificate(e,t="pem"){return this.ca={content:e,format:t,encoding:t==="pem"?"utf8":"base64"},this.updatedAt=ne.getTimestamp(),this}setPFX(e,t=""){return this.pfx={content:e,encoding:"base64"},t&&(this.passphrase=t),this.updatedAt=ne.getTimestamp(),this}isExpired(){return this.expiresAt?new Date(this.expiresAt)<new Date:!1}getClientOptions(){const e={rejectUnauthorized:this.rejectUnauthorized};return this.pfx?(e.pfx=Buffer.from(this.pfx.content,this.pfx.encoding||"base64"),this.passphrase&&(e.passphrase=this.passphrase)):(this.cert&&(e.cert=this.cert.encoding==="base64"?Buffer.from(this.cert.content,"base64"):this.cert.content),this.key&&(e.key=this.key.encoding==="base64"?Buffer.from(this.key.content,"base64"):this.key.content,this.passphrase&&(e.passphrase=this.passphrase))),this.ca&&(e.ca=this.ca.encoding==="base64"?Buffer.from(this.ca.content,"base64"):this.ca.content),e}exportSafe(){const e=this.toJSON();return e.cert&&(e.cert={...e.cert,content:"[REDACTED]"}),e.key&&(e.key={...e.key,content:"[REDACTED]"}),e.ca&&(e.ca={...e.ca,content:"[REDACTED]"}),e.pfx&&(e.pfx={...e.pfx,content:"[REDACTED]"}),e.passphrase&&(e.passphrase="[REDACTED]"),e}static createSelfSigned(e="localhost"){return new lt({name:`Self-signed for ${e}`,type:"server",host:e,rejectUnauthorized:!1,verifyHost:!1,verifyExpiry:!1})}}let Js=class extends ne{static schema={timeout:{type:"number",default:3e4,validator:e=>e>0&&e<=3e5},followRedirects:{type:"boolean",default:!0},maxRedirects:{type:"number",default:10,validator:e=>e>=0&&e<=50},validateSSL:{type:"boolean",default:!0},encoding:{type:"string",enum:["auto","utf8","ascii","base64"],default:"auto"},keepAlive:{type:"boolean",default:!0},cookieJar:{type:"boolean",default:!0}}},Ws=class extends ne{static schema={theme:{type:"string",enum:["light","dark","auto"],default:"dark"},editorThemeDark:{type:"string",default:"gob"},editorThemeLight:{type:"string",default:"textmate"},fontSize:{type:"number",default:14,validator:e=>e>=10&&e<=24},fontFamily:{type:"string",default:"monospace"},sidebarWidth:{type:"number",default:25,validator:e=>e>=15&&e<=50},responseViewMode:{type:"string",enum:["pretty","raw","preview"],default:"pretty"},requestViewMode:{type:"string",enum:["params","headers","body","auth"],default:"params"},showLineNumbers:{type:"boolean",default:!0},wordWrap:{type:"boolean",default:!1},minimap:{type:"boolean",default:!1},autoComplete:{type:"boolean",default:!0}}},Gs=class extends ne{static schema={autoSave:{type:"boolean",default:!0},autoSaveInterval:{type:"number",default:3e4,validator:e=>e>=1e4},confirmOnDelete:{type:"boolean",default:!0},confirmOnClose:{type:"boolean",default:!0},language:{type:"string",enum:["en","es","fr","de","zh","ja"],default:"en"},maxHistoryItems:{type:"number",default:100,validator:e=>e>=0&&e<=1e3},enableTelemetry:{type:"boolean",default:!1},checkForUpdates:{type:"boolean",default:!0},enableNotifications:{type:"boolean",default:!0},logLevel:{type:"string",enum:["error","warn","info","debug"],default:"info"}}};class ft extends ne{static schema={action:{type:"string",required:!0},keys:{type:"array",required:!0},description:{type:"string",default:""},enabled:{type:"boolean",default:!0}}}class rt extends ne{static schema={id:{type:"string",default:"app-settings"},general:{type:Gs,default:()=>new Gs},request:{type:Js,default:()=>new Js},ui:{type:Ws,default:()=>new Ws},proxy:{type:_s,default:()=>new _s},certificates:{type:"array",default:[]},keyBindings:{type:"array",default:()=>rt.getDefaultKeyBindings()},workspacePath:{type:"string",default:""},recentFiles:{type:"array",default:[]},ignoredHosts:{type:"array",default:[]},customHeaders:{type:"array",default:[]},createdAt:{type:"string",default:()=>ne.getTimestamp()},updatedAt:{type:"string",default:()=>ne.getTimestamp()},version:{type:"string",default:"1.0.0"}};constructor(e={}){e.id&&typeof e.id!="string"&&(e.id=String(e.id)),e.createdAt&&typeof e.createdAt!="string"&&(e.createdAt=e.createdAt instanceof Date?e.createdAt.toISOString():String(e.createdAt)),e.updatedAt&&typeof e.updatedAt!="string"&&(e.updatedAt=e.updatedAt instanceof Date?e.updatedAt.toISOString():String(e.updatedAt)),e.general&&!(e.general instanceof Gs)&&(e.general=new Gs(e.general)),e.request&&!(e.request instanceof Js)&&(e.request=new Js(e.request)),e.ui&&!(e.ui instanceof Ws)&&(e.ui=new Ws(e.ui)),e.proxy&&!(e.proxy instanceof _s)&&(e.proxy=new _s(e.proxy)),e.certificates&&(e.certificates=e.certificates.map(t=>t instanceof lt?t.toJSON():new lt(t).toJSON())),super(e)}static getDefaultKeyBindings(){return[new ft({action:"send_request",keys:["ctrl","enter"],description:"Send request"}).toJSON(),new ft({action:"save_request",keys:["ctrl","s"],description:"Save request"}).toJSON(),new ft({action:"new_request",keys:["ctrl","n"],description:"New request"}).toJSON(),new ft({action:"new_collection",keys:["ctrl","shift","n"],description:"New collection"}).toJSON(),new ft({action:"duplicate_tab",keys:["ctrl","d"],description:"Duplicate tab"}).toJSON(),new ft({action:"close_tab",keys:["ctrl","w"],description:"Close tab"}).toJSON(),new ft({action:"next_tab",keys:["ctrl","tab"],description:"Next tab"}).toJSON(),new ft({action:"prev_tab",keys:["ctrl","shift","tab"],description:"Previous tab"}).toJSON(),new ft({action:"toggle_sidebar",keys:["ctrl","b"],description:"Toggle sidebar"}).toJSON(),new ft({action:"search",keys:["ctrl","f"],description:"Search"}).toJSON(),new ft({action:"settings",keys:["ctrl",","],description:"Open settings"}).toJSON()]}addCertificate(e){const t=e instanceof lt?e.toJSON():new lt(e).toJSON();return this.certificates.push(t),this.updatedAt=ne.getTimestamp(),this}removeCertificate(e){return this.certificates=this.certificates.filter(t=>t.id!==e),this.updatedAt=ne.getTimestamp(),this}getCertificateForHost(e){return this.certificates.find(t=>{const n=new lt(t);return n.matchesHost(e)&&n.enabled})}updateKeyBinding(e,t){const n=this.keyBindings.find(o=>o.action===e);return n&&(n.keys=t,this.updatedAt=ne.getTimestamp()),this}getKeyBinding(e){const t=this.keyBindings.find(n=>n.action===e&&n.enabled);return t?t.keys:null}addRecentFile(e){return this.recentFiles=this.recentFiles.filter(t=>t!==e),this.recentFiles.unshift(e),this.recentFiles.length>10&&(this.recentFiles=this.recentFiles.slice(0,10)),this.updatedAt=ne.getTimestamp(),this}addIgnoredHost(e){return this.ignoredHosts.includes(e)||(this.ignoredHosts.push(e),this.updatedAt=ne.getTimestamp()),this}removeIgnoredHost(e){return this.ignoredHosts=this.ignoredHosts.filter(t=>t!==e),this.updatedAt=ne.getTimestamp(),this}addCustomHeader(e){return this.customHeaders.push(e),this.updatedAt=ne.getTimestamp(),this}removeCustomHeader(e){return this.customHeaders=this.customHeaders.filter(t=>t.key!==e),this.updatedAt=ne.getTimestamp(),this}reset(){const e=new rt;return Object.assign(this,e),this.updatedAt=ne.getTimestamp(),this}export(){const e=this.toJSON();return e.exportedAt=new Date().toISOString(),e.appVersion=this.version,e}static import(e){const t=new rt(e);return t.updatedAt=ne.getTimestamp(),t}}class pb extends Ia{constructor(){super("settings"),this.createState({...this.state,activeTab:"general",settings:null,originalSettings:null})}init(){super.init(),this.loadSettings(),this.resetFormData()}loadSettings(){try{const e=localStorage.getItem("toastman_settings");e?(this.state.settings=new rt(JSON.parse(e)),this.logger.debug("Loaded settings from localStorage")):(this.state.settings=new rt,this.logger.debug("Created default settings"))}catch(e){this.logger.error("Failed to load settings:",e),this.state.settings=new rt}}saveSettings(){try{const e=this.state.settings.toJSON();return localStorage.setItem("toastman_settings",JSON.stringify(e)),this.logger.info("Settings saved successfully"),window.dispatchEvent(new StorageEvent("storage",{key:"toastman_settings",newValue:JSON.stringify(e),storageArea:localStorage})),!0}catch(e){return this.logger.error("Failed to save settings:",e),!1}}open(e="general"){super.open(),this.state.activeTab=e,this.state.settings||this.loadSettings(),this.state.originalSettings=this.state.settings.clone(),this.state.formData=this.state.settings.toJSON()}resetFormData(){this.state.formData=this.state.settings?this.state.settings.toJSON():new rt().toJSON()}validateForm(){return this.clearErrors(),this.state.formData.request&&((this.state.formData.request.timeout<1e3||this.state.formData.request.timeout>3e5)&&this.setFieldError("request.timeout","Timeout must be between 1 and 300 seconds"),(this.state.formData.request.maxRedirects<0||this.state.formData.request.maxRedirects>50)&&this.setFieldError("request.maxRedirects","Max redirects must be between 0 and 50")),this.state.formData.ui&&((this.state.formData.ui.fontSize<10||this.state.formData.ui.fontSize>24)&&this.setFieldError("ui.fontSize","Font size must be between 10 and 24"),(this.state.formData.ui.sidebarWidth<15||this.state.formData.ui.sidebarWidth>50)&&this.setFieldError("ui.sidebarWidth","Sidebar width must be between 15% and 50%")),this.state.formData.proxy&&this.state.formData.proxy.enabled&&(this.state.formData.proxy.host||this.setFieldError("proxy.host","Proxy host is required"),(this.state.formData.proxy.port<1||this.state.formData.proxy.port>65535)&&this.setFieldError("proxy.port","Proxy port must be between 1 and 65535")),!this.hasErrors()}async processSubmit(e){const t=new rt(e);if(this.state.settings=t,!this.saveSettings())throw new Error("Failed to save settings");return this.applySettings(t),t}applySettings(e){e.ui.theme&&document.documentElement.setAttribute("data-theme",e.ui.theme),e.ui.fontSize&&document.documentElement.style.setProperty("--font-size-base",`${e.ui.fontSize}px`),this.logger.info("Settings applied to UI"),this.emit("settingsApplied",e)}async resetToDefaults(){await this.confirmReset()&&(this.state.settings=new rt,this.state.formData=this.state.settings.toJSON(),this.saveSettings()&&(this.applySettings(this.state.settings),this.logger.info("Settings reset to defaults"),this.emit("settingsReset")))}async confirmReset(){return new Promise(e=>{this.emit("confirmReset",{resolve:e})})}switchTab(e){if(!["general","request","ui","proxy","certificates","shortcuts"].includes(e)){this.logger.warn(`Invalid settings tab: ${e}`);return}this.state.activeTab=e,this.logger.debug(`Switched to settings tab: ${e}`)}updateGeneralSettings(e){Object.assign(this.state.formData.general,e),this.clearFieldError("general")}updateRequestSettings(e){Object.assign(this.state.formData.request,e),this.clearFieldError("request")}updateUISettings(e){if(Object.assign(this.state.formData.ui,e),this.clearFieldError("ui"),e.theme&&document.documentElement.setAttribute("data-theme",e.theme),e.fontSize&&document.documentElement.style.setProperty("--font-size-base",`${e.fontSize}px`),e.editorThemeDark||e.editorThemeLight){const t={ui:this.state.formData.ui};window.dispatchEvent(new StorageEvent("storage",{key:"toastman_settings",newValue:JSON.stringify(t),storageArea:localStorage}))}}updateProxySettings(e){e.auth&&!this.state.formData.proxy.auth&&(this.state.formData.proxy.auth={type:"basic",username:"",password:"",domain:"",workstation:""}),Object.assign(this.state.formData.proxy,e),this.clearFieldError("proxy")}addCertificate(e){try{const t=new lt(e);this.state.formData.certificates.push(t.toJSON()),this.logger.info("Added certificate:",t.name),this.emit("certificateAdded",t)}catch(t){this.logger.error("Failed to add certificate:",t),this.setFieldError("certificate",t.message)}}removeCertificate(e){const t=this.state.formData.certificates.findIndex(n=>n.id===e);if(t>-1){const n=this.state.formData.certificates[t];this.state.formData.certificates.splice(t,1),this.logger.info("Removed certificate:",n.name),this.emit("certificateRemoved",e)}}updateCertificate(e,t){const n=this.state.formData.certificates.find(o=>o.id===e);n&&(Object.assign(n,t),this.logger.info("Updated certificate:",n.name),this.emit("certificateUpdated",n))}async importCertificate(e){return await this.executeAsync(async()=>{const n=await this.readFile(e),o=new lt({name:e.name,type:"client",enabled:!0});return e.name.endsWith(".pfx")||e.name.endsWith(".p12")?o.setPFX(n):o.setCertificate(n),this.addCertificate(o.toJSON()),o},"Failed to import certificate")}async readFile(e){return new Promise((t,n)=>{const o=new FileReader;o.onload=i=>t(i.target.result),o.onerror=i=>n(i),e.type==="application/x-pkcs12"||e.name.endsWith(".pfx")||e.name.endsWith(".p12")?o.readAsArrayBuffer(e):o.readAsText(e)})}updateKeyBinding(e,t){const n=this.state.formData.keyBindings.find(o=>o.action===e);n&&(n.keys=t,this.logger.info(`Updated key binding for ${e}:`,t.join("+")),this.emit("keyBindingUpdated",{action:e,keys:t}))}resetKeyBindings(){this.state.formData.keyBindings=rt.getDefaultKeyBindings(),this.logger.info("Reset key bindings to defaults"),this.emit("keyBindingsReset")}async testProxyConnection(){const e=await this.executeAsync(async()=>{const t=new _s(this.state.formData.proxy);if(!t.enabled||!t.host)throw new Error("Proxy is not configured");if(await new Promise(o=>setTimeout(o,1e3)),!(Math.random()>.3))throw new Error(`Failed to connect to proxy at ${t.host}:${t.port}`);return{message:`Successfully connected to proxy at ${t.host}:${t.port}`}},"Proxy connection test failed");return e.success?this.emit("proxyTestSuccess",e.data):this.emit("proxyTestFailed",e.error),e}exportSettings(){const e=this.state.settings.export(),t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.download=`toastman-settings-${Date.now()}.json`,o.click(),URL.revokeObjectURL(n),this.logger.info("Settings exported"),this.emit("settingsExported")}async importSettings(e){const t=await this.executeAsync(async()=>{const n=await this.readFile(e),o=JSON.parse(n),i=rt.import(o);return this.state.settings=i,this.state.formData=i.toJSON(),this.saveSettings()&&this.applySettings(i),i},"Failed to import settings");return t.success&&this.emit("settingsImported",t.data),t}updateCertificatesSettings(e){this.state.formData.certificates=e,this.clearFieldError("certificates"),this.logger.debug("Updated certificates settings")}hasUnsavedChanges(){return this.state.originalSettings?JSON.stringify(this.state.formData)!==JSON.stringify(this.state.originalSettings.toJSON()):!1}}class fb extends We{constructor(){super("general-settings"),this.createState({settings:null,errors:{}})}init(e){super.init(),this.state.settings=e||new Gs}updateSettings(e){Object.assign(this.state.settings,e),this.clearErrors(),this.logger.debug("Updated general settings:",e),this.emit("settingsChanged",this.state.settings)}validate(){return this.clearErrors(),(this.state.settings.autoSaveInterval<1e4||this.state.settings.autoSaveInterval>3e5)&&this.setError("autoSaveInterval","Auto-save interval must be between 10 and 300 seconds"),(this.state.settings.maxHistoryItems<0||this.state.settings.maxHistoryItems>1e3)&&this.setError("maxHistoryItems","Max history items must be between 0 and 1000"),Object.keys(this.state.errors).length===0}setError(e,t){this.state.errors[e]=t}clearErrors(){this.state.errors={}}getSettings(){return this.state.settings}}const hb={class:"general-settings"},mb={class:"setting-group"},gb={class:"setting-label"},vb={class:"setting-group"},yb={key:0,class:"error-text"},bb={class:"setting-group"},wb={class:"setting-label"},xb={class:"setting-group"},_b={key:0,class:"error-text"},Cb={__name:"GeneralSettings",props:{settings:{type:Object,required:!0}},emits:["update:settings"],setup(s,{emit:e}){const t=s,n=e,o=new fb;o.init(t.settings),o.on("settingsChanged",c=>{n("update:settings",c)});const{errors:i}=o.state,r=D({get:()=>t.settings.autoSave,set:c=>o.updateSettings({autoSave:c})}),l=D({get:()=>Math.floor(t.settings.autoSaveInterval/1e3),set:c=>o.updateSettings({autoSaveInterval:parseInt(c)*1e3})}),u=D({get:()=>t.settings.confirmOnDelete,set:c=>o.updateSettings({confirmOnDelete:c})}),p=D({get:()=>t.settings.maxHistoryItems,set:c=>o.updateSettings({maxHistoryItems:parseInt(c)})});return(c,d)=>(v(),_("div",hb,[a("div",mb,[a("label",gb,[ae(a("input",{type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=f=>r.value=f),class:"setting-checkbox"},null,512),[[Ye,r.value]]),d[4]||(d[4]=Ce(" Auto-save changes ",-1))]),d[5]||(d[5]=a("div",{class:"setting-description"}," Automatically save your work as you make changes ",-1))]),a("div",vb,[d[6]||(d[6]=a("label",{class:"setting-label"},"Auto-save interval (seconds)",-1)),ae(a("input",{type:"number","onUpdate:modelValue":d[1]||(d[1]=f=>l.value=f),min:"10",max:"300",class:"setting-input"},null,512),[[Ee,l.value]]),L(i).autoSaveInterval?(v(),_("div",yb,R(L(i).autoSaveInterval),1)):z("",!0),d[7]||(d[7]=a("div",{class:"setting-description"}," How often to automatically save your changes (10-300 seconds) ",-1))]),a("div",bb,[a("label",wb,[ae(a("input",{type:"checkbox","onUpdate:modelValue":d[2]||(d[2]=f=>u.value=f),class:"setting-checkbox"},null,512),[[Ye,u.value]]),d[8]||(d[8]=Ce(" Confirm before deleting items ",-1))]),d[9]||(d[9]=a("div",{class:"setting-description"}," Show confirmation dialog when deleting collections, requests, or environments ",-1))]),a("div",xb,[d[10]||(d[10]=a("label",{class:"setting-label"},"Maximum history items",-1)),ae(a("input",{type:"number","onUpdate:modelValue":d[3]||(d[3]=f=>p.value=f),min:"0",max:"1000",class:"setting-input"},null,512),[[Ee,p.value]]),L(i).maxHistoryItems?(v(),_("div",_b,R(L(i).maxHistoryItems),1)):z("",!0),d[11]||(d[11]=a("div",{class:"setting-description"}," Maximum number of requests to keep in history (0-1000) ",-1))])]))}},Sb=be(Cb,[["__scopeId","data-v-d9c7a1f6"]]);class Eb extends We{constructor(){super("request-settings"),this.createState({settings:null,errors:{}})}init(e){super.init(),this.state.settings=e||new Js}updateSettings(e){Object.assign(this.state.settings,e),this.clearErrors(),this.logger.debug("Updated request settings:",e),this.emit("settingsChanged",this.state.settings)}validate(){return this.clearErrors(),(this.state.settings.timeout<1e3||this.state.settings.timeout>3e5)&&this.setError("timeout","Timeout must be between 1 and 300 seconds"),(this.state.settings.maxRedirects<0||this.state.settings.maxRedirects>50)&&this.setError("maxRedirects","Max redirects must be between 0 and 50"),Object.keys(this.state.errors).length===0}setError(e,t){this.state.errors[e]=t}clearErrors(){this.state.errors={}}getSettings(){return this.state.settings}}const kb={class:"request-settings"},Tb={class:"setting-group"},$b={key:0,class:"error-text"},Ab={class:"setting-group"},Rb={class:"setting-label"},qb={class:"setting-group"},Ob={key:0,class:"error-text"},Ib={class:"setting-group"},Db={class:"setting-label"},Fb={__name:"RequestSettings",props:{settings:{type:Object,required:!0}},emits:["update:settings"],setup(s,{emit:e}){const t=s,n=e,o=new Eb;o.init(t.settings),o.on("settingsChanged",c=>{n("update:settings",c)});const{errors:i}=o.state,r=D({get:()=>t.settings.timeout,set:c=>o.updateSettings({timeout:parseInt(c)})}),l=D({get:()=>t.settings.followRedirects,set:c=>o.updateSettings({followRedirects:c})}),u=D({get:()=>t.settings.maxRedirects,set:c=>o.updateSettings({maxRedirects:parseInt(c)})}),p=D({get:()=>t.settings.validateSSL,set:c=>o.updateSettings({validateSSL:c})});return(c,d)=>(v(),_("div",kb,[a("div",Tb,[d[4]||(d[4]=a("label",{class:"setting-label"},"Request timeout (milliseconds)",-1)),ae(a("input",{type:"number","onUpdate:modelValue":d[0]||(d[0]=f=>r.value=f),min:"1000",max:"300000",class:"setting-input"},null,512),[[Ee,r.value]]),L(i).timeout?(v(),_("div",$b,R(L(i).timeout),1)):z("",!0),d[5]||(d[5]=a("div",{class:"setting-description"}," Maximum time to wait for a response (1000-300000 ms) ",-1))]),a("div",Ab,[a("label",Rb,[ae(a("input",{type:"checkbox","onUpdate:modelValue":d[1]||(d[1]=f=>l.value=f),class:"setting-checkbox"},null,512),[[Ye,l.value]]),d[6]||(d[6]=Ce(" Follow redirects automatically ",-1))]),d[7]||(d[7]=a("div",{class:"setting-description"}," Automatically follow HTTP redirects (3xx status codes) ",-1))]),a("div",qb,[d[8]||(d[8]=a("label",{class:"setting-label"},"Maximum redirects",-1)),ae(a("input",{type:"number","onUpdate:modelValue":d[2]||(d[2]=f=>u.value=f),min:"0",max:"50",class:"setting-input"},null,512),[[Ee,u.value]]),L(i).maxRedirects?(v(),_("div",Ob,R(L(i).maxRedirects),1)):z("",!0),d[9]||(d[9]=a("div",{class:"setting-description"}," Maximum number of redirects to follow (0-50) ",-1))]),a("div",Ib,[a("label",Db,[ae(a("input",{type:"checkbox","onUpdate:modelValue":d[3]||(d[3]=f=>p.value=f),class:"setting-checkbox"},null,512),[[Ye,p.value]]),d[10]||(d[10]=Ce(" Validate SSL certificates ",-1))]),d[11]||(d[11]=a("div",{class:"setting-description"}," Verify SSL/TLS certificates when making HTTPS requests ",-1))])]))}},Pb=be(Fb,[["__scopeId","data-v-f77687ab"]]);class Nb extends We{constructor(){super("ui-settings"),this.createState({settings:null,errors:{}})}init(e){super.init(),this.state.settings=e||new Ws}updateSettings(e){Object.assign(this.state.settings,e),this.clearErrors(),this.applyUIChanges(e),this.logger.debug("Updated UI settings:",e),this.emit("settingsChanged",this.state.settings)}applyUIChanges(e){if(typeof document<"u"){const t=document.documentElement;if(e.theme)if(e.theme==="auto"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches;t.setAttribute("data-theme",n?"dark":"light")}else t.setAttribute("data-theme",e.theme);e.fontSize&&t.style.setProperty("--font-size-base",`${e.fontSize}px`),e.fontFamily&&t.style.setProperty("--font-family-mono",e.fontFamily)}}validate(){return this.clearErrors(),(this.state.settings.fontSize<10||this.state.settings.fontSize>24)&&this.setError("fontSize","Font size must be between 10 and 24 pixels"),(this.state.settings.sidebarWidth<15||this.state.settings.sidebarWidth>50)&&this.setError("sidebarWidth","Sidebar width must be between 15% and 50%"),Object.keys(this.state.errors).length===0}setError(e,t){this.state.errors[e]=t}clearErrors(){this.state.errors={}}getSettings(){return this.state.settings}}const Mb={class:"ui-settings"},Lb={class:"setting-group"},Vb={class:"setting-group"},Ub=["value"],jb={class:"setting-description"},zb={class:"setting-group"},Hb=["value"],Bb={class:"setting-description"},Jb={class:"setting-group"},Wb={key:0,class:"error-text"},Gb={class:"setting-group"},Kb={key:0,class:"error-text"},Xb={class:"setting-group"},Yb={class:"setting-label"},Qb={class:"setting-group"},Zb={class:"setting-label"},ew={class:"setting-group"},tw={class:"setting-label"},sw={__name:"UISettings",props:{settings:{type:Object,required:!0}},emits:["update:settings"],setup(s,{emit:e}){const t=s,n=e,o=new Nb;o.init(t.settings),o.on("settingsChanged",w=>{n("update:settings",w)});const{errors:i}=o.state,r=D({get:()=>t.settings.theme,set:w=>o.updateSettings({theme:w})}),l=D({get:()=>t.settings.editorThemeDark||"gob",set:w=>o.updateSettings({editorThemeDark:w})}),u=D({get:()=>t.settings.editorThemeLight||"textmate",set:w=>o.updateSettings({editorThemeLight:w})}),p=D({get:()=>t.settings.fontSize,set:w=>o.updateSettings({fontSize:parseInt(w)})}),c=D({get:()=>t.settings.sidebarWidth,set:w=>o.updateSettings({sidebarWidth:parseInt(w)})}),d=D({get:()=>t.settings.showLineNumbers,set:w=>o.updateSettings({showLineNumbers:w})}),f=D({get:()=>t.settings.wordWrap,set:w=>o.updateSettings({wordWrap:w})}),m=D({get:()=>t.settings.autoComplete,set:w=>o.updateSettings({autoComplete:w})});return(w,y)=>(v(),_("div",Mb,[a("div",Lb,[y[9]||(y[9]=a("label",{class:"setting-label"},"Theme",-1)),ae(a("select",{"onUpdate:modelValue":y[0]||(y[0]=S=>r.value=S),class:"setting-select"},[...y[8]||(y[8]=[a("option",{value:"light"},"Light",-1),a("option",{value:"dark"},"Dark",-1),a("option",{value:"auto"},"Auto (System)",-1)])],512),[[mt,r.value]]),y[10]||(y[10]=a("div",{class:"setting-description"}," Choose the application color theme ",-1))]),a("div",Vb,[y[11]||(y[11]=a("label",{class:"setting-label"},"Editor Theme (Dark Mode)",-1)),ae(a("select",{"onUpdate:modelValue":y[1]||(y[1]=S=>l.value=S),class:"setting-select"},[(v(!0),_(ue,null,_e(L(dr),S=>(v(),_("option",{key:S.id,value:S.id},R(S.name),9,Ub))),128))],512),[[mt,l.value]]),a("div",jb,R(L(dr).find(S=>S.id===l.value)?.description||"Code editor theme when in dark mode"),1)]),a("div",zb,[y[12]||(y[12]=a("label",{class:"setting-label"},"Editor Theme (Light Mode)",-1)),ae(a("select",{"onUpdate:modelValue":y[2]||(y[2]=S=>u.value=S),class:"setting-select"},[(v(!0),_(ue,null,_e(L(pr),S=>(v(),_("option",{key:S.id,value:S.id},R(S.name),9,Hb))),128))],512),[[mt,u.value]]),a("div",Bb,R(L(pr).find(S=>S.id===u.value)?.description||"Code editor theme when in light mode"),1)]),a("div",Jb,[y[13]||(y[13]=a("label",{class:"setting-label"},"Font size (px)",-1)),ae(a("input",{type:"number","onUpdate:modelValue":y[3]||(y[3]=S=>p.value=S),min:"10",max:"24",class:"setting-input"},null,512),[[Ee,p.value]]),L(i).fontSize?(v(),_("div",Wb,R(L(i).fontSize),1)):z("",!0),y[14]||(y[14]=a("div",{class:"setting-description"}," Base font size for the application (10-24px) ",-1))]),a("div",Gb,[y[15]||(y[15]=a("label",{class:"setting-label"},"Sidebar width (%)",-1)),ae(a("input",{type:"number","onUpdate:modelValue":y[4]||(y[4]=S=>c.value=S),min:"15",max:"50",class:"setting-input"},null,512),[[Ee,c.value]]),L(i).sidebarWidth?(v(),_("div",Kb,R(L(i).sidebarWidth),1)):z("",!0),y[16]||(y[16]=a("div",{class:"setting-description"}," Default width of the sidebar panel (15-50%) ",-1))]),a("div",Xb,[a("label",Yb,[ae(a("input",{type:"checkbox","onUpdate:modelValue":y[5]||(y[5]=S=>d.value=S),class:"setting-checkbox"},null,512),[[Ye,d.value]]),y[17]||(y[17]=Ce(" Show line numbers in code editor ",-1))]),y[18]||(y[18]=a("div",{class:"setting-description"}," Display line numbers in JSON/code views ",-1))]),a("div",Qb,[a("label",Zb,[ae(a("input",{type:"checkbox","onUpdate:modelValue":y[6]||(y[6]=S=>f.value=S),class:"setting-checkbox"},null,512),[[Ye,f.value]]),y[19]||(y[19]=Ce(" Enable word wrap ",-1))]),y[20]||(y[20]=a("div",{class:"setting-description"}," Wrap long lines in code editor and response viewer ",-1))]),a("div",ew,[a("label",tw,[ae(a("input",{type:"checkbox","onUpdate:modelValue":y[7]||(y[7]=S=>m.value=S),class:"setting-checkbox"},null,512),[[Ye,m.value]]),y[21]||(y[21]=Ce(" Enable auto-complete ",-1))]),y[22]||(y[22]=a("div",{class:"setting-description"}," Show suggestions and auto-completion in editors ",-1))])]))}},nw=be(sw,[["__scopeId","data-v-32373391"]]);class ow extends We{constructor(){super("proxy-settings"),this.createState({settings:null,errors:{},testing:!1})}init(e){super.init(),this.state.settings=e||new _s,this.state.settings.auth||(this.state.settings.auth={type:"basic",username:"",password:"",domain:"",workstation:""})}updateSettings(e){e.auth?(this.state.settings.auth||(this.state.settings.auth={type:"basic",username:"",password:"",domain:"",workstation:""}),Object.assign(this.state.settings.auth,e.auth)):Object.assign(this.state.settings,e),this.clearErrors(),this.logger.debug("Updated proxy settings:",e),this.emit("settingsChanged",this.state.settings)}async testConnection(){try{if(this.state.testing=!0,this.clearErrors(),!this.state.settings.enabled)throw new Error("Proxy is not enabled");if(!this.state.settings.host)throw new Error("Proxy host is required");await new Promise(e=>setTimeout(e,1500)),this.logger.info("Proxy connection test successful"),this.emit("testResult",{success:!0,message:"Proxy connection successful"})}catch(e){this.logger.error("Proxy connection test failed:",e),this.setError("connection",e.message),this.emit("testResult",{success:!1,message:e.message})}finally{this.state.testing=!1}}validate(){return this.clearErrors(),this.state.settings.enabled&&!this.state.settings.useSystemProxy&&(this.state.settings.host||this.setError("host","Proxy host is required when proxy is enabled"),(this.state.settings.port<1||this.state.settings.port>65535)&&this.setError("port","Port must be between 1 and 65535")),Object.keys(this.state.errors).length===0}setError(e,t){this.state.errors[e]=t}clearErrors(){this.state.errors={}}getSettings(){return this.state.settings}}const iw={class:"proxy-settings"},rw={class:"setting-group"},aw={class:"setting-label"},lw={class:"setting-group"},cw={class:"setting-group"},uw={class:"setting-row"},dw={class:"setting-field"},pw={key:0,class:"error-text"},fw={class:"setting-field"},hw={key:0,class:"error-text"},mw={class:"setting-group"},gw={class:"setting-row"},vw={class:"setting-group"},yw=["disabled"],bw={key:0,class:"error-text"},ww={__name:"ProxySettings",props:{settings:{type:Object,required:!0}},emits:["update:settings"],setup(s,{emit:e}){const t=s,n=e,o=new ow;o.init(t.settings),o.on("settingsChanged",w=>{n("update:settings",w)}),o.on("testResult",w=>{});const{errors:i,testing:r}=o.state,l=D({get:()=>t.settings.enabled,set:w=>o.updateSettings({enabled:w})}),u=D({get:()=>t.settings.protocol,set:w=>o.updateSettings({protocol:w})}),p=D({get:()=>t.settings.host,set:w=>o.updateSettings({host:w})}),c=D({get:()=>t.settings.port,set:w=>o.updateSettings({port:parseInt(w)})}),d=D({get:()=>t.settings.auth?.username||"",set:w=>o.updateSettings({auth:{username:w}})}),f=D({get:()=>t.settings.auth?.password||"",set:w=>o.updateSettings({auth:{password:w}})}),m=()=>{o.testConnection()};return(w,y)=>(v(),_("div",iw,[a("div",rw,[a("label",aw,[ae(a("input",{type:"checkbox","onUpdate:modelValue":y[0]||(y[0]=S=>l.value=S),class:"setting-checkbox"},null,512),[[Ye,l.value]]),y[6]||(y[6]=Ce(" Enable proxy ",-1))]),y[7]||(y[7]=a("div",{class:"setting-description"}," Route requests through a proxy server ",-1))]),l.value?(v(),_(ue,{key:0},[a("div",lw,[y[9]||(y[9]=a("label",{class:"setting-label"},"Protocol",-1)),ae(a("select",{"onUpdate:modelValue":y[1]||(y[1]=S=>u.value=S),class:"setting-select"},[...y[8]||(y[8]=[a("option",{value:"http"},"HTTP",-1),a("option",{value:"https"},"HTTPS",-1),a("option",{value:"socks4"},"SOCKS4",-1),a("option",{value:"socks5"},"SOCKS5",-1)])],512),[[mt,u.value]]),y[10]||(y[10]=a("div",{class:"setting-description"}," Proxy protocol type ",-1))]),a("div",cw,[a("div",uw,[a("div",dw,[y[11]||(y[11]=a("label",{class:"setting-label"},"Host",-1)),ae(a("input",{type:"text","onUpdate:modelValue":y[2]||(y[2]=S=>p.value=S),placeholder:"proxy.company.com",class:"setting-input"},null,512),[[Ee,p.value]]),L(i).host?(v(),_("div",pw,R(L(i).host),1)):z("",!0)]),a("div",fw,[y[12]||(y[12]=a("label",{class:"setting-label"},"Port",-1)),ae(a("input",{type:"number","onUpdate:modelValue":y[3]||(y[3]=S=>c.value=S),placeholder:"8080",class:"setting-input port-input",min:"1",max:"65535"},null,512),[[Ee,c.value]]),L(i).port?(v(),_("div",hw,R(L(i).port),1)):z("",!0)])])]),a("div",mw,[y[13]||(y[13]=a("label",{class:"setting-label"},"Authentication (Optional)",-1)),a("div",gw,[ae(a("input",{type:"text","onUpdate:modelValue":y[4]||(y[4]=S=>d.value=S),placeholder:"Username",class:"setting-input flex-1"},null,512),[[Ee,d.value]]),ae(a("input",{type:"password","onUpdate:modelValue":y[5]||(y[5]=S=>f.value=S),placeholder:"Password",class:"setting-input flex-1"},null,512),[[Ee,f.value]])]),y[14]||(y[14]=a("div",{class:"setting-description"}," Credentials for proxy authentication (if required) ",-1))]),a("div",vw,[a("button",{onClick:m,class:"test-btn",disabled:L(r)||!p.value},R(L(r)?"Testing...":"Test Connection"),9,yw),L(i).connection?(v(),_("div",bw,R(L(i).connection),1)):z("",!0)])],64)):z("",!0)]))}},xw=be(ww,[["__scopeId","data-v-2f25d129"]]);class _w extends We{constructor(){super("certificates-settings"),this.createState({certificates:[],errors:{}})}init(e=[]){super.init(),this.state.certificates=e.map(t=>t instanceof lt?t.toJSON():new lt(t).toJSON()),this.state.certificates.length===0&&this.addCertificate()}addCertificate(e={}){try{const t={name:"New Certificate",type:"client",host:"",enabled:!1,...e},n=new lt(t);return this.state.certificates.push(n.toJSON()),this.logger.info("Added certificate:",n.name),this.emit("certificatesChanged",this.state.certificates),n.toJSON()}catch(t){return this.logger.error("Failed to add certificate:",t),this.setError("add",t.message),null}}removeCertificate(e){const t=this.state.certificates.findIndex(n=>n.id===e);if(t>-1){const n=this.state.certificates.splice(t,1)[0];return this.logger.info("Removed certificate:",n.name),this.emit("certificatesChanged",this.state.certificates),!0}return!1}updateCertificate(e,t){const n=this.state.certificates.find(o=>o.id===e);return n?(Object.assign(n,t),this.clearError(e),this.logger.debug("Updated certificate:",e,t),this.emit("certificatesChanged",this.state.certificates),!0):!1}async importCertificate(e,t){try{const n=this.state.certificates.find(i=>i.id===t);if(!n)throw new Error("Certificate not found");const o=await this.readCertificateFile(e);return n.cert=o,n.fileName=e.name,this.logger.info("Imported certificate file:",e.name),this.emit("certificatesChanged",this.state.certificates),{success:!0,message:"Certificate imported successfully"}}catch(n){return this.logger.error("Failed to import certificate:",n),this.setError(t,n.message),{success:!1,message:n.message}}}async readCertificateFile(e){return new Promise((t,n)=>{const o=new FileReader;o.onload=i=>{t(i.target.result)},o.onerror=()=>{n(new Error("Failed to read certificate file"))},e.name.endsWith(".pem")?o.readAsText(e):o.readAsDataURL(e)})}validate(){this.clearErrors();let e=!0;return this.state.certificates.forEach(t=>{t.enabled&&(t.host||(this.setError(t.id,"Host is required for enabled certificates"),e=!1),t.name||(this.setError(t.id,"Certificate name is required"),e=!1))}),e}setError(e,t){this.state.errors[e]=t}clearError(e){delete this.state.errors[e]}clearErrors(){this.state.errors={}}getCertificates(){return this.state.certificates}}const Cw={class:"certificates-settings"},Sw={class:"certificates-list"},Ew={class:"certificate-header"},kw=["onUpdate:modelValue","onChange"],Tw=["onUpdate:modelValue","onInput"],$w=["onClick"],Aw={key:0,class:"certificate-details"},Rw={class:"setting-row"},qw={class:"setting-group flex-1"},Ow=["onUpdate:modelValue","onInput"],Iw={class:"setting-row"},Dw={class:"setting-group flex-1"},Fw={class:"file-input-group"},Pw=["value"],Nw=["onClick"],Mw={class:"setting-group"},Lw=["onUpdate:modelValue","onInput"],Vw={key:0,class:"error-text"},Uw={key:0,class:"error-text"},jw={__name:"CertificatesSettings",props:{certificates:{type:Array,default:()=>[]}},emits:["update:certificates"],setup(s,{emit:e}){const t=s,n=e,o=new _w;o.init(t.certificates),o.on("certificatesChanged",c=>{n("update:certificates",c)});const{errors:i}=o.state,r=()=>{o.addCertificate()},l=c=>{o.removeCertificate(c)},u=(c,d)=>{o.updateCertificate(c,d)},p=async c=>{const d=document.createElement("input");d.type="file",d.accept=".p12,.pfx,.pem,.crt,.cer",d.onchange=async f=>{const m=f.target.files[0];m&&(await o.importCertificate(m,c.id)).success},d.click()};return(c,d)=>(v(),_("div",Cw,[a("div",{class:"setting-group"},[a("div",{class:"section-header"},[d[0]||(d[0]=a("span",{class:"section-title"},"Client Certificates",-1)),a("button",{onClick:r,class:"btn-add"},"+ Add Certificate")]),d[1]||(d[1]=a("div",{class:"setting-description"}," Configure client certificates for domain-specific authentication ",-1))]),a("div",Sw,[(v(!0),_(ue,null,_e(L(o).state.certificates,f=>(v(),_("div",{key:f.id,class:"certificate-item"},[a("div",Ew,[ae(a("input",{type:"checkbox","onUpdate:modelValue":m=>f.enabled=m,onChange:m=>u(f.id,{enabled:m.target.checked}),class:"setting-checkbox"},null,40,kw),[[Ye,f.enabled]]),ae(a("input",{type:"text","onUpdate:modelValue":m=>f.host=m,onInput:m=>u(f.id,{host:m.target.value}),placeholder:"*.example.com or example.com",class:"domain-input"},null,40,Tw),[[Ee,f.host]]),L(o).state.certificates.length>1?(v(),_("button",{key:0,onClick:m=>l(f.id),class:"btn-remove",title:"Remove certificate"},"  ",8,$w)):z("",!0)]),f.enabled?(v(),_("div",Aw,[a("div",Rw,[a("div",qw,[d[2]||(d[2]=a("label",{class:"setting-label"},"Certificate Name",-1)),ae(a("input",{type:"text","onUpdate:modelValue":m=>f.name=m,onInput:m=>u(f.id,{name:m.target.value}),placeholder:"Certificate name",class:"setting-input"},null,40,Ow),[[Ee,f.name]])])]),a("div",Iw,[a("div",Dw,[d[3]||(d[3]=a("label",{class:"setting-label"},"Certificate File",-1)),a("div",Fw,[a("input",{type:"text",value:f.cert?`${f.fileName||"Certificate"} loaded`:"No certificate",placeholder:"Select certificate file (.p12, .pfx, .pem)",class:"setting-input",readonly:""},null,8,Pw),a("button",{onClick:m=>p(f),class:"file-select-btn"}," Browse ",8,Nw)])])]),a("div",Mw,[d[4]||(d[4]=a("label",{class:"setting-label"},"Certificate Password",-1)),ae(a("input",{type:"password","onUpdate:modelValue":m=>f.passphrase=m,onInput:m=>u(f.id,{passphrase:m.target.value}),placeholder:"Enter certificate password",class:"setting-input"},null,40,Lw),[[Ee,f.passphrase]])]),L(i)[f.id]?(v(),_("div",Vw,R(L(i)[f.id]),1)):z("",!0)])):z("",!0)]))),128))]),L(i).add?(v(),_("div",Uw,R(L(i).add),1)):z("",!0)]))}},zw=be(jw,[["__scopeId","data-v-cda68d16"]]),Hw={class:"settings-container"},Bw={class:"settings-tabs"},Jw={class:"settings-content"},Ww={class:"settings-actions"},Gw={class:"actions-right"},Kw=["disabled"],Xw={__name:"SettingsDialog",emits:["close"],setup(s,{emit:e}){const t=e,n=new pb;n.init();const{loading:o,errors:i,formData:r}=n.state,l=D(()=>n.state.activeTab),u=async()=>{n.hasUnsavedChanges()&&!window.confirm("You have unsaved changes. Are you sure you want to close?")||t("close")},p=()=>n.submit(),c=F=>n.switchTab(F),d=()=>n.resetToDefaults(),f=()=>n.exportSettings(),m=F=>{n.updateGeneralSettings(F)},w=F=>{n.updateRequestSettings(F)},y=F=>{n.updateUISettings(F)},S=F=>{n.updateProxySettings(F)},U=F=>{n.updateCertificatesSettings(F)},A=F=>{F.key==="Escape"?u():F.key==="s"&&(F.ctrlKey||F.metaKey)&&(F.preventDefault(),p())};return Ne(()=>{document.addEventListener("keydown",A)}),pt(()=>{document.removeEventListener("keydown",A)}),(F,q)=>(v(),pe(Ms,{title:"Settings",width:"700px",height:"600px",onClose:u},{default:Pe(()=>[a("div",Hw,[a("div",Bw,[a("button",{class:he(["settings-tab",{active:l.value==="general"}]),onClick:q[0]||(q[0]=H=>c("general"))},"  General ",2),a("button",{class:he(["settings-tab",{active:l.value==="request"}]),onClick:q[1]||(q[1]=H=>c("request"))},"  Request ",2),a("button",{class:he(["settings-tab",{active:l.value==="ui"}]),onClick:q[2]||(q[2]=H=>c("ui"))},"  UI ",2),a("button",{class:he(["settings-tab",{active:l.value==="proxy"}]),onClick:q[3]||(q[3]=H=>c("proxy"))},"  Proxy ",2),a("button",{class:he(["settings-tab",{active:l.value==="certificates"}]),onClick:q[4]||(q[4]=H=>c("certificates"))},"  Certificates ",2)]),a("div",Jw,[l.value==="general"&&L(r)?.general?(v(),pe(Sb,{key:0,settings:L(r).general,"onUpdate:settings":m},null,8,["settings"])):z("",!0),l.value==="request"&&L(r)?.request?(v(),pe(Pb,{key:1,settings:L(r).request,"onUpdate:settings":w},null,8,["settings"])):z("",!0),l.value==="ui"&&L(r)?.ui?(v(),pe(nw,{key:2,settings:L(r).ui,"onUpdate:settings":y},null,8,["settings"])):z("",!0),l.value==="proxy"&&L(r)?.proxy?(v(),pe(xw,{key:3,settings:L(r).proxy,"onUpdate:settings":S},null,8,["settings"])):z("",!0),l.value==="certificates"&&L(r)?.certificates?(v(),pe(zw,{key:4,certificates:L(r).certificates,"onUpdate:certificates":U},null,8,["certificates"])):z("",!0)]),a("div",Ww,[a("div",{class:"actions-left"},[a("button",{onClick:d,class:"btn-secondary"}," Reset to Defaults "),a("button",{onClick:f,class:"btn-secondary"}," Export Settings ")]),a("div",Gw,[a("button",{onClick:u,class:"btn-secondary"}," Cancel "),a("button",{onClick:p,class:"btn-primary",disabled:L(o)},R(L(o)?"Saving...":"Save Settings"),9,Kw)])])])]),_:1}))}},Yw=be(Xw,[["__scopeId","data-v-ae88f707"]]),Qw={class:"alert-content"},Zw={class:"alert-header"},ex={class:"alert-message"},tx={key:0,class:"alert-input"},sx=["placeholder"],nx={__name:"AlertDialog",props:{title:{type:String,default:"Alert"},message:{type:String,required:!0},type:{type:String,default:"info",validator:s=>["info","warning","error","success"].includes(s)},confirmText:{type:String,default:"OK"},cancelText:{type:String,default:null},showInput:{type:Boolean,default:!1},inputPlaceholder:{type:String,default:""},inputValue:{type:String,default:""}},emits:["confirm","cancel","close"],setup(s,{emit:e}){const t=s,n=e,o=se(null),i=se(t.inputValue),r={info:"",warning:"",error:"",success:""},l={info:"var(--color-primary)",warning:"var(--color-warning)",error:"var(--color-error)",success:"var(--color-success)"},u=()=>{t.showInput?n("confirm",i.value.trim()):n("confirm",!0)},p=()=>{n("cancel",!1)},c=()=>{n("close")},d=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),u())};return Ne(()=>{t.showInput&&o.value&&o.value.focus()}),(f,m)=>(v(),pe(Ms,{title:s.title,width:"400px",onClose:c},{footer:Pe(()=>[s.cancelText?(v(),_("button",{key:0,class:"btn-cancel",onClick:p},R(s.cancelText),1)):z("",!0),a("button",{class:he(["btn-confirm",[`btn-${s.type}`]]),onClick:u},R(s.confirmText),3)]),default:Pe(()=>[a("div",Qw,[a("div",Zw,[a("div",{class:"alert-icon",style:De({color:l[s.type]})},R(r[s.type]),5),a("div",ex,R(s.message),1)]),s.showInput?(v(),_("div",tx,[ae(a("input",{ref_key:"inputRef",ref:o,"onUpdate:modelValue":m[0]||(m[0]=w=>i.value=w),type:"text",placeholder:s.inputPlaceholder,class:"input-field",onKeydown:d},null,40,sx),[[Ee,i.value]])])):z("",!0)])]),_:1},8,["title"]))}},ox=be(nx,[["__scopeId","data-v-b4164d13"]]),ix={class:"tutorial-modal"},rx={class:"tutorial-modal-header"},ax={class:"tutorial-modal-footer"},lx={__name:"CurlTutorialDialog",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:e}){const t=e;return(n,o)=>(v(),pe(As,{to:"body"},[s.show?(v(),_("div",{key:0,class:"tutorial-modal-overlay",onClick:o[2]||(o[2]=yn(i=>t("close"),["self"]))},[a("div",ix,[a("div",rx,[o[3]||(o[3]=a("h2",null," cURL Tutorial",-1)),a("button",{class:"tutorial-close-btn",onClick:o[0]||(o[0]=i=>t("close"))},"")]),o[4]||(o[4]=a("div",{class:"tutorial-modal-content"},[a("div",{class:"tutorial-section"},[a("h3",null,"Basic Syntax"),a("code",{class:"syntax-block"},"curl [options] <URL>"),a("p",null,"cURL is a command-line tool for transferring data with URLs. ToastMan parses cURL commands to build HTTP requests.")]),a("div",{class:"tutorial-section"},[a("h3",null,"Common Options"),a("div",{class:"options-grid"},[a("div",{class:"option-item"},[a("code",null,"-X, --request"),a("span",null,"HTTP method (GET, POST, PUT, DELETE, etc.)"),a("code",{class:"example"},"curl -X POST https://api.example.com")]),a("div",{class:"option-item"},[a("code",null,"-H, --header"),a("span",null,"Add a header to the request"),a("code",{class:"example"},'curl -H "Content-Type: application/json" URL')]),a("div",{class:"option-item"},[a("code",null,"-d, --data"),a("span",null,"Send data in the request body"),a("code",{class:"example"},`curl -d '{"key":"value"}' URL`)]),a("div",{class:"option-item"},[a("code",null,"-u, --user"),a("span",null,"Basic authentication (user:password)"),a("code",{class:"example"},"curl -u admin:secret URL")]),a("div",{class:"option-item"},[a("code",null,"-A, --user-agent"),a("span",null,"Set the User-Agent header"),a("code",{class:"example"},'curl -A "MyApp/1.0" URL')]),a("div",{class:"option-item"},[a("code",null,"-b, --cookie"),a("span",null,"Send cookies with the request"),a("code",{class:"example"},'curl -b "session=abc123" URL')])])]),a("div",{class:"tutorial-section"},[a("h3",null,"Quick Examples"),a("div",{class:"examples-list"},[a("div",{class:"example-block"},[a("span",{class:"example-label"},"GET Request"),a("code",null,"curl https://api.example.com/users")]),a("div",{class:"example-block"},[a("span",{class:"example-label"},"POST with JSON"),a("code",null,`curl -X POST -H "Content-Type: application/json" -d '{"name":"John"}' https://api.example.com/users`)]),a("div",{class:"example-block"},[a("span",{class:"example-label"},"With Auth Header"),a("code",null,'curl -H "Authorization: Bearer token123" https://api.example.com/me')]),a("div",{class:"example-block"},[a("span",{class:"example-label"},"Form Data"),a("code",null,'curl -X POST -F "file=@photo.jpg" -F "name=upload" https://api.example.com/upload')])])]),a("div",{class:"tutorial-section tip"},[a("h3",null," Pro Tip"),a("p",null,"Most browsers let you copy requests as cURL from DevTools (Network tab  Right-click  Copy as cURL). Paste it directly into ToastMan!")])],-1)),a("div",ax,[a("button",{class:"tutorial-got-it-btn",onClick:o[1]||(o[1]=i=>t("close"))},"Got it!")])])])):z("",!0)]))}},cx=be(lx,[["__scopeId","data-v-882d7e6b"]]),ux={id:"app"},dx={class:"app-header"},px={key:0,class:"environment-indicator"},fx={class:"env-name"},hx={class:"app-main"},mx={class:"cors-modal"},gx={class:"cors-modal-header"},vx={class:"cors-modal-footer"},yx={__name:"App",setup(s){const e=bt("app"),t=ms(),n=hn(),{alertState:o,handleConfirm:i,handleCancel:r,closeAlert:l}=Ns(),{trackUI:u}=qa(),p=se(null),c=se(!1),d=se(!1),f=D(()=>{const k=t.activeEnvironment,x=k?.value||k;return x&&x.name?x:null}),m=se(25),w=se(!1),y=()=>{e.debug("Opening settings dialog"),w.value=!0,u(En.SETTINGS_OPEN)},S=()=>{e.debug("Closing settings dialog"),w.value=!1},U=()=>{c.value=!0,u(En.CORS_MODAL_OPEN)},A=()=>{d.value=!0,u(En.CURL_TUTORIAL_OPEN)},F=async()=>{try{const k="/Toastman-Chrome.zip";e.debug("Downloading Chrome shortcut from:",k);const x=await fetch(k);if(!x.ok)throw new Error(`Failed to download shortcut: ${x.status} ${x.statusText}`);const T=await x.blob(),I=window.URL.createObjectURL(T),E=document.createElement("a");E.href=I,E.download="Toastman-Chrome.zip",E.style.display="none",document.body.appendChild(E),E.click(),setTimeout(()=>{document.body.removeChild(E),window.URL.revokeObjectURL(I)},100),e.info("Chrome shortcut downloaded successfully")}catch(k){e.error("Error downloading Chrome shortcut:",k),alert(`Failed to download Chrome shortcut: ${k.message}`)}},q=()=>{e.debug("Creating new request"),p.value?p.value.addNewTab():n.createTab({name:"New Request",method:"GET"}),e.info("Created new request"),u(En.NEW_REQUEST)},H=k=>{try{Array.isArray(k)&&k.length>0&&k[0]&&typeof k[0].size=="number"?m.value=k[0].size:k&&typeof k.size=="number"?m.value=k.size:Array.isArray(k)&&k.length>0&&typeof k[0]=="number"?m.value=k[0]:e.warn("Unexpected resize event format:",k)}catch(x){e.error("Error handling resize:",x)}};return Ne(()=>{e.info("ToastMan application mounted"),e.info("Global logging API available at window.toastmanLog"),e.debug("Initial sidebar width:",m.value),typeof window<"u"&&(window.toastmanDebug={logger:bt("debug"),logAllComponents:()=>{e.info(" Enabling logging for all ToastMan components..."),window.toastmanLog.enableAll()},enableCollections:()=>window.toastmanLog.enable("collections"),enableStorage:()=>window.toastmanLog.enable("storage"),enableSidebar:()=>window.toastmanLog.enable("sidebar"),enableTabs:()=>window.toastmanLog.enable("tabs"),status:()=>window.toastmanLog.status(),list:()=>window.toastmanLog.list()},e.info("Debug helpers available at window.toastmanDebug"))}),(k,x)=>(v(),_("div",ux,[a("header",dx,[x[5]||(x[5]=a("div",{class:"logo-section"},[a("h1",{class:"app-title"}," ToastMan"),a("span",{class:"app-subtitle"},"API Testing Tool")],-1)),f.value&&f.value.name?(v(),_("div",px,[x[4]||(x[4]=a("span",{class:"env-label"},"Environment:",-1)),a("span",fx,R(f.value.name),1)])):z("",!0),a("div",{class:"header-actions"},[a("button",{class:"create-request-button",onClick:q,title:"Create New Request"},"  New Request "),a("button",{class:"curl-tutorial-button",onClick:A,title:"cURL Tutorial"},"  cURL Tutorial "),a("button",{class:"cors-button",onClick:U,title:"CORS Information"},"  CORS "),a("button",{class:"settings-button",onClick:y,title:"Settings"},"  ")])]),a("div",hx,[ve(L(Ra),{class:"default-theme",onResize:H},{default:Pe(()=>[ve(L(Bn),{size:m.value,"min-size":"20","max-size":"40"},{default:Pe(()=>[ve(ch)]),_:1},8,["size"]),ve(L(Bn),null,{default:Pe(()=>[ve(lb,{ref_key:"chatTabsRef",ref:p},null,512)]),_:1})]),_:1})]),w.value?(v(),pe(Yw,{key:0,onClose:S})):z("",!0),L(o).show?(v(),pe(ox,{key:1,title:L(o).title,message:L(o).message,type:L(o).type,"confirm-text":L(o).confirmText,"cancel-text":L(o).cancelText,"show-input":L(o).showInput,"input-placeholder":L(o).inputPlaceholder,"input-value":L(o).inputValue,onConfirm:L(i),onCancel:L(r),onClose:L(l)},null,8,["title","message","type","confirm-text","cancel-text","show-input","input-placeholder","input-value","onConfirm","onCancel","onClose"])):z("",!0),(v(),pe(As,{to:"body"},[c.value?(v(),_("div",{key:0,class:"cors-modal-overlay",onClick:x[2]||(x[2]=yn(T=>c.value=!1,["self"]))},[a("div",mx,[a("div",gx,[x[6]||(x[6]=a("h2",null," CORS Limitations",-1)),a("button",{class:"cors-close-btn",onClick:x[0]||(x[0]=T=>c.value=!1)},"")]),a("div",{class:"cors-modal-content"},[x[14]||(x[14]=a("div",{class:"cors-section"},[a("h3",null," Web Version Limitations"),a("p",null,[Ce(" ToastMan runs in your browser, which means it's subject to "),a("strong",null,"Cross-Origin Resource Sharing (CORS)"),Ce(" restrictions. Most APIs won't respond to requests from a browser unless they explicitly allow it. ")])],-1)),x[15]||(x[15]=a("div",{class:"cors-section coming-soon"},[a("h3",null," VS Code Extension (Coming Soon)"),a("p",null,[Ce(" We're building a "),a("strong",null,"VS Code extension"),Ce(" that runs without CORS limitations. Stay tuned for the best ToastMan experience! ")])],-1)),a("div",{class:"cors-section workaround"},[x[12]||(x[12]=a("h3",null," Workaround: Disable Web Security",-1)),x[13]||(x[13]=a("p",{class:"warning-text"},[Ce("  "),a("strong",null,"Security Warning:"),Ce(" This disables browser security features. Only use this for development/testing and "),a("strong",null,"never browse untrusted sites"),Ce(" with this flag enabled. Close the browser completely when done. ")],-1)),a("div",{class:"os-instructions"},[a("div",{class:"os-block"},[x[7]||(x[7]=a("h4",null," Windows",-1)),a("button",{onClick:F,class:"download-shortcut-btn"},"  Download Chrome Shortcut "),x[8]||(x[8]=a("p",{class:"hint"},"Just double-click the downloaded shortcut to launch Chrome with CORS disabled",-1)),x[9]||(x[9]=a("details",{class:"manual-option"},[a("summary",null,"Or run manually:"),a("code",null,'chrome.exe --disable-web-security --user-data-dir="C:\\tmp\\chrome_dev"')],-1))]),x[10]||(x[10]=a("div",{class:"os-block"},[a("h4",null," Linux"),a("p",null,"Close all Chrome windows, then run:"),a("code",null,'google-chrome --disable-web-security --user-data-dir="/tmp/chrome_dev"'),a("p",{class:"hint"},"For Chromium: replace google-chrome with chromium-browser")],-1)),x[11]||(x[11]=a("div",{class:"os-block"},[a("h4",null," macOS"),a("p",null,"Close all Chrome windows, then run:"),a("code",null,'open -na "Google Chrome" --args --disable-web-security --user-data-dir="/tmp/chrome_dev"')],-1))])]),x[16]||(x[16]=a("div",{class:"cors-section"},[a("h3",null," After launching with the flag"),a("p",null," Navigate to ToastMan and you'll be able to make requests to any API. You'll see a warning banner in Chrome indicating security is disabled. ")],-1))]),a("div",vx,[a("button",{class:"cors-got-it-btn",onClick:x[1]||(x[1]=T=>c.value=!1)},"Got it!")])])])):z("",!0)])),ve(cx,{show:d.value,onClose:x[3]||(x[3]=T=>d.value=!1)},null,8,["show"])]))}},bx=be(yx,[["__scopeId","data-v-cb267a1a"]]);Py.register("fetch",ja);Ru();Cu(bx).mount("#app");
